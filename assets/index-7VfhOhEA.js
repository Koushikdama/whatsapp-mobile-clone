const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/PrivacySettings-BN1aTwbR.js","assets/router-BlRKbG7o.js","assets/react-vendor-Dp0kJvEn.js","assets/SettingsHeader-DRwYF7Lr.js","assets/icons-FsuYV2CB.js","assets/lottie-BmTBBIiw.js","assets/chess-Bi0BiJQc.js","assets/LastSeenPrivacy-CvHjdUUy.js","assets/PrivacyOptionSelector-BKUbHfRn.js","assets/ProfilePhotoPrivacy-CHAM8Egn.js","assets/AboutPrivacy-X2rOIXEU.js","assets/GroupsPrivacy-CCWfuv3c.js","assets/FollowRequests-glv7uzyA.js","assets/BlockedUsersList-DY4Wl1Y6.js","assets/NotificationsPage-apu25wjA.js","assets/GroupSettings-RmScJalh.js","assets/GroupService-BxMnZ1G7.js","assets/UIFeedback-BgTv84Bl.js","assets/GroupParticipants-BtL3RF7q.js","assets/GroupPermissions-BW6f6ykZ.js","assets/ChannelDetail-K5m4ThWg.js","assets/JoinGroupPage-CKIXWzXp.js"])))=>i.map(i=>d[i]);
var e=Object.defineProperty,t=(t,n,i)=>((t,n,i)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[n]=i)(t,"symbol"!=typeof n?n+"":n,i);import{r as n,u as i,a as r,b as s,c as a,R as o,d as l,e as c,N as u,H as d}from"./router-BlRKbG7o.js";import{r as f,a as h,g as m,c as p}from"./react-vendor-Dp0kJvEn.js";import{M as g,L as v,E as y,a as b,C as w,A as k,b as x,c as _,d as S,P as C,e as N,f as j,V as T,g as E,h as I,X as P,T as A,S as M,i as R,j as D,k as L,l as O,G as F,m as z,n as U,o as B,F as V,I as q,H as $,p as W,q as H,r as G,s as K,R as Y,t as Q,U as X,u as J,v as Z,w as ee,x as te,y as ne,z as ie,B as re,D as se,Y as ae,J as oe,K as le,N as ce,O as ue,Q as de,W as fe,Z as he,_ as me,$ as pe,a0 as ge,a1 as ve,a2 as ye,a3 as be,a4 as we,a5 as ke,a6 as xe,a7 as _e,a8 as Se,a9 as Ce,aa as Ne,ab as je,ac as Te,ad as Ee,ae as Ie,af as Pe,ag as Ae,ah as Me,ai as Re,aj as De,ak as Le,al as Oe,am as Fe,an as ze,ao as Ue,ap as Be,aq as Ve,ar as qe,as as $e,at as We,au as He,av as Ge,aw as Ke,ax as Ye,ay as Qe,az as Xe,aA as Je,aB as Ze,aC as et,aD as tt,aE as nt}from"./icons-FsuYV2CB.js";import{L as it}from"./lottie-BmTBBIiw.js";import{C as rt}from"./chess-Bi0BiJQc.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var st,at,ot={exports:{}},lt={};var ct,ut,dt,ft,ht=(at||(at=1,ot.exports=function(){if(st)return lt;st=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(t,n,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==n.key&&(r=""+n.key),"key"in n)for(var s in i={},n)"key"!==s&&(i[s]=n[s]);else i=n;return n=i.ref,{$$typeof:e,type:t,key:r,ref:void 0!==n?n:null,props:i}}return lt.Fragment=t,lt.jsx=n,lt.jsxs=n,lt}()),ot.exports),mt={exports:{}},pt={},gt={exports:{}},vt={};function yt(){return ut||(ut=1,gt.exports=(ct||(ct=1,function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,s=e[i];if(!(0<r(s,t)))break e;e[i]=t,e[n]=s,n=i}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,s=e.length,a=s>>>1;i<a;){var o=2*(i+1)-1,l=e[o],c=o+1,u=e[c];if(0>r(l,n))c<s&&0>r(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[o]=n,i=o);else{if(!(c<s&&0>r(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function r(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(e.unstable_now=void 0,"object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,p=!1,g=!1,v="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var r=n(c);null!==r;){if(null===r.callback)i(c);else{if(!(r.startTime<=e))break;i(c),r.sortIndex=r.expirationTime,t(l,r)}r=n(c)}}function k(e){if(p=!1,w(e),!m)if(null!==n(l))m=!0,_||(_=!0,x());else{var t=n(c);null!==t&&P(k,t.startTime-e)}}var x,_=!1,S=-1,C=5,N=-1;function j(){return!(!g&&e.unstable_now()-N<C)}function T(){if(g=!1,_){var t=e.unstable_now();N=t;var r=!0;try{e:{m=!1,p&&(p=!1,y(S),S=-1),h=!0;var s=f;try{t:{for(w(t),d=n(l);null!==d&&!(d.expirationTime>t&&j());){var a=d.callback;if("function"==typeof a){d.callback=null,f=d.priorityLevel;var o=a(d.expirationTime<=t);if(t=e.unstable_now(),"function"==typeof o){d.callback=o,w(t),r=!0;break t}d===n(l)&&i(l),w(t)}else i(l);d=n(l)}if(null!==d)r=!0;else{var u=n(c);null!==u&&P(k,u.startTime-t),r=!1}}break e}finally{d=null,f=s,h=!1}r=void 0}}finally{r?x():_=!1}}}if("function"==typeof b)x=function(){b(T)};else if("undefined"!=typeof MessageChannel){var E=new MessageChannel,I=E.port2;E.port1.onmessage=T,x=function(){I.postMessage(null)}}else x=function(){v(T,0)};function P(t,n){S=v(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e||(C=0<e?Math.floor(1e3/e):5)},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(i,r,s){var a=e.unstable_now();switch(s="object"==typeof s&&null!==s&&"number"==typeof(s=s.delay)&&0<s?a+s:a,i){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return i={id:u++,callback:r,priorityLevel:i,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(i.sortIndex=s,t(c,i),null===n(l)&&i===n(c)&&(p?(y(S),S=-1):p=!0,P(k,s-a))):(i.sortIndex=o,t(l,i),m||h||(m=!0,_||(_=!0,x()))),i},e.unstable_shouldYield=j,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}}(vt)),vt)),gt.exports}
/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function bt(){if(dt)return pt;dt=1;var e=yt(),t=f(),n=h();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function s(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{!!(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function a(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function o(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function l(e){if(s(e)!==e)throw Error(i(188))}function c(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=c(e)))return t;e=e.sibling}return null}var u=Object.assign,d=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),y=Symbol.for("react.profiler"),b=Symbol.for("react.consumer"),w=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),T=Symbol.iterator;function E(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=T&&e[T]||e["@@iterator"])?e:null}var I=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"==typeof e)return e.$$typeof===I?null:e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case g:return"Fragment";case y:return"Profiler";case v:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList";case N:return"Activity"}if("object"==typeof e)switch(e.$$typeof){case p:return"Portal";case w:return e.displayName||"Context";case b:return(e._context.displayName||"Context")+".Consumer";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case S:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var A=Array.isArray,M=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,R=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D={pending:!1,data:null,method:null,action:null},L=[],O=-1;function F(e){return{current:e}}function z(e){0>O||(e.current=L[O],L[O]=null,O--)}function U(e,t){O++,L[O]=e.current,e.current=t}var B,V,q=F(null),$=F(null),W=F(null),H=F(null);function G(e,t){switch(U(W,t),U($,e),U(q,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?bd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=wd(t=bd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(q),U(q,e)}function K(){z(q),z($),z(W)}function Y(e){null!==e.memoizedState&&U(H,e);var t=q.current,n=wd(t,e.type);t!==n&&(U($,e),U(q,n))}function Q(e){$.current===e&&(z(q),z($)),H.current===e&&(z(H),hf._currentValue=D)}function X(e){if(void 0===B)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",V=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+V}var J=!1;function Z(e,t){if(!e||J)return"";J=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){i=s}e.call(n.prototype)}}else{try{throw Error()}catch(a){i=a}(n=e())&&"function"==typeof n.catch&&n.catch(function(){})}}catch(o){if(o&&i&&"string"==typeof o.stack)return[o.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split("\n"),c=o.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{J=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function ee(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return Z(e.type,!1);case 11:return Z(e.type.render,!1);case 1:return Z(e.type,!0);case 31:return X("Activity");default:return""}}function te(e){try{var t="",n=null;do{t+=ee(e,n),n=e,e=e.return}while(e);return t}catch(i){return"\nError generating stack: "+i.message+"\n"+i.stack}}var ne=Object.prototype.hasOwnProperty,ie=e.unstable_scheduleCallback,re=e.unstable_cancelCallback,se=e.unstable_shouldYield,ae=e.unstable_requestPaint,oe=e.unstable_now,le=e.unstable_getCurrentPriorityLevel,ce=e.unstable_ImmediatePriority,ue=e.unstable_UserBlockingPriority,de=e.unstable_NormalPriority,fe=e.unstable_LowPriority,he=e.unstable_IdlePriority,me=e.log,pe=e.unstable_setDisableYieldValue,ge=null,ve=null;function ye(e){if("function"==typeof me&&pe(e),ve&&"function"==typeof ve.setStrictMode)try{ve.setStrictMode(ge,e)}catch(t){}}var be=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(we(e)/ke|0)|0},we=Math.log,ke=Math.LN2;var xe=256,_e=262144,Se=4194304;function Ce(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ne(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var o=134217727&i;return 0!==o?0!==(i=o&~s)?r=Ce(i):0!==(a&=o)?r=Ce(a):n||0!==(n=o&~e)&&(r=Ce(n)):0!==(o=i&~s)?r=Ce(o):0!==a?r=Ce(a):n||0!==(n=i&~e)&&(r=Ce(n)),0===r?0:0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(n=t&-t)||32===s&&4194048&n)?t:r}function je(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Te(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=Se;return!(62914560&(Se<<=1))&&(Se=4194304),e}function Ie(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ae(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-be(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|261930&n}function Me(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-be(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function Re(e,t){var n=t&-t;return 0!==((n=42&n?1:De(n))&(e.suspendedLanes|t))?0:n}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Le(e){return 2<(e&=-e)?8<e?134217727&e?32:268435456:8:2}function Oe(){var e=R.p;return 0!==e?e:void 0===(e=window.event)?32:Ef(e.type)}function Fe(e,t){var n=R.p;try{return R.p=e,t()}finally{R.p=n}}var ze=Math.random().toString(36).slice(2),Ue="__reactFiber$"+ze,Be="__reactProps$"+ze,Ve="__reactContainer$"+ze,qe="__reactEvents$"+ze,$e="__reactListeners$"+ze,We="__reactHandles$"+ze,He="__reactResources$"+ze,Ge="__reactMarker$"+ze;function Ke(e){delete e[Ue],delete e[Be],delete e[qe],delete e[$e],delete e[We]}function Ye(e){var t=e[Ue];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ve]||n[Ue]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Fd(e);null!==e;){if(n=e[Ue])return n;e=Fd(e)}return t}n=(e=n).parentNode}return null}function Qe(e){if(e=e[Ue]||e[Ve]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(i(33))}function Je(e){var t=e[He];return t||(t=e[He]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ze(e){e[Ge]=!0}var et=new Set,tt={};function nt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(tt[e]=t,e=0;e<t.length;e++)et.add(t[e])}var rt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},at={};function ot(e,t,n){if(r=t,ne.call(at,r)||!ne.call(st,r)&&(rt.test(r)?at[r]=!0:(st[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function lt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ct(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ft(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){if(!e._valueTracker){var t=ft(e)?"checked":"value";e._valueTracker=function(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&void 0!==i&&"function"==typeof i.get&&"function"==typeof i.set){var r=i.get,s=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function mt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ft(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function gt(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var vt=/[\n"\\]/g;function bt(e){return e.replace(vt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wt(e,t,n,i,r,s,a,o){e.name="",null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ut(t)):e.value!==""+ut(t)&&(e.value=""+ut(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?xt(e,a,ut(t)):null!=n?xt(e,a,ut(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=s&&(e.defaultChecked=!!s),null!=r&&(e.checked=r&&"function"!=typeof r&&"symbol"!=typeof r),null!=o&&"function"!=typeof o&&"symbol"!=typeof o&&"boolean"!=typeof o?e.name=""+ut(o):e.removeAttribute("name")}function kt(e,t,n,i,r,s,a,o){if(null!=s&&"function"!=typeof s&&"symbol"!=typeof s&&"boolean"!=typeof s&&(e.type=s),null!=t||null!=n){if(("submit"===s||"reset"===s)&&null==t)return void ht(e);n=null!=n?""+ut(n):"",t=null!=t?""+ut(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}i="function"!=typeof(i=null!=i?i:r)&&"symbol"!=typeof i&&!!i,e.checked=o?e.checked:!!i,e.defaultChecked=!!i,null!=a&&"function"!=typeof a&&"symbol"!=typeof a&&"boolean"!=typeof a&&(e.name=a),ht(e)}function xt(e,t,n){"number"===t&&gt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ut(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+ut(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ut(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(i(92));if(A(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ut(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ht(e)}function Nt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var jt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"==typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!=typeof n||0===n||jt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!=typeof t)throw Error(i(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var s in t)r=t[s],t.hasOwnProperty(s)&&n[s]!==r&&Tt(e,s,r)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Rt(){}var Dt=null;function Lt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Ft=null;function zt(e){var t=Qe(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=r[Be]||null;if(!s)throw Error(i(90));wt(r,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&mt(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Ut=!1;function Bt(e,t,n){if(Ut)return e(t,n);Ut=!0;try{return e(t)}finally{if(Ut=!1,(null!==Ot||null!==Ft)&&(tu(),Ot&&(t=Ot,e=Ft,Ft=Ot=null,zt(t),e)))for(t=0;t<e.length;t++)zt(e[t])}}function Vt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(i(231,t,typeof n));return n}var qt=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),$t=!1;if(qt)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){$t=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch(eh){$t=!1}var Ht=null,Gt=null,Kt=null;function Yt(){if(Kt)return Kt;var e,t,n=Gt,i=n.length,r="value"in Ht?Ht.value:Ht.textContent,s=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[s-t];t++);return Kt=r.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Xt(){return!0}function Jt(){return!1}function Zt(e){function t(t,n,i,r,s){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Xt:Jt,this.isPropagationStopped=Jt,this}return u(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Xt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Xt)},persist:function(){},isPersistent:Xt}),t}var en,tn,nn,rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=Zt(rn),an=u({},rn,{view:0,detail:0}),on=Zt(an),ln=u({},an,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nn&&(nn&&"mousemove"===e.type?(en=e.screenX-nn.screenX,tn=e.screenY-nn.screenY):tn=en=0,nn=e),en)},movementY:function(e){return"movementY"in e?e.movementY:tn}}),cn=Zt(ln),un=Zt(u({},ln,{dataTransfer:0})),dn=Zt(u({},an,{relatedTarget:0})),fn=Zt(u({},rn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=Zt(u({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),mn=Zt(u({},rn,{data:0})),pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=vn[e])&&!!t[e]}function bn(){return yn}var wn=Zt(u({},an,{key:function(e){if(e.key){var t=pn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?gn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),kn=Zt(u({},ln,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=Zt(u({},an,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bn})),_n=Zt(u({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=Zt(u({},ln,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Cn=Zt(u({},rn,{newState:0,oldState:0})),Nn=[9,13,27,32],jn=qt&&"CompositionEvent"in window,Tn=null;qt&&"documentMode"in document&&(Tn=document.documentMode);var En=qt&&"TextEvent"in window&&!Tn,In=qt&&(!jn||Tn&&8<Tn&&11>=Tn),Pn=String.fromCharCode(32),An=!1;function Mn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rn(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Dn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Fn(e,t,n,i){Ot?Ft?Ft.push(i):Ft=[i]:Ot=i,0<(t=sd(t,"onChange")).length&&(n=new sn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var zn=null,Un=null;function Bn(e){Xu(e,0)}function Vn(e){if(mt(Xe(e)))return e}function qn(e,t){if("change"===e)return t}var $n=!1;if(qt){var Wn;if(qt){var Hn="oninput"in document;if(!Hn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Hn="function"==typeof Gn.oninput}Wn=Hn}else Wn=!1;$n=Wn&&(!document.documentMode||9<document.documentMode)}function Kn(){zn&&(zn.detachEvent("onpropertychange",Yn),Un=zn=null)}function Yn(e){if("value"===e.propertyName&&Vn(Un)){var t=[];Fn(t,Un,e,Lt(e)),Bt(Bn,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),Un=n,(zn=t).attachEvent("onpropertychange",Yn)):"focusout"===e&&Kn()}function Xn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(Un)}function Jn(e,t){if("click"===e)return Vn(t)}function Zn(e,t){if("input"===e||"change"===e)return Vn(t)}var ei="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function ti(e,t){if(ei(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!ne.call(t,r)||!ei(e[r],t[r]))return!1}return!0}function ni(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ii(e,t){var n,i=ni(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ni(i)}}function ri(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ri(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function si(e){for(var t=gt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=gt((e=t.contentWindow).document)}return t}function ai(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var oi=qt&&"documentMode"in document&&11>=document.documentMode,li=null,ci=null,ui=null,di=!1;function fi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;di||null==li||li!==gt(i)||("selectionStart"in(i=li)&&ai(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},ui&&ti(ui,i)||(ui=i,0<(i=sd(ci,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=li)))}function hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var mi={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},pi={},gi={};function vi(e){if(pi[e])return pi[e];if(!mi[e])return e;var t,n=mi[e];for(t in n)if(n.hasOwnProperty(t)&&t in gi)return pi[e]=n[t];return e}qt&&(gi=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);var yi=vi("animationend"),bi=vi("animationiteration"),wi=vi("animationstart"),ki=vi("transitionrun"),xi=vi("transitionstart"),_i=vi("transitioncancel"),Si=vi("transitionend"),Ci=new Map,Ni="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ji(e,t){Ci.set(e,t),nt(t,[e])}Ni.push("scrollEnd");var Ti="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e)},Ei=[],Ii=0,Pi=0;function Ai(){for(var e=Ii,t=Pi=Ii=0;t<e;){var n=Ei[t];Ei[t++]=null;var i=Ei[t];Ei[t++]=null;var r=Ei[t];Ei[t++]=null;var s=Ei[t];if(Ei[t++]=null,null!==i&&null!==r){var a=i.pending;null===a?r.next=r:(r.next=a.next,a.next=r),i.pending=r}0!==s&&Li(n,r,s)}}function Mi(e,t,n,i){Ei[Ii++]=e,Ei[Ii++]=t,Ei[Ii++]=n,Ei[Ii++]=i,Pi|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ri(e,t,n,i){return Mi(e,t,n,i),Oi(e)}function Di(e,t){return Mi(e,null,null,t),Oi(e)}function Li(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(i=s.alternate)&&(i.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(r=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,r&&null!==t&&(r=31-be(n),null===(i=(e=s.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),s):null}function Oi(e){if(50<Hc)throw Hc=0,Gc=null,Error(i(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fi={};function zi(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ui(e,t,n,i){return new zi(e,t,n,i)}function Bi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vi(e,t){var n=e.alternate;return null===n?((n=Ui(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function qi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function $i(e,t,n,r,s,a){var o=0;if(r=e,"function"==typeof e)Bi(e)&&(o=1);else if("string"==typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!=typeof t.precedence||"string"!=typeof t.href||""===t.href)break;return!0;case"link":if("string"!=typeof t.rel||"string"!=typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"==typeof t.precedence&&null==e);case"script":if(t.async&&"function"!=typeof t.async&&"symbol"!=typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"==typeof t.src)return!0}return!1}(e,n,q.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case N:return(e=Ui(31,n,t,s)).elementType=N,e.lanes=a,e;case g:return Wi(n.children,s,a,t);case v:o=8,s|=24;break;case y:return(e=Ui(12,n,t,2|s)).elementType=y,e.lanes=a,e;case x:return(e=Ui(13,n,t,s)).elementType=x,e.lanes=a,e;case _:return(e=Ui(19,n,t,s)).elementType=_,e.lanes=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case w:o=10;break e;case b:o=9;break e;case k:o=11;break e;case S:o=14;break e;case C:o=16,r=null;break e}o=29,n=Error(i(130,null===e?"null":typeof e,"")),r=null}return(t=Ui(o,n,t,s)).elementType=e,t.type=r,t.lanes=a,t}function Wi(e,t,n,i){return(e=Ui(7,e,i,t)).lanes=n,e}function Hi(e,t,n){return(e=Ui(6,e,null,t)).lanes=n,e}function Gi(e){var t=Ui(18,null,null,0);return t.stateNode=e,t}function Ki(e,t,n){return(t=Ui(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yi=new WeakMap;function Qi(e,t){if("object"==typeof e&&null!==e){var n=Yi.get(e);return void 0!==n?n:(t={value:e,source:t,stack:te(t)},Yi.set(e,t),t)}return{value:e,source:t,stack:te(t)}}var Xi=[],Ji=0,Zi=null,er=0,tr=[],nr=0,ir=null,rr=1,sr="";function ar(e,t){Xi[Ji++]=er,Xi[Ji++]=Zi,Zi=e,er=t}function or(e,t,n){tr[nr++]=rr,tr[nr++]=sr,tr[nr++]=ir,ir=e;var i=rr;e=sr;var r=32-be(i)-1;i&=~(1<<r),n+=1;var s=32-be(t)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,rr=1<<32-be(t)+r|n<<r|i,sr=s+e}else rr=1<<s|n<<r|i,sr=e}function lr(e){null!==e.return&&(ar(e,1),or(e,1,0))}function cr(e){for(;e===Zi;)Zi=Xi[--Ji],Xi[Ji]=null,er=Xi[--Ji],Xi[Ji]=null;for(;e===ir;)ir=tr[--nr],tr[nr]=null,sr=tr[--nr],tr[nr]=null,rr=tr[--nr],tr[nr]=null}function ur(e,t){tr[nr++]=rr,tr[nr++]=sr,tr[nr++]=ir,rr=t.id,sr=t.overflow,ir=e}var dr=null,fr=null,hr=!1,mr=null,pr=!1,gr=Error(i(519));function vr(e){throw _r(Qi(Error(i(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),gr}function yr(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Ue]=e,t[Be]=i,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<Yu.length;n++)Ju(Yu[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),kt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),Ct(t,i.value,i.defaultValue,i.children)}"string"!=typeof(n=i.children)&&"number"!=typeof n&&"bigint"!=typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||dd(t.textContent,n)?(null!=i.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=i.onScroll&&Ju("scroll",t),null!=i.onScrollEnd&&Ju("scrollend",t),null!=i.onClick&&(t.onclick=Rt),t=!0):t=!1,t||vr(e,!0)}function br(e){for(dr=e.return;dr;)switch(dr.tag){case 5:case 31:case 13:return void(pr=!1);case 27:case 3:return void(pr=!0);default:dr=dr.return}}function wr(e){if(e!==dr)return!1;if(!hr)return br(e),hr=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||kd(e.type,e.memoizedProps)),t=!t),t&&fr&&vr(e),br(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));fr=Od(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));fr=Od(e)}else 27===n?(n=fr,Td(e.type)?(e=Ld,Ld=null,fr=e):fr=n):fr=dr?Dd(e.stateNode.nextSibling):null;return!0}function kr(){fr=dr=null,hr=!1}function xr(){var e=mr;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),mr=null),e}function _r(e){null===mr?mr=[e]:mr.push(e)}var Sr=F(null),Cr=null,Nr=null;function jr(e,t,n){U(Sr,t._currentValue),t._currentValue=n}function Tr(e){e._currentValue=Sr.current,z(Sr)}function Er(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Ir(e,t,n,r){var s=e.child;for(null!==s&&(s.return=e);null!==s;){var a=s.dependencies;if(null!==a){var o=s.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=s;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Er(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===s.tag){if(null===(o=s.return))throw Error(i(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Er(o,n,e),o=null}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===e){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}}function Pr(e,t,n,r){e=null;for(var s=t,a=!1;null!==s;){if(!a)if(524288&s.flags)a=!0;else if(262144&s.flags)break;if(10===s.tag){var o=s.alternate;if(null===o)throw Error(i(387));if(null!==(o=o.memoizedProps)){var l=s.type;ei(s.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(s===H.current){if(null===(o=s.alternate))throw Error(i(387));o.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(null!==e?e.push(hf):e=[hf])}s=s.return}null!==e&&Ir(t,e,n,r),t.flags|=262144}function Ar(e){for(e=e.firstContext;null!==e;){if(!ei(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Cr=e,Nr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Rr(e){return Lr(Cr,e)}function Dr(e,t){return null===Cr&&Mr(e),Lr(e,t)}function Lr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Nr){if(null===e)throw Error(i(308));Nr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Nr=Nr.next=t;return n}var Or="undefined"!=typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Fr=e.unstable_scheduleCallback,zr=e.unstable_NormalPriority,Ur={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Br(){return{controller:new Or,data:new Map,refCount:0}}function Vr(e){e.refCount--,0===e.refCount&&Fr(zr,function(){e.controller.abort()})}var qr=null,$r=0,Wr=0,Hr=null;function Gr(){if(0===--$r&&null!==qr){null!==Hr&&(Hr.status="fulfilled");var e=qr;qr=null,Wr=0,Hr=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Kr=M.S;M.S=function(e,t){Dc=oe(),"object"==typeof t&&null!==t&&"function"==typeof t.then&&function(e,t){if(null===qr){var n=qr=[];$r=0,Wr=$u(),Hr={status:"pending",value:void 0,then:function(e){n.push(e)}}}$r++,t.then(Gr,Gr)}(0,t),null!==Kr&&Kr(e,t)};var Yr=F(null);function Qr(){var e=Yr.current;return null!==e?e:gc.pooledCache}function Xr(e,t){U(Yr,null===t?Yr.current:t.pool)}function Jr(){var e=Qr();return null===e?null:{parent:Ur._currentValue,pool:e}}var Zr=Error(i(460)),es=Error(i(474)),ts=Error(i(542)),ns={then:function(){}};function is(e){return"fulfilled"===(e=e.status)||"rejected"===e}function rs(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Rt,Rt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e;default:if("string"==typeof t.status)t.then(Rt,Rt);else{if(null!==(e=gc)&&100<e.shellSuspendCounter)throw Error(i(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ls(e=t.reason),e}throw as=t,Zr}}function ss(e){try{return(0,e._init)(e._payload)}catch(t){if(null!==t&&"object"==typeof t&&"function"==typeof t.then)throw as=t,Zr;throw t}}var as=null;function os(){if(null===as)throw Error(i(459));var e=as;return as=null,e}function ls(e){if(e===Zr||e===ts)throw Error(i(483))}var cs=null,us=0;function ds(e){var t=us;return us+=1,null===cs&&(cs=[]),rs(cs,e,t)}function fs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function hs(e,t){if(t.$$typeof===d)throw Error(i(525));throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ms(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function s(e,t){return(e=Vi(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Hi(n,e.mode,i)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,i){var r=n.type;return r===g?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===r||"object"==typeof r&&null!==r&&r.$$typeof===C&&ss(r)===t.type)?(fs(t=s(t,n.props),n),t.return=e,t):(fs(t=$i(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ki(n,e.mode,i)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function d(e,t,n,i,r){return null===t||7!==t.tag?((t=Wi(n,e.mode,i,r)).return=e,t):((t=s(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t||"bigint"==typeof t)return(t=Hi(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case m:return fs(n=$i(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case p:return(t=Ki(t,e.mode,n)).return=e,t;case C:return f(e,t=ss(t),n)}if(A(t)||E(t))return(t=Wi(t,e.mode,n,null)).return=e,t;if("function"==typeof t.then)return f(e,ds(t),n);if(t.$$typeof===w)return f(e,Dr(e,t),n);hs(e,t)}return null}function h(e,t,n,i){var r=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n||"bigint"==typeof n)return null!==r?null:l(e,t,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===r?c(e,t,n,i):null;case p:return n.key===r?u(e,t,n,i):null;case C:return h(e,t,n=ss(n),i)}if(A(n)||E(n))return null!==r?null:d(e,t,n,i,null);if("function"==typeof n.then)return h(e,t,ds(n),i);if(n.$$typeof===w)return h(e,t,Dr(e,n),i);hs(e,n)}return null}function v(e,t,n,i,r){if("string"==typeof i&&""!==i||"number"==typeof i||"bigint"==typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"==typeof i&&null!==i){switch(i.$$typeof){case m:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case p:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case C:return v(e,t,n,i=ss(i),r)}if(A(i)||E(i))return d(t,e=e.get(n)||null,i,r,null);if("function"==typeof i.then)return v(e,t,n,ds(i),r);if(i.$$typeof===w)return v(e,t,n,Dr(t,i),r);hs(t,i)}return null}function y(l,c,u,d){if("object"==typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"==typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===g){if(7===c.tag){n(l,c.sibling),(d=s(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"==typeof b&&null!==b&&b.$$typeof===C&&ss(b)===c.type){n(l,c.sibling),fs(d=s(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((d=Wi(u.props.children,l.mode,d,u.key)).return=l,l=d):(fs(d=$i(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case p:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=s(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Ki(u,l.mode,d)).return=l,l=d}return o(l);case C:return y(l,c,u=ss(u),d)}if(A(u))return function(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,p=null;null!==d&&m<o.length;m++){d.index>m?(p=d,d=null):p=d.sibling;var g=h(i,d,o[m],l);if(null===g){null===d&&(d=p);break}e&&d&&null===g.alternate&&t(i,d),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g,d=p}if(m===o.length)return n(i,d),hr&&ar(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=f(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return hr&&ar(i,m),c}for(d=r(d);m<o.length;m++)null!==(p=v(d,i,m,o[m],l))&&(e&&null!==p.alternate&&d.delete(null===p.key?m:p.key),s=a(p,s,m),null===u?c=p:u.sibling=p,u=p);return e&&d.forEach(function(e){return t(i,e)}),hr&&ar(i,m),c}(l,c,u,d);if(E(u)){if("function"!=typeof(b=E(u)))throw Error(i(150));return function(s,o,l,c){if(null==l)throw Error(i(151));for(var u=null,d=null,m=o,p=o=0,g=null,y=l.next();null!==m&&!y.done;p++,y=l.next()){m.index>p?(g=m,m=null):g=m.sibling;var b=h(s,m,y.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(s,m),o=a(b,o,p),null===d?u=b:d.sibling=b,d=b,m=g}if(y.done)return n(s,m),hr&&ar(s,p),u;if(null===m){for(;!y.done;p++,y=l.next())null!==(y=f(s,y.value,c))&&(o=a(y,o,p),null===d?u=y:d.sibling=y,d=y);return hr&&ar(s,p),u}for(m=r(m);!y.done;p++,y=l.next())null!==(y=v(m,s,p,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?p:y.key),o=a(y,o,p),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(s,e)}),hr&&ar(s,p),u}(l,c,u=b.call(u),d)}if("function"==typeof u.then)return y(l,c,ds(u),d);if(u.$$typeof===w)return y(l,c,Dr(l,u),d);hs(l,u)}return"string"==typeof u&&""!==u||"number"==typeof u||"bigint"==typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=s(c,u)).return=l,l=d):(n(l,c),(d=Hi(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,i){try{us=0;var r=y(e,t,n,i);return cs=null,r}catch(a){if(a===Zr||a===ts)throw a;var s=Ui(29,a,null,e.mode);return s.lanes=i,s.return=e,s}}}var ps=ms(!0),gs=ms(!1),vs=!1;function ys(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ks(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,2&pc){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Oi(e),Li(e,null,n),t}return Mi(e,i,t,n),Oi(e)}function xs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Me(e,n)}}function _s(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?r=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?r=s=t:s=s.next=t}else r=s=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ss=!1;function Cs(){if(Ss){if(null!==Hr)throw Hr}}function Ns(e,t,n,i){Ss=!1;var r=e.updateQueue;vs=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(null!==o){r.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==a&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==s){var f=r.baseState;for(a=0,d=c=l=null,o=s;;){var h=-536870913&o.lane,m=h!==o.lane;if(m?(yc&h)===h:(i&h)===h){0!==h&&h===Wr&&(Ss=!0),null!==d&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var p=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"==typeof(p=g.payload)){f=p.call(v,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(h="function"==typeof(p=g.payload)?p.call(v,f,h):p))break e;f=u({},f,h);break e;case 2:vs=!0}}null!==(h=o.callback)&&(e.flags|=64,m&&(e.flags|=8192),null===(m=r.callbacks)?r.callbacks=[h]:m.push(h))}else m={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=m,l=f):d=d.next=m,a|=h;if(null===(o=o.next)){if(null===(o=r.shared.pending))break;o=(m=o).next,m.next=null,r.lastBaseUpdate=m,r.shared.pending=null}}null===d&&(l=f),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null===s&&(r.shared.lanes=0),Nc|=a,e.lanes=a,e.memoizedState=f}}function js(e,t){if("function"!=typeof e)throw Error(i(191,e));e.call(t)}function Ts(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)js(n[e],t)}var Es=F(null),Is=F(0);function Ps(e,t){U(Is,e=Sc),U(Es,t),Sc=e|t.baseLanes}function As(){U(Is,Sc),U(Es,Es.current)}function Ms(){Sc=Is.current,z(Es),z(Is)}var Rs=F(null),Ds=null;function Ls(e){var t=e.alternate;U(Bs,1&Bs.current),U(Rs,e),null===Ds&&(null===t||null!==Es.current||null!==t.memoizedState)&&(Ds=e)}function Os(e){U(Bs,Bs.current),U(Rs,e),null===Ds&&(Ds=e)}function Fs(e){22===e.tag?(U(Bs,Bs.current),U(Rs,e),null===Ds&&(Ds=e)):zs()}function zs(){U(Bs,Bs.current),U(Rs,Rs.current)}function Us(e){z(Rs),Ds===e&&(Ds=null),z(Bs)}var Bs=F(0);function Vs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||Md(n)||Rd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(128&t.flags)return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=0,$s=null,Ws=null,Hs=null,Gs=!1,Ks=!1,Ys=!1,Qs=0,Xs=0,Js=null,Zs=0;function ea(){throw Error(i(321))}function ta(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ei(e[n],t[n]))return!1;return!0}function na(e,t,n,i,r,s){return qs=s,$s=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,M.H=null===e||null===e.memoizedState?yo:bo,Ys=!1,s=n(i,r),Ys=!1,Ks&&(s=ra(t,n,i,r)),ia(e),s}function ia(e){M.H=vo;var t=null!==Ws&&null!==Ws.next;if(qs=0,Hs=Ws=$s=null,Gs=!1,Xs=0,Js=null,t)throw Error(i(300));null===e||Do||null!==(e=e.dependencies)&&Ar(e)&&(Do=!0)}function ra(e,t,n,r){$s=e;var s=0;do{if(Ks&&(Js=null),Xs=0,Ks=!1,25<=s)throw Error(i(301));if(s+=1,Hs=Ws=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}M.H=wo,a=t(n,r)}while(Ks);return a}function sa(){var e=M.H,t=e.useState()[0];return t="function"==typeof t.then?da(t):t,e=e.useState()[0],(null!==Ws?Ws.memoizedState:null)!==e&&($s.flags|=1024),t}function aa(){var e=0!==Qs;return Qs=0,e}function oa(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function la(e){if(Gs){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Gs=!1}qs=0,Hs=Ws=$s=null,Ks=!1,Xs=Qs=0,Js=null}function ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Hs?$s.memoizedState=Hs=e:Hs=Hs.next=e,Hs}function ua(){if(null===Ws){var e=$s.alternate;e=null!==e?e.memoizedState:null}else e=Ws.next;var t=null===Hs?$s.memoizedState:Hs.next;if(null!==t)Hs=t,Ws=e;else{if(null===e){if(null===$s.alternate)throw Error(i(467));throw Error(i(310))}e={memoizedState:(Ws=e).memoizedState,baseState:Ws.baseState,baseQueue:Ws.baseQueue,queue:Ws.queue,next:null},null===Hs?$s.memoizedState=Hs=e:Hs=Hs.next=e}return Hs}function da(e){var t=Xs;return Xs+=1,null===Js&&(Js=[]),e=rs(Js,e,t),t=$s,null===(null===Hs?t.memoizedState:Hs.next)&&(t=t.alternate,M.H=null===t||null===t.memoizedState?yo:bo),e}function fa(e){if(null!==e&&"object"==typeof e){if("function"==typeof e.then)return da(e);if(e.$$typeof===w)return Rr(e)}throw Error(i(438,String(e)))}function ha(e){var t=null,n=$s.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=$s.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},$s.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=j;return t.index++,n}function ma(e,t){return"function"==typeof t?t(e):t}function pa(e){return ga(ua(),Ws,e)}function ga(e,t,n){var r=e.queue;if(null===r)throw Error(i(311));r.lastRenderedReducer=n;var s=e.baseQueue,a=r.pending;if(null!==a){if(null!==s){var o=s.next;s.next=a.next,a.next=o}t.baseQueue=s=a,r.pending=null}if(a=e.baseState,null===s)e.memoizedState=a;else{var l=o=null,c=null,u=t=s.next,d=!1;do{var f=-536870913&u.lane;if(f!==u.lane?(yc&f)===f:(qs&f)===f){var h=u.revertLane;if(0===h)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Wr&&(d=!0);else{if((qs&h)===h){u=u.next,h===Wr&&(d=!0);continue}f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,$s.lanes|=h,Nc|=h}f=u.action,Ys&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,$s.lanes|=f,Nc|=f;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!ei(a,e.memoizedState)&&(Do=!0,d&&null!==(n=Hr)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===s&&(r.lanes=0),[e.memoizedState,r.dispatch]}function va(e){var t=ua(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{a=e(a,o.action),o=o.next}while(o!==s);ei(a,t.memoizedState)||(Do=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ya(e,t,n){var r=$s,s=ua(),a=hr;if(a){if(void 0===n)throw Error(i(407));n=n()}else n=t();var o=!ei((Ws||s).memoizedState,n);if(o&&(s.memoizedState=n,Do=!0),s=s.queue,qa(ka.bind(null,r,s,e),[e]),s.getSnapshot!==t||o||null!==Hs&&1&Hs.memoizedState.tag){if(r.flags|=2048,Fa(9,{destroy:void 0},wa.bind(null,r,s,n,t),null),null===gc)throw Error(i(349));a||127&qs||ba(r,t,n)}return n}function ba(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=$s.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},$s.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function wa(e,t,n,i){t.value=n,t.getSnapshot=i,xa(t)&&_a(e)}function ka(e,t,n){return n(function(){xa(t)&&_a(e)})}function xa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ei(e,n)}catch(i){return!0}}function _a(e){var t=Di(e,2);null!==t&&Qc(t,e,2)}function Sa(e){var t=ca();if("function"==typeof e){var n=e;if(e=n(),Ys){ye(!0);try{n()}finally{ye(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:e},t}function Ca(e,t,n,i){return e.baseState=n,ga(e,Ws,"function"==typeof i?i:ma)}function Na(e,t,n,r,s){if(mo(e))throw Error(i(485));if(null!==(e=t.action)){var a={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==M.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,ja(t,a)):(a.next=n.next,t.pending=n.next=a)}}function ja(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var s=M.T,a={};M.T=a;try{var o=n(r,i),l=M.S;null!==l&&l(a,o),Ta(e,t,o)}catch(c){Ia(e,t,c)}finally{null!==s&&null!==a.types&&(s.types=a.types),M.T=s}}else try{Ta(e,t,s=n(r,i))}catch(u){Ia(e,t,u)}}function Ta(e,t,n){null!==n&&"object"==typeof n&&"function"==typeof n.then?n.then(function(n){Ea(e,t,n)},function(n){return Ia(e,t,n)}):Ea(e,t,n)}function Ea(e,t,n){t.status="fulfilled",t.value=n,Pa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ja(e,n)))}function Ia(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,Pa(t),t=t.next}while(t!==i)}e.action=null}function Pa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Aa(e,t){return t}function Ma(e,t){if(hr){var n=gc.formState;if(null!==n){e:{var i=$s;if(hr){if(fr){t:{for(var r=fr,s=pr;8!==r.nodeType;){if(!s){r=null;break t}if(null===(r=Dd(r.nextSibling))){r=null;break t}}r="F!"===(s=r.data)||"F"===s?r:null}if(r){fr=Dd(r.nextSibling),i="F!"===r.data;break e}}vr(i)}i=!1}i&&(t=n[0])}}return(n=ca()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:t},n.queue=i,n=uo.bind(null,$s,i),i.dispatch=n,i=Sa(!1),s=ho.bind(null,$s,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=ca()).queue=r,n=Na.bind(null,$s,r,s,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function Ra(e){return Da(ua(),Ws,e)}function Da(e,t,n){if(t=ga(e,t,Aa)[0],e=pa(ma)[0],"object"==typeof t&&null!==t&&"function"==typeof t.then)try{var i=da(t)}catch(a){if(a===Zr)throw ts;throw a}else i=t;var r=(t=ua()).queue,s=r.dispatch;return n!==t.memoizedState&&($s.flags|=2048,Fa(9,{destroy:void 0},La.bind(null,r,n),null)),[i,s,e]}function La(e,t){e.action=t}function Oa(e){var t=ua(),n=Ws;if(null!==n)return Da(t,n,e);ua(),t=t.memoizedState;var i=(n=ua()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function Fa(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=$s.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},$s.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function za(){return ua().memoizedState}function Ua(e,t,n,i){var r=ca();$s.flags|=e,r.memoizedState=Fa(1|t,{destroy:void 0},n,void 0===i?null:i)}function Ba(e,t,n,i){var r=ua();i=void 0===i?null:i;var s=r.memoizedState.inst;null!==Ws&&null!==i&&ta(i,Ws.memoizedState.deps)?r.memoizedState=Fa(t,s,n,i):($s.flags|=e,r.memoizedState=Fa(1|t,s,n,i))}function Va(e,t){Ua(8390656,8,e,t)}function qa(e,t){Ba(2048,8,e,t)}function $a(e){var t=ua().memoizedState;return function(e){$s.flags|=4;var t=$s.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},$s.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(2&pc)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function Wa(e,t){return Ba(4,2,e,t)}function Ha(e,t){return Ba(4,4,e,t)}function Ga(e,t){if("function"==typeof t){e=e();var n=t(e);return function(){"function"==typeof n?n():t(null)}}if(null!=t)return e=e(),t.current=e,function(){t.current=null}}function Ka(e,t,n){n=null!=n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function Ya(){}function Qa(e,t){var n=ua();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&ta(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Xa(e,t){var n=ua();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&ta(t,i[1]))return i[0];if(i=e(),Ys){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[i,t],i}function Ja(e,t,n){return void 0===n||1073741824&qs&&!(261930&yc)?e.memoizedState=t:(e.memoizedState=n,e=Yc(),$s.lanes|=e,Nc|=e,n)}function Za(e,t,n,i){return ei(n,t)?n:null!==Es.current?(e=Ja(e,n,i),ei(e,t)||(Do=!0),e):42&qs&&(!(1073741824&qs)||261930&yc)?(e=Yc(),$s.lanes|=e,Nc|=e,t):(Do=!0,e.memoizedState=n)}function eo(e,t,n,i,r){var s=R.p;R.p=0!==s&&8>s?s:8;var a,o,l,c=M.T,u={};M.T=u,ho(e,!1,t,n);try{var d=r(),f=M.S;if(null!==f&&f(u,d),null!==d&&"object"==typeof d&&"function"==typeof d.then)fo(e,t,(a=i,o=[],l={status:"pending",value:null,reason:null,then:function(e){o.push(e)}},d.then(function(){l.status="fulfilled",l.value=a;for(var e=0;e<o.length;e++)(0,o[e])(a)},function(e){for(l.status="rejected",l.reason=e,e=0;e<o.length;e++)(0,o[e])(void 0)}),l),Kc());else fo(e,t,i,Kc())}catch(h){fo(e,t,{then:function(){},status:"rejected",reason:h},Kc())}finally{R.p=s,null!==c&&null!==u.types&&(c.types=u.types),M.T=c}}function to(){}function no(e,t,n,r){if(5!==e.tag)throw Error(i(476));var s=io(e).queue;eo(e,s,t,D,null===n?to:function(){return ro(e),n(r)})}function io(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:D,baseState:D,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:D},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=io(e);null===t.next&&(t=e.alternate.memoizedState),fo(e,t.next.queue,{},Kc())}function so(){return Rr(hf)}function ao(){return ua().memoizedState}function oo(){return ua().memoizedState}function lo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),i=ks(t,e=ws(n),n);return null!==i&&(Qc(i,t,n),xs(i,t,n)),t={cache:Br()},void(e.payload=t)}t=t.return}}function co(e,t,n){var i=Kc();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},mo(e)?po(t,n):null!==(n=Ri(e,t,n,i))&&(Qc(n,e,i),go(n,t,i))}function uo(e,t,n){fo(e,t,n,Kc())}function fo(e,t,n,i){var r={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(mo(e))po(t,r);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,ei(o,a))return Mi(e,t,r,0),null===gc&&Ai(),!1}catch(l){}if(null!==(n=Ri(e,t,r,i)))return Qc(n,e,i),go(n,t,i),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:$u(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},mo(e)){if(t)throw Error(i(479))}else null!==(t=Ri(e,n,r,2))&&Qc(t,e,2)}function mo(e){var t=e.alternate;return e===$s||null!==t&&t===$s}function po(e,t){Ks=Gs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function go(e,t,n){if(4194048&n){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,Me(e,n)}}var vo={readContext:Rr,use:fa,useCallback:ea,useContext:ea,useEffect:ea,useImperativeHandle:ea,useLayoutEffect:ea,useInsertionEffect:ea,useMemo:ea,useReducer:ea,useRef:ea,useState:ea,useDebugValue:ea,useDeferredValue:ea,useTransition:ea,useSyncExternalStore:ea,useId:ea,useHostTransitionStatus:ea,useFormState:ea,useActionState:ea,useOptimistic:ea,useMemoCache:ea,useCacheRefresh:ea};vo.useEffectEvent=ea;var yo={readContext:Rr,use:fa,useCallback:function(e,t){return ca().memoizedState=[e,void 0===t?null:t],e},useContext:Rr,useEffect:Va,useImperativeHandle:function(e,t,n){n=null!=n?n.concat([e]):null,Ua(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ua(4194308,4,e,t)},useInsertionEffect:function(e,t){Ua(4,2,e,t)},useMemo:function(e,t){var n=ca();t=void 0===t?null:t;var i=e();if(Ys){ye(!0);try{e()}finally{ye(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=ca();if(void 0!==n){var r=n(t);if(Ys){ye(!0);try{n(t)}finally{ye(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=co.bind(null,$s,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ca().memoizedState=e},useState:function(e){var t=(e=Sa(e)).queue,n=uo.bind(null,$s,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ya,useDeferredValue:function(e,t){return Ja(ca(),e,t)},useTransition:function(){var e=Sa(!1);return e=eo.bind(null,$s,e.queue,!0,!1),ca().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=$s,s=ca();if(hr){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===gc)throw Error(i(349));127&yc||ba(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Va(ka.bind(null,r,a,e),[e]),r.flags|=2048,Fa(9,{destroy:void 0},wa.bind(null,r,a,n,t),null),n},useId:function(){var e=ca(),t=gc.identifierPrefix;if(hr){var n=sr;t="_"+t+"R_"+(n=(rr&~(1<<32-be(rr)-1)).toString(32)+n),0<(n=Qs++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Zs++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:so,useFormState:Ma,useActionState:Ma,useOptimistic:function(e){var t=ca();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,$s,!0,n),n.dispatch=t,[e,t]},useMemoCache:ha,useCacheRefresh:function(){return ca().memoizedState=lo.bind(null,$s)},useEffectEvent:function(e){var t=ca(),n={impl:e};return t.memoizedState=n,function(){if(2&pc)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},bo={readContext:Rr,use:fa,useCallback:Qa,useContext:Rr,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Xa,useReducer:pa,useRef:za,useState:function(){return pa(ma)},useDebugValue:Ya,useDeferredValue:function(e,t){return Za(ua(),Ws.memoizedState,e,t)},useTransition:function(){var e=pa(ma)[0],t=ua().memoizedState;return["boolean"==typeof e?e:da(e),t]},useSyncExternalStore:ya,useId:ao,useHostTransitionStatus:so,useFormState:Ra,useActionState:Ra,useOptimistic:function(e,t){return Ca(ua(),0,e,t)},useMemoCache:ha,useCacheRefresh:oo};bo.useEffectEvent=$a;var wo={readContext:Rr,use:fa,useCallback:Qa,useContext:Rr,useEffect:qa,useImperativeHandle:Ka,useInsertionEffect:Wa,useLayoutEffect:Ha,useMemo:Xa,useReducer:va,useRef:za,useState:function(){return va(ma)},useDebugValue:Ya,useDeferredValue:function(e,t){var n=ua();return null===Ws?Ja(n,e,t):Za(n,Ws.memoizedState,e,t)},useTransition:function(){var e=va(ma)[0],t=ua().memoizedState;return["boolean"==typeof e?e:da(e),t]},useSyncExternalStore:ya,useId:ao,useHostTransitionStatus:so,useFormState:Oa,useActionState:Oa,useOptimistic:function(e,t){var n=ua();return null!==Ws?Ca(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ha,useCacheRefresh:oo};function ko(e,t,n,i){n=null==(n=n(i,t=e.memoizedState))?t:u({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}wo.useEffectEvent=$a;var xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Kc(),r=ws(i);r.payload=t,null!=n&&(r.callback=n),null!==(t=ks(e,r,i))&&(Qc(t,e,i),xs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Kc(),r=ws(i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),null!==(t=ks(e,r,i))&&(Qc(t,e,i),xs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),i=ws(n);i.tag=2,null!=t&&(i.callback=t),null!==(t=ks(e,i,n))&&(Qc(t,e,n),xs(t,e,n))}};function _o(e,t,n,i,r,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!ti(n,i)||!ti(r,s))}function So(e,t,n,i){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function Co(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=u({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}function No(e){Ti(e)}function jo(e){}function To(e){Ti(e)}function Eo(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Io(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Po(e,t,n){return(n=ws(n)).tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function Ao(e){return(e=ws(e)).tag=3,e}function Mo(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"==typeof r){var s=i.value;e.payload=function(){return r(s)},e.callback=function(){Io(t,n,i)}}var a=n.stateNode;null!==a&&"function"==typeof a.componentDidCatch&&(e.callback=function(){Io(t,n,i),"function"!=typeof r&&(null===Fc?Fc=new Set([this]):Fc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ro=Error(i(461)),Do=!1;function Lo(e,t,n,i){t.child=null===e?gs(t,null,n,i):ps(t,e.child,n,i)}function Oo(e,t,n,i,r){n=n.render;var s=t.ref;if("ref"in i){var a={};for(var o in i)"ref"!==o&&(a[o]=i[o])}else a=i;return Mr(t),i=na(e,t,n,a,s,r),o=aa(),null===e||Do?(hr&&o&&lr(t),t.flags|=1,Lo(e,t,i,r),t.child):(oa(e,t,r),al(e,t,r))}function Fo(e,t,n,i,r){if(null===e){var s=n.type;return"function"!=typeof s||Bi(s)||void 0!==s.defaultProps||null!==n.compare?((e=$i(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,zo(e,t,s,i,r))}if(s=e.child,!ol(e,r)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:ti)(a,i)&&e.ref===t.ref)return al(e,t,r)}return t.flags|=1,(e=Vi(s,i)).ref=t.ref,e.return=t,t.child=e}function zo(e,t,n,i,r){if(null!==e){var s=e.memoizedProps;if(ti(s,i)&&e.ref===t.ref){if(Do=!1,t.pendingProps=i=s,!ol(e,r))return t.lanes=e.lanes,al(e,t,r);131072&e.flags&&(Do=!0)}}return Ho(e,t,n,i,r)}function Uo(e,t,n,i){var r=i.children,s=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===i.mode){if(128&t.flags){if(s=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,r=0;null!==i;)r=r|i.lanes|i.childLanes,i=i.sibling;i=r&~s}else i=0,t.child=null;return Vo(e,t,s,n,i)}if(!(536870912&n))return i=t.lanes=536870912,Vo(e,t,null!==s?s.baseLanes|n:n,n,i);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Xr(0,null!==s?s.cachePool:null),null!==s?Ps(t,s):As(),Fs(t)}else null!==s?(Xr(0,s.cachePool),Ps(t,s),zs(),t.memoizedState=null):(null!==e&&Xr(0,null),As(),zs());return Lo(e,t,r,n),t.child}function Bo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vo(e,t,n,i,r){var s=Qr();return s=null===s?null:{parent:Ur._currentValue,pool:s},t.memoizedState={baseLanes:n,cachePool:s},null!==e&&Xr(0,null),As(),Fs(t),null!==e&&Pr(e,t,i,!0),t.childLanes=r,null}function qo(e,t){return(t=tl({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function $o(e,t,n){return ps(t,e.child,null,n),(e=qo(t,t.pendingProps)).flags|=2,Us(t),t.memoizedState=null,e}function Wo(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!=typeof n&&"object"!=typeof n)throw Error(i(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ho(e,t,n,i,r){return Mr(t),n=na(e,t,n,i,void 0,r),i=aa(),null===e||Do?(hr&&i&&lr(t),t.flags|=1,Lo(e,t,n,r),t.child):(oa(e,t,r),al(e,t,r))}function Go(e,t,n,i,r,s){return Mr(t),t.updateQueue=null,n=ra(t,i,n,r),ia(e),i=aa(),null===e||Do?(hr&&i&&lr(t),t.flags|=1,Lo(e,t,n,s),t.child):(oa(e,t,s),al(e,t,s))}function Ko(e,t,n,i,r){if(Mr(t),null===t.stateNode){var s=Fi,a=n.contextType;"object"==typeof a&&null!==a&&(s=Rr(a)),s=new n(i,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=xo,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=i,s.state=t.memoizedState,s.refs={},ys(t),a=n.contextType,s.context="object"==typeof a&&null!==a?Rr(a):Fi,s.state=t.memoizedState,"function"==typeof(a=n.getDerivedStateFromProps)&&(ko(t,n,a,i),s.state=t.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof s.getSnapshotBeforeUpdate||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||(a=s.state,"function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),a!==s.state&&xo.enqueueReplaceState(s,s.state,null),Ns(t,i,s,r),Cs(),s.state=t.memoizedState),"function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){s=t.stateNode;var o=t.memoizedProps,l=Co(n,o);s.props=l;var c=s.context,u=n.contextType;a=Fi,"object"==typeof u&&null!==u&&(a=Rr(u));var d=n.getDerivedStateFromProps;u="function"==typeof d||"function"==typeof s.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(o||c!==a)&&So(t,s,i,a),vs=!1;var f=t.memoizedState;s.state=f,Ns(t,i,s,r),Cs(),c=t.memoizedState,o||f!==c||vs?("function"==typeof d&&(ko(t,n,d,i),c=t.memoizedState),(l=vs||_o(t,n,l,i,f,c,a))?(u||"function"!=typeof s.UNSAFE_componentWillMount&&"function"!=typeof s.componentWillMount||("function"==typeof s.componentWillMount&&s.componentWillMount(),"function"==typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"==typeof s.componentDidMount&&(t.flags|=4194308)):("function"==typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),s.props=i,s.state=c,s.context=a,i=l):("function"==typeof s.componentDidMount&&(t.flags|=4194308),i=!1)}else{s=t.stateNode,bs(e,t),u=Co(n,a=t.memoizedProps),s.props=u,d=t.pendingProps,f=s.context,c=n.contextType,l=Fi,"object"==typeof c&&null!==c&&(l=Rr(c)),(c="function"==typeof(o=n.getDerivedStateFromProps)||"function"==typeof s.getSnapshotBeforeUpdate)||"function"!=typeof s.UNSAFE_componentWillReceiveProps&&"function"!=typeof s.componentWillReceiveProps||(a!==d||f!==l)&&So(t,s,i,l),vs=!1,f=t.memoizedState,s.state=f,Ns(t,i,s,r),Cs();var h=t.memoizedState;a!==d||f!==h||vs||null!==e&&null!==e.dependencies&&Ar(e.dependencies)?("function"==typeof o&&(ko(t,n,o,i),h=t.memoizedState),(u=vs||_o(t,n,u,i,f,h,l)||null!==e&&null!==e.dependencies&&Ar(e.dependencies))?(c||"function"!=typeof s.UNSAFE_componentWillUpdate&&"function"!=typeof s.componentWillUpdate||("function"==typeof s.componentWillUpdate&&s.componentWillUpdate(i,h,l),"function"==typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,h,l)),"function"==typeof s.componentDidUpdate&&(t.flags|=4),"function"==typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=h),s.props=i,s.state=h,s.context=l,i=u):("function"!=typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!=typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),i=!1)}return s=i,Wo(e,t),i=!!(128&t.flags),s||i?(s=t.stateNode,n=i&&"function"!=typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&i?(t.child=ps(t,e.child,null,r),t.child=ps(t,null,n,r)):Lo(e,t,n,r),t.memoizedState=s.state,e=t.child):e=al(e,t,r),e}function Yo(e,t,n,i){return kr(),t.flags|=256,Lo(e,t,n,i),t.child}var Qo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xo(e){return{baseLanes:e,cachePool:Jr()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ec),e}function Zo(e,t,n){var r,s=t.pendingProps,a=!1,o=!!(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&!!(2&Bs.current)),r&&(a=!0,t.flags&=-129),r=!!(32&t.flags),t.flags&=-33,null===e){if(hr){if(a?Ls(t):zs(),(e=fr)?null!==(e=null!==(e=Ad(e,pr))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ir?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},(n=Gi(e)).return=t,t.child=n,dr=t,fr=null):e=null,null===e)throw vr(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var l=s.children;return s=s.fallback,a?(zs(),l=tl({mode:"hidden",children:l},a=t.mode),s=Wi(s,a,n,null),l.return=t,s.return=t,l.sibling=s,t.child=l,(s=t.child).memoizedState=Xo(n),s.childLanes=Jo(e,r,n),t.memoizedState=Qo,Bo(null,s)):(Ls(t),el(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Ls(t),t.flags&=-257,t=nl(e,t,n)):null!==t.memoizedState?(zs(),t.child=e.child,t.flags|=128,t=null):(zs(),l=s.fallback,a=t.mode,s=tl({mode:"visible",children:s.children},a),(l=Wi(l,a,n,null)).flags|=2,s.return=t,l.return=t,s.sibling=l,t.child=s,ps(t,e.child,null,n),(s=t.child).memoizedState=Xo(n),s.childLanes=Jo(e,r,n),t.memoizedState=Qo,t=Bo(null,s));else if(Ls(t),Rd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(s=Error(i(419))).stack="",s.digest=r,_r({value:s,source:null,stack:null}),t=nl(e,t,n)}else if(Do||Pr(e,t,n,!1),r=0!==(n&e.childLanes),Do||r){if(null!==(r=gc)&&(0!==(s=Re(r,n))&&s!==c.retryLane))throw c.retryLane=s,Di(e,s),Qc(r,e,s),Ro;Md(l)||lu(),t=nl(e,t,n)}else Md(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,fr=Dd(l.nextSibling),dr=t,hr=!0,mr=null,pr=!1,null!==e&&ur(t,e),(t=el(t,s.children)).flags|=4096);return t}return a?(zs(),l=s.fallback,a=t.mode,u=(c=e.child).sibling,(s=Vi(c,{mode:"hidden",children:s.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Vi(u,l):(l=Wi(l,a,n,null)).flags|=2,l.return=t,s.return=t,s.sibling=l,t.child=s,Bo(null,s),s=t.child,null===(l=e.child.memoizedState)?l=Xo(n):(null!==(a=l.cachePool)?(c=Ur._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Jr(),l={baseLanes:l.baseLanes|n,cachePool:a}),s.memoizedState=l,s.childLanes=Jo(e,r,n),t.memoizedState=Qo,Bo(e.child,s)):(Ls(t),e=(n=e.child).sibling,(n=Vi(n,{mode:"visible",children:s.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function el(e,t){return(t=tl({mode:"visible",children:t},e.mode)).return=e,e.child=t}function tl(e,t){return(e=Ui(22,e,null,t)).lanes=0,e}function nl(e,t,n){return ps(t,e.child,null,n),(e=el(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function il(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Er(e.return,t,n)}function rl(e,t,n,i,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r,treeForkCount:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=r,a.treeForkCount=s)}function sl(e,t,n){var i=t.pendingProps,r=i.revealOrder,s=i.tail;i=i.children;var a=Bs.current,o=!!(2&a);if(o?(a=1&a|2,t.flags|=128):a&=1,U(Bs,a),Lo(e,t,i,n),i=hr?er:0,!o&&null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&il(e,n,t);else if(19===e.tag)il(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===Vs(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),rl(t,!1,r,n,s,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===Vs(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}rl(t,!0,n,null,s,i);break;case"together":rl(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Vi(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vi(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ol(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ar(e))}function ll(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Do=!0;else{if(!(ol(e,n)||128&t.flags))return Do=!1,function(e,t,n){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),jr(0,Ur,e.memoizedState.cache),kr();break;case 27:case 5:Y(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:jr(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Os(t),null;break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(Ls(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Zo(e,t,n):(Ls(t),null!==(e=al(e,t,n))?e.sibling:null);Ls(t);break;case 19:var r=!!(128&e.flags);if((i=0!==(n&t.childLanes))||(Pr(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return sl(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),U(Bs,Bs.current),i)break;return null;case 22:return t.lanes=0,Uo(e,t,n,t.pendingProps);case 24:jr(0,Ur,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Do=!!(131072&e.flags)}else Do=!1,hr&&1048576&t.flags&&or(t,er,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ss(t.elementType),t.type=e,"function"!=typeof e){if(null!=e){var s=e.$$typeof;if(s===k){t.tag=11,t=Oo(null,t,e,r,n);break e}if(s===S){t.tag=14,t=Fo(null,t,e,r,n);break e}}throw t=P(e)||e,Error(i(306,t,""))}Bi(e)?(r=Co(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Ho(null,t,e,r,n))}return t;case 0:return Ho(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,s=Co(r,t.pendingProps),n);case 3:e:{if(G(t,t.stateNode.containerInfo),null===e)throw Error(i(387));r=t.pendingProps;var a=t.memoizedState;s=a.element,bs(e,t),Ns(t,r,null,n);var o=t.memoizedState;if(r=o.cache,jr(0,Ur,r),r!==a.cache&&Ir(t,[Ur],n,!0),Cs(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Yo(e,t,r,n);break e}if(r!==s){_r(s=Qi(Error(i(424)),t)),t=Yo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(fr=Dd(e.firstChild),dr=t,hr=!0,mr=null,pr=!0,n=gs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(kr(),r===s){t=al(e,t,n);break e}Lo(e,t,r,n)}t=t.child}return t;case 26:return Wo(e,t),null===e?(n=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:hr||(n=t.type,e=t.pendingProps,(r=yd(W.current).createElement(n))[Ue]=t,r[Be]=e,md(r,n,e),Ze(r),t.stateNode=r):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Y(t),null===e&&hr&&(r=t.stateNode=zd(t.type,t.pendingProps,W.current),dr=t,pr=!0,s=fr,Td(t.type)?(Ld=s,fr=Dd(r.firstChild)):fr=s),Lo(e,t,t.pendingProps.children,n),Wo(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hr&&((s=r=fr)&&(null!==(r=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[Ge])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===s)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pr))?(t.stateNode=r,dr=t,fr=Dd(r.firstChild),pr=!1,s=!0):s=!1),s||vr(t)),Y(t),s=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,kd(s,a)?r=null:null!==o&&kd(s,o)&&(t.flags|=32),null!==t.memoizedState&&(s=na(e,t,sa,null,null,n),hf._currentValue=s),Wo(e,t),Lo(e,t,r,n),t.child;case 6:return null===e&&hr&&((e=n=fr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,pr))?(t.stateNode=n,dr=t,fr=null,e=!0):e=!1),e||vr(t)),null;case 13:return Zo(e,t,n);case 4:return G(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ps(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,jr(0,t.type,r.value),Lo(e,t,r.children,n),t.child;case 9:return s=t.type._context,r=t.pendingProps.children,Mr(t),r=r(s=Rr(s)),t.flags|=1,Lo(e,t,r,n),t.child;case 14:return Fo(e,t,t.type,t.pendingProps,n);case 15:return zo(e,t,t.type,t.pendingProps,n);case 19:return sl(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,s=!!(128&t.flags);if(t.flags&=-129,null===e){if(hr){if("hidden"===r.mode)return e=qo(t,r),t.lanes=536870912,Bo(null,e);if(Os(t),(e=fr)?null!==(e=null!==(e=Ad(e,pr))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ir?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},(n=Gi(e)).return=t,t.child=n,dr=t,fr=null):e=null,null===e)throw vr(t);return t.lanes=536870912,null}return qo(t,r)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(Os(t),s)if(256&t.flags)t.flags&=-257,t=$o(e,t,n);else{if(null===t.memoizedState)throw Error(i(558));t.child=e.child,t.flags|=128,t=null}else if(Do||Pr(e,t,n,!1),s=0!==(n&e.childLanes),Do||s){if(null!==(r=gc)&&0!==(o=Re(r,n))&&o!==a.retryLane)throw a.retryLane=o,Di(e,o),Qc(r,e,o),Ro;lu(),t=$o(e,t,n)}else e=a.treeContext,fr=Dd(o.nextSibling),dr=t,hr=!0,mr=null,pr=!1,null!==e&&ur(t,e),(t=qo(t,r)).flags|=4096;return t}return(e=Vi(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return Uo(e,t,n,t.pendingProps);case 24:return Mr(t),r=Rr(Ur),null===e?(null===(s=Qr())&&(s=gc,a=Br(),s.pooledCache=a,a.refCount++,null!==a&&(s.pooledCacheLanes|=n),s=a),t.memoizedState={parent:r,cache:s},ys(t),jr(0,Ur,s)):(0!==(e.lanes&n)&&(bs(e,t),Ns(t,null,null,n),Cs()),s=e.memoizedState,a=t.memoizedState,s.parent!==r?(s={parent:r,cache:r},t.memoizedState=s,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=s),jr(0,Ur,r)):(r=a.cache,jr(0,Ur,r),r!==s.cache&&Ir(t,[Ur],n,!0))),Lo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function cl(e){e.flags|=4}function ul(e,t,n,i,r){if((t=!!(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&r)===r)if(e.stateNode.complete)e.flags|=8192;else{if(!su())throw as=ns,es;e.flags|=8192}}else e.flags&=-16777217}function dl(e,t){if("stylesheet"!==t.type||4&t.state.loading)e.flags&=-16777217;else if(e.flags|=16777216,!of(t)){if(!su())throw as=ns,es;e.flags|=8192}}function fl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ee():536870912,e.lanes|=t,Ic|=t)}function hl(e,t){if(!hr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function ml(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(cr(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return ml(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Tr(Ur),K(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(wr(t)?cl(t):null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,xr())),ml(t),null;case 26:var s=t.type,a=t.memoizedState;return null===e?(cl(t),null!==a?(ml(t),dl(t,a)):(ml(t),ul(t,s,0,0,n))):a?a!==e.memoizedState?(cl(t),ml(t),dl(t,a)):(ml(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&cl(t),ml(t),ul(t,s,0,0,n)),null;case 27:if(Q(t),n=W.current,s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&cl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return ml(t),null}e=q.current,wr(t)?yr(t):(e=zd(s,r,n),t.stateNode=e,cl(t))}return ml(t),null;case 5:if(Q(t),s=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&cl(t);else{if(!r){if(null===t.stateNode)throw Error(i(166));return ml(t),null}if(a=q.current,wr(t))yr(t);else{var o=yd(W.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"==typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"==typeof r.is?o.createElement(s,{is:r.is}):o.createElement(s)}}a[Ue]=t,a[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(md(a,s,r),s){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&cl(t)}}return ml(t),ul(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&cl(t);else{if("string"!=typeof r&&null===t.stateNode)throw Error(i(166));if(e=W.current,wr(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(s=dr))switch(s.tag){case 27:case 5:r=s.memoizedProps}e[Ue]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||dd(e.nodeValue,n)))||vr(t,!0)}else(e=yd(e).createTextNode(r))[Ue]=t,t.stateNode=e}return ml(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=wr(t),null!==n){if(null===e){if(!r)throw Error(i(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(i(557));e[Ue]=t}else kr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ml(t),e=!1}else n=xr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(Us(t),t):(Us(t),null);if(128&t.flags)throw Error(i(558))}return ml(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(s=wr(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[Ue]=t}else kr(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ml(t),s=!1}else s=xr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return 256&t.flags?(Us(t),t):(Us(t),null)}return Us(t),128&t.flags?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(s=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(s=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==s&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),fl(t,t.updateQueue),ml(t),null);case 4:return K(),null===e&&td(t.stateNode.containerInfo),ml(t),null;case 10:return Tr(t.type),ml(t),null;case 19:if(z(Bs),null===(r=t.memoizedState))return ml(t),null;if(s=!!(128&t.flags),null===(a=r.rendering))if(s)hl(r,!1);else{if(0!==Cc||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(a=Vs(e))){for(t.flags|=128,hl(r,!1),e=a.updateQueue,t.updateQueue=e,fl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)qi(n,e),n=n.sibling;return U(Bs,1&Bs.current|2),hr&&ar(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&oe()>Lc&&(t.flags|=128,s=!0,hl(r,!1),t.lanes=4194304)}else{if(!s)if(null!==(e=Vs(a))){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,fl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!hr)return ml(t),null}else 2*oe()-r.renderingStartTime>Lc&&536870912!==n&&(t.flags|=128,s=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=oe(),e.sibling=null,n=Bs.current,U(Bs,s?1&n|2:1&n),hr&&ar(t,r.treeForkCount),e):(ml(t),null);case 22:case 23:return Us(t),Ms(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?!!(536870912&n)&&!(128&t.flags)&&(ml(t),6&t.subtreeFlags&&(t.flags|=8192)):ml(t),null!==(n=t.updateQueue)&&fl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Yr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Tr(Ur),ml(t),null;case 25:case 30:return null}throw Error(i(156,t.tag))}function gl(e,t){switch(cr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Tr(Ur),K(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Q(t),null;case 31:if(null!==t.memoizedState){if(Us(t),null===t.alternate)throw Error(i(340));kr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(Us(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));kr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(Bs),null;case 4:return K(),null;case 10:return Tr(t.type),null;case 22:case 23:return Us(t),Ms(),null!==e&&z(Yr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Tr(Ur),null;default:return null}}function vl(e,t){switch(cr(t),t.tag){case 3:Tr(Ur),K();break;case 26:case 27:case 5:Q(t);break;case 4:K();break;case 31:null!==t.memoizedState&&Us(t);break;case 13:Us(t);break;case 19:z(Bs);break;case 10:Tr(t.type);break;case 22:case 23:Us(t),Ms(),null!==e&&z(Yr);break;case 24:Tr(Ur)}}function yl(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var s=n.create,a=n.inst;i=s(),a.destroy=i}n=n.next}while(n!==r)}}catch(o){Cu(t,t.return,o)}}function bl(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var s=r.next;i=s;do{if((i.tag&e)===e){var a=i.inst,o=a.destroy;if(void 0!==o){a.destroy=void 0,r=t;var l=n,c=o;try{c()}catch(u){Cu(r,l,u)}}}i=i.next}while(i!==s)}}catch(u){Cu(t,t.return,u)}}function wl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ts(t,n)}catch(i){Cu(e,e.return,i)}}}function kl(e,t,n){n.props=Co(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){Cu(e,t,i)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"==typeof n?e.refCleanup=n(i):n.current=i}}catch(r){Cu(e,t,r)}}function _l(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"==typeof i)try{i()}catch(r){Cu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"==typeof n)try{n(null)}catch(s){Cu(e,t,s)}else n.current=null}function Sl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){Cu(e,e.return,r)}}function Cl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,a=null,o=null,l=null,c=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&null!=f)switch(m){case"checked":case"value":break;case"defaultValue":c=f;default:r.hasOwnProperty(m)||fd(e,t,m,null,r,f)}}for(var h in r){var m=r[h];if(f=n[h],r.hasOwnProperty(h)&&(null!=m||null!=f))switch(h){case"type":a=m;break;case"name":s=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(null!=m)throw Error(i(137,t));break;default:m!==f&&fd(e,t,h,m,r,f)}}return void wt(e,o,l,c,u,d,a,s);case"select":for(a in m=o=l=h=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":m=c;default:r.hasOwnProperty(a)||fd(e,t,a,null,r,c)}for(s in r)if(a=r[s],c=n[s],r.hasOwnProperty(s)&&(null!=a||null!=c))switch(s){case"value":h=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&fd(e,t,s,a,r,c)}return t=l,n=o,r=m,void(null!=h?_t(e,!!n,h,!1):!!r!=!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in m=h=null,n)if(s=n[l],n.hasOwnProperty(l)&&null!=s&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:fd(e,t,l,null,r,s)}for(o in r)if(s=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=s||null!=a))switch(o){case"value":h=s;break;case"defaultValue":m=s;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=s)throw Error(i(91));break;default:s!==a&&fd(e,t,o,s,r,a)}return void St(e,h,m);case"option":for(var p in n)if(h=n[p],n.hasOwnProperty(p)&&null!=h&&!r.hasOwnProperty(p))if("selected"===p)e.selected=!1;else fd(e,t,p,null,r,h);for(c in r)if(h=r[c],m=n[c],r.hasOwnProperty(c)&&h!==m&&(null!=h||null!=m))if("selected"===c)e.selected=h&&"function"!=typeof h&&"symbol"!=typeof h;else fd(e,t,c,h,r,m);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)h=n[g],n.hasOwnProperty(g)&&null!=h&&!r.hasOwnProperty(g)&&fd(e,t,g,null,r,h);for(u in r)if(h=r[u],m=n[u],r.hasOwnProperty(u)&&h!==m&&(null!=h||null!=m))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(i(137,t));break;default:fd(e,t,u,h,r,m)}return;default:if(It(t)){for(var v in n)h=n[v],n.hasOwnProperty(v)&&void 0!==h&&!r.hasOwnProperty(v)&&hd(e,t,v,void 0,r,h);for(d in r)h=r[d],m=n[d],!r.hasOwnProperty(d)||h===m||void 0===h&&void 0===m||hd(e,t,d,h,r,m);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&null!=h&&!r.hasOwnProperty(y)&&fd(e,t,y,null,r,h);for(f in r)h=r[f],m=n[f],!r.hasOwnProperty(f)||h===m||null==h&&null==m||fd(e,t,f,h,r,m)}(r,e.type,n,t),r[Be]=t}catch(s){Cu(e,e.return,s)}}function Nl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Td(e.type)||4===e.tag}function jl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Td(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=Rt));else if(4!==i&&(27===i&&Td(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function El(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&Td(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(El(e,t,n),e=e.sibling;null!==e;)El(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);md(t,i,n),t[Ue]=e,t[Be]=n}catch(s){Cu(e,e.return,s)}}var Pl=!1,Al=!1,Ml=!1,Rl="function"==typeof WeakSet?WeakSet:Set,Dl=null;function Ll(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Ql(e,n),4&i&&yl(5,n);break;case 1:if(Ql(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){Cu(n,n.return,a)}else{var r=Co(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Cu(n,n.return,o)}}64&i&&wl(n),512&i&&xl(n,n.return);break;case 3:if(Ql(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ts(e,t)}catch(a){Cu(n,n.return,a)}}break;case 27:null===t&&4&i&&Il(n);case 26:case 5:Ql(e,n),null===t&&4&i&&Sl(n),512&i&&xl(n,n.return);break;case 12:Ql(e,n);break;case 31:Ql(e,n),4&i&&Vl(e,n);break;case 13:Ql(e,n),4&i&&ql(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=Eu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Al,r=Pl;var s=Al;Pl=i,(Al=t)&&!s?Jl(e,n,!!(8772&n.subtreeFlags)):Ql(e,n),Pl=r,Al=s}break;case 30:break;default:Ql(e,n)}}function Ol(e){var t=e.alternate;null!==t&&(e.alternate=null,Ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ke(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Fl=null,zl=!1;function Ul(e,t,n){for(n=n.child;null!==n;)Bl(e,t,n),n=n.sibling}function Bl(e,t,n){if(ve&&"function"==typeof ve.onCommitFiberUnmount)try{ve.onCommitFiberUnmount(ge,n)}catch(s){}switch(n.tag){case 26:Al||_l(n,t),Ul(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Al||_l(n,t);var i=Fl,r=zl;Td(n.type)&&(Fl=n.stateNode,zl=!1),Ul(e,t,n),Ud(n.stateNode),Fl=i,zl=r;break;case 5:Al||_l(n,t);case 6:if(i=Fl,r=zl,Fl=null,Ul(e,t,n),zl=r,null!==(Fl=i))if(zl)try{(9===Fl.nodeType?Fl.body:"HTML"===Fl.nodeName?Fl.ownerDocument.body:Fl).removeChild(n.stateNode)}catch(a){Cu(n,t,a)}else try{Fl.removeChild(n.stateNode)}catch(a){Cu(n,t,a)}break;case 18:null!==Fl&&(zl?(Ed(9===(e=Fl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Gf(e)):Ed(Fl,n.stateNode));break;case 4:i=Fl,r=zl,Fl=n.stateNode.containerInfo,zl=!0,Ul(e,t,n),Fl=i,zl=r;break;case 0:case 11:case 14:case 15:bl(2,n,t),Al||bl(4,n,t),Ul(e,t,n);break;case 1:Al||(_l(n,t),"function"==typeof(i=n.stateNode).componentWillUnmount&&kl(n,t,i)),Ul(e,t,n);break;case 21:Ul(e,t,n);break;case 22:Al=(i=Al)||null!==n.memoizedState,Ul(e,t,n),Al=i;break;default:Ul(e,t,n)}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Gf(e)}catch(n){Cu(t,t.return,n)}}}function ql(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Gf(e)}catch(n){Cu(t,t.return,n)}}function $l(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(i(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var i=Iu.bind(null,e,t);t.then(i,i)}})}function Wl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Td(l.type)){Fl=l.stateNode,zl=!1;break e}break;case 5:Fl=l.stateNode,zl=!1;break e;case 3:case 4:Fl=l.stateNode.containerInfo,zl=!0;break e}l=l.return}if(null===Fl)throw Error(i(160));Bl(a,o,s),Fl=null,zl=!1,null!==(a=s.alternate)&&(a.return=null),s.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Hl=null;function Gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wl(t,e),Kl(e),4&r&&(bl(3,e,e.return),yl(3,e),bl(5,e,e.return));break;case 1:Wl(t,e),Kl(e),512&r&&(Al||null===n||_l(n,n.return)),64&r&&Pl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var s=Hl;if(Wl(t,e),Kl(e),512&r&&(Al||null===n||_l(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,s=s.ownerDocument||s;t:switch(r){case"title":(!(a=s.getElementsByTagName("title")[0])||a[Ge]||a[Ue]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=s.createElement(r),s.head.insertBefore(a,s.querySelector("head > title"))),md(a,r,n),a[Ue]=e,Ze(a),r=a;break e;case"link":var o=sf("link","href",s).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}md(a=s.createElement(r),r,n),s.head.appendChild(a);break;case"meta":if(o=sf("meta","content",s).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}md(a=s.createElement(r),r,n),s.head.appendChild(a);break;default:throw Error(i(468,r))}a[Ue]=e,Ze(a),r=a}e.stateNode=r}else af(s,e.type,e.stateNode);else e.stateNode=Zd(s,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?af(s,e.type,e.stateNode):Zd(s,r,e.memoizedProps)):null===r&&null!==e.stateNode&&Cl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Wl(t,e),Kl(e),512&r&&(Al||null===n||_l(n,n.return)),null!==n&&4&r&&Cl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Wl(t,e),Kl(e),512&r&&(Al||null===n||_l(n,n.return)),32&e.flags){s=e.stateNode;try{Nt(s,"")}catch(p){Cu(e,e.return,p)}}4&r&&null!=e.stateNode&&Cl(e,s=e.memoizedProps,null!==n?n.memoizedProps:s),1024&r&&(Ml=!0);break;case 6:if(Wl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){Cu(e,e.return,p)}}break;case 3:if(rf=null,s=Hl,Hl=qd(t.containerInfo),Wl(t,e),Hl=s,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gf(t.containerInfo)}catch(p){Cu(e,e.return,p)}Ml&&(Ml=!1,Yl(e));break;case 4:r=Hl,Hl=qd(e.stateNode.containerInfo),Wl(t,e),Kl(e),Hl=r;break;case 12:default:Wl(t,e),Kl(e);break;case 31:case 19:Wl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,$l(e,r)));break;case 13:Wl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!=(null!==n&&null!==n.memoizedState)&&(Rc=oe()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,$l(e,r)));break;case 22:s=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Pl,d=Al;if(Pl=u||s,Al=d||c,Wl(t,e),Al=d,Pl=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=s?-2&t._visibility:1|t._visibility,s&&(null===n||c||Pl||Al||Xl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,s)"function"==typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var f=c.memoizedProps.style,h=null!=f&&f.hasOwnProperty("display")?f.display:null;l.style.display=null==h||"boolean"==typeof h?"":(""+h).trim()}}catch(p){Cu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=s?"":c.memoizedProps}catch(p){Cu(c,c.return,p)}}}else if(18===t.tag){if(null===n){c=t;try{var m=c.stateNode;s?Id(m,!0):Id(c.stateNode,!1)}catch(p){Cu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,$l(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Nl(r)){n=r;break}r=r.return}if(null==n)throw Error(i(160));switch(n.tag){case 27:var s=n.stateNode;El(e,jl(e),s);break;case 5:var a=n.stateNode;32&n.flags&&(Nt(a,""),n.flags&=-33),El(e,jl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;Tl(e,jl(e),o);break;default:throw Error(i(161))}}catch(l){Cu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Yl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Yl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Ql(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Xl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:bl(4,t,t.return),Xl(t);break;case 1:_l(t,t.return);var n=t.stateNode;"function"==typeof n.componentWillUnmount&&kl(t,t.return,n),Xl(t);break;case 27:Ud(t.stateNode);case 26:case 5:_l(t,t.return),Xl(t);break;case 22:null===t.memoizedState&&Xl(t);break;default:Xl(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&!!(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,s=t,a=s.flags;switch(s.tag){case 0:case 11:case 15:Jl(r,s,n),yl(4,s);break;case 1:if(Jl(r,s,n),"function"==typeof(r=(i=s).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){Cu(i,i.return,c)}if(null!==(r=(i=s).updateQueue)){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)js(l[r],o)}catch(c){Cu(i,i.return,c)}}n&&64&a&&wl(s),xl(s,s.return);break;case 27:Il(s);case 26:case 5:Jl(r,s,n),n&&null===i&&4&a&&Sl(s),xl(s,s.return);break;case 12:Jl(r,s,n);break;case 31:Jl(r,s,n),n&&4&a&&Vl(r,s);break;case 13:Jl(r,s,n),n&&4&a&&ql(r,s);break;case 22:null===s.memoizedState&&Jl(r,s,n),xl(s,s.return);break;case 30:break;default:Jl(r,s,n)}t=t.sibling}}function Zl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vr(n))}function ec(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vr(e))}function tc(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)nc(e,t,n,i),t=t.sibling}function nc(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:tc(e,t,n,i),2048&r&&yl(9,t);break;case 1:case 31:case 13:default:tc(e,t,n,i);break;case 3:tc(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vr(e)));break;case 12:if(2048&r){tc(e,t,n,i),e=t.stateNode;try{var s=t.memoizedProps,a=s.id,o=s.onPostCommit;"function"==typeof o&&o(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Cu(t,t.return,l)}}else tc(e,t,n,i);break;case 23:break;case 22:s=t.stateNode,a=t.alternate,null!==t.memoizedState?2&s._visibility?tc(e,t,n,i):rc(e,t):2&s._visibility?tc(e,t,n,i):(s._visibility|=2,ic(e,t,n,i,!!(10256&t.subtreeFlags)||!1)),2048&r&&Zl(a,t);break;case 24:tc(e,t,n,i),2048&r&&ec(t.alternate,t)}}function ic(e,t,n,i,r){for(r=r&&(!!(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var s=e,a=t,o=n,l=i,c=a.flags;switch(a.tag){case 0:case 11:case 15:ic(s,a,o,l,r),yl(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?ic(s,a,o,l,r):rc(s,a):(u._visibility|=2,ic(s,a,o,l,r)),r&&2048&c&&Zl(a.alternate,a);break;case 24:ic(s,a,o,l,r),r&&2048&c&&ec(a.alternate,a);break;default:ic(s,a,o,l,r)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:rc(n,i),2048&r&&Zl(i.alternate,i);break;case 24:rc(n,i),2048&r&&ec(i.alternate,i);break;default:rc(n,i)}t=t.sibling}}var sc=8192;function ac(e,t,n){if(e.subtreeFlags&sc)for(e=e.child;null!==e;)oc(e,t,n),e=e.sibling}function oc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&sc&&null!==e.memoizedState&&function(e,t,n,i){if(!("stylesheet"!==n.type||"string"==typeof i.media&&!1===matchMedia(i.media).matches||4&n.state.loading)){if(null===n.instance){var r=Kd(i.href),s=t.querySelector(Yd(r));if(s)return null!==(t=s._p)&&"object"==typeof t&&"function"==typeof t.then&&(e.count++,e=cf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=s,void Ze(s);s=t.ownerDocument||t,i=Qd(i),(r=Bd.get(r))&&tf(i,r),Ze(s=s.createElement("link"));var a=s;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),md(s,"link",i),n.instance=s}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(3&n.state.loading)&&(e.count++,n=cf.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Hl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var i=Hl;Hl=qd(e.stateNode.containerInfo),ac(e,t,n),Hl=i;break;case 22:null===e.memoizedState&&(null!==(i=e.alternate)&&null!==i.memoizedState?(i=sc,sc=16777216,ac(e,t,n),sc=i):ac(e,t,n))}}function lc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function cc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Dl=i,fc(i,e)}lc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)uc(e),e=e.sibling}function uc(e){switch(e.tag){case 0:case 11:case 15:cc(e),2048&e.flags&&bl(9,e,e.return);break;case 3:case 12:default:cc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,dc(e)):cc(e)}}function dc(e){var t=e.deletions;if(16&e.flags){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Dl=i,fc(i,e)}lc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:bl(8,t,t.return),dc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,dc(t));break;default:dc(t)}e=e.sibling}}function fc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:bl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Vr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Dl=i;else e:for(n=e;null!==Dl;){var r=(i=Dl).sibling,s=i.return;if(Ol(i),i===n){Dl=null;break e}if(null!==r){r.return=s,Dl=r;break e}Dl=s}}}var hc={getCacheForType:function(e){var t=Rr(Ur),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Rr(Ur).controller.signal}},mc="function"==typeof WeakMap?WeakMap:Map,pc=0,gc=null,vc=null,yc=0,bc=0,wc=null,kc=!1,xc=!1,_c=!1,Sc=0,Cc=0,Nc=0,jc=0,Tc=0,Ec=0,Ic=0,Pc=null,Ac=null,Mc=!1,Rc=0,Dc=0,Lc=1/0,Oc=null,Fc=null,zc=0,Uc=null,Bc=null,Vc=0,qc=0,$c=null,Wc=null,Hc=0,Gc=null;function Kc(){return 2&pc&&0!==yc?yc&-yc:null!==M.T?$u():Oe()}function Yc(){if(0===Ec)if(536870912&yc&&!hr)Ec=536870912;else{var e=_e;!(3932160&(_e<<=1))&&(_e=262144),Ec=e}return null!==(e=Rs.current)&&(e.flags|=32),Ec}function Qc(e,t,n){(e!==gc||2!==bc&&9!==bc)&&null===e.cancelPendingCommit||(iu(e,0),eu(e,yc,Ec,!1)),Pe(e,n),2&pc&&e===gc||(e===gc&&(!(2&pc)&&(jc|=n),4===Cc&&eu(e,yc,Ec,!1)),Ou(e))}function Xc(e,t,n){if(6&pc)throw Error(i(327));for(var r=!n&&!(127&t)&&0===(t&e.expiredLanes)||je(e,t),s=r?function(e,t){var n=pc;pc|=2;var r=au(),s=ou();gc!==e||yc!==t?(Oc=null,Lc=oe()+500,iu(e,t)):xc=je(e,t);e:for(;;)try{if(0!==bc&&null!==vc){t=vc;var a=wc;t:switch(bc){case 1:bc=0,wc=null,mu(e,t,a,1);break;case 2:case 9:if(is(a)){bc=0,wc=null,hu(t);break}t=function(){2!==bc&&9!==bc||gc!==e||(bc=7),Ou(e)},a.then(t,t);break e;case 3:bc=7;break e;case 4:bc=5;break e;case 7:is(a)?(bc=0,wc=null,hu(t)):(bc=0,wc=null,mu(e,t,a,7));break;case 5:var o=null;switch(vc.tag){case 26:o=vc.memoizedState;case 5:case 27:var l=vc;if(o?of(o):l.stateNode.complete){bc=0,wc=null;var c=l.sibling;if(null!==c)vc=c;else{var u=l.return;null!==u?(vc=u,pu(u)):vc=null}break t}}bc=0,wc=null,mu(e,t,a,5);break;case 6:bc=0,wc=null,mu(e,t,a,6);break;case 8:nu(),Cc=6;break e;default:throw Error(i(462))}}du();break}catch(d){ru(e,d)}return Nr=Cr=null,M.H=r,M.A=s,pc=n,null!==vc?0:(gc=null,yc=0,Ai(),Cc)}(e,t):cu(e,t,!0),a=r;;){if(0===s){xc&&!r&&eu(e,t,0,!1);break}if(n=e.current.alternate,!a||Zc(n)){if(2===s){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;s=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(iu(l,o).flags|=256),2!==(o=cu(l,o,!1))){if(_c&&!c){l.errorRecoveryDisabledLanes|=a,jc|=a,s=4;break e}a=Ac,Ac=s,null!==a&&(null===Ac?Ac=a:Ac.push.apply(Ac,a))}s=o}if(a=!1,2!==s)continue}}if(1===s){iu(e,0),eu(e,t,0,!0);break}e:{switch(r=e,a=s){case 0:case 1:throw Error(i(345));case 4:if((4194048&t)!==t)break;case 6:eu(r,t,Ec,!kc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(i(329))}if((62914560&t)===t&&10<(s=Rc+300-oe())){if(eu(r,t,Ec,!kc),0!==Ne(r,0,!0))break e;Vc=t,r.timeoutHandle=_d(Jc.bind(null,r,n,Ac,Oc,Mc,t,Ec,jc,Ic,kc,a,"Throttled",-0,0),s)}else Jc(r,n,Ac,Oc,Mc,t,Ec,jc,Ic,kc,a,null,-0,0)}break}s=cu(e,t,!1),a=!1}Ou(e)}function Jc(e,t,n,i,r,s,a,o,l,c,u,d,f,h){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||!(16785408&~d)){oc(t,s,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Rt});var m=(62914560&s)===s?Rc-oe():(4194048&s)===s?Dc-oe():0;if(null!==(m=function(e,t){return e.stylesheets&&0===e.count&&df(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&df(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===lf&&(lf=62500*function(){if("function"==typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var r=n[i],s=r.transferSize,a=r.initiatorType,o=r.duration;if(s&&o&&pd(a)){for(a=0,o=r.responseEnd,i+=1;i<n.length;i++){var l=n[i],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(a+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--i,t+=8*(s+a)/(r.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&"number"==typeof(e=navigator.connection.downlink)?e:5}());var r=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&df(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>lf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(r)}}:null}(d,m)))return Vc=s,e.cancelPendingCommit=m(vu.bind(null,e,t,s,n,i,r,a,o,l,u,d,null,f,h)),void eu(e,s,a,!c)}vu(e,t,s,n,i,r,a,o,l)}function Zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ei(s(),r))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function eu(e,t,n,i){t&=~Tc,t&=~jc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var s=31-be(r),a=1<<s;i[s]=-1,r&=~a}0!==n&&Ae(e,n,t)}function tu(){return!!(6&pc)||(Fu(0),!1)}function nu(){if(null!==vc){if(0===bc)var e=vc.return;else Nr=Cr=null,la(e=vc),cs=null,us=0,e=vc;for(;null!==e;)vl(e.alternate,e),e=e.return;vc=null}}function iu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,Sd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc=0,nu(),gc=e,vc=n=Vi(e.current,null),yc=t,bc=0,wc=null,kc=!1,xc=je(e,t),_c=!1,Ic=Ec=Tc=jc=Nc=Cc=0,Ac=Pc=null,Mc=!1,8&t&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-be(i),s=1<<r;t|=e[r],i&=~s}return Sc=t,Ai(),n}function ru(e,t){$s=null,M.H=vo,t===Zr||t===ts?(t=os(),bc=3):t===es?(t=os(),bc=4):bc=t===Ro?8:null!==t&&"object"==typeof t&&"function"==typeof t.then?6:1,wc=t,null===vc&&(Cc=1,Eo(e,Qi(t,e.current)))}function su(){var e=Rs.current;return null===e||((4194048&yc)===yc?null===Ds:!!((62914560&yc)===yc||536870912&yc)&&e===Ds)}function au(){var e=M.H;return M.H=vo,null===e?vo:e}function ou(){var e=M.A;return M.A=hc,e}function lu(){Cc=4,kc||(4194048&yc)!==yc&&null!==Rs.current||(xc=!0),!(134217727&Nc)&&!(134217727&jc)||null===gc||eu(gc,yc,Ec,!1)}function cu(e,t,n){var i=pc;pc|=2;var r=au(),s=ou();gc===e&&yc===t||(Oc=null,iu(e,t)),t=!1;var a=Cc;e:for(;;)try{if(0!==bc&&null!==vc){var o=vc,l=wc;switch(bc){case 8:nu(),a=6;break e;case 3:case 2:case 9:case 6:null===Rs.current&&(t=!0);var c=bc;if(bc=0,wc=null,mu(e,o,l,c),n&&xc){a=0;break e}break;default:c=bc,bc=0,wc=null,mu(e,o,l,c)}}uu(),a=Cc;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Nr=Cr=null,pc=i,M.H=r,M.A=s,null===vc&&(gc=null,yc=0,Ai()),a}function uu(){for(;null!==vc;)fu(vc)}function du(){for(;null!==vc&&!se();)fu(vc)}function fu(e){var t=ll(e.alternate,e,Sc);e.memoizedProps=e.pendingProps,null===t?pu(e):vc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Go(n,t,t.pendingProps,t.type,void 0,yc);break;case 11:t=Go(n,t,t.pendingProps,t.type.render,t.ref,yc);break;case 5:la(t);default:vl(n,t),t=ll(n,t=vc=qi(t,Sc),Sc)}e.memoizedProps=e.pendingProps,null===t?pu(e):vc=t}function mu(e,t,n,r){Nr=Cr=null,la(t),cs=null,us=0;var s=t.return;try{if(function(e,t,n,r,s){if(n.flags|=32768,null!==r&&"object"==typeof r&&"function"==typeof r.then){if(null!==(t=n.alternate)&&Pr(t,n,s,!0),null!==(n=Rs.current)){switch(n.tag){case 31:case 13:return null===Ds?lu():null===n.alternate&&0===Cc&&(Cc=3),n.flags&=-257,n.flags|=65536,n.lanes=s,r===ns?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Nu(e,r,s)),!1;case 22:return n.flags|=65536,r===ns?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Nu(e,r,s)),!1}throw Error(i(435,n.tag))}return Nu(e,r,s),lu(),!1}if(hr)return null!==(t=Rs.current)?(!(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=s,r!==gr&&_r(Qi(e=Error(i(422),{cause:r}),n))):(r!==gr&&_r(Qi(t=Error(i(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,s&=-s,e.lanes|=s,r=Qi(r,n),_s(e,s=Po(e.stateNode,r,s)),4!==Cc&&(Cc=2)),!1;var a=Error(i(520),{cause:r});if(a=Qi(a,n),null===Pc?Pc=[a]:Pc.push(a),4!==Cc&&(Cc=2),null===t)return!0;r=Qi(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=s&-s,n.lanes|=e,_s(n,e=Po(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,!(128&n.flags||"function"!=typeof t.getDerivedStateFromError&&(null===a||"function"!=typeof a.componentDidCatch||null!==Fc&&Fc.has(a))))return n.flags|=65536,s&=-s,n.lanes|=s,Mo(s=Ao(s),e,n,r),_s(n,s),!1}n=n.return}while(null!==n);return!1}(e,s,t,n,yc))return Cc=1,Eo(e,Qi(n,e.current)),void(vc=null)}catch(a){if(null!==s)throw vc=s,a;return Cc=1,Eo(e,Qi(n,e.current)),void(vc=null)}32768&t.flags?(hr||1===r?e=!0:xc||536870912&yc?e=!1:(kc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Rs.current)&&13===r.tag&&(r.flags|=16384))),gu(t,e)):pu(t)}function pu(e){var t=e;do{if(32768&t.flags)return void gu(t,kc);e=t.return;var n=pl(t.alternate,t,Sc);if(null!==n)return void(vc=n);if(null!==(t=t.sibling))return void(vc=t);vc=t=e}while(null!==t);0===Cc&&(Cc=5)}function gu(e,t){do{var n=gl(e.alternate,e);if(null!==n)return n.flags&=32767,void(vc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(vc=e);vc=e=n}while(null!==e);Cc=6,vc=null}function vu(e,t,n,r,s,a,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==zc);if(6&pc)throw Error(i(327));if(null!==t){if(t===e.current)throw Error(i(177));if(a=t.lanes|t.childLanes,function(e,t,n,i,r,s){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-be(n),d=1<<u;o[u]=0,l[u]=-1;var f=c[u];if(null!==f)for(c[u]=null,u=0;u<f.length;u++){var h=f[u];null!==h&&(h.lane&=-536870913)}n&=~d}0!==i&&Ae(e,i,0),0!==s&&0===r&&0!==e.tag&&(e.suspendedLanes|=s&~(a&~t))}(e,n,a|=Pi,o,l,c),e===gc&&(vc=gc=null,yc=0),Bc=t,Uc=e,Vc=n,qc=a,$c=s,Wc=r,10256&t.subtreeFlags||10256&t.flags?(e.callbackNode=null,e.callbackPriority=0,ie(de,function(){return _u(),null})):(e.callbackNode=null,e.callbackPriority=0),r=!!(13878&t.flags),13878&t.subtreeFlags||r){r=M.T,M.T=null,s=R.p,R.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,gd=xf,ai(e=si(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||0!==s&&3!==f.nodeType||(l=o+s),f!==a||0!==r&&3!==f.nodeType||(c=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(m=f.firstChild);)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===s&&(l=o),h===a&&++d===r&&(c=o),null!==(m=f.nextSibling))break;h=(f=h).parentNode}f=m}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(vd={focusedElem:e,selectionRange:n},xf=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,1028&t.subtreeFlags&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(a=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(4&e&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(s=e[n]).ref.impl=s.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(1024&e&&null!==a){e=void 0,n=t,s=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var p=Co(n.type,s);e=r.getSnapshotBeforeUpdate(p,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Cu(n,n.return,v)}}break;case 3:if(1024&e)if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(1024&e)throw Error(i(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{pc=o,R.p=s,M.T=r}}zc=1,yu(),bu(),wu()}}function yu(){if(1===zc){zc=0;var e=Uc,t=Bc,n=!!(13878&t.flags);if(13878&t.subtreeFlags||n){n=M.T,M.T=null;var i=R.p;R.p=2;var r=pc;pc|=4;try{Gl(t,e);var s=vd,a=si(e.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&ri(o.ownerDocument.documentElement,o)){if(null!==l&&ai(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var h=f.getSelection(),m=o.textContent.length,p=Math.min(l.start,m),g=void 0===l.end?p:Math.min(l.end,m);!h.extend&&p>g&&(a=g,g=p,p=a);var v=ii(o,p),y=ii(o,g);if(v&&y&&(1!==h.rangeCount||h.anchorNode!==v.node||h.anchorOffset!==v.offset||h.focusNode!==y.node||h.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),h.removeAllRanges(),p>g?(h.addRange(b),h.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),h.addRange(b))}}}}for(d=[],h=o;h=h.parentNode;)1===h.nodeType&&d.push({element:h,left:h.scrollLeft,top:h.scrollTop});for("function"==typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}xf=!!gd,vd=gd=null}finally{pc=r,R.p=i,M.T=n}}e.current=t,zc=2}}function bu(){if(2===zc){zc=0;var e=Uc,t=Bc,n=!!(8772&t.flags);if(8772&t.subtreeFlags||n){n=M.T,M.T=null;var i=R.p;R.p=2;var r=pc;pc|=4;try{Ll(e,t.alternate,t)}finally{pc=r,R.p=i,M.T=n}}zc=3}}function wu(){if(4===zc||3===zc){zc=0,ae();var e=Uc,t=Bc,n=Vc,i=Wc;10256&t.subtreeFlags||10256&t.flags?zc=5:(zc=0,Bc=Uc=null,ku(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(Fc=null),Le(n),t=t.stateNode,ve&&"function"==typeof ve.onCommitFiberRoot)try{ve.onCommitFiberRoot(ge,t,void 0,!(128&~t.current.flags))}catch(l){}if(null!==i){t=M.T,r=R.p,R.p=2,M.T=null;try{for(var s=e.onRecoverableError,a=0;a<i.length;a++){var o=i[a];s(o.value,{componentStack:o.stack})}}finally{M.T=t,R.p=r}}3&Vc&&xu(),Ou(e),r=e.pendingLanes,261930&n&&42&r?e===Gc?Hc++:(Hc=0,Gc=e):Hc=0,Fu(0)}}function ku(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vr(t)))}function xu(){return yu(),bu(),wu(),_u()}function _u(){if(5!==zc)return!1;var e=Uc,t=qc;qc=0;var n=Le(Vc),r=M.T,s=R.p;try{R.p=32>n?32:n,M.T=null,n=$c,$c=null;var a=Uc,o=Vc;if(zc=0,Bc=Uc=null,Vc=0,6&pc)throw Error(i(331));var l=pc;if(pc|=4,uc(a.current),nc(a,a.current,o,n),pc=l,Fu(0,!1),ve&&"function"==typeof ve.onPostCommitFiberRoot)try{ve.onPostCommitFiberRoot(ge,a)}catch(c){}return!0}finally{R.p=s,M.T=r,ku(e,t)}}function Su(e,t,n){t=Qi(n,t),null!==(e=ks(e,t=Po(e.stateNode,t,2),2))&&(Pe(e,2),Ou(e))}function Cu(e,t,n){if(3===e.tag)Su(e,e,n);else for(;null!==t;){if(3===t.tag){Su(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof i.componentDidCatch&&(null===Fc||!Fc.has(i))){e=Qi(n,e),null!==(i=ks(t,n=Ao(2),2))&&(Mo(n,i,t,e),Pe(i,2),Ou(i));break}}t=t.return}}function Nu(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new mc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(_c=!0,r.add(n),e=ju.bind(null,e,t,n),t.then(e,e))}function ju(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,gc===e&&(yc&n)===n&&(4===Cc||3===Cc&&(62914560&yc)===yc&&300>oe()-Rc?!(2&pc)&&iu(e,0):Tc|=n,Ic===yc&&(Ic=0)),Ou(e)}function Tu(e,t){0===t&&(t=Ee()),null!==(e=Di(e,t))&&(Pe(e,t),Ou(e))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}null!==r&&r.delete(t),Tu(e,n)}var Pu=null,Au=null,Mu=!1,Ru=!1,Du=!1,Lu=0;function Ou(e){e!==Au&&null===e.next&&(null===Au?Pu=Au=e:Au=Au.next=e),Ru=!0,Mu||(Mu=!0,Nd(function(){6&pc?ie(ce,zu):Uu()}))}function Fu(e,t){if(!Du&&Ru){Du=!0;do{for(var n=!1,i=Pu;null!==i;){if(0!==e){var r=i.pendingLanes;if(0===r)var s=0;else{var a=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-be(42|e)+1)-1,s=201326741&(s&=r&~(a&~o))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,qu(i,s))}else s=yc,!(3&(s=Ne(i,i===gc?s:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||je(i,s)||(n=!0,qu(i,s));i=i.next}}while(n);Du=!1}}function zu(){Uu()}function Uu(){Ru=Mu=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Lu);for(var t=oe(),n=null,i=Pu;null!==i;){var r=i.next,s=Bu(i,t);0===s?(i.next=null,null===n?Pu=r:n.next=r,null===r&&(Au=n)):(n=i,(0!==e||3&s)&&(Ru=!0)),i=r}0!==zc&&5!==zc||Fu(e),0!==Lu&&(Lu=0)}function Bu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var a=31-be(s),o=1<<a,l=r[a];-1===l?0!==(o&n)&&0===(o&i)||(r[a]=Te(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}if(n=yc,n=Ne(e,e===(t=gc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===bc||9===bc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&re(i),e.callbackNode=null,e.callbackPriority=0;if(!(3&n)||je(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&re(i),Le(n)){case 2:case 8:n=ue;break;case 32:default:n=de;break;case 268435456:n=he}return i=Vu.bind(null,e),n=ie(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&re(i),e.callbackPriority=2,e.callbackNode=null,2}function Vu(e,t){if(0!==zc&&5!==zc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var i=yc;return 0===(i=Ne(e,e===gc?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Xc(e,i,t),Bu(e,oe()),null!=e.callbackNode&&e.callbackNode===n?Vu.bind(null,e):null)}function qu(e,t){if(xu())return null;Xc(e,t,!0)}function $u(){if(0===Lu){var e=Wr;0===e&&(e=xe,!(261888&(xe<<=1))&&(xe=256)),Lu=e}return Lu}function Wu(e){return null==e||"symbol"==typeof e||"boolean"==typeof e?null:"function"==typeof e?e:Mt(""+e)}function Hu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<Ni.length;Gu++){var Ku=Ni[Gu];ji(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}ji(yi,"onAnimationEnd"),ji(bi,"onAnimationIteration"),ji(wi,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(ki,"onTransitionRun"),ji(xi,"onTransitionStart"),ji(_i,"onTransitionCancel"),ji(Si,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),nt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nt("onBeforeInput",["compositionend","keypress","textInput","paste"]),nt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yu));function Xu(e,t){t=!!(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var s=void 0;if(t)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(u){Ti(u)}r.currentTarget=null,s=l}else for(a=0;a<i.length;a++){if(l=(o=i[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=c;try{s(r)}catch(u){Ti(u)}r.currentTarget=null,s=l}}}}function Ju(e,t){var n=t[qe];void 0===n&&(n=t[qe]=new Set);var i=e+"__bubble";n.has(i)||(nd(t,e,2,!1),n.add(i))}function Zu(e,t,n){var i=0;t&&(i|=4),nd(n,e,i,t)}var ed="_reactListening"+Math.random().toString(36).slice(2);function td(e){if(!e[ed]){e[ed]=!0,et.forEach(function(t){"selectionchange"!==t&&(Qu.has(t)||Zu(t,!1,e),Zu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ed]||(t[ed]=!0,Zu("selectionchange",!1,t))}}function nd(e,t,n,i){switch(Ef(t)){case 2:var r=_f;break;case 8:r=Sf;break;default:r=Cf}n=r.bind(null,t,n,e),r=void 0,!$t||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function id(e,t,n,i,r){var a=i;if(!(1&t||2&t||null===i))e:for(;;){if(null===i)return;var o=i.tag;if(3===o||4===o){var l=i.stateNode.containerInfo;if(l===r)break;if(4===o)for(o=i.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===r)return;o=o.return}for(;null!==l;){if(null===(o=Ye(l)))return;if(5===(c=o.tag)||6===c||26===c||27===c){i=a=o;continue e}l=l.parentNode}}i=i.return}Bt(function(){var i=a,r=Lt(n),o=[];e:{var l=Ci.get(e);if(void 0!==l){var c=sn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=wn;break;case"focusin":u="focus",c=dn;break;case"focusout":u="blur",c=dn;break;case"beforeblur":case"afterblur":c=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=un;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case yi:case bi:case wi:c=fn;break;case Si:c=_n;break;case"scroll":case"scrollend":c=on;break;case"wheel":c=Sn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=kn;break;case"toggle":case"beforetoggle":c=Cn}var d=!!(4&t),f=!d&&("scroll"===e||"scrollend"===e),h=d?null!==l?l+"Capture":null:l;d=[];for(var m,p=i;null!==p;){var g=p;if(m=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===m||null===h||null!=(g=Vt(p,h))&&d.push(rd(p,g,m)),f)break;p=p.return}0<d.length&&(l=new c(l,u,null,n,r),o.push({event:l,listeners:d}))}}if(!(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Ye(u)&&!u[Ve])&&(c||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?Ye(u):null)&&(f=s(u),d=u.tag,u!==f||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=i),c!==u)){if(d=cn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(d=kn,g="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==c?l:Xe(c),m=null==u?l:Xe(u),(l=new d(g,p+"leave",c,n,r)).target=f,l.relatedTarget=m,g=null,Ye(r)===i&&((d=new d(h,p+"enter",u,n,r)).target=m,d.relatedTarget=f,g=d),f=g,c&&u)e:{for(d=ad,p=u,m=0,g=h=c;g;g=d(g))m++;g=0;for(var v=p;v;v=d(v))g++;for(;0<m-g;)h=d(h),m--;for(;0<g-m;)p=d(p),g--;for(;m--;){if(h===p||null!==p&&h===p.alternate){d=h;break e}h=d(h),p=d(p)}d=null}else d=null;null!==c&&od(o,l,c,d,!1),null!==u&&null!==f&&od(o,f,u,d,!0)}if("select"===(c=(l=i?Xe(i):window).nodeName&&l.nodeName.toLowerCase())||"input"===c&&"file"===l.type)var y=qn;else if(On(l))if($n)y=Zn;else{y=Xn;var b=Qn}else!(c=l.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==l.type&&"radio"!==l.type?i&&It(i.elementType)&&(y=qn):y=Jn;switch(y&&(y=y(e,i))?Fn(o,y,n,r):(b&&b(e,l,i),"focusout"===e&&i&&"number"===l.type&&null!=i.memoizedProps.value&&xt(l,"number",l.value)),b=i?Xe(i):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(li=b,ci=i,ui=null);break;case"focusout":ui=ci=li=null;break;case"mousedown":di=!0;break;case"contextmenu":case"mouseup":case"dragend":di=!1,fi(o,n,r);break;case"selectionchange":if(oi)break;case"keydown":case"keyup":fi(o,n,r)}var w;if(jn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Dn?Mn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(In&&"ko"!==n.locale&&(Dn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Dn&&(w=Yt()):(Gt="value"in(Ht=r)?Ht.value:Ht.textContent,Dn=!0)),0<(b=sd(i,k)).length&&(k=new mn(k,e,null,n,r),o.push({event:k,listeners:b}),w?k.data=w:null!==(w=Rn(n))&&(k.data=w))),(w=En?function(e,t){switch(e){case"compositionend":return Rn(t);case"keypress":return 32!==t.which?null:(An=!0,Pn);case"textInput":return(e=t.data)===Pn&&An?null:e;default:return null}}(e,n):function(e,t){if(Dn)return"compositionend"===e||!jn&&Mn(e,t)?(e=Yt(),Kt=Gt=Ht=null,Dn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(k=sd(i,"onBeforeInput")).length&&(b=new mn("onBeforeInput","beforeinput",null,n,r),o.push({event:b,listeners:k}),b.data=w)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var s=Wu((r[Be]||null).action),a=i.submitter;a&&null!==(t=(t=a[Be]||null)?Wu(t.formAction):a.getAttribute("formAction"))&&(s=t,a=null);var o=new sn("action","action",null,i,r);e.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Lu){var e=a?Hu(r,a):new FormData(r);no(n,{pending:!0,data:e,method:r.method,action:s},null,e)}}else"function"==typeof s&&(o.preventDefault(),e=a?Hu(r,a):new FormData(r),no(n,{pending:!0,data:e,method:r.method,action:s},s,e))},currentTarget:r}]})}}(o,e,i,n,r)}Xu(o,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function sd(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,s=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===s||(null!=(r=Vt(e,n))&&i.unshift(rd(e,r,s)),null!=(r=Vt(e,t))&&i.push(rd(e,r,s))),3===e.tag)return i;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function od(e,t,n,i,r){for(var s=t._reactName,a=[];null!==n&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===i)break;5!==o&&26!==o&&27!==o||null===c||(l=c,r?null!=(c=Vt(n,s))&&a.unshift(rd(n,c,l)):r||null!=(c=Vt(n,s))&&a.push(rd(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var ld=/\r\n?/g,cd=/\u0000|\uFFFD/g;function ud(e){return("string"==typeof e?e:""+e).replace(ld,"\n").replace(cd,"")}function dd(e,t){return t=ud(t),ud(e)===t}function fd(e,t,n,r,s,a){switch(n){case"children":"string"==typeof r?"body"===t||"textarea"===t&&""===r||Nt(e,r):("number"==typeof r||"bigint"==typeof r)&&"body"!==t&&Nt(e,""+r);break;case"className":lt(e,"class",r);break;case"tabIndex":lt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":lt(e,n,r);break;case"style":Et(e,r,a);break;case"data":if("object"!==t){lt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"==typeof r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"==typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"==typeof a&&("formAction"===n?("input"!==t&&fd(e,t,"name",s.name,s,null),fd(e,t,"formEncType",s.formEncType,s,null),fd(e,t,"formMethod",s.formMethod,s,null),fd(e,t,"formTarget",s.formTarget,s,null)):(fd(e,t,"encType",s.encType,s,null),fd(e,t,"method",s.method,s,null),fd(e,t,"target",s.target,s,null))),null==r||"symbol"==typeof r||"boolean"==typeof r){e.removeAttribute(n);break}r=Mt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"muted":e.muted=r&&"function"!=typeof r&&"symbol"!=typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"==typeof r||"boolean"==typeof r||"symbol"==typeof r){e.removeAttribute("xlink:href");break}n=Mt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!=typeof r&&"symbol"!=typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!=typeof r&&"symbol"!=typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"==typeof r||"symbol"==typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),ot(e,"popover",r);break;case"xlinkActuate":ct(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ct(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ct(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ct(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ct(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ct(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ct(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ct(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ct(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":ot(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&ot(e,n=Pt.get(n)||n,r)}}function hd(e,t,n,r,s,a){switch(n){case"style":Et(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!=typeof r||!("__html"in r))throw Error(i(61));if(null!=(n=r.__html)){if(null!=s.children)throw Error(i(60));e.innerHTML=n}}break;case"children":"string"==typeof r?Nt(e,r):("number"==typeof r||"bigint"==typeof r)&&Nt(e,""+r);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Rt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:tt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(s=n.endsWith("Capture"),t=n.slice(2,s?n.length-7:void 0),"function"==typeof(a=null!=(a=e[Be]||null)?a[n]:null)&&e.removeEventListener(t,a,s),"function"!=typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):ot(e,n,r):("function"!=typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,s)))}}function md(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var r,s=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:fd(e,t,r,o,n,null)}}return a&&fd(e,t,"srcSet",n.srcSet,n,null),void(s&&fd(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=r=o=a=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(null!=d)switch(s){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(i(137,t));break;default:fd(e,t,s,d,n,null)}}return void kt(e,r,l,c,u,o,a,!1);case"select":for(a in Ju("invalid",e),s=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":s=l;default:fd(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!s,void(null!=t?_t(e,!!s,t,!1):null!=n&&_t(e,!!s,n,!0));case"textarea":for(o in Ju("invalid",e),r=a=s=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":s=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(i(91));break;default:fd(e,t,o,l,n,null)}return void Ct(e,s,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(s=n[c]))if("selected"===c)e.selected=s&&"function"!=typeof s&&"symbol"!=typeof s;else fd(e,t,c,s,n,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(s=0;s<Yu.length;s++)Ju(Yu[s],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(s=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:fd(e,t,u,s,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(s=n[d])&&hd(e,t,d,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(s=n[l])&&fd(e,t,l,s,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var gd=null,vd=null;function yd(e){return 9===e.nodeType?e:e.ownerDocument}function bd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function kd(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"bigint"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var _d="function"==typeof setTimeout?setTimeout:void 0,Sd="function"==typeof clearTimeout?clearTimeout:void 0,Cd="function"==typeof Promise?Promise:void 0,Nd="function"==typeof queueMicrotask?queueMicrotask:void 0!==Cd?function(e){return Cd.resolve(null).then(e).catch(jd)}:_d;function jd(e){setTimeout(function(){throw e})}function Td(e){return"head"===e}function Ed(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)||"/&"===n){if(0===i)return e.removeChild(r),void Gf(t);i--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)i++;else if("html"===n)Ud(e.ownerDocument.documentElement);else if("head"===n){Ud(n=e.ownerDocument.head);for(var s=n.firstChild;s;){var a=s.nextSibling,o=s.nodeName;s[Ge]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}else"body"===n&&Ud(e.ownerDocument.body);n=r}while(n);Gf(t)}function Id(e,t){var n=e;e=0;do{var i=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=i}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),Ke(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ad(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function Md(e){return"$?"===e.data||"$~"===e.data}function Rd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ld=null;function Od(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Fd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function zd(e,t,n){switch(t=yd(n),e){case"html":if(!(e=t.documentElement))throw Error(i(452));return e;case"head":if(!(e=t.head))throw Error(i(453));return e;case"body":if(!(e=t.body))throw Error(i(454));return e;default:throw Error(i(451))}}function Ud(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ke(e)}var Bd=new Map,Vd=new Set;function qd(e){return"function"==typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var $d=R.d;R.d={f:function(){var e=$d.f(),t=tu();return e||t},r:function(e){var t=Qe(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):$d.r(e)},D:function(e){$d.D(e),Hd("dns-prefetch",e,null)},C:function(e,t){$d.C(e,t),Hd("preconnect",e,t)},L:function(e,t,n){$d.L(e,t,n);var i=Wd;if(i&&e&&t){var r='link[rel="preload"][as="'+bt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+bt(n.imageSrcSet)+'"]',"string"==typeof n.imageSizes&&(r+='[imagesizes="'+bt(n.imageSizes)+'"]')):r+='[href="'+bt(e)+'"]';var s=r;switch(t){case"style":s=Kd(e);break;case"script":s=Xd(e)}Bd.has(s)||(e=u({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Bd.set(s,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Yd(s))||"script"===t&&i.querySelector(Jd(s))||(md(t=i.createElement("link"),"link",e),Ze(t),i.head.appendChild(t)))}},m:function(e,t){$d.m(e,t);var n=Wd;if(n&&e){var i=t&&"string"==typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+bt(i)+'"][href="'+bt(e)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Xd(e)}if(!Bd.has(s)&&(e=u({rel:"modulepreload",href:e},t),Bd.set(s,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jd(s)))return}md(i=n.createElement("link"),"link",e),Ze(i),n.head.appendChild(i)}}},X:function(e,t){$d.X(e,t);var n=Wd;if(n&&e){var i=Je(n).hoistableScripts,r=Xd(e),s=i.get(r);s||((s=n.querySelector(Jd(r)))||(e=u({src:e,async:!0},t),(t=Bd.get(r))&&nf(e,t),Ze(s=n.createElement("script")),md(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}},S:function(e,t,n){$d.S(e,t,n);var i=Wd;if(i&&e){var r=Je(i).hoistableStyles,s=Kd(e);t=t||"default";var a=r.get(s);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Yd(s)))o.loading=5;else{e=u({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Bd.get(s))&&tf(e,n);var l=a=i.createElement("link");Ze(l),md(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,ef(a,t,i)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(s,a)}}},M:function(e,t){$d.M(e,t);var n=Wd;if(n&&e){var i=Je(n).hoistableScripts,r=Xd(e),s=i.get(r);s||((s=n.querySelector(Jd(r)))||(e=u({src:e,async:!0,type:"module"},t),(t=Bd.get(r))&&nf(e,t),Ze(s=n.createElement("script")),md(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}};var Wd="undefined"==typeof document?null:document;function Hd(e,t,n){var i=Wd;if(i&&"string"==typeof t&&t){var r=bt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"==typeof n&&(r+='[crossorigin="'+n+'"]'),Vd.has(r)||(Vd.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(md(t=i.createElement("link"),"link",e),Ze(t),i.head.appendChild(t)))}}function Gd(e,t,n,r){var s,a,o,l,c=(c=W.current)?qd(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return"string"==typeof n.precedence&&"string"==typeof n.href?(t=Kd(n.href),(r=(n=Je(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"==typeof n.href&&"string"==typeof n.precedence){e=Kd(n.href);var u=Je(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Yd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Bd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Bd.set(e,n),u||(s=c,a=e,o=n,l=d.state,s.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=s.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),md(a,"link",o),Ze(a),s.head.appendChild(a))))),t&&null===r)throw Error(i(528,""));return d}if(t&&null!==r)throw Error(i(529,""));return null;case"script":return t=n.async,"string"==typeof(n=n.src)&&t&&"function"!=typeof t&&"symbol"!=typeof t?(t=Xd(n),(r=(n=Je(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Kd(e){return'href="'+bt(e)+'"'}function Yd(e){return'link[rel="stylesheet"]['+e+"]"}function Qd(e){return u({},e,{"data-precedence":e.precedence,precedence:null})}function Xd(e){return'[src="'+bt(e)+'"]'}function Jd(e){return"script[async]"+e}function Zd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+bt(n.href)+'"]');if(r)return t.instance=r,Ze(r),r;var s=u({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ze(r=(e.ownerDocument||e).createElement("style")),md(r,"style",s),ef(r,n.precedence,e),t.instance=r;case"stylesheet":s=Kd(n.href);var a=e.querySelector(Yd(s));if(a)return t.state.loading|=4,t.instance=a,Ze(a),a;r=Qd(n),(s=Bd.get(s))&&tf(r,s),Ze(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),md(a,"link",r),t.state.loading|=4,ef(a,n.precedence,e),t.instance=a;case"script":return a=Xd(n.src),(s=e.querySelector(Jd(a)))?(t.instance=s,Ze(s),s):(r=n,(s=Bd.get(a))&&nf(r=u({},n),s),Ze(s=(e=e.ownerDocument||e).createElement("script")),md(s,"link",r),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(i(443,t.type))}else"stylesheet"===t.type&&!(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,ef(r,n.precedence,e));return t.instance}function ef(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===t)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function tf(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function nf(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var rf=null;function sf(e,t,n){if(null===rf){var i=new Map,r=rf=new Map;r.set(n,i)}else(i=(r=rf).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var s=n[r];if(!(s[Ge]||s[Ue]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var a=s.getAttribute(t)||"";a=e+a;var o=i.get(a);o?o.push(s):i.set(a,[s])}}return i}function af(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function of(e){return!!("stylesheet"!==e.type||3&e.state.loading)}var lf=0;function cf(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)df(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var uf=null;function df(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,uf=new Map,t.forEach(ff,e),uf=null,cf.call(e))}function ff(e,t){if(!(4&t.state.loading)){var n=uf.get(e);if(n)var i=n.get(null);else{n=new Map,uf.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),i=a)}i&&n.set(null,i)}a=(r=t.instance).getAttribute("data-precedence"),(s=n.get(a)||i)===i&&n.set(null,r),n.set(a,r),this.count++,i=cf.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var hf={$$typeof:w,Provider:null,Consumer:null,_currentValue:D,_currentValue2:D,_threadCount:0};function mf(e,t,n,i,r,s,a,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ie(0),this.hiddenUpdates=Ie(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function pf(e,t,n,i,r,s,a,o,l,c,u,d){return e=new mf(e,t,n,a,l,c,u,d,o),t=1,!0===s&&(t|=24),s=Ui(3,null,null,t),e.current=s,s.stateNode=e,(t=Br()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:i,isDehydrated:n,cache:t},ys(s),e}function gf(e){return e?e=Fi:Fi}function vf(e,t,n,i,r,s){r=gf(r),null===i.context?i.context=r:i.pendingContext=r,(i=ws(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(i.callback=s),null!==(n=ks(e,i,t))&&(Qc(n,0,t),xs(n,e,t))}function yf(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function bf(e,t){yf(e,t),(e=e.alternate)&&yf(e,t)}function wf(e){if(13===e.tag||31===e.tag){var t=Di(e,67108864);null!==t&&Qc(t,0,67108864),bf(e,67108864)}}function kf(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Di(e,t=De(t));null!==n&&Qc(n,0,t),bf(e,t)}}var xf=!0;function _f(e,t,n,i){var r=M.T;M.T=null;var s=R.p;try{R.p=2,Cf(e,t,n,i)}finally{R.p=s,M.T=r}}function Sf(e,t,n,i){var r=M.T;M.T=null;var s=R.p;try{R.p=8,Cf(e,t,n,i)}finally{R.p=s,M.T=r}}function Cf(e,t,n,i){if(xf){var r=Nf(i);if(null===r)id(e,t,i,jf,n),Ff(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return Pf=zf(Pf,e,t,n,i,r),!0;case"dragenter":return Af=zf(Af,e,t,n,i,r),!0;case"mouseover":return Mf=zf(Mf,e,t,n,i,r),!0;case"pointerover":var s=r.pointerId;return Rf.set(s,zf(Rf.get(s)||null,e,t,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Df.set(s,zf(Df.get(s)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(Ff(e,i),4&t&&-1<Of.indexOf(e)){for(;null!==r;){var s=Qe(r);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var a=Ce(s.pendingLanes);if(0!==a){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-be(a);o.entanglements[1]|=l,a&=~l}Ou(s),!(6&pc)&&(Lc=oe()+500,Fu(0))}}break;case 31:case 13:null!==(o=Di(s,2))&&Qc(o,0,2),tu(),bf(s,2)}if(null===(s=Nf(i))&&id(e,t,i,jf,n),s===r)break;r=s}null!==r&&i.stopPropagation()}else id(e,t,i,null,n)}}function Nf(e){return Tf(e=Lt(e))}var jf=null;function Tf(e){if(jf=null,null!==(e=Ye(e))){var t=s(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=a(t)))return e;e=null}else if(31===n){if(null!==(e=o(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return jf=e,null}function Ef(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(le()){case ce:return 2;case ue:return 8;case de:case fe:return 32;case he:return 268435456;default:return 32}default:return 32}}var If=!1,Pf=null,Af=null,Mf=null,Rf=new Map,Df=new Map,Lf=[],Of="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ff(e,t){switch(e){case"focusin":case"focusout":Pf=null;break;case"dragenter":case"dragleave":Af=null;break;case"mouseover":case"mouseout":Mf=null;break;case"pointerover":case"pointerout":Rf.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Df.delete(t.pointerId)}}function zf(e,t,n,i,r,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},null!==t&&(null!==(t=Qe(t))&&wf(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Uf(e){var t=Ye(e.target);if(null!==t){var n=s(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=a(n)))return e.blockedOn=t,void Fe(e.priority,function(){kf(n)})}else if(31===t){if(null!==(t=o(n)))return e.blockedOn=t,void Fe(e.priority,function(){kf(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bf(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Nf(e.nativeEvent);if(null!==n)return null!==(t=Qe(n))&&wf(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Dt=i,n.target.dispatchEvent(i),Dt=null,t.shift()}return!0}function Vf(e,t,n){Bf(e)&&n.delete(t)}function qf(){If=!1,null!==Pf&&Bf(Pf)&&(Pf=null),null!==Af&&Bf(Af)&&(Af=null),null!==Mf&&Bf(Mf)&&(Mf=null),Rf.forEach(Vf),Df.forEach(Vf)}function $f(t,n){t.blockedOn===n&&(t.blockedOn=null,If||(If=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,qf)))}var Wf=null;function Hf(t){Wf!==t&&(Wf=t,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Wf===t&&(Wf=null);for(var e=0;e<t.length;e+=3){var n=t[e],i=t[e+1],r=t[e+2];if("function"!=typeof i){if(null===Tf(i||n))continue;break}var s=Qe(n);null!==s&&(t.splice(e,3),e-=3,no(s,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function Gf(e){function t(t){return $f(t,e)}null!==Pf&&$f(Pf,e),null!==Af&&$f(Af,e),null!==Mf&&$f(Mf,e),Rf.forEach(t),Df.forEach(t);for(var n=0;n<Lf.length;n++){var i=Lf[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Lf.length&&null===(n=Lf[0]).blockedOn;)Uf(n),null===n.blockedOn&&Lf.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],s=n[i+1],a=r[Be]||null;if("function"==typeof s)a||Hf(n);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[Be]||null)o=a.formAction;else if(null!==Tf(r))continue}else o=a.action;"function"==typeof o?n[i+1]=o:(n.splice(i,3),i-=3),Hf(n)}}}function Kf(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return r=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==r&&(r(),r=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"==typeof navigation){var i=!1,r=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==r&&(r(),r=null)}}}function Yf(e){this._internalRoot=e}function Qf(e){this._internalRoot=e}Qf.prototype.render=Yf.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));vf(t.current,Kc(),e,t,null,null)},Qf.prototype.unmount=Yf.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;vf(e.current,2,null,e,null,null),tu(),t[Ve]=null}},Qf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Oe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lf.length&&0!==t&&t<Lf[n].priority;n++);Lf.splice(n,0,e),0===n&&Uf(e)}};var Xf=t.version;if("19.2.3"!==Xf)throw Error(i(527,Xf,"19.2.3"));R.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=s(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(r=a.return)){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return l(a),e;if(o===r)return l(a),t;o=o.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=o;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=o;break}if(u===r){c=!0,r=a,n=o;break}u=u.sibling}if(!c){for(u=o.child;u;){if(u===n){c=!0,n=o,r=a;break}if(u===r){c=!0,r=o,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?c(e):null)?null:e.stateNode};var Jf={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:M,reconcilerVersion:"19.2.3"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{ge=Zf.inject(Jf),ve=Zf}catch(th){}}return pt.createRoot=function(e,t){if(!r(e))throw Error(i(299));var n=!1,s="",a=No,o=jo,l=To;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(s=t.identifierPrefix),void 0!==t.onUncaughtError&&(a=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=pf(e,1,!1,null,0,n,s,null,a,o,l,Kf),e[Ve]=t.current,td(e),new Yf(t)},pt.hydrateRoot=function(e,t,n){if(!r(e))throw Error(i(299));var s=!1,a="",o=No,l=jo,c=To,u=null;return null!=n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=pf(e,1,!0,t,0,s,a,u,o,l,c,Kf)).context=gf(null),n=t.current,(a=ws(s=De(s=Kc()))).callback=null,ks(n,a,s),n=s,t.current.lanes=n,Pe(t,n),Ou(t),e[Ve]=t.current,td(e),new Qf(t)},pt.version="19.2.3",pt}const wt=m((ft||(ft=1,function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){}}(),mt.exports=bt()),mt.exports)),kt=e=>"string"==typeof e,xt=()=>{let e,t;const n=new Promise((n,i)=>{e=n,t=i});return n.resolve=e,n.reject=t,n},_t=e=>null==e?"":""+e,St=/###/g,Ct=e=>e&&e.indexOf("###")>-1?e.replace(St,"."):e,Nt=e=>!e||kt(e),jt=(e,t,n)=>{const i=kt(t)?t.split("."):t;let r=0;for(;r<i.length-1;){if(Nt(e))return{};const t=Ct(i[r]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++r}return Nt(e)?{}:{obj:e,k:Ct(i[r])}},Tt=(e,t,n)=>{const{obj:i,k:r}=jt(e,t,Object);if(void 0!==i||1===t.length)return void(i[r]=n);let s=t[t.length-1],a=t.slice(0,t.length-1),o=jt(e,a,Object);for(;void 0===o.obj&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=jt(e,a,Object),(null==o?void 0:o.obj)&&void 0!==o.obj[`${o.k}.${s}`]&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},Et=(e,t)=>{const{obj:n,k:i}=jt(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,i))return n[i]},It=(e,t,n)=>{for(const i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?kt(e[i])||e[i]instanceof String||kt(t[i])||t[i]instanceof String?n&&(e[i]=t[i]):It(e[i],t[i],n):e[i]=t[i]);return e},Pt=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var At={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Mt=e=>kt(e)?e.replace(/[&<>"'\/]/g,e=>At[e]):e;const Rt=[" ",",","?","!",";"],Dt=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Lt=(e,t,n=".")=>{if(!e)return;if(e[t]){if(!Object.prototype.hasOwnProperty.call(e,t))return;return e[t]}const i=t.split(n);let r=e;for(let s=0;s<i.length;){if(!r||"object"!=typeof r)return;let e,t="";for(let a=s;a<i.length;++a)if(a!==s&&(t+=n),t+=i[a],e=r[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&a<i.length-1)continue;s+=a-s+1;break}r=e}return r},Ot=e=>null==e?void 0:e.replace("_","-"),Ft={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){var n,i;null==(i=null==(n=null==console?void 0:console[e])?void 0:n.apply)||i.call(n,console,t)}};var zt=new class e{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||Ft,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,i){return i&&!this.debug?null:(kt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(t){return new e(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return(t=t||this.options).prefix=t.prefix||this.prefix,new e(this.logger,t)}};let Ut=class{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)}),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e,...t){if(this.observers[e]){Array.from(this.observers[e].entries()).forEach(([e,n])=>{for(let i=0;i<n;i++)e(...t)})}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach(([n,i])=>{for(let r=0;r<i;r++)n.apply(n,[e,...t])})}}};class Bt extends Ut{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n,i={}){var r,s;const a=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,o=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,t],n&&(Array.isArray(n)?l.push(...n):kt(n)&&a?l.push(...n.split(a)):l.push(n)));const c=Et(this.data,l);return!c&&!t&&!n&&e.indexOf(".")>-1&&(e=l[0],t=l[1],n=l.slice(2).join(".")),!c&&o&&kt(n)?Lt(null==(s=null==(r=this.data)?void 0:r[e])?void 0:s[t],n,a):c}addResource(e,t,n,i,r={silent:!1}){const s=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let a=[e,t];n&&(a=a.concat(s?n.split(s):n)),e.indexOf(".")>-1&&(a=e.split("."),i=t,t=a[1]),this.addNamespaces(t),Tt(this.data,a,i),r.silent||this.emit("added",e,t,n,i)}addResources(e,t,n,i={silent:!1}){for(const r in n)(kt(n[r])||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});i.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,i,r,s={silent:!1,skipCopy:!1}){let a=[e,t];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=t,t=a[1]),this.addNamespaces(t);let o=Et(this.data,a)||{};s.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?It(o,n,r):o={...o,...n},Tt(this.data,a,o),s.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(e=>t[e]&&Object.keys(t[e]).length>0)}toJSON(){return this.data}}var Vt={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,i,r){return e.forEach(e=>{var s;t=(null==(s=this.processors[e])?void 0:s.process(t,n,i,r))??t}),t}};const qt=Symbol("i18next/PATH_KEY");function $t(e,t){const{[qt]:n}=e(function(){const e=[],t=Object.create(null);let n;return t.get=(i,r)=>{var s;return null==(s=null==n?void 0:n.revoke)||s.call(n),r===qt?e:(e.push(r),n=Proxy.revocable(i,t),n.proxy)},Proxy.revocable(Object.create(null),t).proxy}());return n.join((null==t?void 0:t.keySeparator)??".")}const Wt={},Ht=e=>!kt(e)&&"boolean"!=typeof e&&"number"!=typeof e;class Gt extends Ut{constructor(e,t={}){var n,i;super(),n=e,i=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach(e=>{n[e]&&(i[e]=n[e])}),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=zt.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const n={...t};if(null==e)return!1;const i=this.resolve(e,n);if(void 0===(null==i?void 0:i.res))return!1;const r=Ht(i.res);return!1!==n.returnObjects||!r}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const s=n&&e.indexOf(n)>-1,a=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const i=Rt.filter(e=>t.indexOf(e)<0&&n.indexOf(e)<0);if(0===i.length)return!0;const r=Dt.getRegExp(`(${i.map(e=>"?"===e?"\\?":e).join("|")})`);let s=!r.test(e);if(!s){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(s=!0)}return s})(e,n,i));if(s&&!a){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:kt(r)?[r]:r};const s=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(s[0])>-1)&&(r=s.shift()),e=s.join(i)}return{key:e,namespaces:kt(r)?[r]:r}}translate(e,t,n){let i="object"==typeof t?{...t}:t;if("object"!=typeof i&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof i&&(i={...i}),i||(i={}),null==e)return"";"function"==typeof e&&(e=$t(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const r=void 0!==i.returnDetails?i.returnDetails:this.options.returnDetails,s=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],i),l=o[o.length-1];let c=void 0!==i.nsSeparator?i.nsSeparator:this.options.nsSeparator;void 0===c&&(c=":");const u=i.lng||this.language,d=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if("cimode"===(null==u?void 0:u.toLowerCase()))return d?r?{res:`${l}${c}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:`${l}${c}${a}`:r?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(i)}:a;const f=this.resolve(e,i);let h=null==f?void 0:f.res;const m=(null==f?void 0:f.usedKey)||a,p=(null==f?void 0:f.exactUsedKey)||a,g=void 0!==i.joinArrays?i.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,y=void 0!==i.count&&!kt(i.count),b=Gt.hasDefaultValue(i),w=y?this.pluralResolver.getSuffix(u,i.count,i):"",k=i.ordinal&&y?this.pluralResolver.getSuffix(u,i.count,{ordinal:!1}):"",x=y&&!i.ordinal&&0===i.count,_=x&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${w}`]||i[`defaultValue${k}`]||i.defaultValue;let S=h;v&&!h&&b&&(S=_);const C=Ht(S),N=Object.prototype.toString.apply(S);if(!(v&&S&&C&&["[object Number]","[object Function]","[object RegExp]"].indexOf(N)<0)||kt(g)&&Array.isArray(S))if(v&&kt(g)&&Array.isArray(h))h=h.join(g),h&&(h=this.extendTranslation(h,e,i,n));else{let t=!1,r=!1;!this.isValidLookup(h)&&b&&(t=!0,h=_),this.isValidLookup(h)||(r=!0,h=a);const o=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&r?void 0:h,d=b&&_!==h&&this.options.updateMissing;if(r||t||d){if(this.logger.log(d?"updateKey":"missingKey",u,l,a,d?_:h),s){const e=this.resolve(a,{...i,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let i=0;i<t.length;i++)e.push(t[i]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(i.lng||this.language):e.push(i.lng||this.language);const n=(e,t,n)=>{var r;const s=b&&n!==h?n:o;this.options.missingKeyHandler?this.options.missingKeyHandler(e,l,t,s,d,i):(null==(r=this.backendConnector)?void 0:r.saveMissing)&&this.backendConnector.saveMissing(e,l,t,s,d,i),this.emit("missingKey",e,l,t,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&y?e.forEach(e=>{const t=this.pluralResolver.getSuffixes(e,i);x&&i[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach(t=>{n([e],a+t,i[`defaultValue${t}`]||_)})}):n(e,a,_))}h=this.extendTranslation(h,e,i,f,n),r&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${l}${c}${a}`),(r||t)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}${c}${a}`:a,t?h:void 0,i))}else{if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,S,{...i,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return r?(f.res=e,f.usedParams=this.getUsedParamsDetails(i),f):e}if(s){const e=Array.isArray(S),t=e?[]:{},n=e?p:m;for(const r in S)if(Object.prototype.hasOwnProperty.call(S,r)){const e=`${n}${s}${r}`;t[r]=b&&!h?this.translate(e,{...i,defaultValue:Ht(_)?_[r]:void 0,joinArrays:!1,ns:o}):this.translate(e,{...i,joinArrays:!1,ns:o}),t[r]===e&&(t[r]=S[r])}h=t}}return r?(f.res=h,f.usedParams=this.getUsedParamsDetails(i),f):h}extendTranslation(e,t,n,i,r){var s,a;if(null==(s=this.i18nFormat)?void 0:s.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const s=kt(e)&&(void 0!==(null==(a=null==n?void 0:n.interpolation)?void 0:a.skipOnVariables)?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let o;if(s){const t=e.match(this.interpolator.nestingRegexp);o=t&&t.length}let l=n.replace&&!kt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||i.usedLng,n),s){const t=e.match(this.interpolator.nestingRegexp);o<(t&&t.length)&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(...e)=>(null==r?void 0:r[0])!==e[0]||n.context?this.translate(...e,t):(this.logger.warn(`It seems you are nesting recursively key: ${e[0]} in key: ${t[0]}`),null),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=kt(o)?[o]:o;return null!=e&&(null==l?void 0:l.length)&&!1!==n.applyPostProcessor&&(e=Vt.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,t={}){let n,i,r,s,a;return kt(e)&&(e=[e]),e.forEach(e=>{if(this.isValidLookup(n))return;const o=this.extractFromKey(e,t),l=o.key;i=l;let c=o.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==t.count&&!kt(t.count),d=u&&!t.ordinal&&0===t.count,f=void 0!==t.context&&(kt(t.context)||"number"==typeof t.context)&&""!==t.context,h=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);c.forEach(e=>{var o,c;this.isValidLookup(n)||(a=e,Wt[`${h[0]}-${e}`]||!(null==(o=this.utils)?void 0:o.hasLoadedNamespace)||(null==(c=this.utils)?void 0:c.hasLoadedNamespace(a))||(Wt[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${i}" for languages "${h.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(i=>{var a;if(this.isValidLookup(n))return;s=i;const o=[l];if(null==(a=this.i18nFormat)?void 0:a.addLookupKeys)this.i18nFormat.addLookupKeys(o,l,i,e,t);else{let e;u&&(e=this.pluralResolver.getSuffix(i,t.count,t));const n=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(t.ordinal&&0===e.indexOf(r)&&o.push(l+e.replace(r,this.options.pluralSeparator)),o.push(l+e),d&&o.push(l+n)),f){const i=`${l}${this.options.contextSeparator||"_"}${t.context}`;o.push(i),u&&(t.ordinal&&0===e.indexOf(r)&&o.push(i+e.replace(r,this.options.pluralSeparator)),o.push(i+e),d&&o.push(i+n))}}let c;for(;c=o.pop();)this.isValidLookup(n)||(r=c,n=this.getResource(i,e,c,t))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:s,usedNS:a}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n,i={}){var r;return(null==(r=this.i18nFormat)?void 0:r.getResource)?this.i18nFormat.getResource(e,t,n,i):this.resourceStore.getResource(e,t,n,i)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!kt(e.replace);let i=n?e.replace:e;if(n&&void 0!==e.count&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const e of t)delete i[e]}return i}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}class Kt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=zt.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Ot(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Ot(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(kt(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch(t){}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)}),!t&&this.options.supportedLngs&&e.forEach(e=>{if(t)return;const n=this.getScriptPartFromCode(e);if(this.isSupportedCode(n))return t=n;const i=this.getLanguagePartFromCode(e);if(this.isSupportedCode(i))return t=i;t=this.options.supportedLngs.find(e=>e===i?e:e.indexOf("-")<0&&i.indexOf("-")<0?void 0:e.indexOf("-")>0&&i.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===i||0===e.indexOf(i)&&i.length>1?e:void 0)}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),kt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes((!1===t?[]:t)||this.options.fallbackLng||[],e),i=[],r=e=>{e&&(this.isSupportedCode(e)?i.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return kt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):kt(e)&&r(this.formatLanguageCode(e)),n.forEach(e=>{i.indexOf(e)<0&&r(this.formatLanguageCode(e))}),i}}const Yt={zero:0,one:1,two:2,few:3,many:4,other:5},Qt={select:e=>1===e?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Xt{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=zt.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const n=Ot("dev"===e?"en":e),i=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let s;try{s=new Intl.PluralRules(n,{type:i})}catch(a){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Qt;if(!e.match(/-|_/))return Qt;const n=this.languageUtils.getLanguagePartFromCode(e);s=this.getRule(n,t)}return this.pluralRulesCache[r]=s,s}needsPlural(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),(null==n?void 0:n.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,n={}){return this.getSuffixes(e,n).map(e=>`${t}${e}`)}getSuffixes(e,t={}){let n=this.getRule(e,t);return n||(n=this.getRule("dev",t)),n?n.resolvedOptions().pluralCategories.sort((e,t)=>Yt[e]-Yt[t]).map(e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`):[]}getSuffix(e,t,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,n))}}const Jt=(e,t,n,i=".",r=!0)=>{let s=((e,t,n)=>{const i=Et(e,n);return void 0!==i?i:Et(t,n)})(e,t,n);return!s&&r&&kt(n)&&(s=Lt(e,n,i),void 0===s&&(s=Lt(t,n,i))),s},Zt=e=>e.replace(/\$/g,"$$$$");class en{constructor(e={}){var t;this.logger=zt.create("interpolator"),this.options=e,this.format=(null==(t=null==e?void 0:e.interpolation)?void 0:t.format)||(e=>e),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:s,suffix:a,suffixEscaped:o,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:f,nestingSuffix:h,nestingSuffixEscaped:m,nestingOptionsSeparator:p,maxReplaces:g,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Mt,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==i&&i,this.prefix=r?Pt(r):s||"{{",this.suffix=a?Pt(a):o||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Pt(d):f||Pt("$t("),this.nestingSuffix=h?Pt(h):m||Pt(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>(null==e?void 0:e.source)===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,t,n,i){var r;let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=e=>{if(e.indexOf(this.formatSeparator)<0){const r=Jt(t,l,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...i,...t,interpolationkey:e}):r}const r=e.split(this.formatSeparator),s=r.shift().trim(),a=r.join(this.formatSeparator).trim();return this.format(Jt(t,l,s,this.options.keySeparator,this.options.ignoreJSONStructure),a,n,{...i,...t,interpolationkey:s})};this.resetRegExp();const u=(null==i?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=void 0!==(null==(r=null==i?void 0:i.interpolation)?void 0:r.skipOnVariables)?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>Zt(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?Zt(this.escape(e)):Zt(e)}].forEach(t=>{for(o=0;s=t.regex.exec(e);){const n=s[1].trim();if(a=c(n),void 0===a)if("function"==typeof u){const t=u(e,s,i);a=kt(t)?t:""}else if(i&&Object.prototype.hasOwnProperty.call(i,n))a="";else{if(d){a=s[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),a=""}else kt(a)||this.useRawValueToEscape||(a=_t(a));const r=t.safeValue(a);if(e=e.replace(s[0],r),d?(t.regex.lastIndex+=a.length,t.regex.lastIndex-=s[0].length):t.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,t,n={}){let i,r,s;const a=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const i=e.split(new RegExp(`${n}[ ]*{`));let r=`{${i[1]}`;e=i[0],r=this.interpolate(r,s);const a=r.match(/'/g),o=r.match(/"/g);(((null==a?void 0:a.length)??0)%2==0&&!o||o.length%2!=0)&&(r=r.replace(/'/g,'"'));try{s=JSON.parse(r),t&&(s={...t,...s})}catch(l){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,l),`${e}${n}${r}`}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,e};for(;i=this.nestingRegexp.exec(e);){let o=[];s={...n},s=s.replace&&!kt(s.replace)?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;const l=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(-1!==l&&(o=i[1].slice(l).split(this.formatSeparator).map(e=>e.trim()).filter(Boolean),i[1]=i[1].slice(0,l)),r=t(a.call(this,i[1].trim(),s),s),r&&i[0]===e&&!kt(r))return r;kt(r)||(r=_t(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),o.length&&(r=o.reduce((e,t)=>this.format(e,t,n.lng,{...n,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}const tn=e=>{const t={};return(n,i,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const a=i+JSON.stringify(s);let o=t[a];return o||(o=e(Ot(i),r),t[a]=o),o(n)}},nn=e=>(t,n,i)=>e(Ot(n),i)(t);class rn{constructor(e={}){this.logger=zt.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const n=t.cacheInBuiltFormats?tn:nn;this.formats={number:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)}),currency:n((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)}),datetime:n((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)}),relativetime:n((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")}),list:n((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=tn(t)}format(e,t,n,i={}){const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(e=>e.indexOf(")")>-1)){const e=r.findIndex(e=>e.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,e)].join(this.formatSeparator)}return r.reduce((e,t)=>{var r;const{formatName:s,formatOptions:a}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const i=e.split("(");t=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach(e=>{if(e){const[t,...i]=e.split(":"),r=i.join(":").trim().replace(/^'+|'+$/g,""),s=t.trim();n[s]||(n[s]=r),"false"===r&&(n[s]=!1),"true"===r&&(n[s]=!0),isNaN(r)||(n[s]=parseInt(r,10))}})}return{formatName:t,formatOptions:n}})(t);if(this.formats[s]){let t=e;try{const o=(null==(r=null==i?void 0:i.formatParams)?void 0:r[i.interpolationkey])||{},l=o.locale||o.lng||i.locale||i.lng||n;t=this.formats[s](e,l,{...a,...i,...o})}catch(o){this.logger.warn(o)}return t}return this.logger.warn(`there was no format function for ${s}`),e},e)}}class sn extends Ut{constructor(e,t,n,i={}){var r,s;super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=zt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],null==(s=null==(r=this.backend)?void 0:r.init)||s.call(r,n,i.backend,i)}queueLoad(e,t,n,i){const r={},s={},a={},o={};return e.forEach(e=>{let i=!0;t.forEach(t=>{const a=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[a]=2:this.state[a]<0||(1===this.state[a]?void 0===s[a]&&(s[a]=!0):(this.state[a]=1,i=!1,void 0===s[a]&&(s[a]=!0),void 0===r[a]&&(r[a]=!0),void 0===o[t]&&(o[t]=!0)))}),i||(a[e]=!0)}),(Object.keys(r).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(o)}}loaded(e,t,n){const i=e.split("|"),r=i[0],s=i[1];t&&this.emit("failedLoading",r,s,t),!t&&n&&this.store.addResourceBundle(r,s,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const a={};this.queue.forEach(n=>{((e,t,n)=>{const{obj:i,k:r}=jt(e,t,Object);i[r]=i[r]||[],i[r].push(n)})(n.loaded,[r],s),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach(e=>{a[e]||(a[e]={});const t=n.loaded[e];t.length&&t.forEach(t=>{void 0===a[e][t]&&(a[e][t]=!0)})}),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(e=>!e.done)}read(e,t,n,i=0,r=this.retryTimeout,s){if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:i,wait:r,callback:s});this.readingCalls++;const a=(a,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}a&&o&&i<this.maxRetries?setTimeout(()=>{this.read.call(this,e,t,n,i+1,2*r,s)},r):s(a,o)},o=this.backend[n].bind(this.backend);if(2!==o.length)return o(e,t,a);try{const n=o(e,t);n&&"function"==typeof n.then?n.then(e=>a(null,e)).catch(a):a(null,n)}catch(l){a(l)}}prepareLoading(e,t,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();kt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),kt(t)&&(t=[t]);const r=this.queueLoad(e,t,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(e=>{this.loadOne(e)})}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e,t=""){const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(n,s)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${i} failed`,n),!n&&s&&this.logger.log(`${t}loaded namespace ${r} for language ${i}`,s),this.loaded(e,n,s)})}saveMissing(e,t,n,i,r,s={},a=()=>{}){var o,l,c,u,d;if(!(null==(l=null==(o=this.services)?void 0:o.utils)?void 0:l.hasLoadedNamespace)||(null==(u=null==(c=this.services)?void 0:c.utils)?void 0:u.hasLoadedNamespace(t))){if(null!=n&&""!==n){if(null==(d=this.backend)?void 0:d.create){const o={...s,isUpdate:r},l=this.backend.create.bind(this.backend);if(l.length<6)try{let r;r=5===l.length?l(e,t,n,i,o):l(e,t,n,i),r&&"function"==typeof r.then?r.then(e=>a(null,e)).catch(a):a(null,r)}catch(f){a(f)}else l(e,t,n,i,a,o)}e&&e[0]&&this.store.addResource(e[0],t,n,i)}}else this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}}const an=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),kt(e[1])&&(t.defaultValue=e[1]),kt(e[2])&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach(e=>{t[e]=n[e]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),on=e=>{var t,n;return kt(e.ns)&&(e.ns=[e.ns]),kt(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),kt(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),(null==(n=null==(t=e.supportedLngs)?void 0:t.indexOf)?void 0:n.call(t,"cimode"))<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),"boolean"==typeof e.initImmediate&&(e.initAsync=e.initImmediate),e},ln=()=>{};class cn extends Ut{constructor(e={},t){var n;if(super(),this.options=on(e),this.services={},this.logger=zt,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))}),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,"function"==typeof e&&(t=e,e={}),null==e.defaultNS&&e.ns&&(kt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=an();this.options={...n,...this.options,...on(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},void 0!==e.keySeparator&&(this.options.userDefinedKeySeparator=e.keySeparator),void 0!==e.nsSeparator&&(this.options.userDefinedNsSeparator=e.nsSeparator),"function"!=typeof this.options.overloadTranslationOptionHandler&&(this.options.overloadTranslationOptionHandler=n.overloadTranslationOptionHandler);const i=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let e;this.modules.logger?zt.init(i(this.modules.logger),this.options):zt.init(null,this.options),e=this.modules.formatter?this.modules.formatter:rn;const t=new Kt(this.options);this.store=new Bt(this.options.resources,this.options);const r=this.services;r.logger=zt,r.resourceStore=this.store,r.languageUtils=t,r.pluralResolver=new Xt(t,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix});this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),!e||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(r.formatter=i(e),r.formatter.init&&r.formatter.init(r,this.options),this.options.interpolation.format=r.formatter.format.bind(r.formatter)),r.interpolator=new en(this.options),r.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},r.backendConnector=new sn(i(this.modules.backend),r.resourceStore,r,this.options),r.backendConnector.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.languageDetector&&(r.languageDetector=i(this.modules.languageDetector),r.languageDetector.init&&r.languageDetector.init(r,this.options.detection,this.options)),this.modules.i18nFormat&&(r.i18nFormat=i(this.modules.i18nFormat),r.i18nFormat.init&&r.i18nFormat.init(this)),this.translator=new Gt(this.services,this.options),this.translator.on("*",(e,...t)=>{this.emit(e,...t)}),this.modules.external.forEach(e=>{e.init&&e.init(this)})}if(this.format=this.options.interpolation.format,t||(t=ln),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(e=>{this[e]=(...t)=>this.store[e](...t)});["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(e=>{this[e]=(...t)=>(this.store[e](...t),this)});const r=xt(),s=()=>{const e=(e,n)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),r.resolve(n),t(e,n)};if(this.languages&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initAsync?s():setTimeout(s,0),r}loadResources(e,t=ln){var n,i;let r=t;const s=kt(e)?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if("cimode"===(null==s?void 0:s.toLowerCase())&&(!this.options.preload||0===this.options.preload.length))return r();const e=[],t=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach(t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)})};if(s)t(s);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(e=>t(e))}null==(i=null==(n=this.options.preload)?void 0:n.forEach)||i.call(n,e=>t(e)),this.services.backendConnector.load(e,this.options.ns,e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),r(e)})}else r(null)}reloadResources(e,t,n){const i=xt();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=ln),this.services.backendConnector.reload(e,t,e=>{i.resolve(),n(e)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Vt.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1)){for(let e=0;e<this.languages.length;e++){const t=this.languages[e];if(!(["cimode","dev"].indexOf(t)>-1)&&this.store.hasLanguageSomeTranslations(t)){this.resolvedLanguage=t;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const n=xt();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},r=(r,s)=>{s?this.isLanguageChangingTo===e&&(i(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,n.resolve((...e)=>this.t(...e)),t&&t(r,(...e)=>this.t(...e))},s=t=>{var n,s;e||t||!this.services.languageDetector||(t=[]);const a=kt(t)?t:t&&t[0],o=this.store.hasLanguageSomeTranslations(a)?a:this.services.languageUtils.getBestMatchFromCodes(kt(t)?[t]:t);o&&(this.language||i(o),this.translator.language||this.translator.changeLanguage(o),null==(s=null==(n=this.services.languageDetector)?void 0:n.cacheUserLanguage)||s.call(n,o)),this.loadResources(o,e=>{r(e,o)})};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),n}getFixedT(e,t,n){const i=(e,t,...r)=>{let s;s="object"!=typeof t?this.options.overloadTranslationOptionHandler([e,t].concat(r)):{...t},s.lng=s.lng||i.lng,s.lngs=s.lngs||i.lngs,s.ns=s.ns||i.ns,""!==s.keyPrefix&&(s.keyPrefix=s.keyPrefix||n||i.keyPrefix);const a=this.options.keySeparator||".";let o;return s.keyPrefix&&Array.isArray(e)?o=e.map(e=>("function"==typeof e&&(e=$t(e,{...this.options,...t})),`${s.keyPrefix}${a}${e}`)):("function"==typeof e&&(e=$t(e,{...this.options,...t})),o=s.keyPrefix?`${s.keyPrefix}${a}${e}`:e),this.t(o,s)};return kt(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(...e){var t;return null==(t=this.translator)?void 0:t.translate(...e)}exists(...e){var t;return null==(t=this.translator)?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],i=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const s=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,s);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(n,e)||i&&!s(r,e)))}loadNamespaces(e,t){const n=xt();return this.options.ns?(kt(e)&&(e=[e]),e.forEach(e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=xt();kt(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(e=>i.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e));return r.length?(this.options.preload=i.concat(r),this.loadResources(e=>{n.resolve(),t&&t(e)}),n):(t&&t(),Promise.resolve())}dir(e){var t,n;if(e||(e=this.resolvedLanguage||((null==(t=this.languages)?void 0:t.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const t=new Intl.Locale(e);if(t&&t.getTextInfo){const e=t.getTextInfo();if(e&&e.direction)return e.direction}}catch(r){}const i=(null==(n=this.services)?void 0:n.languageUtils)||new Kt(an());return e.toLowerCase().indexOf("-latn")>1?"ltr":["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){const n=new cn(e,t);return n.createInstance=cn.createInstance,n}cloneInstance(e={},t=ln){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new cn(i);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));if(["store","services","language"].forEach(e=>{r[e]=this[e]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n){const e=Object.keys(this.store.data).reduce((e,t)=>(e[t]={...this.store.data[t]},e[t]=Object.keys(e[t]).reduce((n,i)=>(n[i]={...e[t][i]},n),e[t]),e),{});r.store=new Bt(e,i),r.services.resourceStore=r.store}return e.interpolation&&(r.services.interpolator=new en(i)),r.translator=new Gt(r.services,i),r.translator.on("*",(e,...t)=>{r.emit(e,...t)}),r.init(i,t),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const un=cn.createInstance();un.createInstance,un.dir,un.init,un.loadResources,un.reloadResources,un.use,un.changeLanguage,un.getFixedT,un.t,un.exists,un.setDefaultNamespace,un.hasLoadedNamespace,un.loadNamespaces,un.loadLanguages;const dn={},fn=(e,t,n,i)=>{gn(n)&&dn[n]||(gn(n)&&(dn[n]=new Date),((e,t,n,i)=>{var r,s,a,o;const l=[n,{code:t,...i||{}}];if(null==(s=null==(r=null==e?void 0:e.services)?void 0:r.logger)?void 0:s.forward)return e.services.logger.forward(l,"warn","react-i18next::",!0);gn(l[0])&&(l[0]=`react-i18next:: ${l[0]}`),(null==(o=null==(a=null==e?void 0:e.services)?void 0:a.logger)?void 0:o.warn)?e.services.logger.warn(...l):null==console||console.warn})(e,t,n,i))},hn=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},mn=(e,t,n)=>{e.loadNamespaces(t,hn(e,n))},pn=(e,t,n,i)=>{if(gn(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return mn(e,n,i);n.forEach(t=>{e.options.ns.indexOf(t)<0&&e.options.ns.push(t)}),e.loadLanguages(t,hn(e,i))},gn=e=>"string"==typeof e,vn=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yn={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},bn=e=>yn[e];let wn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:e=>e.replace(vn,bn),transDefaultProps:void 0};let kn;const xn={type:"3rdParty",init(e){((e={})=>{wn={...wn,...e}})(e.options.react),(e=>{kn=e})(e)}},_n=n.createContext();class Sn{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(e=>{this.usedNamespaces[e]||(this.usedNamespaces[e]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Cn,Nn,jn={exports:{}},Tn={};var En=(Nn||(Nn=1,jn.exports=function(){if(Cn)return Tn;Cn=1;var e=f(),t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=e.useState,i=e.useEffect,r=e.useLayoutEffect,s=e.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var i=n();return!t(e,i)}catch(r){return!0}}var o="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var o=t(),l=n({inst:{value:o,getSnapshot:t}}),c=l[0].inst,u=l[1];return r(function(){c.value=o,c.getSnapshot=t,a(c)&&u({inst:c})},[e,o,t]),i(function(){return a(c)&&u({inst:c}),e(function(){a(c)&&u({inst:c})})},[e]),s(o),o};return Tn.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:o,Tn}()),jn.exports);const In={t:(e,t)=>{return gn(t)?t:"object"==typeof(n=t)&&null!==n&&gn(t.defaultValue)?t.defaultValue:Array.isArray(e)?e[e.length-1]:e;var n},ready:!1},Pn=()=>()=>{},An=(e,t={})=>{var i,r,s;const{i18n:a}=t,{i18n:o,defaultNS:l}=n.useContext(_n)||{},c=a||o||kn;c&&!c.reportNamespaces&&(c.reportNamespaces=new Sn),c||fn(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=n.useMemo(()=>{var e;return{...wn,...null==(e=null==c?void 0:c.options)?void 0:e.react,...t}},[c,t]),{useSuspense:d,keyPrefix:f}=u,h=l||(null==(i=null==c?void 0:c.options)?void 0:i.defaultNS),m=gn(h)?[h]:h||["translation"],p=n.useMemo(()=>m,m);null==(s=null==(r=null==c?void 0:c.reportNamespaces)?void 0:r.addUsedNamespaces)||s.call(r,p);const g=n.useRef(0),v=n.useCallback(e=>{if(!c)return Pn;const{bindI18n:t,bindI18nStore:n}=u,i=()=>{g.current+=1,e()};return t&&c.on(t,i),n&&c.store.on(n,i),()=>{t&&t.split(" ").forEach(e=>c.off(e,i)),n&&n.split(" ").forEach(e=>c.store.off(e,i))}},[c,u]),y=n.useRef(),b=n.useCallback(()=>{if(!c)return In;const e=!(!c.isInitialized&&!c.initializedStoreOnce)&&p.every(e=>((e,t,n={})=>t.languages&&t.languages.length?t.hasLoadedNamespace(e,{lng:n.lng,precheck:(t,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&t.services.backendConnector.backend&&t.isLanguageChangingTo&&!i(t.isLanguageChangingTo,e))return!1}}):(fn(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0))(e,c,u)),n=t.lng||c.language,i=g.current,r=y.current;if(r&&r.ready===e&&r.lng===n&&r.keyPrefix===f&&r.revision===i)return r;const s={t:c.getFixedT(n,"fallback"===u.nsMode?p:p[0],f),ready:e,lng:n,keyPrefix:f,revision:i};return y.current=s,s},[c,p,f,u,t.lng]),[w,k]=n.useState(0),{t:x,ready:_}=En.useSyncExternalStore(v,b,b);n.useEffect(()=>{if(c&&!_&&!d){const e=()=>k(e=>e+1);t.lng?pn(c,t.lng,p,e):mn(c,p,e)}},[c,t.lng,p,_,d,w]);const S=c||{},C=n.useRef(null),N=n.useRef(),j=e=>{const t=Object.getOwnPropertyDescriptors(e);t.__original&&delete t.__original;const n=Object.create(Object.getPrototypeOf(e),t);if(!Object.prototype.hasOwnProperty.call(n,"__original"))try{Object.defineProperty(n,"__original",{value:e,writable:!1,enumerable:!1,configurable:!1})}catch(i){}return n},T=n.useMemo(()=>{const e=S,t=null==e?void 0:e.language;let n=e;e&&(C.current&&C.current.__original===e?N.current!==t?(n=j(e),C.current=n,N.current=t):n=C.current:(n=j(e),C.current=n,N.current=t));const i=[x,n,_];return i.t=x,i.i18n=n,i.ready=_,i},[x,S,_,S.resolvedLanguage,S.language,S.languages]);if(c&&d&&!_)throw new Promise(e=>{const n=()=>e();t.lng?pn(c,t.lng,p,n):mn(c,p,n)});return T},{slice:Mn,forEach:Rn}=[];const Dn=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Ln={create(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+60*n*1e3)),i&&(r.domain=i),document.cookie=function(e,t){const n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{path:"/"};let i=`${e}=${encodeURIComponent(t)}`;if(n.maxAge>0){const e=n.maxAge-0;if(Number.isNaN(e))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(e)}`}if(n.domain){if(!Dn.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!Dn.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if("function"!=typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch("string"==typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i}(e,t,r)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let i=0;i<n.length;i++){let e=n[i];for(;" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(t))return e.substring(t.length,e.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var On={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&"undefined"!=typeof document)return Ln.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:i,cookieDomain:r,cookieOptions:s}=t;n&&"undefined"!=typeof document&&Ln.create(n,e,i,r,s)}},Fn={name:"querystring",lookup(e){var t;let n,{lookupQuerystring:i}=e;if("undefined"!=typeof window){let{search:e}=window.location;!window.location.search&&(null==(t=window.location.hash)?void 0:t.indexOf("?"))>-1&&(e=window.location.hash.substring(window.location.hash.indexOf("?")));const r=e.substring(1).split("&");for(let t=0;t<r.length;t++){const e=r[t].indexOf("=");if(e>0){r[t].substring(0,e)===i&&(n=r[t].substring(e+1))}}}return n}},zn={name:"hash",lookup(e){var t;let n,{lookupHash:i,lookupFromHashIndex:r}=e;if("undefined"!=typeof window){const{hash:e}=window.location;if(e&&e.length>2){const s=e.substring(1);if(i){const e=s.split("&");for(let t=0;t<e.length;t++){const r=e[t].indexOf("=");if(r>0){e[t].substring(0,r)===i&&(n=e[t].substring(r+1))}}}if(n)return n;if(!n&&r>-1){const n=e.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(n))return;return null==(t=n["number"==typeof r?r:0])?void 0:t.replace("/","")}}}return n}};let Un=null;const Bn=()=>{if(null!==Un)return Un;try{if(Un="undefined"!=typeof window&&null!==window.localStorage,!Un)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch(e){Un=!1}return Un};var Vn={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Bn())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Bn()&&window.localStorage.setItem(n,e)}};let qn=null;const $n=()=>{if(null!==qn)return qn;try{if(qn="undefined"!=typeof window&&null!==window.sessionStorage,!qn)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch(e){qn=!1}return qn};var Wn={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&$n())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&$n()&&window.sessionStorage.setItem(n,e)}},Hn={name:"navigator",lookup(e){const t=[];if("undefined"!=typeof navigator){const{languages:e,userLanguage:n,language:i}=navigator;if(e)for(let r=0;r<e.length;r++)t.push(e[r]);n&&t.push(n),i&&t.push(i)}return t.length>0?t:void 0}},Gn={name:"htmlTag",lookup(e){let t,{htmlTag:n}=e;const i=n||("undefined"!=typeof document?document.documentElement:null);return i&&"function"==typeof i.getAttribute&&(t=i.getAttribute("lang")),t}},Kn={name:"path",lookup(e){var t;let{lookupFromPathIndex:n}=e;if("undefined"==typeof window)return;const i=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(!Array.isArray(i))return;return null==(t=i["number"==typeof n?n:0])?void 0:t.replace("/","")}},Yn={name:"subdomain",lookup(e){var t,n;let{lookupFromSubdomainIndex:i}=e;const r="number"==typeof i?i+1:1,s="undefined"!=typeof window&&(null==(n=null==(t=window.location)?void 0:t.hostname)?void 0:n.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(s)return s[r]}};let Qn=!1;try{document.cookie,Qn=!0}catch(cZ){}const Xn=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Qn||Xn.splice(1,1);class Jn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{languageUtils:{}},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.services=e,this.options=function(e){return Rn.call(Mn.call(arguments,1),t=>{if(t)for(const n in t)void 0===e[n]&&(e[n]=t[n])}),e}(t,this.options||{},{order:Xn,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e}),"string"==typeof this.options.convertDetectedLanguage&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=e=>e.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(On),this.addDetector(Fn),this.addDetector(Vn),this.addDetector(Wn),this.addDetector(Hn),this.addDetector(Gn),this.addDetector(Kn),this.addDetector(Yn),this.addDetector(zn)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.order,t=[];return e.forEach(e=>{if(this.detectors[e]){let n=this.detectors[e].lookup(this.options);n&&"string"==typeof n&&(n=[n]),n&&(t=t.concat(n))}}),t=t.filter(e=>{return null!=e&&!("string"==typeof(t=e)&&[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(e=>e.test(t)));var t}).map(e=>this.options.convertDetectedLanguage(e)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(t=>{this.detectors[t]&&this.detectors[t].cacheUserLanguage(e,this.options)}))}}Jn.type="languageDetector";const Zn={common:{appName:"WhatsApp Clone",loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",send:"Send",reply:"Reply",forward:"Forward",copy:"Copy",select:"Select",search:"Search",settings:"Settings",back:"Back",close:"Close",yes:"Yes",no:"No"},chat:{typeMessage:"Type a message...",replyTo:"Replying to {{name}}",noMessages:"No messages yet",startConversation:"Start the conversation",searchMessages:"Search messages",viewContact:"View contact",muteNotifications:"Mute notifications",clearChat:"Clear chat",deleteChat:"Delete chat",pinChat:"Pin chat",unpinChat:"Unpin chat",online:"online",typing:"typing...",lastSeen:"last seen {{time}}",messageDeleted:"This message was deleted",voiceMessage:"Voice message",photo:"Photo",video:"Video",document:"Document",poll:"Poll",thread:"Thread",replies:"{{count}} replies",reply_one:"{{count}} reply",reply_other:"{{count}} replies"},settings:{title:"Settings",profile:"Profile",account:"Account",chats:"Chats",notifications:"Notifications",privacy:"Privacy",security:"Security",language:"Language",appLanguage:"App Language",translationLanguage:"Translation Language",theme:"Theme",darkMode:"Dark Mode",lightMode:"Light Mode",fontSize:"Font Size",small:"Small",medium:"Medium",large:"Large",wallpaper:"Wallpaper",about:"About",help:"Help",logout:"Logout",editProfile:"Edit Profile",changeName:"Change Name",changeAbout:"Change About",changePicture:"Change Picture"},status:{myStatus:"My Status",recentUpdates:"Recent updates",viewedUpdates:"Viewed updates",muteUpdates:"Muted updates",noUpdates:"No updates available",addStatus:"Add status",viewStatus:"View status",replyToStatus:"Reply to status",deleteStatus:"Delete status"},calls:{title:"Calls",voiceCall:"Voice call",videoCall:"Video call",incomingCall:"Incoming call",outgoingCall:"Outgoing call",missedCall:"Missed call",callEnded:"Call ended",calling:"Calling...",ringing:"Ringing..."},auth:{welcome:"Welcome to WhatsApp",phoneNumber:"Phone number",enterPhone:"Enter your phone number",verifyCode:"Verify code",enterCode:"Enter the 6-digit code",resendCode:"Resend code",invalidCode:"Invalid code",login:"Login",continue:"Continue"},errors:{networkError:"Network error. Please check your connection.",serverError:"Server error. Please try again later.",invalidInput:"Invalid input",required:"This field is required",tooShort:"Too short",tooLong:"Too long",somethingWentWrong:"Something went wrong"}},ei={common:{appName:"WhatsApp Clon",loading:"Cargando...",error:"Error",success:"xito",cancel:"Cancelar",save:"Guardar",delete:"Eliminar",edit:"Editar",send:"Enviar",reply:"Responder",forward:"Reenviar",copy:"Copiar",select:"Seleccionar",search:"Buscar",settings:"Configuracin",back:"Atrs",close:"Cerrar",yes:"S",no:"No"},chat:{typeMessage:"Escribe un mensaje...",replyTo:"Respondiendo a {{name}}",noMessages:"An no hay mensajes",startConversation:"Iniciar la conversacin",searchMessages:"Buscar mensajes",viewContact:"Ver contacto",muteNotifications:"Silenciar notificaciones",clearChat:"Borrar chat",deleteChat:"Eliminar chat",pinChat:"Fijar chat",unpinChat:"Desfijar chat",online:"en lnea",typing:"escribiendo...",lastSeen:"ltima vez {{time}}",messageDeleted:"Este mensaje fue eliminado",voiceMessage:"Mensaje de voz",photo:"Foto",video:"Video",document:"Documento",poll:"Encuesta",thread:"Hilo",replies:"{{count}} respuestas",reply_one:"{{count}} respuesta",reply_other:"{{count}} respuestas"},settings:{title:"Configuracin",profile:"Perfil",account:"Cuenta",chats:"Chats",notifications:"Notificaciones",privacy:"Privacidad",security:"Seguridad",language:"Idioma",appLanguage:"Idioma de la aplicacin",translationLanguage:"Idioma de traduccin",theme:"Tema",darkMode:"Modo oscuro",lightMode:"Modo claro",fontSize:"Tamao de fuente",small:"Pequeo",medium:"Mediano",large:"Grande",wallpaper:"Fondo de pantalla",about:"Acerca de",help:"Ayuda",logout:"Cerrar sesin",editProfile:"Editar perfil",changeName:"Cambiar nombre",changeAbout:"Cambiar informacin",changePicture:"Cambiar foto"},status:{myStatus:"Mi estado",recentUpdates:"Actualizaciones recientes",viewedUpdates:"Actualizaciones vistas",muteUpdates:"Actualizaciones silenciadas",noUpdates:"No hay actualizaciones disponibles",addStatus:"Agregar estado",viewStatus:"Ver estado",replyToStatus:"Responder al estado",deleteStatus:"Eliminar estado"},calls:{title:"Llamadas",voiceCall:"Llamada de voz",videoCall:"Videollamada",incomingCall:"Llamada entrante",outgoingCall:"Llamada saliente",missedCall:"Llamada perdida",callEnded:"Llamada terminada",calling:"Llamando...",ringing:"Sonando..."},auth:{welcome:"Bienvenido a WhatsApp",phoneNumber:"Nmero de telfono",enterPhone:"Ingresa tu nmero de telfono",verifyCode:"Verificar cdigo",enterCode:"Ingresa el cdigo de 6 dgitos",resendCode:"Reenviar cdigo",invalidCode:"Cdigo invlido",login:"Iniciar sesin",continue:"Continuar"},errors:{networkError:"Error de red. Por favor verifica tu conexin.",serverError:"Error del servidor. Por favor intenta ms tarde.",invalidInput:"Entrada invlida",required:"Este campo es obligatorio",tooShort:"Demasiado corto",tooLong:"Demasiado largo",somethingWentWrong:"Algo sali mal"}},ti={common:{appName:"WhatsApp Clone",loading:"...",error:"",success:"",cancel:" ",save:"",delete:"",edit:" ",send:"",reply:" ",forward:" ",copy:" ",select:"",search:"",settings:"",back:"",close:" ",yes:"",no:""},chat:{typeMessage:"  ...",replyTo:"{{name}}     ",noMessages:"    ",startConversation:"  ",searchMessages:" ",viewContact:" ",muteNotifications:"  ",clearChat:"  ",deleteChat:" ",pinChat:"  ",unpinChat:"  ",online:"",typing:"   ...",lastSeen:"    {{time}}",messageDeleted:"     ",voiceMessage:" ",photo:"",video:"",document:"",poll:"",thread:"",replies:"{{count}} ",reply_one:"{{count}} ",reply_other:"{{count}} "},settings:{title:"",profile:"",account:"",chats:"",notifications:"",privacy:"",security:"",language:"",appLanguage:"  ",translationLanguage:" ",theme:"",darkMode:" ",lightMode:" ",fontSize:"  ",small:"",medium:"",large:"",wallpaper:"",about:"  ",help:"",logout:" ",editProfile:"  ",changeName:" ",changeAbout:" ",changePicture:" "},status:{myStatus:" ",recentUpdates:"  ",viewedUpdates:"  ",muteUpdates:"   ",noUpdates:"   ",addStatus:" ",viewStatus:" ",replyToStatus:"   ",deleteStatus:" "},calls:{title:"",voiceCall:" ",videoCall:" ",incomingCall:"  ",outgoingCall:"  ",missedCall:"  ",callEnded:" ",calling:"   ...",ringing:"   ..."},auth:{welcome:"WhatsApp    ",phoneNumber:" ",enterPhone:"    ",verifyCode:"  ",enterCode:"6     ",resendCode:"   ",invalidCode:" ",login:"",continue:" "},errors:{networkError:"     ",serverError:"       ",invalidInput:" ",required:"   ",tooShort:" ",tooLong:" ",somethingWentWrong:"   "}},ni={common:{appName:" ",loading:" ...",error:"",success:"",cancel:" ",save:" ",delete:"",edit:"",send:"",reply:" ",forward:" ",copy:" ",select:"",search:"",settings:"",back:"",close:"",yes:"",no:""},chat:{typeMessage:"  ...",replyTo:"{{name}}  ",noMessages:"  ",startConversation:" ",searchMessages:" ",viewContact:" ",muteNotifications:"  ",clearChat:"  ",deleteChat:" ",pinChat:"  ",unpinChat:"  ",online:"",typing:" ...",lastSeen:"  {{time}}",messageDeleted:"  ",voiceMessage:" ",photo:"",video:"",document:"",poll:"",thread:"",replies:"{{count}} ",reply_one:"{{count}} ",reply_other:"{{count}} "},settings:{title:"",profile:"",account:"",chats:"",notifications:"",privacy:"",security:"",language:"",appLanguage:" ",translationLanguage:" ",theme:"",darkMode:" ",lightMode:" ",fontSize:" ",small:"",medium:"",large:"",wallpaper:"",about:"",help:"",logout:"",editProfile:" ",changeName:" ",changeAbout:" ",changePicture:" "},status:{myStatus:" ",recentUpdates:" ",viewedUpdates:" ",muteUpdates:"  ",noUpdates:"  ",addStatus:" ",viewStatus:" ",replyToStatus:"  ",deleteStatus:" "},calls:{title:"",voiceCall:" ",videoCall:" ",incomingCall:" ",outgoingCall:" ",missedCall:" ",callEnded:" ",calling:" ...",ringing:" ..."},auth:{welcome:" ",phoneNumber:" ",enterPhone:"    ",verifyCode:" ",enterCode:"6-   ",resendCode:"  ",invalidCode:" ",login:"",continue:""},errors:{networkError:" .     .",serverError:" .    .",invalidInput:" ",required:"  ",tooShort:" ",tooLong:"  ",somethingWentWrong:"  "}},ii={common:{appName:" ",loading:"...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",send:"",reply:"",forward:"",copy:"",select:"",search:"",settings:"",back:"",close:"",yes:"",no:""},chat:{typeMessage:"  ...",replyTo:"{{name}}  ",noMessages:"  ",startConversation:" ",searchMessages:" ",viewContact:" ",muteNotifications:" ",clearChat:" ",deleteChat:" ",pinChat:"  ",unpinChat:"  ",online:"",typing:" ...",lastSeen:"  {{time}}",messageDeleted:"  ",voiceMessage:" ",photo:"",video:"",document:"",poll:"",thread:"",replies:"{{count}} ",reply_one:"{{count}} ",reply_other:"{{count}} "},settings:{title:"",profile:"",account:"",chats:"",notifications:"",privacy:"",security:"",language:"",appLanguage:" ",translationLanguage:" ",theme:"",darkMode:" ",lightMode:" ",fontSize:" ",small:"",medium:"",large:"",wallpaper:"",about:"",help:"",logout:"",editProfile:" ",changeName:" ",changeAbout:" ",changePicture:" "},status:{myStatus:" ",recentUpdates:" ",viewedUpdates:" ",muteUpdates:" ",noUpdates:" ",addStatus:" ",viewStatus:" ",replyToStatus:" ",deleteStatus:" "},calls:{title:"",voiceCall:" ",videoCall:" ",incomingCall:" ",outgoingCall:" ",missedCall:" ",callEnded:" ",calling:"...",ringing:"..."},auth:{welcome:" ",phoneNumber:" ",enterPhone:"   ",verifyCode:" ",enterCode:"6-  ",resendCode:"  ",invalidCode:" ",login:"",continue:""},errors:{networkError:" .   .",serverError:" .   .",invalidInput:" ",required:"  ",tooShort:" ",tooLong:" ",somethingWentWrong:"  "}},ri={common:{appName:" ",loading:" ...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",send:"",reply:"",forward:" ",copy:"",select:"",search:"",settings:"",back:"",close:"",yes:"",no:""},chat:{typeMessage:"  ...",replyTo:"{{name}}  ",noMessages:" ",startConversation:" ",searchMessages:" ",viewContact:" ",muteNotifications:"  ",clearChat:"  ",deleteChat:"  ",pinChat:"   ",unpinChat:"   ",online:"",typing:" ...",lastSeen:"  {{time}}",messageDeleted:"  ",voiceMessage:" ",photo:"",video:"",document:"",poll:"",thread:"",replies:"{{count}} ",reply_one:"{{count}} ",reply_other:"{{count}} "},settings:{title:"",profile:"",account:"",chats:"",notifications:"",privacy:"",security:"",language:"",appLanguage:" ",translationLanguage:" ",theme:"",darkMode:" ",lightMode:" ",fontSize:" ",small:"",medium:"",large:"",wallpaper:"",about:"",help:"",logout:"",editProfile:" ",changeName:" ",changeAbout:" ",changePicture:" "},status:{myStatus:" ",recentUpdates:" ",viewedUpdates:" ",muteUpdates:"  ",noUpdates:" ",addStatus:" ",viewStatus:" ",replyToStatus:" ",deleteStatus:" "},calls:{title:"",voiceCall:" ",videoCall:" ",incomingCall:" ",outgoingCall:" ",missedCall:" ",callEnded:" ",calling:" ...",ringing:" ..."},auth:{welcome:" ",phoneNumber:" ",enterPhone:"   ",verifyCode:" ",enterCode:"6-  ",resendCode:" ",invalidCode:" ",login:"",continue:""},errors:{networkError:" .    .",serverError:" .    .",invalidInput:" ",required:"  ",tooShort:" ",tooLong:" ",somethingWentWrong:" "}},si={common:{appName:"WhatsApp Clone",loading:" ...",error:"",success:"",cancel:"",save:"",delete:"",edit:" ",send:"",reply:" ",forward:" ",copy:"",select:"",search:"",settings:"",back:" ",close:"",yes:"",no:""},chat:{typeMessage:"  ...",replyTo:"{{name}}   ",noMessages:" ",startConversation:" ",searchMessages:" ",viewContact:" ",muteNotifications:"  ",clearChat:" ",deleteChat:" ",pinChat:"  ",unpinChat:"  ",online:"",typing:" ...",lastSeen:"  {{time}}",messageDeleted:"  ",voiceMessage:" ",photo:"",video:"",document:"",poll:"",thread:"",replies:"{{count}} ",reply_one:"{{count}} ",reply_other:"{{count}} "},settings:{title:"",profile:"",account:"",chats:"",notifications:"",privacy:"",security:"",language:"",appLanguage:" ",translationLanguage:" ",theme:"",darkMode:" ",lightMode:" ",fontSize:" ",small:"",medium:"",large:"",wallpaper:"",about:"",help:"",logout:"",editProfile:"  ",changeName:" ",changeAbout:" ",changePicture:" "},status:{myStatus:" ",recentUpdates:" ",viewedUpdates:" ",muteUpdates:"  ",noUpdates:"",addStatus:" ",viewStatus:" ",replyToStatus:"  ",deleteStatus:" "},calls:{title:"",voiceCall:" ",videoCall:" ",incomingCall:" ",outgoingCall:" ",missedCall:" ",callEnded:" ",calling:"...",ringing:"..."},auth:{welcome:"WhatsApp- ",phoneNumber:" ",enterPhone:"   ",verifyCode:" ",enterCode:"6-  ",resendCode:"  ",invalidCode:" ",login:"",continue:""},errors:{networkError:" .   .",serverError:" .   .",invalidInput:" ",required:"  ",tooShort:" ",tooLong:" ",somethingWentWrong:"  "}},ai={common:{appName:" ",loading:" ...",error:"",success:"",cancel:" ",save:" ",delete:" ",edit:" ",send:"",reply:" ",forward:" ",copy:" ",select:" ",search:" ",settings:"",back:" ",close:" ",yes:"",no:""},chat:{typeMessage:"   ...",replyTo:"{{name}}   ",noMessages:"   ",startConversation:"  ",searchMessages:" ",viewContact:" ",muteNotifications:"  ",clearChat:"  ",deleteChat:" ",pinChat:"  ",unpinChat:"  ",online:"",typing:" ...",lastSeen:"  {{time}}",messageDeleted:"    ",voiceMessage:" ",photo:"",video:"",document:"",poll:"",thread:"",replies:"{{count}}  ",reply_one:"{{count}}  ",reply_other:"{{count}}  "},settings:{title:"",profile:"",account:"",chats:"",notifications:"",privacy:"",security:"",language:"",appLanguage:" ",translationLanguage:" ",theme:"",darkMode:" ",lightMode:" ",fontSize:" ",small:"",medium:"",large:"",wallpaper:"",about:"",help:"",logout:"",editProfile:"  ",changeName:"  ",changeAbout:"  ",changePicture:"  "},status:{myStatus:" ",recentUpdates:" ",viewedUpdates:" ",muteUpdates:"  ",noUpdates:"  ",addStatus:"  ",viewStatus:" ",replyToStatus:"  ",deleteStatus:" "},calls:{title:"",voiceCall:" ",videoCall:" ",incomingCall:" ",outgoingCall:" ",missedCall:" ",callEnded:"  ",calling:" ...",ringing:" ..."},auth:{welcome:" ",phoneNumber:" ",enterPhone:"   ",verifyCode:"  ",enterCode:"6-  ",resendCode:"  ",invalidCode:" ",login:"",continue:" "},errors:{networkError:"     ",serverError:"     ",invalidInput:" ",required:"  ",tooShort:" ",tooLong:" ",somethingWentWrong:"  "}},oi={common:{appName:" ",loading:"   ...",error:"",success:"",cancel:" ",save:"",delete:" ",edit:" ",send:"",reply:" ",forward:" ",copy:" ",select:" ",search:"",settings:"",back:" ",close:" ",yes:"",no:""},chat:{typeMessage:"  ...",replyTo:"{{name}}     ",noMessages:"    ",startConversation:"  ",searchMessages:" ",viewContact:" ",muteNotifications:"  ",clearChat:"  ",deleteChat:"  ",pinChat:"  ",unpinChat:"  ",online:"",typing:"   ...",lastSeen:"  {{time}}",messageDeleted:"     ",voiceMessage:" ",photo:"",video:"",document:"",poll:"",thread:"",replies:"{{count}} ",reply_one:"{{count}} ",reply_other:"{{count}} "},settings:{title:"",profile:"",account:"",chats:"",notifications:"",privacy:"",security:"",language:"",appLanguage:" ",translationLanguage:" ",theme:"",darkMode:" ",lightMode:" ",fontSize:" ",small:"",medium:"",large:"",wallpaper:"",about:"",help:"",logout:"",editProfile:"  ",changeName:" ",changeAbout:" ",changePicture:" "},status:{myStatus:" ",recentUpdates:" ",viewedUpdates:" ",muteUpdates:"  ",noUpdates:"   ",addStatus:" ",viewStatus:" ",replyToStatus:"  ",deleteStatus:"  "},calls:{title:"",voiceCall:" ",videoCall:" ",incomingCall:" ",outgoingCall:" ",missedCall:"  ",callEnded:"  ",calling:"   ...",ringing:"   ..."},auth:{welcome:"    ",phoneNumber:" ",enterPhone:"    ",verifyCode:" ",enterCode:"6-   ",resendCode:"  ",invalidCode:" ",login:"",continue:" "},errors:{networkError:" .     .",serverError:" .      .",invalidInput:" ",required:"   ",tooShort:" ",tooLong:" ",somethingWentWrong:"  "}},li={common:{appName:" ",loading:"   ...",error:"",success:"",cancel:" ",save:" ",delete:"",edit:" ",send:"",reply:" ",forward:" ",copy:" ",select:"",search:"",settings:"",back:"",close:" ",yes:"",no:""},chat:{typeMessage:"  ...",replyTo:"{{name}}     ",noMessages:"    ",startConversation:"  ",searchMessages:" ",viewContact:" ",muteNotifications:"  ",clearChat:"  ",deleteChat:" ",pinChat:"  ",unpinChat:"  ",online:"",typing:"   ...",lastSeen:"   {{time}}",messageDeleted:"    ",voiceMessage:" ",photo:"",video:"",document:"",poll:"",thread:"",replies:"{{count}} ",reply_one:"{{count}} ",reply_other:"{{count}} "},settings:{title:"",profile:"",account:"",chats:"",notifications:"",privacy:"",security:"",language:"",appLanguage:"  ",translationLanguage:" ",theme:"",darkMode:" ",lightMode:" ",fontSize:" ",small:"",medium:"",large:"",wallpaper:"",about:"",help:"",logout:"",editProfile:"  ",changeName:" ",changeAbout:" ",changePicture:" "},status:{myStatus:" ",recentUpdates:" ",viewedUpdates:"  ",muteUpdates:"  ",noUpdates:"   ",addStatus:" ",viewStatus:" ",replyToStatus:"   ",deleteStatus:" "},calls:{title:"",voiceCall:" ",videoCall:" ",incomingCall:"  ",outgoingCall:" ",missedCall:" ",callEnded:" ",calling:"   ...",ringing:"   ..."},auth:{welcome:" '  ",phoneNumber:" ",enterPhone:"    ",verifyCode:"   ",enterCode:"6-    ",resendCode:"  ",invalidCode:" ",login:"",continue:" "},errors:{networkError:"        ",serverError:"        ",invalidInput:" ",required:"   ",tooShort:" ",tooLong:" ",somethingWentWrong:"   "}},ci={common:{appName:" ",loading:"  ...",error:"",success:"",cancel:" ",save:" ",delete:"",edit:" ",send:"",reply:" ",forward:" ",copy:" ",select:"",search:"",settings:"",back:"",close:" ",yes:"",no:""},chat:{typeMessage:"  ...",replyTo:"{{name}}    ",noMessages:"   ",startConversation:"  ",searchMessages:" ",viewContact:" ",muteNotifications:"  ",clearChat:"  ",deleteChat:" ",pinChat:"  ",unpinChat:"  ",online:"",typing:"  ...",lastSeen:"  {{time}}",messageDeleted:"   ",voiceMessage:" ",photo:"",video:"",document:"",poll:"",thread:"",replies:"{{count}} ",reply_one:"{{count}} ",reply_other:"{{count}} "},settings:{title:"",profile:"",account:"",chats:"",notifications:"",privacy:"",security:"",language:"",appLanguage:" ",translationLanguage:" ",theme:"",darkMode:" ",lightMode:" ",fontSize:" ",small:"",medium:"",large:"",wallpaper:"",about:"",help:"",logout:"",editProfile:"  ",changeName:" ",changeAbout:" ",changePicture:" "},status:{myStatus:" ",recentUpdates:" ",viewedUpdates:" ",muteUpdates:"  ",noUpdates:"   ",addStatus:" ",viewStatus:" ",replyToStatus:"  ",deleteStatus:" "},calls:{title:"",voiceCall:" ",videoCall:" ",incomingCall:" ",outgoingCall:"  ",missedCall:" ",callEnded:" ",calling:"  ...",ringing:"  ..."},auth:{welcome:"   ",phoneNumber:" ",enterPhone:"    ",verifyCode:"  ",enterCode:"6-   ",resendCode:"  ",invalidCode:" ",login:"",continue:" "},errors:{networkError:" .    .",serverError:" .     .",invalidInput:" ",required:"   ",tooShort:" ",tooLong:" ",somethingWentWrong:"  "}};un.use(Jn).use(xn).init({resources:{en:{translation:Zn},es:{translation:ei},hi:{translation:ti},te:{translation:ni},ta:{translation:ii},kn:{translation:ri},ml:{translation:si},bn:{translation:ai},gu:{translation:oi},pa:{translation:li},mr:{translation:ci}},fallbackLng:"en",lng:"en",interpolation:{escapeValue:!1},react:{useSuspense:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"}});const ui=e=>({chess:"Chess Master",ludo:"Ludo King",snake:"Snake & Ladders",tictactoe:"Tic-Tac-Toe"}[e]||"Game");const di=new class{constructor(){this.connected=!1,this.userId=null,this.subscriptions=new Map,this.eventChannel="whatsapp_game_events"}connect(e){this.connected||(this.userId=e,this.connected=!0,window.addEventListener("storage",this._handleStorageEvent.bind(this)))}_handleStorageEvent(e){if(e.key===this.eventChannel)try{const t=JSON.parse(e.newValue);if(t.senderId===this.userId)return;const{gameId:n,type:i,data:r}=t,s=this.subscriptions.get(n);s&&s({type:i,data:r,senderId:t.senderId})}catch(t){}}sendGameEvent(e,t){if(!this.connected)return;const n={type:e,data:t,senderId:this.userId,gameId:t.gameId,timestamp:(new Date).toISOString()};try{localStorage.getItem(this.eventChannel);localStorage.setItem(this.eventChannel,JSON.stringify(n)),setTimeout(()=>{localStorage.getItem(this.eventChannel)===JSON.stringify(n)&&localStorage.removeItem(this.eventChannel)},100)}catch(i){}}subscribeToGame(e,t){this.subscriptions.set(e,t)}unsubscribeFromGame(e){this.subscriptions.delete(e)}disconnect(){this.connected&&(window.removeEventListener("storage",this._handleStorageEvent.bind(this)),this.subscriptions.clear(),this.connected=!1,this.userId=null)}},fi="GAME_JOINED",hi="GAME_MOVE",mi="GAME_STATE_UPDATE",pi="GAME_END",gi={get(e,t=null){try{const n=window.localStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return t}},set(e,t){try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){}},remove(e){try{window.localStorage.removeItem(e)}catch(t){}},clear(){try{window.localStorage.clear()}catch(e){}},keys(){try{return Object.keys(window.localStorage)}catch(e){return[]}}},vi={get(e,t=null){try{const n=window.sessionStorage.getItem(e);return n?JSON.parse(n):t}catch(n){return t}},set(e,t){try{window.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){}},remove(e){try{window.sessionStorage.removeItem(e)}catch(t){}},clear(){try{window.sessionStorage.clear()}catch(e){}},keys(){try{return Object.keys(window.sessionStorage)}catch(e){return[]}}},yi={local:gi,session:vi,cookie:{get(e){try{const t=e+"=",n=document.cookie.split(";");for(let e=0;e<n.length;e++){let i=n[e];for(;" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t)){const e=i.substring(t.length,i.length);try{return JSON.parse(decodeURIComponent(e))}catch{return decodeURIComponent(e)}}}return null}catch(t){return null}},set(e,t,n={}){try{const{days:i=7,path:r="/",domain:s,secure:a=!1,sameSite:o="Lax"}=n;let l="";if(i){const e=new Date;e.setTime(e.getTime()+24*i*60*60*1e3),l="; expires="+e.toUTCString()}const c="string"==typeof t?t:JSON.stringify(t);let u=`${e}=${encodeURIComponent(c)}${l}; path=${r}`;s&&(u+=`; domain=${s}`),a&&(u+="; secure"),o&&(u+=`; SameSite=${o}`),document.cookie=u}catch(i){}},remove(e,t={}){this.set(e,"",{...t,days:-1})},has(e){return null!==this.get(e)},getAll(){try{const e={},t=document.cookie.split(";");for(let n=0;n<t.length;n++){const i=t[n].trim(),[r,...s]=i.split("=");if(r){const t=s.join("=");try{e[r]=JSON.parse(decodeURIComponent(t))}catch{e[r]=decodeURIComponent(t)}}}return e}catch(e){return{}}}},clearAll(){gi.clear(),vi.clear()}},bi=(e,t)=>{const[i,r]=n.useState(()=>yi.local.get(e,t)),s=n.useCallback(t=>{try{const n=t instanceof Function?t(i):t;r(n),yi.local.set(e,n)}catch(n){}},[e,i]),a=n.useCallback(()=>{try{r(t),yi.local.remove(e)}catch(n){}},[e,t]);return[i,s,a]};var wi={};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="${JSCORE_VERSION}",xi=function(e,t){if(!e)throw _i(t)},_i=function(e){return new Error("Firebase Database ("+ki+") INTERNAL ASSERT FAILED: "+e)},Si=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):55296==(64512&r)&&i+1<e.length&&56320==(64512&e.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&e.charCodeAt(++i)),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t},Ci={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){const t=e[r],s=r+1<e.length,a=s?e[r+1]:0,o=r+2<e.length,l=o?e[r+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,f=63&l;o||(f=64,s||(d=64)),i.push(n[c],n[u],n[d],n[f])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Si(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,i=0;for(;n<e.length;){const r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[i++]=String.fromCharCode((31&r)<<6|63&s)}else if(r>239&&r<365){const s=((7&r)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[i++]=String.fromCharCode(55296+(s>>10)),t[i++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[i++]=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){const t=n[e.charAt(r++)],s=r<e.length?n[e.charAt(r)]:0;++r;const a=r<e.length?n[e.charAt(r)]:64;++r;const o=r<e.length?n[e.charAt(r)]:64;if(++r,null==t||null==s||null==a||null==o)throw new Ni;const l=t<<2|s>>4;if(i.push(l),64!==a){const e=s<<4&240|a>>2;if(i.push(e),64!==o){const e=a<<6&192|o;i.push(e)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ji=function(e){const t=Si(e);return Ci.encodeByteArray(t,!0)},Ti=function(e){return ji(e).replace(/\./g,"")},Ei=function(e){try{return Ci.decodeString(e,!0)}catch(cZ){}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ii(e){return Pi(void 0,e)}function Pi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&Ai(n)&&(e[n]=Pi(e[n],t[n]));return e}function Ai(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri=()=>{try{return Mi().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e=wi.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(cZ){return}const t=e&&Ei(e[1]);return t&&JSON.parse(t)})()}catch(cZ){return}},Di=e=>{var t,n;return null==(n=null==(t=Ri())?void 0:t.emulatorHosts)?void 0:n[e]},Li=e=>{const t=Di(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),i]:[t.substring(0,n),i]},Oi=()=>{var e;return null==(e=Ri())?void 0:e.config},Fi=e=>{var t;return null==(t=Ri())?void 0:t[`_${e}`]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bi(e){return(await fetch(e,{credentials:"include"})).ok}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",i=e.iat||0,r=e.sub||e.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...e};return[Ti(JSON.stringify({alg:"none",type:"JWT"})),Ti(JSON.stringify(s)),""].join(".")}const qi={};let $i=!1;function Wi(e,t){if("undefined"==typeof window||"undefined"==typeof document||!Ui(window.location.host)||qi[e]===t||qi[e]||$i)return;function n(e){return`__firebase__banner__${e}`}qi[e]=t;const i="__firebase__banner",r=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(qi))qi[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{$i=!0,function(){const e=document.getElementById(i);e&&e.remove()}()},e}function a(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(i),t=n("text"),a=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,a,l,n),document.body.appendChild(t)}r?(a.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',a.innerText="Preview backend running in this workspace."),a.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",a):a()}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hi(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Gi(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Hi())}function Ki(){var e;const t=null==(e=Ri())?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(cZ){return!1}}function Yi(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function Qi(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Xi(){return!Ki()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ji(){return!Ki()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Zi(){try{return"object"==typeof indexedDB}catch(cZ){return!1}}function er(){return new Promise((e,t)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var e;t((null==(e=r.error)?void 0:e.message)||"")}}catch(n){t(n)}})}function tr(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nr=class e extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ir.prototype.create)}};class ir{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},i=`${this.service}/${e}`,r=this.errors[e],s=r?function(e,t){return e.replace(rr,(e,n)=>{const i=t[n];return null!=i?String(i):`<${n}?>`})}(r,n):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new nr(i,a,n)}}const rr=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e){return JSON.parse(e)}function ar(e){return JSON.stringify(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=function(e){let t={},n={},i={},r="";try{const s=e.split(".");t=sr(Ei(s[0])||""),n=sr(Ei(s[1])||""),r=s[2],i=n.d||{},delete n.d}catch(cZ){}return{header:t,claims:n,data:i,signature:r}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function lr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cr(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ur(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function dr(e,t,n){const i={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(i[r]=t.call(n,e[r],r,e));return i}function fr(e,t){if(e===t)return!0;const n=Object.keys(e),i=Object.keys(t);for(const r of n){if(!i.includes(r))return!1;const n=e[r],s=t[r];if(hr(n)&&hr(s)){if(!fr(n,s))return!1}else if(n!==s)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function hr(e){return null!==e&&"object"==typeof e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(e){const t=[];for(const[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function pr(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,i]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(i)}}),t}function gr(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let i,r,s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(i=l^a&(o^l),r=1518500249):(i=a^o^l,r=1859775393):u<60?(i=a&o|l&(a|o),r=2400959708):(i=a^o^l,r=3395469782);const e=(s<<5|s>>>27)+i+c+r+n[u]&4294967295;c=l,l=o,o=4294967295&(a<<30|a>>>2),a=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let i=0;const r=this.buf_;let s=this.inbuf_;for(;i<t;){if(0===s)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<t;)if(r[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}else for(;i<t;)if(r[s]=e[i],++s,++i,s===this.blockSize){this.compress_(r),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[i]>>t&255,++n;return e}}class yr{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let i;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");i=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===i.next&&(i.next=br),void 0===i.error&&(i.error=br),void 0===i.complete&&(i.complete=br);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(cZ){}}),this.observers.push(i),r}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(cZ){"undefined"!=typeof console&&console.error}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function br(){}function wr(e,t){return`${e} failed: ${t} argument `}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=function(e){let t=0;for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);i<128?t++:i<2048?t+=2:i>=55296&&i<=56319?(t+=4,n++):t+=3}return t};function xr(e,t=1e3,n=2){const i=t*Math.pow(n,e),r=Math.round(.5*i*(Math.random()-.5)*2);return Math.min(144e5,i+r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(e){return e&&e._delegate?e._delegate:e}class Sr{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cr="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new zi;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(cZ){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),n=(null==e?void 0:e.optional)??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(n)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(cZ){if(n)return null;throw cZ}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e))try{this.getOrInitializeService({instanceIdentifier:Cr})}catch(cZ){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(cZ){}}}}clearInstance(e=Cr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=Cr){return this.instances.has(e)}getOptions(e=Cr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[r,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(r)&&s.resolve(i)}return i}onInit(e,t){const n=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const r=this.instances.get(n);return r&&e(r,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===Cr?void 0:i),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}var i;return n||null}normalizeInstanceIdentifier(e=Cr){return this.component?this.component.multipleInstances?e:Cr:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class jr{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Nr(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tr,Er;(Er=Tr||(Tr={}))[Er.DEBUG=0]="DEBUG",Er[Er.VERBOSE=1]="VERBOSE",Er[Er.INFO=2]="INFO",Er[Er.WARN=3]="WARN",Er[Er.ERROR=4]="ERROR",Er[Er.SILENT=5]="SILENT";const Ir={debug:Tr.DEBUG,verbose:Tr.VERBOSE,info:Tr.INFO,warn:Tr.WARN,error:Tr.ERROR,silent:Tr.SILENT},Pr=Tr.INFO,Ar={[Tr.DEBUG]:"log",[Tr.VERBOSE]:"log",[Tr.INFO]:"info",[Tr.WARN]:"warn",[Tr.ERROR]:"error"},Mr=(e,t,...n)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!Ar[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rr{constructor(e){this.name=e,this._logLevel=Pr,this._logHandler=Mr,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Tr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Ir[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Tr.DEBUG,...e),this._logHandler(this,Tr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Tr.VERBOSE,...e),this._logHandler(this,Tr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Tr.INFO,...e),this._logHandler(this,Tr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Tr.WARN,...e),this._logHandler(this,Tr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Tr.ERROR,...e),this._logHandler(this,Tr.ERROR,...e)}}let Dr,Lr;const Or=new WeakMap,Fr=new WeakMap,zr=new WeakMap,Ur=new WeakMap,Br=new WeakMap;let Vr={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Fr.get(e);if("objectStoreNames"===t)return e.objectStoreNames||zr.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function qr(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Lr||(Lr=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(Hr(this),t),Wr(Or.get(this))}:function(...t){return Wr(e.apply(Hr(this),t))}:function(t,...n){const i=e.call(Hr(this),t,...n);return zr.set(i,t.sort?t.sort():[t]),Wr(i)}}function $r(e){return"function"==typeof e?qr(e):(e instanceof IDBTransaction&&function(e){if(Fr.has(e))return;const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("complete",r),e.removeEventListener("error",s),e.removeEventListener("abort",s)},r=()=>{t(),i()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",r),e.addEventListener("error",s),e.addEventListener("abort",s)});Fr.set(e,t)}(e),t=e,(Dr||(Dr=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Vr):e);var t}function Wr(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const i=()=>{e.removeEventListener("success",r),e.removeEventListener("error",s)},r=()=>{t(Wr(e.result)),i()},s=()=>{n(e.error),i()};e.addEventListener("success",r),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&Or.set(t,e)}).catch(()=>{}),Br.set(t,e),t}(e);if(Ur.has(e))return Ur.get(e);const t=$r(e);return t!==e&&(Ur.set(e,t),Br.set(t,e)),t}const Hr=e=>Br.get(e);function Gr(e,t,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const a=indexedDB.open(e,t),o=Wr(a);return i&&a.addEventListener("upgradeneeded",e=>{i(Wr(a.result),e.oldVersion,e.newVersion,Wr(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),r&&e.addEventListener("versionchange",e=>r(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}function Kr(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",e=>t(e.oldVersion,e)),Wr(n).then(()=>{})}const Yr=["get","getKey","getAll","getAllKeys","count"],Qr=["put","add","delete","clear"],Xr=new Map;function Jr(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(Xr.get(t))return Xr.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,r=Qr.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!Yr.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,r?"readwrite":"readonly");let a=s.store;return i&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),r&&s.done]))[0]};return Xr.set(t,s),s}Vr=(e=>({...e,get:(t,n,i)=>Jr(t,n)||e.get(t,n,i),has:(t,n)=>!!Jr(t,n)||e.has(t,n)}))(Vr);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Zr{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const es="@firebase/app",ts="0.14.6",ns=new Rr("@firebase/app"),is="@firebase/app-compat",rs="@firebase/analytics-compat",ss="@firebase/analytics",as="@firebase/app-check-compat",os="@firebase/app-check",ls="@firebase/auth",cs="@firebase/auth-compat",us="@firebase/database",ds="@firebase/data-connect",fs="@firebase/database-compat",hs="@firebase/functions",ms="@firebase/functions-compat",ps="@firebase/installations",gs="@firebase/installations-compat",vs="@firebase/messaging",ys="@firebase/messaging-compat",bs="@firebase/performance",ws="@firebase/performance-compat",ks="@firebase/remote-config",xs="@firebase/remote-config-compat",_s="@firebase/storage",Ss="@firebase/storage-compat",Cs="@firebase/firestore",Ns="@firebase/ai",js="@firebase/firestore-compat",Ts="firebase",Es="[DEFAULT]",Is={[es]:"fire-core",[is]:"fire-core-compat",[ss]:"fire-analytics",[rs]:"fire-analytics-compat",[os]:"fire-app-check",[as]:"fire-app-check-compat",[ls]:"fire-auth",[cs]:"fire-auth-compat",[us]:"fire-rtdb",[ds]:"fire-data-connect",[fs]:"fire-rtdb-compat",[hs]:"fire-fn",[ms]:"fire-fn-compat",[ps]:"fire-iid",[gs]:"fire-iid-compat",[vs]:"fire-fcm",[ys]:"fire-fcm-compat",[bs]:"fire-perf",[ws]:"fire-perf-compat",[ks]:"fire-rc",[xs]:"fire-rc-compat",[_s]:"fire-gcs",[Ss]:"fire-gcs-compat",[Cs]:"fire-fst",[js]:"fire-fst-compat",[Ns]:"fire-vertex","fire-js":"fire-js",[Ts]:"fire-js-all"},Ps=new Map,As=new Map,Ms=new Map;function Rs(e,t){try{e.container.addComponent(t)}catch(cZ){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,cZ)}}function Ds(e){const t=e.name;if(Ms.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;Ms.set(t,e);for(const n of Ps.values())Rs(n,e);for(const n of As.values())Rs(n,e);return!0}function Ls(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Os(e){return null!=e&&void 0!==e.settings}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new ir("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class zs{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Sr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="12.6.0";function Bs(e,t={}){let n=e;if("object"!=typeof t){t={name:t}}const i={name:Es,automaticDataCollectionEnabled:!0,...t},r=i.name;if("string"!=typeof r||!r)throw Fs.create("bad-app-name",{appName:String(r)});if(n||(n=Oi()),!n)throw Fs.create("no-options");const s=Ps.get(r);if(s){if(fr(n,s.options)&&fr(i,s.config))return s;throw Fs.create("duplicate-app",{appName:r})}const a=new jr(r);for(const l of Ms.values())a.addComponent(l);const o=new zs(n,i,a);return Ps.set(r,o),o}function Vs(e=Es){const t=Ps.get(e);if(!t&&e===Es&&Oi())return Bs();if(!t)throw Fs.create("no-app",{appName:e});return t}function qs(e,t,n){let i=Is[e]??e;n&&(i+=`-${n}`);const r=i.match(/\s|\//),s=t.match(/\s|\//);if(r||s){const e=[`Unable to register library "${i}" with version "${t}":`];return r&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&s&&e.push("and"),s&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void ns.warn(e.join(" "))}Ds(new Sr(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="firebase-heartbeat-store";let Ws=null;function Hs(){return Ws||(Ws=Gr("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore($s)}catch(cZ){}}}).catch(e=>{throw Fs.create("idb-open",{originalErrorMessage:e.message})})),Ws}async function Gs(e,t){try{const n=(await Hs()).transaction($s,"readwrite"),i=n.objectStore($s);await i.put(t,Ks(e)),await n.done}catch(cZ){if(cZ instanceof nr)ns.warn(cZ.message);else{const t=Fs.create("idb-set",{originalErrorMessage:null==cZ?void 0:cZ.message});ns.warn(t.message)}}}function Ks(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Xs(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Qs();if(null==(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null==(t=this._heartbeatsCache)?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(e=>e.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let i=1;i<e.length;i++)e[i].date<n&&(n=e[i].date,t=i);return t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(cZ){ns.warn(cZ)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null==(e=this._heartbeatsCache)?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Qs(),{heartbeatsToSend:n,unsentEntries:i}=function(e,t=1024){const n=[];let i=e.slice();for(const r of e){const e=n.find(e=>e.agent===r.agent);if(e){if(e.dates.push(r.date),Js(n)>t){e.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Js(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}(this._heartbeatsCache.heartbeats),r=Ti(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(cZ){return ns.warn(cZ),""}}}function Qs(){return(new Date).toISOString().substring(0,10)}class Xs{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Zi()&&er().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Hs()).transaction($s),n=await t.objectStore($s).get(Ks(e));return await t.done,n}catch(cZ){if(cZ instanceof nr)ns.warn(cZ.message);else{const t=Fs.create("idb-get",{originalErrorMessage:null==cZ?void 0:cZ.message});ns.warn(t.message)}}}(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Gs(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return Gs(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function Js(e){return Ti(JSON.stringify({version:2,heartbeats:e})).length}var Zs;Zs="",Ds(new Sr("platform-logger",e=>new Zr(e),"PRIVATE")),Ds(new Sr("heartbeat",e=>new Ys(e),"PRIVATE")),qs(es,ts,Zs),qs(es,ts,"esm2020"),qs("fire-js","");const ea="@firebase/installations",ta="0.6.19",na=1e4,ia=`w:${ta}`,ra="FIS_v2",sa=36e5,aa=new ir("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function oa(e){return e instanceof nr&&e.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function ca(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ua(e,t){const n=(await t.json()).error;return aa.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function da({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function fa(e,{refreshToken:t}){const n=da(e);return n.append("Authorization",function(e){return`${ra} ${e}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)),n}async function ha(e){const t=await e();return t.status>=500&&t.status<600?e():t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ma(e){return new Promise(t=>{setTimeout(t,e)})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const pa=/^[cdef][\w-]{21}$/;function ga(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);return pa.test(t)?t:""}catch{return""}}function va(e){return`${e.appName}!${e.appId}`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya=new Map;function ba(e,t){const n=va(e);wa(n,t),function(e,t){const n=function(){!ka&&"BroadcastChannel"in self&&(ka=new BroadcastChannel("[Firebase] FID Change"),ka.onmessage=e=>{wa(e.data.key,e.data.fid)});return ka}();n&&n.postMessage({key:e,fid:t});0===ya.size&&ka&&(ka.close(),ka=null)}(n,t)}function wa(e,t){const n=ya.get(e);if(n)for(const i of n)i(t)}let ka=null;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const xa="firebase-installations-store";let _a=null;function Sa(){return _a||(_a=Gr("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(xa)}})),_a}async function Ca(e,t){const n=va(e),i=(await Sa()).transaction(xa,"readwrite"),r=i.objectStore(xa),s=await r.get(n);return await r.put(t,n),await i.done,s&&s.fid===t.fid||ba(e,t.fid),t}async function Na(e){const t=va(e),n=(await Sa()).transaction(xa,"readwrite");await n.objectStore(xa).delete(t),await n.done}async function ja(e,t){const n=va(e),i=(await Sa()).transaction(xa,"readwrite"),r=i.objectStore(xa),s=await r.get(n),a=t(s);return void 0===a?await r.delete(n):await r.put(a,n),await i.done,!a||s&&s.fid===a.fid||ba(e,a.fid),a}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ta(e){let t;const n=await ja(e.appConfig,n=>{const i=function(e){const t=e||{fid:ga(),registrationStatus:0};return Pa(t)}(n),r=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(aa.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},i=async function(e,t){try{const n=await async function({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const i=la(e),r=da(e),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const a={fid:n,authVersion:ra,appId:e.appId,sdkVersion:ia},o={method:"POST",headers:r,body:JSON.stringify(a)},l=await ha(()=>fetch(i,o));if(l.ok){const e=await l.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:ca(e.authToken)}}throw await ua("Create Installation",l)}(e,t);return Ca(e.appConfig,n)}catch(cZ){throw oa(cZ)&&409===cZ.customData.serverCode?await Na(e.appConfig):await Ca(e.appConfig,{fid:t.fid,registrationStatus:0}),cZ}}(e,n);return{installationEntry:n,registrationPromise:i}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Ea(e)}:{installationEntry:t}}(e,i);return t=r.registrationPromise,r.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Ea(e){let t=await Ia(e.appConfig);for(;1===t.registrationStatus;)await ma(100),t=await Ia(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Ta(e);return n||t}return t}function Ia(e){return ja(e,e=>{if(!e)throw aa.create("installation-not-found");return Pa(e)})}function Pa(e){return 1===(t=e).registrationStatus&&t.registrationTime+na<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}async function Aa({appConfig:e,heartbeatServiceProvider:t},n){const i=function(e,{fid:t}){return`${la(e)}/${t}/authTokens:generate`}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,n),r=fa(e,n),s=t.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&r.append("x-firebase-client",e)}const a={installation:{sdkVersion:ia,appId:e.appId}},o={method:"POST",headers:r,body:JSON.stringify(a)},l=await ha(()=>fetch(i,o));if(l.ok){return ca(await l.json())}throw await ua("Generate Auth Token",l)}async function Ma(e,t=!1){let n;const i=await ja(e.appConfig,i=>{if(!Da(i))throw aa.create("not-registered");const r=i.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+sa}(e)}(r))return i;if(1===r.requestStatus)return n=async function(e,t){let n=await Ra(e.appConfig);for(;1===n.authToken.requestStatus;)await ma(100),n=await Ra(e.appConfig);const i=n.authToken;return 0===i.requestStatus?Ma(e,t):i}(e,t),i;{if(!navigator.onLine)throw aa.create("app-offline");const t=function(e){const t={requestStatus:1,requestTime:Date.now()};return{...e,authToken:t}}(i);return n=async function(e,t){try{const n=await Aa(e,t),i={...t,authToken:n};return await Ca(e.appConfig,i),n}catch(cZ){if(!oa(cZ)||401!==cZ.customData.serverCode&&404!==cZ.customData.serverCode){const n={...t,authToken:{requestStatus:0}};await Ca(e.appConfig,n)}else await Na(e.appConfig);throw cZ}}(e,t),t}});return n?await n:i.authToken}function Ra(e){return ja(e,e=>{if(!Da(e))throw aa.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+na<Date.now()?{...e,authToken:{requestStatus:0}}:e;var n;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */})}function Da(e){return void 0!==e&&2===e.registrationStatus}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function La(e,t=!1){const n=e;await async function(e){const{registrationPromise:t}=await Ta(e);t&&await t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n);return(await Ma(n,t)).token}function Oa(e){return aa.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa="installations",za=e=>{const t=Ls(e.getProvider("app").getImmediate(),Fa).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:i}=await Ta(t);return i?i.catch(console.error):Ma(t).catch(console.error),n.fid}(t),getToken:e=>La(t,e)}};Ds(new Sr(Fa,e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Oa("App Configuration");if(!e.name)throw Oa("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Oa(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Ls(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),Ds(new Sr("installations-internal",za,"PRIVATE")),qs(ea,ta),qs(ea,ta,"esm2020");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ua="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ba="google.c.a.c_id",Va=1e4;var qa,$a,Wa;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ha(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ga(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),i=new Uint8Array(n.length);for(let r=0;r<n.length;++r)i[r]=n.charCodeAt(r);return i}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */($a=qa||(qa={}))[$a.DATA_MESSAGE=1]="DATA_MESSAGE",$a[$a.DISPLAY_NOTIFICATION=3]="DISPLAY_NOTIFICATION",function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Wa||(Wa={}));const Ka="fcm_token_details_db",Ya="fcm_token_object_Store";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Qa="firebase-messaging-store";let Xa=null;function Ja(){return Xa||(Xa=Gr("firebase-messaging-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Qa)}})),Xa}async function Za(e){const t=to(e),n=await Ja(),i=await n.transaction(Qa).objectStore(Qa).get(t);if(i)return i;{const t=await async function(e){if("databases"in indexedDB&&!(await indexedDB.databases()).map(e=>e.name).includes(Ka))return null;let t=null;return(await Gr(Ka,5,{upgrade:async(n,i,r,s)=>{if(i<2)return;if(!n.objectStoreNames.contains(Ya))return;const a=s.objectStore(Ya),o=await a.index("fcmSenderId").get(e);if(await a.clear(),o)if(2===i){const e=o;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:e.createTime??Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Ha(e.vapidKey)}}}else if(3===i){const e=o;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ha(e.auth),p256dh:Ha(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ha(e.vapidKey)}}}else if(4===i){const e=o;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Ha(e.auth),p256dh:Ha(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Ha(e.vapidKey)}}}}})).close(),await Kr(Ka),await Kr("fcm_vapid_details_db"),await Kr("undefined"),function(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}(t)?t:null}(e.appConfig.senderId);if(t)return await eo(e,t),t}}async function eo(e,t){const n=to(e),i=(await Ja()).transaction(Qa,"readwrite");return await i.objectStore(Qa).put(t,n),await i.done,t}function to({appConfig:e}){return e.appId}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=new ir("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function io({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}async function ro({appConfig:e,installations:t}){const n=await t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})}function so({p256dh:e,auth:t,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:t,p256dh:e}};return i!==Ua&&(r.web.applicationPubKey=i),r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(e){const t=await async function(e,t){const n=await e.pushManager.getSubscription();if(n)return n;return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ga(t)})}(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Ha(t.getKey("auth")),p256dh:Ha(t.getKey("p256dh"))},i=await Za(e.firebaseDependencies);if(i){if(function(e,t){const n=t.vapidKey===e.vapidKey,i=t.endpoint===e.endpoint,r=t.auth===e.auth,s=t.p256dh===e.p256dh;return n&&i&&r&&s}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(i.subscriptionOptions,n))return Date.now()>=i.createTime+6048e5?async function(e,t){try{const n=await async function(e,t){const n=await ro(e),i=so(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{const n=await fetch(`${io(e.appConfig)}/${t.token}`,r);s=await n.json()}catch(a){throw no.create("token-update-failed",{errorInfo:null==a?void 0:a.toString()})}if(s.error){const e=s.error.message;throw no.create("token-update-failed",{errorInfo:e})}if(!s.token)throw no.create("token-update-no-token");return s.token}(e.firebaseDependencies,t),i={...t,token:n,createTime:Date.now()};return await eo(e.firebaseDependencies,i),n}catch(cZ){throw cZ}}(e,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{await async function(e,t){const n={method:"DELETE",headers:await ro(e)};try{const i=await fetch(`${io(e.appConfig)}/${t}`,n),r=await i.json();if(r.error){const e=r.error.message;throw no.create("token-unsubscribe-failed",{errorInfo:e})}}catch(i){throw no.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}}(e.firebaseDependencies,i.token)}catch(cZ){}return oo(e.firebaseDependencies,n)}return oo(e.firebaseDependencies,n)}async function oo(e,t){const n=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */await async function(e,t){const n=await ro(e),i=so(t),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{const t=await fetch(io(e.appConfig),r);s=await t.json()}catch(a){throw no.create("token-subscribe-failed",{errorInfo:null==a?void 0:a.toString()})}if(s.error){const e=s.error.message;throw no.create("token-subscribe-failed",{errorInfo:e})}if(!s.token)throw no.create("token-subscribe-no-token");return s.token}(e,t),i={token:n,createTime:Date.now(),subscriptionOptions:t};return await eo(e,i),i.token}function lo(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const i=t.notification.body;i&&(e.notification.body=i);const r=t.notification.image;r&&(e.notification.image=r);const s=t.notification.icon;s&&(e.notification.icon=s)}(t,e),function(e,t){if(!t.data)return;e.data=t.data}(t,e),function(e,t){var n,i,r,s;if(!t.fcmOptions&&!(null==(n=t.notification)?void 0:n.click_action))return;e.fcmOptions={};const a=(null==(i=t.fcmOptions)?void 0:i.link)??(null==(r=t.notification)?void 0:r.click_action);a&&(e.fcmOptions.link=a);const o=null==(s=t.fcmOptions)?void 0:s.analytics_label;o&&(e.fcmOptions.analyticsLabel=o)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),t}function co(e){return no.create("missing-app-config-values",{valueName:e})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){if(!e||!e.options)throw co("App Configuration Object");if(!e.name)throw co("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const i of t)if(!n[i])throw co(i);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(e){try{e.swRegistration=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}),e.swRegistration.update().catch(()=>{}),await async function(e){return new Promise((t,n)=>{const i=setTimeout(()=>n(new Error("Service worker not registered after 10000 ms")),Va),r=e.installing||e.waiting;e.active?(clearTimeout(i),t()):r?r.onstatechange=e=>{var n;"activated"===(null==(n=e.target)?void 0:n.state)&&(r.onstatechange=null,clearTimeout(i),t())}:(clearTimeout(i),n(new Error("No incoming service worker found.")))})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.swRegistration)}catch(cZ){throw no.create("failed-service-worker-registration",{browserErrorMessage:null==cZ?void 0:cZ.message})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function ho(e,t){if(!navigator)throw no.create("only-available-in-window");if("default"===Notification.permission&&await Notification.requestPermission(),"granted"!==Notification.permission)throw no.create("permission-blocked");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return await async function(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ua)}(e,null==t?void 0:t.vapidKey),await async function(e,t){if(t||e.swRegistration||await fo(e),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw no.create("invalid-sw-registration");e.swRegistration=t}}(e,null==t?void 0:t.serviceWorkerRegistration),ao(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(e,t,n){const i=function(e){switch(e){case Wa.NOTIFICATION_CLICKED:return"notification_open";case Wa.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);(await e.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Ba],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})}async function po(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Wa.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(lo(n)):e.onMessageHandler.next(lo(n)));const i=n.data;var r;"object"==typeof(r=i)&&r&&Ba in r&&"1"===i["google.c.a.e"]&&await mo(e,n.messageType,i)}const go="@firebase/messaging",vo="0.12.23",yo=e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>ho(t,e)}};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function bo(){try{await er()}catch(cZ){return!1}return"undefined"!=typeof window&&Zi()&&tr()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(e,t){return function(e,t){if(!navigator)throw no.create("only-available-in-window");return e.onMessageHandler=t,()=>{e.onMessageHandler=null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e=_r(e),t)}Ds(new Sr("messaging",e=>{const t=new uo(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>po(t,e)),t},"PUBLIC")),Ds(new Sr("messaging-internal",yo,"PRIVATE")),qs(go,vo),qs(go,vo,"esm2020");
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
qs("firebase","12.7.0","app");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ko="analytics",xo="https://www.googletagmanager.com/gtag/js",_o=new Rr("@firebase/analytics"),So=new ir("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Co(e){if(!e.startsWith(xo)){const t=So.create("invalid-gtag-resource",{gtagURL:e});return _o.warn(t.message),""}return e}function No(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function jo(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:Co}),i=document.createElement("script"),r=`${xo}?l=${e}&id=${t}`;i.src=n?null==n?void 0:n.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}function To(e,t,n,i){return async function(r,...s){try{if("event"===r){const[i,r]=s;await async function(e,t,n,i,r){try{let s=[];if(r&&r.send_to){let e=r.send_to;Array.isArray(e)||(e=[e]);const i=await No(n);for(const n of e){const e=i.find(e=>e.measurementId===n),r=e&&t[e.appId];if(!r){s=[];break}s.push(r)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",i,r||{})}catch(cZ){_o.error(cZ)}}(e,t,n,i,r)}else if("config"===r){const[r,a]=s;await async function(e,t,n,i,r,s){const a=i[r];try{if(a)await t[a];else{const e=(await No(n)).find(e=>e.measurementId===r);e&&await t[e.appId]}}catch(cZ){_o.error(cZ)}e("config",r,s)}(e,t,n,i,r,a)}else if("consent"===r){const[t,n]=s;e("consent",t,n)}else if("get"===r){const[t,n,i]=s;e("get",t,n,i)}else if("set"===r){const[t]=s;e("set",t)}else e(r,...s)}catch(cZ){_o.error(cZ)}}}const Eo=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Io(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Po(e,t=Eo,n){const{appId:i,apiKey:r,measurementId:s}=e.options;if(!i)throw So.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw So.create("no-api-key")}const a=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Mo;return setTimeout(async()=>{o.abort()},6e4),Ao({appId:i,apiKey:r,measurementId:s},a,o,t)}async function Ao(e,{throttleEndTimeMillis:t,backoffCount:n},i,r=Eo){var s;const{appId:a,measurementId:o}=e;try{await function(e,t){return new Promise((n,i)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(s),i(So.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(i,t)}catch(cZ){if(o)return _o.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==cZ?void 0:cZ.message}]`),{appId:a,measurementId:o};throw cZ}try{const t=await async function(e){var t;const{appId:n,apiKey:i}=e,r={method:"GET",headers:Io(i)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,r);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null==(t=n.error)?void 0:t.message)&&(e=n.error.message)}catch(o){}throw So.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return r.deleteThrottleMetadata(a),t}catch(cZ){const l=cZ;if(!function(e){if(!(e instanceof nr&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(l)){if(r.deleteThrottleMetadata(a),o)return _o.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:a,measurementId:o};throw cZ}const c=503===Number(null==(s=null==l?void 0:l.customData)?void 0:s.httpStatus)?xr(n,r.intervalMillis,30):xr(n,r.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return r.setThrottleMetadata(a,u),_o.debug(`Calling attemptFetch again in ${c} millis`),Ao(e,u,i,r)}}class Mo{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Ro(e,t,n,i,r,s,a){const o=Po(e);o.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&_o.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>_o.error(e)),t.push(o);const l=
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(){if(!Zi())return _o.warn(So.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await er()}catch(cZ){return _o.warn(So.create("indexeddb-unavailable",{errorInfo:null==cZ?void 0:cZ.toString()}).message),!1}return!0}().then(e=>e?i.getId():void 0),[c,u]=await Promise.all([o,l]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(xo)&&n.src.includes(e))return n;return null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(s)||jo(s,c.measurementId),r("js",new Date);const d=(null==a?void 0:a.config)??{};return d.origin="firebase",d.update=!0,null!=u&&(d.firebase_id=u),r("config",c.measurementId,d),c.measurementId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.app=e}_delete(){return delete Lo[this.app.options.appId],Promise.resolve()}}let Lo={},Oo=[];const Fo={};let zo,Uo,Bo="dataLayer",Vo=!1;function qo(e,t,n){!function(){const e=[];if(Yi()&&e.push("This is a browser extension environment."),tr()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=So.create("invalid-analytics-context",{errorInfo:t});_o.warn(n.message)}}();const i=e.options.appId;if(!i)throw So.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw So.create("no-api-key");_o.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Lo[i])throw So.create("already-exists",{id:i});if(!Vo){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Bo);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,i,r){let s=function(...e){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=To(s,e,t,n),{gtagCore:s,wrappedGtag:window[r]}}(Lo,Oo,Fo,Bo,"gtag");Uo=e,zo=t,Vo=!0}Lo[i]=Ro(e,Oo,Fo,t,zo,Bo,n);return new Do(e)}function $o(e,t,n){e=_r(e),async function(e,t,n,i){if(i&&i.global){const t={};for(const e of Object.keys(n))t[`user_properties.${e}`]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(Uo,Lo[e.app.options.appId],t,n).catch(e=>_o.error(e))}const Wo="@firebase/analytics",Ho="0.10.19";function Go(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}Ds(new Sr(ko,(e,{options:t})=>qo(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),Ds(new Sr("analytics-internal",function(e){try{const t=e.getProvider(ko).getImmediate();return{logEvent:(e,n,i)=>function(e,t,n,i){e=_r(e),async function(e,t,n,i,r){if(r&&r.global)e("event",n,i);else{const r=await t;e("event",n,{...i,send_to:r})}}(Uo,Lo[e.app.options.appId],t,n,i).catch(e=>_o.error(e))}(t,e,n,i),setUserProperties:(e,n)=>$o(t,e,n)}}catch(cZ){throw So.create("interop-component-reg-failed",{reason:cZ})}},"PRIVATE")),qs(Wo,Ho),qs(Wo,Ho,"esm2020");const Ko=Go,Yo=new ir("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qo=new Rr("@firebase/auth");function Xo(e,...t){Qo.logLevel<=Tr.ERROR&&Qo.error(`Auth (${Us}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jo(e,...t){throw nl(e,...t)}function Zo(e,...t){return nl(e,...t)}function el(e,t,n){const i={...Ko(),[t]:n};return new ir("auth","Firebase",i).create(t,{appName:e.name})}function tl(e){return el(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nl(e,...t){if("string"!=typeof e){const n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return Yo.create(e,...t)}function il(e,t,...n){if(!e)throw nl(t,...n)}function rl(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Xo(t),new Error(t)}function sl(e,t){e||rl(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.href)||""}function ol(){var e;return"undefined"!=typeof self&&(null==(e=self.location)?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==ol()&&"https:"!==ol()&&!Yi()&&!("connection"in navigator)||navigator.onLine}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class cl{constructor(e,t){this.shortDelay=e,this.longDelay=t,sl(t>e,"Short delay should be less than long delay!"),this.isMobile=Gi()||Qi()}get(){return ll()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ul(e,t){sl(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void rl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void rl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void rl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},hl=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ml=new cl(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function gl(e,t,n,i,r={}){return vl(e,r,async()=>{let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const a=mr({key:e.config.apiKey,...s}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:o,...r};return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Ui(e.emulatorConfig.host)&&(l.credentials="include"),dl.fetch()(await bl(e,e.config.apiHost,n,a),l)})}async function vl(e,t,n){e._canInitEmulator=!1;const i={...fl,...t};try{const t=new kl(e),r=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await r.json();if("needConfirmation"in s)throw xl(e,"account-exists-with-different-credential",s);if(r.ok&&!("errorMessage"in s))return s;{const t=r.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw xl(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw xl(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw xl(e,"user-disabled",s);const o=i[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw el(e,o,a);Jo(e,o)}}catch(cZ){if(cZ instanceof nr)throw cZ;Jo(e,"network-request-failed",{message:String(cZ)})}}async function yl(e,t,n,i,r={}){const s=await gl(e,t,n,i,r);return"mfaPendingCredential"in s&&Jo(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function bl(e,t,n,i){const r=`${t}${n}?${i}`,s=e,a=s.config.emulator?ul(e.config,r):`${e.config.apiScheme}://${r}`;if(hl.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(a).toString()}return a}function wl(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kl{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Zo(this.auth,"network-request-failed")),ml.get())})}}function xl(e,t,n){const i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=Zo(e,t,i);return r.customData._tokenResponse=n,r}function _l(e){return void 0!==e&&void 0!==e.enterprise}class Sl{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wl(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Cl(e,t){return gl(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nl(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(cZ){}}function jl(e){return 1e3*Number(e)}function Tl(e){const[t,n,i]=e.split(".");if(void 0===t||void 0===n||void 0===i)return Xo("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ei(n);return e?JSON.parse(e):(Xo("Failed to decode base64 JWT payload"),null)}catch(cZ){return Xo("Caught error parsing JWT payload as JSON",null==cZ?void 0:cZ.toString()),null}}function El(e){const t=Tl(e);return il(t,"internal-error"),il(void 0!==t.exp,"internal-error"),il(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(e,t,n=!1){if(n)return t;try{return await t}catch(cZ){throw cZ instanceof nr&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(cZ)&&e.auth.currentUser===e&&await e.auth.signOut(),cZ}}class Pl{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(cZ){return void("auth/network-request-failed"===(null==cZ?void 0:cZ.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Nl(this.lastLoginAt),this.creationTime=Nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ml(e){var t;const n=e.auth,i=await e.getIdToken(),r=await Il(e,Cl(n,{idToken:i}));il(null==r?void 0:r.users.length,n,"internal-error");const s=r.users[0];e._notifyReloadListener(s);const a=(null==(t=s.providerUserInfo)?void 0:t.length)?Rl(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash||(null==o?void 0:o.length)),f=!!u&&d,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Al(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(e,h)}function Rl(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){il(e.idToken,"internal-error"),il(void 0!==e.idToken,"internal-error"),il(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):El(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){il(0!==e.length,"internal-error");const t=El(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(il(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:i,expiresIn:r}=await async function(e,t){const n=await vl(e,{},async()=>{const n=mr({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:r}=e.config,s=await bl(e,i,"/v1/token",`key=${r}`),a=await e._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:a,body:n};return e.emulatorConfig&&Ui(e.emulatorConfig.host)&&(o.credentials="include"),dl.fetch()(s,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,i,Number(r))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:i,expirationTime:r}=t,s=new Dl;return n&&(il("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),i&&(il("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),r&&(il("number"==typeof r,"internal-error",{appName:e}),s.expirationTime=r),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return rl("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ll(e,t){il("string"==typeof e||void 0===e,"internal-error",{appName:t})}class Ol{constructor({uid:e,auth:t,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Pl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Al(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Il(this,this.stsTokenManager.getToken(this.auth,e));return il(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const n=_r(e),i=await n.getIdToken(t),r=Tl(i);il(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s="object"==typeof r.firebase?r.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:Nl(jl(r.auth_time)),issuedAtTime:Nl(jl(r.iat)),expirationTime:Nl(jl(r.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=_r(e);await Ml(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(il(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ol({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){il(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ml(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Os(this.auth.app))return Promise.reject(tl(this.auth));const e=await this.getIdToken();return await Il(this,
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function(e,t){return gl(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const n=t.displayName??void 0,i=t.email??void 0,r=t.phoneNumber??void 0,s=t.photoURL??void 0,a=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:u,emailVerified:d,isAnonymous:f,providerData:h,stsTokenManager:m}=t;il(u&&m,e,"internal-error");const p=Dl.fromJSON(this.name,m);il("string"==typeof u,e,"internal-error"),Ll(n,e.name),Ll(i,e.name),il("boolean"==typeof d,e,"internal-error"),il("boolean"==typeof f,e,"internal-error"),Ll(r,e.name),Ll(s,e.name),Ll(a,e.name),Ll(o,e.name),Ll(l,e.name),Ll(c,e.name);const g=new Ol({uid:u,auth:e,email:i,emailVerified:d,displayName:n,isAnonymous:f,photoURL:s,phoneNumber:r,tenantId:a,stsTokenManager:p,createdAt:l,lastLoginAt:c});return h&&Array.isArray(h)&&(g.providerData=h.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t,n=!1){const i=new Dl;i.updateFromServerResponse(t);const r=new Ol({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await Ml(r),r}static async _fromGetAccountInfoResponse(e,t,n){const i=t.users[0];il(void 0!==i.localId,"internal-error");const r=void 0!==i.providerUserInfo?Rl(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||(null==r?void 0:r.length)),a=new Dl;a.updateFromIdToken(n);const o=new Ol({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Al(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||(null==r?void 0:r.length))};return Object.assign(o,l),o}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map;function zl(e){sl(e instanceof Function,"Expected a class definition");let t=Fl.get(e);return t?(sl(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Fl.set(e,t),t)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Ul.type="NONE";const Bl=Ul;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(e,t,n){return`firebase:${e}:${t}:${n}`}class ql{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:i,name:r}=this.auth;this.fullUserKey=Vl(this.userKey,i.apiKey,r),this.fullPersistenceKey=Vl("persistence",i.apiKey,r),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await Cl(this.auth,{idToken:e}).catch(()=>{});return t?Ol._fromGetAccountInfoResponse(this.auth,t,e):null}return Ol._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new ql(zl(Bl),e,n);const i=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let r=i[0]||zl(Bl);const s=Vl(n,e.config.apiKey,e.name);let a=null;for(const l of t)try{const t=await l._get(s);if(t){let n;if("string"==typeof t){const i=await Cl(e,{idToken:t}).catch(()=>{});if(!i)break;n=await Ol._fromGetAccountInfoResponse(e,i,t)}else n=Ol._fromJSON(e,t);l!==r&&(a=n),r=l;break}}catch{}const o=i.filter(e=>e._shouldAllowMigration);return r._shouldAllowMigration&&o.length?(r=o[0],a&&await r._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==r)try{await e._remove(s)}catch{}})),new ql(r,e,n)):new ql(r,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Kl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ql(t))return"Blackberry";if(Xl(t))return"Webos";if(Hl(t))return"Safari";if((t.includes("chrome/")||Gl(t))&&!t.includes("edge/"))return"Chrome";if(Yl(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Wl(e=Hi()){return/firefox\//i.test(e)}function Hl(e=Hi()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gl(e=Hi()){return/crios\//i.test(e)}function Kl(e=Hi()){return/iemobile/i.test(e)}function Yl(e=Hi()){return/android/i.test(e)}function Ql(e=Hi()){return/blackberry/i.test(e)}function Xl(e=Hi()){return/webos/i.test(e)}function Jl(e=Hi()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Zl(){return function(){const e=Hi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function ec(e=Hi()){return Jl(e)||Yl(e)||Xl(e)||Ql(e)||/windows phone/i.test(e)||Kl(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(e,t=[]){let n;switch(e){case"Browser":n=$l(Hi());break;case"Worker":n=`${$l(Hi())}-${e}`;break;default:n=e}const i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Us}/${i}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,i)=>{try{n(e(t))}catch(cZ){i(cZ)}});n.onAbort=t,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(cZ){t.reverse();for(const i of t)try{i()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==cZ?void 0:cZ.message})}}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e){var t;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),void 0!==n.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),void 0!==n.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),void 0!==n.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),void 0!==n.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(null==(t=e.allowedNonAlphanumericCharacters)?void 0:t.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t,n,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ac(this),this.idTokenSubscription=new ac(this),this.beforeStateQueue=new nc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zl(t)),this._initializationPromise=this.queue(async()=>{var n,i,r;if(!this._deleted&&(this.persistenceManager=await ql.create(this,e),null==(n=this._resolvePersistenceManagerAvailable)||n.call(this),!this._deleted)){if(null==(i=this._popupRedirectResolver)?void 0:i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(cZ){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null==(r=this.currentUser)?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Cl(this,{idToken:e}),n=await Ol._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Os(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null==(t=this.redirectUser)?void 0:t._redirectEventId,s=null==i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null==a?void 0:a.user)||(i=a.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(cZ){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(cZ))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return il(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(cZ){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ml(e)}catch(cZ){if("auth/network-request-failed"!==(null==cZ?void 0:cZ.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Os(this.app))return Promise.reject(tl(this));const t=e?_r(e):null;return t&&il(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&il(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Os(this.app)?Promise.reject(tl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Os(this.app)?Promise.reject(tl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zl(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return gl(e,"GET","/v2/passwordPolicy",pl(e,t))}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this),t=new ic(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ir("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return gl(e,"POST","/v2/accounts:revokeToken",pl(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null==(e=this._currentUser)?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zl(e)||this._popupRedirectResolver;il(t,this,"argument-error"),this.redirectPersistenceManager=await ql.create(this,[zl(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null==(t=this._currentUser)?void 0:t._redirectEventId)===e?this._currentUser:(null==(n=this.redirectUser)?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=(null==(e=this.currentUser)?void 0:e.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,i){if(this._deleted)return()=>{};const r="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(il(a,this,"internal-error"),a.then(()=>{s||r(this.currentUser)}),"function"==typeof t){const r=e.addObserver(t,n,i);return()=>{s=!0,r()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return il(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tc(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null==(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null==(e=this.appCheckServiceProvider.getImmediate({optional:!0}))?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){Qo.logLevel<=Tr.WARN&&Qo.warn(`Auth (${Us}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}function sc(e){return _r(e)}class ac{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new yr(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return il(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lc(e){return oc.loadJS(e)}class cc{constructor(){this.enterprise=new uc}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class uc{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const dc="NO_RECAPTCHA";class fc{constructor(e){this.type="recaptcha-enterprise",this.auth=sc(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{(async function(e,t){return gl(e,"GET","/v2/recaptchaConfig",pl(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(i=>{if(void 0!==i.recaptchaKey){const n=new Sl(i);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})}function i(t,n,i){const r=window.grecaptcha;_l(r)?r.enterprise.ready(()=>{r.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(dc)})}):i(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new cc).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{n(this.auth).then(n=>{if(!t&&_l(window.grecaptcha))i(n,e,r);else{if("undefined"==typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=oc.recaptchaEnterpriseScript;0!==t.length&&(t+=n),lc(t).then(()=>{i(n,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function hc(e,t,n,i=!1,r=!1){const s=new fc(e);let a;if(r)a=dc;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o={...t};if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return i?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function mc(e,t,n,i,r){var s;if(null==(s=e._getRecaptchaConfig())?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const r=await hc(e,t,n,"getOobCode"===n);return i(e,r)}return i(e,t).catch(async r=>{if("auth/missing-recaptcha-token"===r.code){const r=await hc(e,t,n,"getOobCode"===n);return i(e,r)}return Promise.reject(r)})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(e,t,n){const i=sc(e);il(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=gc(t),{host:s,port:a}=function(e){const t=gc(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const e=r[1];return{host:e,port:vc(i.substr(e.length+1))}}{const[e,t]=i.split(":");return{host:e,port:vc(t)}}}(t),o=null===a?"":`:${a}`,l={url:`${r}//${s}${o}/`},c=Object.freeze({host:s,port:a,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!i._canInitEmulator)return il(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),void il(fr(l,i.config.emulator)&&fr(c,i.emulatorConfig),i,"emulator-config-failed");i.config.emulator=l,i.emulatorConfig=c,i.settings.appVerificationDisabledForTesting=!0,Ui(s)?(Bi(`${r}//${s}${o}`),Wi("Auth",!0)):function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */()}function gc(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function vc(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class yc{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return rl("not implemented")}_getIdTokenResponse(e){return rl("not implemented")}_linkToIdToken(e,t){return rl("not implemented")}_getReauthenticationResolver(e){return rl("not implemented")}}async function bc(e,t){return gl(e,"POST","/v1/accounts:signUp",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(e,t){return yl(e,"POST","/v1/accounts:signInWithPassword",pl(e,t))}async function kc(e,t){return async function(e,t){return gl(e,"POST","/v1/accounts:sendOobCode",pl(e,t))}(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class xc extends yc{constructor(e,t,n,i=null){super("password",n),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new xc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new xc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return mc(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",wc);case"emailLink":return async function(e,t){return yl(e,"POST","/v1/accounts:signInWithEmailLink",pl(e,t))}(e,{email:this._email,oobCode:this._password});default:Jo(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return mc(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",bc);case"emailLink":return async function(e,t){return yl(e,"POST","/v1/accounts:signInWithEmailLink",pl(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Jo(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(e,t){return yl(e,"POST","/v1/accounts:signInWithIdp",pl(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends yc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Jo("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:i,...r}=t;if(!n||!i)return null;const s=new Sc(n,i);return s.idToken=r.idToken||void 0,s.accessToken=r.accessToken||void 0,s.secret=r.secret,s.nonce=r.nonce,s.pendingToken=r.pendingToken||null,s}_getIdTokenResponse(e){return _c(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,_c(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_c(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mr(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){const t=pr(gr(e)),n=t.apiKey??null,i=t.oobCode??null,r=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);il(n&&i&&r,"argument-error"),this.apiKey=n,this.operation=r,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=pr(gr(e)).link,n=t?pr(gr(t)).deep_link_id:null,i=pr(gr(e)).deep_link_id;return(i?pr(gr(i)).link:null)||i||n||t||e}(e);try{return new Cc(t)}catch{return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.providerId=Nc.PROVIDER_ID}static credential(e,t){return xc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Cc.parseLink(t);return il(n,"argument-error"),xc._fromEmailAndCode(e,n.code,n.tenantId)}}Nc.PROVIDER_ID="password",Nc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Nc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class jc{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc extends jc{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends Tc{constructor(){super("facebook.com")}static credential(e){return Sc._fromParams({providerId:Ec.PROVIDER_ID,signInMethod:Ec.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ec.credentialFromTaggedObject(e)}static credentialFromError(e){return Ec.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Ec.credential(e.oauthAccessToken)}catch{return null}}}Ec.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ec.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ic extends Tc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Sc._fromParams({providerId:Ic.PROVIDER_ID,signInMethod:Ic.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ic.credentialFromTaggedObject(e)}static credentialFromError(e){return Ic.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return Ic.credential(t,n)}catch{return null}}}Ic.GOOGLE_SIGN_IN_METHOD="google.com",Ic.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Pc extends Tc{constructor(){super("github.com")}static credential(e){return Sc._fromParams({providerId:Pc.PROVIDER_ID,signInMethod:Pc.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pc.credentialFromTaggedObject(e)}static credentialFromError(e){return Pc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Pc.credential(e.oauthAccessToken)}catch{return null}}}Pc.GITHUB_SIGN_IN_METHOD="github.com",Pc.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ac extends Tc{constructor(){super("twitter.com")}static credential(e,t){return Sc._fromParams({providerId:Ac.PROVIDER_ID,signInMethod:Ac.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ac.credentialFromTaggedObject(e)}static credentialFromError(e){return Ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return Ac.credential(t,n)}catch{return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Mc(e,t){return yl(e,"POST","/v1/accounts:signUp",pl(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ac.TWITTER_SIGN_IN_METHOD="twitter.com",Ac.PROVIDER_ID="twitter.com";class Rc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,i=!1){const r=await Ol._fromIdTokenResponse(e,n,i),s=Dc(n);return new Rc({user:r,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const i=Dc(n);return new Rc({user:e,providerId:i,_tokenResponse:n,operationType:t})}}function Dc(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc extends nr{constructor(e,t,n,i){super(t.code,t.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,Lc.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,i){return new Lc(e,t,n,i)}}function Oc(e,t,n,i){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Lc._fromErrorAndOperation(e,n,t,i);throw n})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function Fc(e,t,n=!1){const{auth:i}=e;if(Os(i.app))return Promise.reject(tl(i));const r="reauthenticate";try{const s=await Il(e,Oc(i,r,t,e),n);il(s.idToken,i,"internal-error");const a=Tl(s.idToken);il(a,i,"internal-error");const{sub:o}=a;return il(e.uid===o,i,"user-mismatch"),Rc._forOperation(e,r,s)}catch(cZ){throw"auth/user-not-found"===(null==cZ?void 0:cZ.code)&&Jo(i,"user-mismatch"),cZ}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zc(e,t,n=!1){if(Os(e.app))return Promise.reject(tl(e));const i="signIn",r=await Oc(e,i,t),s=await Rc._fromIdTokenResponse(e,i,r);return n||await e._updateCurrentUser(s.user),s}async function Uc(e,t){return Fc(_r(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bc(e){const t=sc(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Vc(e,t,n){return Os(e.app)?Promise.reject(tl(e)):async function(e,t){return zc(sc(e),t)}(_r(e),Nc.credential(t,n)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Bc(e),t})}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function qc(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const i=_r(e),r={idToken:await i.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=await Il(i,async function(e,t){return gl(e,"POST","/v1/accounts:update",t)}(i.auth,r));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(s)}async function $c(e,t,n){const{auth:i}=e,r={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(r.email=t),n&&(r.password=n);const s=await Il(e,async function(e,t){return gl(e,"POST","/v1/accounts:update",t)}(i,r));await e._updateTokensIfNecessary(s,!0)}const Wc="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc extends Hc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ec(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),i=this.localCache[t];n!==i&&e(t,i,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},r=this.storage.getItem(n);Zl()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gc.type="LOCAL";const Kc=Gc;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc extends Hc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Yc.type="SESSION";const Qc=Yc;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Xc(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:i,data:r}=t.data,s=this.handlersMap[i];if(!(null==s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const a=Array.from(s).map(async e=>e(t.origin,r)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Jc(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xc.receivers=[];class Zc{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const i="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,s;return new Promise((a,o)=>{const l=Jc("",20);i.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),r=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(t.data.response);break;default:clearTimeout(c),clearTimeout(r),o(new Error("invalid_response"))}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(){return window}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tu(){return void 0!==eu().WorkerGlobalScope&&"function"==typeof eu().importScripts}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const nu="firebaseLocalStorageDb",iu="firebaseLocalStorage",ru="fbase_key";class su{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function au(e,t){return e.transaction([iu],t?"readwrite":"readonly").objectStore(iu)}function ou(){const e=indexedDB.open(nu,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(iu,{keyPath:ru})}catch(cZ){n(cZ)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(iu)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(nu);return new su(e).toPromise()}(),t(await ou()))})})}async function lu(e,t,n){const i=au(e,!0).put({[ru]:t,value:n});return new su(i).toPromise()}function cu(e,t){const n=au(e,!0).delete(t);return new su(n).toPromise()}class uu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await ou()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(cZ){if(t++>3)throw cZ;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xc._getInstance(tu()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new Zc(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null==(e=n[0])?void 0:e.fulfilled)&&(null==(t=n[0])?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null==(t=null==navigator?void 0:navigator.serviceWorker)?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ou();return await lu(e,Wc,"1"),await cu(e,Wc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>lu(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=au(e,!1).get(t),i=await new su(n).toPromise();return void 0===i?null:i.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>cu(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=au(e,!1).getAll();return new su(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:i,value:r}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}uu.type="LOCAL";const du=uu;new cl(3e4,6e4);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class fu extends yc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _c(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _c(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _c(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function hu(e){return zc(e.auth,new fu(e),e.bypassAuthState)}function mu(e){const{auth:t,user:n}=e;return il(n,t,"internal-error"),Fc(n,new fu(e),e.bypassAuthState)}async function pu(e){const{auth:t,user:n}=e;return il(n,t,"internal-error"),async function(e,t,n=!1){const i=await Il(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Rc._forOperation(e,"link",i)}(n,new fu(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t,n,i,r=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(cZ){this.reject(cZ)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:i,tenantId:r,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(cZ){this.reject(cZ)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return hu;case"linkViaPopup":case"linkViaRedirect":return pu;case"reauthViaPopup":case"reauthViaRedirect":return mu;default:Jo(this.auth,"internal-error")}}resolve(e){sl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new cl(2e3,1e4);class yu extends gu{constructor(e,t,n,i,r){super(e,t,i,r),this.provider=n,this.authWindow=null,this.pollId=null,yu.currentPopupAction&&yu.currentPopupAction.cancel(),yu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return il(e,this.auth,"internal-error"),e}async onExecution(){sl(1===this.filter.length,"Popup operations only handle one event");const e=Jc();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Zo(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null==(e=this.authWindow)?void 0:e.associatedEvent)||null}cancel(){this.reject(Zo(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,yu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null==(n=null==(t=this.authWindow)?void 0:t.window)?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zo(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,vu.get())};e()}}yu.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const bu="pendingRedirect",wu=new Map;class ku extends gu{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=wu.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=function(e){return Vl(bu,e.config.apiKey,e.name)}(t),i=function(e){return zl(e._redirectPersistence)}(e);if(!(await i._isAvailable()))return!1;const r="true"===await i._get(n);return await i._remove(n),r}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(cZ){e=()=>Promise.reject(cZ)}wu.set(this.auth._key(),e)}return this.bypassAuthState||wu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function xu(e,t){wu.set(e._key(),t)}async function _u(e,t,n=!1){if(Os(e.app))return Promise.reject(tl(e));const i=sc(e),r=
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){return t?zl(t):(il(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}(i,t),s=new ku(i,r,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await i._persistUserIfCurrent(a.user),await i._setRedirectUser(null,t)),a}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nu(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Nu(e)){const i=(null==(n=e.error.code)?void 0:n.split("auth/")[1])||"internal-error";t.onError(Zo(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cu(e))}saveEventToCache(e){this.cachedEventUids.add(Cu(e)),this.lastProcessedEventTime=Date.now()}}function Cu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Nu({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ju=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tu=/^https?/;async function Eu(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return gl(e,"GET","/v1/projects",t)}(e);for(const n of t)try{if(Iu(n))return}catch{}Jo(e,"unauthorized-domain")}function Iu(e){const t=al(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){const r=new URL(e);return""===r.hostname&&""===i?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&r.hostname===i}if(!Tu.test(n))return!1;if(ju.test(e))return i===e;const r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu=new cl(3e4,6e4);function Au(){const e=eu().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Mu(e){return new Promise((t,n)=>{var i,r,s;function a(){Au(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Au(),n(Zo(e,"network-request-failed"))},timeout:Pu.get()})}if(null==(r=null==(i=eu().gapi)?void 0:i.iframes)?void 0:r.Iframe)t(gapi.iframes.getContext());else{if(!(null==(s=eu().gapi)?void 0:s.load)){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return eu()[t]=()=>{gapi.load?a():n(Zo(e,"network-request-failed"))},lc(`${oc.gapiScript}?onload=${t}`).catch(e=>n(e))}a()}}).catch(e=>{throw Ru=null,e})}let Ru=null;
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Du=new cl(5e3,15e3),Lu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ou=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fu(e){const t=e.config;il(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ul(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,i={apiKey:t.apiKey,appName:e.name,v:Us},r=Ou.get(e.config.apiHost);r&&(i.eid=r);const s=e._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${mr(i).slice(1)}`}async function zu(e){const t=await function(e){return Ru=Ru||Mu(e),Ru}(e),n=eu().gapi;return il(n,e,"internal-error"),t.open({where:document.body,url:Fu(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lu,dontclear:!0},t=>new Promise(async(n,i)=>{await t.restyle({setHideOnLeave:!1});const r=Zo(e,"network-request-failed"),s=eu().setTimeout(()=>{i(r)},Du.get());function a(){eu().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{i(r)})}))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bu{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(cZ){}}}function Vu(e,t,n,i=500,r=600){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),a=Math.max((window.screen.availWidth-i)/2,0).toString();let o="";const l={...Uu,width:i.toString(),height:r.toString(),top:s,left:a},c=Hi().toLowerCase();n&&(o=Gl(c)?"_blank":n),Wl(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=Hi()){var t;return Jl(e)&&!!(null==(t=window.navigator)?void 0:t.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t||"",o),new Bu(null);const d=window.open(t||"",o,u);il(d,e,"popup-blocked");try{d.focus()}catch(cZ){}return new Bu(d)}const qu="__/auth/handler",$u="emulator/auth/handler",Wu=encodeURIComponent("fac");async function Hu(e,t,n,i,r,s){il(e.config.authDomain,e,"auth-domain-config-required"),il(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Us,eventId:r};if(t instanceof jc){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",ur(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))a[e]=t}if(t instanceof Tc){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Wu}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${qu}`;return ul(e,$u)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e)}?${mr(o).slice(1)}${c}`}const Gu="webStorageSupport";const Ku=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qc,this._completeRedirectFn=_u,this._overrideRedirectResult=xu}async _openPopup(e,t,n,i){var r;sl(null==(r=this.eventManagers[e._key()])?void 0:r.manager,"_initialize() not called before _openPopup()");return Vu(e,await Hu(e,t,n,al(),i),Jc())}async _openRedirect(e,t,n,i){await this._originValidation(e);return function(e){eu().location.href=e}(await Hu(e,t,n,al(),i)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(sl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await zu(e),n=new Su(e);return t.register("authEvent",t=>{il(null==t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gu,{type:Gu},n=>{var i;const r=null==(i=null==n?void 0:n[0])?void 0:i[Gu];void 0!==r&&t(!!r),Jo(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Eu(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ec()||Hl()||Jl()}};var Yu="@firebase/auth",Qu="1.12.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xu{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null==(e=this.auth.currentUser)?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){il(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ju=Fi("authIdTokenMaxAge")||300;let Zu=null;var ed;oc={loadJS:e=>new Promise((t,n)=>{const i=document.createElement("script");var r;i.setAttribute("src",e),i.onload=t,i.onerror=e=>{const t=Zo("internal-error");t.customData=e,n(t)},i.type="text/javascript",i.charset="UTF-8",((null==(r=document.getElementsByTagName("head"))?void 0:r[0])??document).appendChild(i)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},ed="Browser",Ds(new Sr("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;il(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const o={apiKey:s,authDomain:a,clientPlatform:ed,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tc(ed)},l=new rc(n,i,r,o);return function(e,t){const n=(null==t?void 0:t.persistence)||[],i=(Array.isArray(n)?n:[n]).map(zl);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,null==t?void 0:t.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Ds(new Sr("auth-internal",e=>{const t=sc(e.getProvider("auth").getImmediate());return new Xu(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),qs(Yu,Qu,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(ed)),qs(Yu,Qu,"esm2020");var td,nd,id="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e;
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const i=Array(16);if("string"==typeof t)for(var r=0;r<16;++r)i[r]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(r=0;r<16;++r)i[r]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],r=e.g[2];let s,a=e.g[3];s=t+(a^n&(r^a))+i[0]+3614090360&4294967295,s=a+(r^(t=n+(s<<7&4294967295|s>>>25))&(n^r))+i[1]+3905402710&4294967295,a=t+(s<<12&4294967295|s>>>20),s=r+(n^a&(t^n))+i[2]+606105819&4294967295,s=n+(t^(r=a+(s<<17&4294967295|s>>>15))&(a^t))+i[3]+3250441966&4294967295,s=t+(a^(n=r+(s<<22&4294967295|s>>>10))&(r^a))+i[4]+4118548399&4294967295,s=a+(r^(t=n+(s<<7&4294967295|s>>>25))&(n^r))+i[5]+1200080426&4294967295,a=t+(s<<12&4294967295|s>>>20),s=r+(n^a&(t^n))+i[6]+2821735955&4294967295,s=n+(t^(r=a+(s<<17&4294967295|s>>>15))&(a^t))+i[7]+4249261313&4294967295,s=t+(a^(n=r+(s<<22&4294967295|s>>>10))&(r^a))+i[8]+1770035416&4294967295,s=a+(r^(t=n+(s<<7&4294967295|s>>>25))&(n^r))+i[9]+2336552879&4294967295,a=t+(s<<12&4294967295|s>>>20),s=r+(n^a&(t^n))+i[10]+4294925233&4294967295,s=n+(t^(r=a+(s<<17&4294967295|s>>>15))&(a^t))+i[11]+2304563134&4294967295,s=t+(a^(n=r+(s<<22&4294967295|s>>>10))&(r^a))+i[12]+1804603682&4294967295,s=a+(r^(t=n+(s<<7&4294967295|s>>>25))&(n^r))+i[13]+4254626195&4294967295,a=t+(s<<12&4294967295|s>>>20),s=r+(n^a&(t^n))+i[14]+2792965006&4294967295,s=n+(t^(r=a+(s<<17&4294967295|s>>>15))&(a^t))+i[15]+1236535329&4294967295,s=t+(r^a&((n=r+(s<<22&4294967295|s>>>10))^r))+i[1]+4129170786&4294967295,s=a+(n^r&((t=n+(s<<5&4294967295|s>>>27))^n))+i[6]+3225465664&4294967295,a=t+(s<<9&4294967295|s>>>23),s=r+(t^n&(a^t))+i[11]+643717713&4294967295,s=n+(a^t&((r=a+(s<<14&4294967295|s>>>18))^a))+i[0]+3921069994&4294967295,s=t+(r^a&((n=r+(s<<20&4294967295|s>>>12))^r))+i[5]+3593408605&4294967295,s=a+(n^r&((t=n+(s<<5&4294967295|s>>>27))^n))+i[10]+38016083&4294967295,a=t+(s<<9&4294967295|s>>>23),s=r+(t^n&(a^t))+i[15]+3634488961&4294967295,s=n+(a^t&((r=a+(s<<14&4294967295|s>>>18))^a))+i[4]+3889429448&4294967295,s=t+(r^a&((n=r+(s<<20&4294967295|s>>>12))^r))+i[9]+568446438&4294967295,s=a+(n^r&((t=n+(s<<5&4294967295|s>>>27))^n))+i[14]+3275163606&4294967295,a=t+(s<<9&4294967295|s>>>23),s=r+(t^n&(a^t))+i[3]+4107603335&4294967295,s=n+(a^t&((r=a+(s<<14&4294967295|s>>>18))^a))+i[8]+1163531501&4294967295,s=t+(r^a&((n=r+(s<<20&4294967295|s>>>12))^r))+i[13]+2850285829&4294967295,s=a+(n^r&((t=n+(s<<5&4294967295|s>>>27))^n))+i[2]+4243563512&4294967295,a=t+(s<<9&4294967295|s>>>23),s=r+(t^n&(a^t))+i[7]+1735328473&4294967295,s=n+(a^t&((r=a+(s<<14&4294967295|s>>>18))^a))+i[12]+2368359562&4294967295,s=t+((n=r+(s<<20&4294967295|s>>>12))^r^a)+i[5]+4294588738&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^r)+i[8]+2272392833&4294967295,a=t+(s<<11&4294967295|s>>>21),s=r+(a^t^n)+i[11]+1839030562&4294967295,s=n+((r=a+(s<<16&4294967295|s>>>16))^a^t)+i[14]+4259657740&4294967295,s=t+((n=r+(s<<23&4294967295|s>>>9))^r^a)+i[1]+2763975236&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^r)+i[4]+1272893353&4294967295,a=t+(s<<11&4294967295|s>>>21),s=r+(a^t^n)+i[7]+4139469664&4294967295,s=n+((r=a+(s<<16&4294967295|s>>>16))^a^t)+i[10]+3200236656&4294967295,s=t+((n=r+(s<<23&4294967295|s>>>9))^r^a)+i[13]+681279174&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^r)+i[0]+3936430074&4294967295,a=t+(s<<11&4294967295|s>>>21),s=r+(a^t^n)+i[3]+3572445317&4294967295,s=n+((r=a+(s<<16&4294967295|s>>>16))^a^t)+i[6]+76029189&4294967295,s=t+((n=r+(s<<23&4294967295|s>>>9))^r^a)+i[9]+3654602809&4294967295,s=a+((t=n+(s<<4&4294967295|s>>>28))^n^r)+i[12]+3873151461&4294967295,a=t+(s<<11&4294967295|s>>>21),s=r+(a^t^n)+i[15]+530742520&4294967295,s=n+((r=a+(s<<16&4294967295|s>>>16))^a^t)+i[2]+3299628645&4294967295,s=t+(r^((n=r+(s<<23&4294967295|s>>>9))|~a))+i[0]+4096336452&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~r))+i[7]+1126891415&4294967295,a=t+(s<<10&4294967295|s>>>22),s=r+(t^(a|~n))+i[14]+2878612391&4294967295,s=n+(a^((r=a+(s<<15&4294967295|s>>>17))|~t))+i[5]+4237533241&4294967295,s=t+(r^((n=r+(s<<21&4294967295|s>>>11))|~a))+i[12]+1700485571&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~r))+i[3]+2399980690&4294967295,a=t+(s<<10&4294967295|s>>>22),s=r+(t^(a|~n))+i[10]+4293915773&4294967295,s=n+(a^((r=a+(s<<15&4294967295|s>>>17))|~t))+i[1]+2240044497&4294967295,s=t+(r^((n=r+(s<<21&4294967295|s>>>11))|~a))+i[8]+1873313359&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~r))+i[15]+4264355552&4294967295,a=t+(s<<10&4294967295|s>>>22),s=r+(t^(a|~n))+i[6]+2734768916&4294967295,s=n+(a^((r=a+(s<<15&4294967295|s>>>17))|~t))+i[13]+1309151649&4294967295,s=t+(r^((n=r+(s<<21&4294967295|s>>>11))|~a))+i[4]+4149444226&4294967295,s=a+(n^((t=n+(s<<6&4294967295|s>>>26))|~r))+i[11]+3174756917&4294967295,a=t+(s<<10&4294967295|s>>>22),s=r+(t^(a|~n))+i[2]+718787259&4294967295,s=n+(a^((r=a+(s<<15&4294967295|s>>>17))|~t))+i[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,e.g[2]=e.g[2]+r&4294967295,e.g[3]=e.g[3]+a&4294967295}function i(e,t){this.h=t;const n=[];let i=!0;for(let r=e.length-1;r>=0;r--){const s=0|e[r];i&&s==t||(n[r]=s,i=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const i=t-this.blockSize,r=this.C;let s=this.h,a=0;for(;a<t;){if(0==s)for(;a<=i;)n(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(r[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,r),s=0;break}}else for(;a<t;)if(r[s++]=e[a++],s==this.blockSize){n(this,r),s=0;break}}this.h=s,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let i=0;i<32;i+=8)e[t++]=this.g[n]>>>i&255;return e};var r={};function s(e){return-128<=e&&e<128?function(e,t){var n=r;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new i([0|e],e<0?-1:0)}):new i([0|e],e<0?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return f(a(-e));const t=[];let n=1;for(let i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new i(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function f(e){const t=e.g.length,n=[];for(let i=0;i<t;i++)n[i]=~e.g[i];return new i(n,~e.h).add(l)}function h(e,t){return e.add(f(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(f(e),t),new p(f(t.g),f(t.h));if(d(t))return t=g(e,f(t)),new p(f(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,i=t;i.l(e)<=0;)n=v(n),i=v(i);var r=y(n,1),s=y(i,1);for(i=y(i,2),n=y(n,2);!u(i);){var c=s.add(i);c.l(e)<=0&&(r=r.add(n),s=c),i=y(i,1),n=y(n,1)}return t=h(e,r.j(t)),new p(r,t)}for(r=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),i=(i=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,i-48),c=(s=a(n)).j(t);d(c)||c.l(e)>0;)c=(s=a(n-=i)).j(t);u(s)&&(s=l),r=r.add(s),e=h(e,c)}return new p(r,e)}function v(e){const t=e.g.length+1,n=[];for(let i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new i(n,e.h)}function y(e,t){const n=t>>5;t%=32;const r=e.g.length-n,s=[];for(let i=0;i<r;i++)s[i]=t>0?e.i(i+n)>>>t|e.i(i+n+1)<<32-t:e.i(i+n);return new i(s,e.h)}(e=i.prototype).m=function(){if(d(this))return-f(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const i=this.i(n);e+=(i>=0?i:4294967296+i)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+f(this).toString(e);const t=a(Math.pow(e,6));var n=this;let i="";for(;;){const r=g(n,t).g;let s=(((n=h(n,r.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=r))return s+i;for(;s.length<6;)s="0"+s;i=s+i}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=h(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?f(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let r=0;for(let i=0;i<=t;i++){let t=r+(65535&this.i(i))+(65535&e.i(i)),s=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=s>>>16,t&=65535,s&=65535,n[i]=s<<16|t}return new i(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?f(this).j(f(e)):f(f(this).j(e));if(d(e))return f(this.j(f(e)));if(this.l(c)<0&&e.l(c)<0)return a(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){const i=this.i(r)>>>16,s=65535&this.i(r),a=e.i(t)>>>16,o=65535&e.i(t);n[2*r+2*t]+=s*o,m(n,2*r+2*t),n[2*r+2*t+1]+=i*o,m(n,2*r+2*t+1),n[2*r+2*t+1]+=s*a,m(n,2*r+2*t+1),n[2*r+2*t+2]+=i*a,m(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new i(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new i(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new i(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new i(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,nd=t,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.B,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=a,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const i=a(Math.pow(n,8));let r=o;for(let o=0;o<t.length;o+=8){var s=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+s),n);s<8?(s=a(Math.pow(n,s)),r=r.j(s).add(a(e))):(r=r.j(i),r=r.add(a(e)))}return r},td=i}).apply(void 0!==id?id:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});var rd,sd,ad,od,ld,cd,ud,dd,fd="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof fd&&fd];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function i(e,i){if(i)e:{var r=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in r))break e;r=r[a]}(i=i(s=r[e=e[e.length-1]]))!=s&&null!=i&&t(r,e,{configurable:!0,writable:!0,value:i})}}i("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});
/** @license
  
   Copyright The Closure Library Authors.
   SPDX-License-Identifier: Apache-2.0
  */
var r=r||{},s=this||self;function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,i){for(var r=Array(arguments.length-2),s=2;s<arguments.length;s++)r[s-2]=arguments[s];return t.prototype[n].apply(e,r)}}var d="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function f(e){const t=e.length;if(t>0){const n=Array(t);for(let i=0;i<t;i++)n[i]=e[i];return n}return[]}function h(e,t){for(let i=1;i<arguments.length;i++){const t=arguments[i];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const i=t.length||0;e.length=n+i;for(let r=0;r<i;r++)e[n+r]=t[r]}else e.push(t)}}function m(e){s.setTimeout(()=>{throw e},0)}function p(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},k=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(x)}};function x(){for(var e;e=p();){try{e.h.call(e.g)}catch(n){m(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function _(){this.u=this.u,this.C=this.C}function S(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_.prototype.u=!1,_.prototype.dispose=function(){this.u||(this.u=!0,this.N())},_.prototype[Symbol.dispose]=function(){this.dispose()},_.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},S.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};s.addEventListener("test",e,t),s.removeEventListener("test",e,t)}catch(n){}return e}();function N(e){return/^[\s\xa0]*$/.test(e)}function j(e,t){S.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(j,S),j.prototype.init=function(e,t){const n=this.type=e.type,i=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&j.Z.h.call(this)},j.prototype.h=function(){j.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),E=0;function I(e,t,n,i,r){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!i,this.ha=r,this.key=++E,this.da=this.fa=!1}function P(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function A(e,t,n){for(const i in e)t.call(n,e[i],i,e)}function M(e){const t={};for(const n in e)t[n]=e[n];return t}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(e,t){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)e[n]=i[n];for(let t=0;t<R.length;t++)n=R[t],Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}}function L(e){this.src=e,this.g={},this.h=0}function O(e,t){const n=t.type;if(n in e.g){var i,r=e.g[n],s=Array.prototype.indexOf.call(r,t,void 0);(i=s>=0)&&Array.prototype.splice.call(r,s,1),i&&(P(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,i){for(let r=0;r<e.length;++r){const s=e[r];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==i)return r}return-1}L.prototype.add=function(e,t,n,i,r){const s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);const a=F(e,t,i,r);return a>-1?(t=e[a],n||(t.fa=!1)):((t=new I(t,this.src,s,!!i,r)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),U={};function B(e,t,n,i,r){if(Array.isArray(t)){for(let s=0;s<t.length;s++)B(e,t[s],n,i,r);return null}return n=K(n),e&&e[T]?e.J(t,n,!!a(i)&&!!i.capture,r):function(e,t,n,i,r,s){if(!t)throw Error("Invalid event type");const o=a(r)?!!r.capture:!!r;let l=H(e);if(l||(e[z]=l=new L(e)),n=l.add(t,n,i,o,s),n.proxy)return n;if(i=function(){function e(n){return t.call(e.src,e.listener,n)}const t=W;return e}(),n.proxy=i,i.src=e,i.listener=n,e.addEventListener)C||(r=o),void 0===r&&(r=!1),e.addEventListener(t.toString(),i,r);else if(e.attachEvent)e.attachEvent($(t.toString()),i);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(i)}return n}(e,t,n,!1,i,r)}function V(e,t,n,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)V(e,t[s],n,i,r);else i=a(i)?!!i.capture:!!i,n=K(n),e&&e[T]?(e=e.i,(s=String(t).toString())in e.g&&((n=F(t=e.g[s],n,i,r))>-1&&(P(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[s],e.h--)))):e&&(e=H(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,i,r)),(n=e>-1?t[e]:null)&&q(n))}function q(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])O(t.i,e);else{var n=e.type,i=e.proxy;t.removeEventListener?t.removeEventListener(n,i,e.capture):t.detachEvent?t.detachEvent($(n),i):t.addListener&&t.removeListener&&t.removeListener(i),(n=H(t))?(O(n,e),0==n.h&&(n.src=null,t[z]=null)):P(e)}}}function $(e){return e in U?U[e]:U[e]="on"+e}function W(e,t){if(e.da)e=!0;else{t=new j(t,this);const n=e.listener,i=e.ha||e.src;e.fa&&q(e),e=n.call(i,t)}return e}function H(e){return(e=e[z])instanceof L?e:null}var G="__closure_events_fn_"+(1e9*Math.random()>>>0);function K(e){return"function"==typeof e?e:(e[G]||(e[G]=function(t){return e.handleEvent(t)}),e[G])}function Y(){_.call(this),this.i=new L(this),this.M=this,this.G=null}function Q(e,t){var n,i=e.G;if(i)for(n=[];i;i=i.G)n.push(i);if(e=e.M,i=t.type||t,"string"==typeof t)t=new S(t,e);else if(t instanceof S)t.target=t.target||e;else{var r=t;D(t=new S(i,e),r)}let s,a;if(r=!0,n)for(a=n.length-1;a>=0;a--)s=t.g=n[a],r=X(s,i,!0,t)&&r;if(s=t.g=e,r=X(s,i,!0,t)&&r,r=X(s,i,!1,t)&&r,n)for(a=0;a<n.length;a++)s=t.g=n[a],r=X(s,i,!1,t)&&r}function X(e,t,n,i){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let r=!0;for(let s=0;s<t.length;++s){const a=t[s];if(a&&!a.da&&a.capture==n){const t=a.listener,n=a.ha||a.src;a.fa&&O(e.i,a),r=!1!==t.call(n,i)&&r}}return r&&!i.defaultPrevented}function J(e){e.g=function(e,t){if("function"!=typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:s.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,J(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(Y,_),Y.prototype[T]=!0,Y.prototype.removeEventListener=function(e,t,n,i){V(this,e,t,n,i)},Y.prototype.N=function(){if(Y.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)P(n[e]);delete e.g[t],e.h--}}this.G=null},Y.prototype.J=function(e,t,n,i){return this.i.add(String(e),t,!1,n,i)},Y.prototype.K=function(e,t,n,i){return this.i.add(String(e),t,!0,n,i)};class Z extends _{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:J(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ee(e){_.call(this),this.h=e,this.g={}}u(ee,_);var te=[];function ne(e){A(e.g,function(e,t){this.g.hasOwnProperty(t)&&q(e)},e),e.g={}}ee.prototype.N=function(){ee.Z.N.call(this),ne(this)},ee.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ie=s.JSON.stringify,re=s.JSON.parse,se=class{stringify(e){return s.JSON.stringify(e,void 0)}parse(e){return s.JSON.parse(e,void 0)}};function ae(){}function oe(){}var le={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ce(){S.call(this,"d")}function ue(){S.call(this,"c")}u(ce,S),u(ue,S);var de={},fe=null;function he(){return fe=fe||new Y}function me(e){S.call(this,de.Ia,e)}function pe(e){const t=he();Q(t,new me(t))}function ge(e,t){S.call(this,de.STAT_EVENT,e),this.stat=t}function ve(e){const t=he();Q(t,new ge(t,e))}function ye(e,t){S.call(this,de.Ja,e),this.size=t}function be(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){e()},t)}function we(){this.g=!0}function ke(e,t,n,i){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const s=JSON.parse(t);if(s)for(e=0;e<s.length;e++)if(Array.isArray(s[e])){var n=s[e];if(!(n.length<2)){var i=n[1];if(Array.isArray(i)&&!(i.length<1)){var r=i[0];if("noop"!=r&&"stop"!=r&&"close"!=r)for(let e=1;e<i.length;e++)i[e]=""}}}return ie(s)}catch(s){return t}}(e,n)+(i?" "+i:"")})}de.Ia="serverreachability",u(me,S),de.STAT_EVENT="statevent",u(ge,S),de.Ja="timingevent",u(ye,S),we.prototype.ua=function(){this.g=!1},we.prototype.info=function(){};var xe,_e={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Se={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function Ne(e){return encodeURIComponent(String(e))}function je(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Te(e,t,n,i){this.j=e,this.i=t,this.l=n,this.S=i||1,this.V=new ee(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ee}function Ee(){this.i=null,this.g="",this.h=!1}u(Ce,ae),Ce.prototype.g=function(){return new XMLHttpRequest},xe=new Ce;var Ie={},Pe={};function Ae(e,t,n){e.M=1,e.A=it(Je(t)),e.u=n,e.R=!0,Me(e,null)}function Me(e,t){e.F=Date.now(),Le(e),e.B=Je(e.A);var n=e.B,i=e.S;Array.isArray(i)||(i=[String(i)]),vt(n.i,"t",i),e.C=0,n=e.j.L,e.h=new Ee,e.g=rn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Z(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,i=e.ba;var r="readystatechange";Array.isArray(r)||(r&&(te[0]=r.toString()),r=te);for(let s=0;s<r.length;s++){const e=B(n,r[s],i||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?M(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),pe(),function(e,t,n,i,r,s){e.info(function(){if(e.g)if(s){var a="",o=s.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");a=t.length>=2&&"type"==t[1]?a+(e+"=")+l+"&":a+(e+"=redacted&")}}}else a=null;else a=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Re(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function De(e,t){var n=e.C,i=t.indexOf("\n",n);return-1==i?Pe:(n=Number(t.substring(n,i)),isNaN(n)?Ie:(i+=1)+n>t.length?Pe:(t=t.slice(i,i+n),e.C=i+n,t))}function Le(e){e.T=Date.now()+e.H,Oe(e,e.H)}function Oe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=be(l(e.aa,e),t)}function Fe(e){e.D&&(s.clearTimeout(e.D),e.D=null)}function ze(e){0==e.j.I||e.K||Jt(e.j,e)}function Ue(e){Fe(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ne(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Be(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||He(n.h,e)))if(!e.L&&He(n.h,e)&&3==n.I){try{var i=n.Ba.g.parse(t)}catch(u){i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xt(n),Bt(n)}Kt(n),ve(18)}}else n.xa=r[1],0<n.xa-n.K&&r[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=be(l(n.Va,n),6e3));We(n.h)<=1&&n.ta&&(n.ta=void 0)}else en(n,11)}else if((e.L||n.g==e)&&Xt(n),!N(t))for(r=n.Ba.g.parse(t),t=0;t<r.length;t++){let l=r[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const r=l[4];null!=r&&(n.za=r,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&u>0&&(i=1.5*u,n.O=i,n.j.info("backChannelRequestTimeoutMs_="+i)),i=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=i.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Ge(s,s.h),s.h=null))}if(i.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(i.wa=e,nt(i.J,i.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var a=e;if((i=n).na=nn(i,i.L?i.ba:null,i.W),a.L){Ke(i.h,a);var o=a,c=i.O;c&&(o.H=c),o.D&&(Fe(o),Le(o)),i.g=a}else Gt(i);n.i.length>0&&qt(n)}else"stop"!=l[0]&&"close"!=l[0]||en(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?en(n,7):Ut(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}pe()}catch(u){}}Te.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Lt(e)?t.j():this.Y(e)},Te.prototype.Y=function(e){try{if(e==this.g)e:{const l=Lt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Ot(this.g)))){this.K||4!=l||7==c||pe(),Fe(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Re(e))return e.g.la();const t=Ot(e.g);if(""===t)return"";let n="";const i=t.length,r=4==Lt(e.g);if(!e.h.i){if("undefined"==typeof TextDecoder)return Ue(e),ze(e),"";e.h.i=new s.TextDecoder}for(let s=0;s<i;s++)e.h.h=!0,n+=e.h.i.decode(t[s],{stream:!(r&&s==i-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,i,r,s,a){e.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var i,r=this.g;if((i=r.g?r.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(i)){var a=i;break t}}a=null}if(!(e=a)){this.o=!1,this.m=3,ve(12),Ue(this),ze(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Be(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=De(this,n),t==Pe){4==l&&(this.m=4,ve(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==Ie){this.m=4,ve(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),Be(this,t)}if(Re(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,ve(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yt(o),o.P=!0,ve(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Ue(this),ze(this)}else ke(this.i,this.l,n,null),Be(this,n);4==l&&Ue(this),this.o&&!this.K&&(4==l?Jt(this.j,this):(this.o=!1,Le(this)))}else(function(e){const t={};e=(e.g&&Lt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<e.length;i++){if(N(e[i]))continue;var n=je(e[i]);const r=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[r]||[];t[r]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),Ue(this),ze(this)}}}catch(l){}},Te.prototype.cancel=function(){this.K=!0,Ue(this)},Te.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(pe(),ve(17)),Ue(this),this.m=2,ze(this)):Oe(this,this.T-e)};var Ve=class{constructor(e,t){this.g=e,this.map=t}};function qe(e){this.l=e||10,s.PerformanceNavigationTiming?e=(e=s.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $e(e){return!!e.h||!!e.g&&e.g.size>=e.j}function We(e){return e.h?1:e.g?e.g.size:0}function He(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ge(e,t){e.g?e.g.add(t):e.h=t}function Ke(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Ye(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return f(e.i)}qe.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Qe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xe(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Xe?(this.l=e.l,Ze(this,e.j),this.o=e.o,this.g=e.g,et(this,e.u),this.h=e.h,tt(this,yt(e.i)),this.m=e.m):e&&(t=String(e).match(Qe))?(this.l=!1,Ze(this,t[1]||"",!0),this.o=rt(t[2]||""),this.g=rt(t[3]||"",!0),et(this,t[4]),this.h=rt(t[5]||"",!0),tt(this,t[6]||"",!0),this.m=rt(t[7]||"")):(this.l=!1,this.i=new ft(null,this.l))}function Je(e){return new Xe(e)}function Ze(e,t,n){e.j=n?rt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function et(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function tt(e,t,n){t instanceof ft?(e.i=t,function(e,t){t&&!e.j&&(ht(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(mt(this,t),vt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=st(t,ut)),e.i=new ft(t,e.l))}function nt(e,t,n){e.i.set(t,n)}function it(e){return nt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function rt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function st(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,at),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function at(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Xe.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(st(t,ot,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(st(t,ot,!0),"@"),e.push(Ne(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(st(n,"/"==n.charAt(0)?ct:lt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",st(n,dt)),e.join("")},Xe.prototype.resolve=function(e){const t=Je(this);let n=!!e.j;n?Ze(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var i=e.h;if(n)et(t,e.u);else if(n=!!e.h){if("/"!=i.charAt(0))if(this.g&&!this.h)i="/"+i;else{var r=t.h.lastIndexOf("/");-1!=r&&(i=t.h.slice(0,r+1)+i)}if(".."==(r=i)||"."==r)i="";else if(-1!=r.indexOf("./")||-1!=r.indexOf("/.")){i=0==r.lastIndexOf("/",0),r=r.split("/");const e=[];for(let t=0;t<r.length;){const n=r[t++];"."==n?i&&t==r.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),i&&t==r.length&&e.push("")):(e.push(n),i=!0)}i=e.join("/")}else i=r}return n?t.h=i:n=""!==e.i.toString(),n?tt(t,yt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ot=/[#\/\?@]/g,lt=/[#\?:]/g,ct=/[#\?]/g,ut=/[#\?@]/g,dt=/#/g;function ft(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ht(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const i=e[n].indexOf("=");let r,s=null;i>=0?(r=e[n].substring(0,i),s=e[n].substring(i+1)):r=e[n],t(r,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function mt(e,t){ht(e),t=bt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function pt(e,t){return ht(e),t=bt(e,t),e.g.has(t)}function gt(e,t){ht(e);let n=[];if("string"==typeof t)pt(e,t)&&(n=n.concat(e.g.get(bt(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function vt(e,t,n){mt(e,t),n.length>0&&(e.i=null,e.g.set(bt(e,t),f(n)),e.h+=n.length)}function yt(e){const t=new ft;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function bt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function wt(e,t,n,i,r){try{r&&(r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null),i(n)}catch(s){}}function kt(){this.g=new se}function xt(e){this.i=e.Sb||null,this.h=e.ab||!1}function _t(e,t){Y.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function St(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Nt(e)}function Nt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function jt(e){let t="";return A(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Tt(e,t,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=jt(n),"string"==typeof e?null!=n&&Ne(n):nt(e,t,n))}function Et(e){Y.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=ft.prototype).add=function(e,t){ht(this),this.i=null,e=bt(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){ht(this),this.g.forEach(function(n,i){n.forEach(function(n){e.call(t,n,i,this)},this)},this)},e.set=function(e,t){return ht(this),this.i=null,pt(this,e=bt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=gt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let i=0;i<t.length;i++){var n=t[i];const r=Ne(n);n=gt(this,n);for(let t=0;t<n.length;t++){let i=r;""!==n[t]&&(i+="="+Ne(n[t])),e.push(i)}}return this.i=e.join("&")},u(xt,ae),xt.prototype.g=function(){return new _t(this.i,this.h)},u(_t,Y),(e=_t.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Nt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||s).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Nt(this)),this.g&&(this.readyState=3,Nt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(void 0!==s.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;St(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):Nt(this),3==this.readyState&&St(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_t.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Et,Y);var It=/^https?$/i,Pt=["POST","PUT"];function At(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Mt(e),Dt(e)}function Mt(e){e.A||(e.A=!0,Q(e,"complete"),Q(e,"error"))}function Rt(e){if(e.h&&void 0!==r)if(e.v&&4==Lt(e))setTimeout(e.Ca.bind(e),0);else if(Q(e,"readystatechange"),4==Lt(e)){e.h=!1;try{const r=e.ca();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var i;if(i=0===r){let t=String(e.D).match(Qe)[1]||null;!t&&s.self&&s.self.location&&(t=s.self.location.protocol.slice(0,-1)),i=!It.test(t?t.toLowerCase():"")}n=i}if(n)Q(e,"complete"),Q(e,"success");else{e.o=6;try{var a=Lt(e)>2?e.g.statusText:""}catch(o){a=""}e.l=a+" ["+e.ca()+"]",Mt(e)}}finally{Dt(e)}}}function Dt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const i=e.g;e.g=null,t||Q(e,"ready");try{i.onreadystatechange=null}catch(n){}}}function Lt(e){return e.g?e.g.readyState:0}function Ot(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ft(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zt(e){this.za=0,this.i=[],this.j=new we,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ft("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ft("baseRetryDelayMs",5e3,e),this.Za=Ft("retryDelaySeedMs",1e4,e),this.Ta=Ft("forwardChannelMaxRetries",2,e),this.va=Ft("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new qe(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Ut(e){if(Vt(e),3==e.I){var t=e.V++,n=Je(e.J);if(nt(n,"SID",e.M),nt(n,"RID",t),nt(n,"TYPE","terminate"),Wt(e,n),(t=new Te(e,e.j,t)).M=2,t.A=it(Je(n)),n=!1,s.navigator&&s.navigator.sendBeacon)try{n=s.navigator.sendBeacon(t.A.toString(),"")}catch(i){}!n&&s.Image&&((new Image).src=t.A,n=!0),n||(t.g=rn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Le(t)}tn(e)}function Bt(e){e.g&&(Yt(e),e.g.cancel(),e.g=null)}function Vt(e){Bt(e),e.v&&(s.clearTimeout(e.v),e.v=null),Xt(e),e.h.cancel(),e.m&&("number"==typeof e.m&&s.clearTimeout(e.m),e.m=null)}function qt(e){if(!$e(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||k(),b||(y(),b=!0),w.add(t,e),e.D=0}}function $t(e,t){var n;n=t?t.l:e.V++;const i=Je(e.J);nt(i,"SID",e.M),nt(i,"RID",n),nt(i,"AID",e.K),Wt(e,i),e.u&&e.o&&Tt(i,e.u,e.o),n=new Te(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Ht(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ge(e.h,n),Ae(n,i,t)}function Wt(e,t){e.H&&A(e.H,function(e,n){nt(t,n,e)}),e.l&&A({},function(e,n){nt(t,n,e)})}function Ht(e,t,n){n=Math.min(e.i.length,n);const i=e.l?l(e.l.Ka,e.l,e):null;e:{var r=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=r[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let u=0;u<n;u++){var s=r[u].g;const n=r[u].map;if((s-=t)<0)t=Math.max(0,r[u].g-100),l=!1;else try{s="req"+s+"_"||"";try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let i=n;a(n)&&(i=ie(n)),e.push(s+t+"="+encodeURIComponent(i))}}catch(c){throw e.push(s+"type="+encodeURIComponent("_badmap")),c}}catch(c){i&&i(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Gt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||k(),b||(y(),b=!0),w.add(t,e),e.A=0}}function Kt(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=be(l(e.Da,e),Zt(e,e.A)),e.A++,!0)}function Yt(e){null!=e.B&&(s.clearTimeout(e.B),e.B=null)}function Qt(e){e.g=new Te(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=Je(e.na);nt(t,"RID","rpc"),nt(t,"SID",e.M),nt(t,"AID",e.K),nt(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&nt(t,"TO",e.ia),nt(t,"TYPE","xmlhttp"),Wt(e,t),e.u&&e.o&&Tt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=it(Je(t)),n.u=null,n.R=!0,Me(n,e)}function Xt(e){null!=e.C&&(s.clearTimeout(e.C),e.C=null)}function Jt(e,t){var n=null;if(e.g==t){Xt(e),Yt(e),e.g=null;var i=2}else{if(!He(e.h,t))return;n=t.G,Ke(e.h,t),i=1}if(0!=e.I)if(t.o)if(1==i){n=t.u?t.u.length:0,t=Date.now()-t.F;var r=e.D;Q(i=he(),new ye(i,n)),qt(e)}else Gt(e);else if(3==(r=t.m)||0==r&&t.X>0||!(1==i&&function(e,t){return!(We(e.h)>=e.h.j-(e.m?1:0)||(e.m?(e.i=t.G.concat(e.i),0):1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta)||(e.m=be(l(e.Ea,e,t),Zt(e,e.D)),e.D++,0)))}(e,t)||2==i&&Kt(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),r){case 1:en(e,5);break;case 4:en(e,10);break;case 3:en(e,6);break;default:en(e,2)}}function Zt(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function en(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),i=e.Ua;const t=!i;i=new Xe(i||"//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Ze(i,"https"),it(i),t?function(e,t){const n=new we;if(s.Image){const i=new Image;i.onload=c(wt,n,"TestLoadImage: loaded",!0,t,i),i.onerror=c(wt,n,"TestLoadImage: error",!1,t,i),i.onabort=c(wt,n,"TestLoadImage: abort",!1,t,i),i.ontimeout=c(wt,n,"TestLoadImage: timeout",!1,t,i),s.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=e}else t(!1)}(i.toString(),n):function(e,t){new we;const n=new AbortController,i=setTimeout(()=>{n.abort(),wt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(i),e.ok?wt(0,0,!0,t):wt(0,0,!1,t)}).catch(()=>{clearTimeout(i),wt(0,0,!1,t)})}(i.toString(),n)}else ve(2);e.I=0,e.l&&e.l.pa(t),tn(e),Vt(e)}function tn(e){if(e.I=0,e.ja=[],e.l){const t=Ye(e.h);0==t.length&&0==e.i.length||(h(e.ja,t),h(e.ja,e.i),e.h.i.length=0,f(e.i),e.i.length=0),e.l.oa()}}function nn(e,t,n){var i=n instanceof Xe?Je(n):new Xe(n);if(""!=i.g)t&&(i.g=t+"."+i.g),et(i,i.u);else{var r=s.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;const e=new Xe(null);i&&Ze(e,i),t&&(e.g=t),r&&et(e,r),n&&(e.h=n),i=e}return n=e.G,t=e.wa,n&&t&&nt(i,n,t),nt(i,"VER",e.ka),Wt(e,i),i}function rn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Et(new xt({ab:n})):new Et(e.ma)).Fa(e.L),t}function sn(){}function an(){}function on(e,t){Y.call(this),this.g=new zt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!N(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!N(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new un(this)}function ln(e){ce.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function cn(){ue.call(this),this.status=1}function un(e){this.g=e}(e=Et.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xe.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void At(this,a)}if(e=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const e of i.keys())n.set(e,i.get(e))}i=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),r=s.FormData&&e instanceof s.FormData,!(Array.prototype.indexOf.call(Pt,t,void 0)>=0)||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(a){At(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,Q(this,"complete"),Q(this,"abort"),Dt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Dt(this,!0)),Et.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Rt(this):this.Xa())},e.Xa=function(){Rt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Lt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),re(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"==typeof this.l?this.l:String(this.l)},(e=zt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,i){ve(0),this.W=e,this.H=t||{},n&&void 0!==i&&(this.H.OSID=n,this.H.OAID=i),this.F=this.X,this.J=nn(this,null,this.W),qt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const r=new Te(this,this.j,e);let s=this.o;if(this.U&&(s?(s=M(s),D(s,this.U)):s=this.U),null!==this.u||this.R||(r.J=s,s=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var i=this.i[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if((t+=i)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ht(this,r,t),nt(n=Je(this.J),"RID",e),nt(n,"CVER",22),this.G&&nt(n,"X-HTTP-Session-Id",this.G),Wt(this,n),s&&(this.R?t="headers="+Ne(jt(s))+"&"+t:this.u&&Tt(n,this.u,s)),Ge(this.h,r),this.Ra&&nt(n,"TYPE","init"),this.S?(nt(n,"$req",t),nt(n,"SID","null"),r.U=!0,Ae(r,n,null)):Ae(r,n,t),this.I=2}}else 3==this.I&&(e?$t(this,e):0==this.i.length||$e(this.h)||$t(this))},e.Da=function(){if(this.v=null,Qt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=be(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),Bt(this),Qt(this))},e.Va=function(){null!=this.C&&(this.C=null,Bt(this),Kt(this),ve(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=sn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},an.prototype.g=function(e,t){return new on(e,t)},u(on,Y),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ut(this.g)},on.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ie(e),e=n);t.i.push(new Ve(t.Ya++,e)),3==t.I&&qt(t)},on.prototype.N=function(){this.g.l=null,delete this.j,Ut(this.g),delete this.g,on.Z.N.call(this)},u(ln,ce),u(cn,ue),u(un,sn),un.prototype.ra=function(){Q(this.g,"a")},un.prototype.qa=function(e){Q(this.g,new ln(e))},un.prototype.pa=function(e){Q(this.g,new cn)},un.prototype.oa=function(){Q(this.g,"b")},an.prototype.createWebChannel=an.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,dd=function(){return new an},ud=function(){return he()},cd=de,ld={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,od=_e,Se.COMPLETE="complete",ad=Se,oe.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",Y.prototype.listen=Y.prototype.J,sd=oe,Et.prototype.listenOnce=Et.prototype.K,Et.prototype.getLastError=Et.prototype.Ha,Et.prototype.getLastErrorCode=Et.prototype.ya,Et.prototype.getStatus=Et.prototype.ca,Et.prototype.getResponseJson=Et.prototype.La,Et.prototype.getResponseText=Et.prototype.la,Et.prototype.send=Et.prototype.ea,Et.prototype.setWithCredentials=Et.prototype.Fa,rd=Et}).apply(void 0!==fd?fd:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});const hd="@firebase/firestore",md="4.9.3";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pd.UNAUTHENTICATED=new pd(null),pd.GOOGLE_CREDENTIALS=new pd("google-credentials-uid"),pd.FIRST_PARTY=new pd("first-party-uid"),pd.MOCK_USER=new pd("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let gd="12.7.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd=new Rr("@firebase/firestore");function yd(){return vd.logLevel}function bd(e,...t){if(vd.logLevel<=Tr.DEBUG){const n=t.map(xd);vd.debug(`Firestore (${gd}): ${e}`,...n)}}function wd(e,...t){if(vd.logLevel<=Tr.ERROR){const n=t.map(xd);vd.error(`Firestore (${gd}): ${e}`,...n)}}function kd(e,...t){if(vd.logLevel<=Tr.WARN){const n=t.map(xd);vd.warn(`Firestore (${gd}): ${e}`,...n)}}function xd(e){if("string"==typeof e)return e;try{
/**
    * @license
    * Copyright 2020 Google LLC
    *
    * Licensed under the Apache License, Version 2.0 (the "License");
    * you may not use this file except in compliance with the License.
    * You may obtain a copy of the License at
    *
    *   http://www.apache.org/licenses/LICENSE-2.0
    *
    * Unless required by applicable law or agreed to in writing, software
    * distributed under the License is distributed on an "AS IS" BASIS,
    * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    * See the License for the specific language governing permissions and
    * limitations under the License.
    */
return t=e,JSON.stringify(t)}catch(n){return e}var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(e,t,n){let i="Unexpected state";"string"==typeof t?i=t:n=t,Sd(e,i,n)}function Sd(e,t,n){let i=`FIRESTORE (${gd}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{i+=" CONTEXT: "+JSON.stringify(n)}catch(r){i+=" CONTEXT: "+n}throw wd(i),new Error(i)}function Cd(e,t,n,i){let r="Unexpected state";"string"==typeof n?r=n:i=n,e||Sd(t,r,i)}function Nd(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Td extends nr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(pd.UNAUTHENTICATED))}shutdown(){}}class Ad{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Md{constructor(e){this.t=e,this.currentUser=pd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Cd(void 0===this.o,42304);let n=this.i;const i=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let r=new Ed;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new Ed,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const t=r;e.enqueueRetryable(async()=>{await t.promise,await i(this.currentUser)})},a=e=>{bd("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(bd("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new Ed)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(bd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Cd("string"==typeof t.accessToken,31837,{l:t}),new Id(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Cd(null===e||"string"==typeof e,2055,{h:e}),new pd(e)}}class Rd{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=pd.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Dd{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Rd(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(pd.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ld{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Od{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Os(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Cd(void 0===this.o,3512);const n=e=>{null!=e.error&&bd("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,bd("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const i=e=>{bd("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>i(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?i(e):bd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ld(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Cd("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Ld(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let i=0;i<e;i++)n[i]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Fd(40);for(let i=0;i<n.length;++i)t.length<20&&n[i]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[i]%62))}return t}}function Ud(e,t){return e<t?-1:e>t?1:0}function Bd(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=e.charAt(i),r=t.charAt(i);if(n!==r)return $d(n)===$d(r)?Ud(n,r):$d(n)?1:-1}return Ud(e.length,t.length)}const Vd=55296,qd=57343;function $d(e){const t=e.charCodeAt(0);return t>=Vd&&t<=qd}function Wd(e,t,n){return e.length===t.length&&e.every((e,i)=>n(e,t[i]))}function Hd(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="__name__";class Kd{constructor(e,t,n){void 0===t?t=0:t>e.length&&_d(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&_d(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Kd.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Kd?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let i=0;i<n;i++){const n=Kd.compareSegments(e.get(i),t.get(i));if(0!==n)return n}return Ud(e.length,t.length)}static compareSegments(e,t){const n=Kd.isNumericId(e),i=Kd.isNumericId(t);return n&&!i?-1:!n&&i?1:n&&i?Kd.extractNumericId(e).compare(Kd.extractNumericId(t)):Bd(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return td.fromString(e.substring(4,e.length-2))}}class Yd extends Kd{construct(e,t,n){return new Yd(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Td(jd.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Yd(t)}static emptyPath(){return new Yd([])}}const Qd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xd extends Kd{construct(e,t,n){return new Xd(e,t,n)}static isValidIdentifier(e){return Qd.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xd.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Gd}static keyField(){return new Xd([Gd])}static fromServerFormat(e){const t=[];let n="",i=0;const r=()=>{if(0===n.length)throw new Td(jd.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;i<e.length;){const t=e[i];if("\\"===t){if(i+1===e.length)throw new Td(jd.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[i+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Td(jd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,i+=2}else"`"===t?(s=!s,i++):"."!==t||s?(n+=t,i++):(r(),i++)}if(r(),s)throw new Td(jd.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xd(t)}static emptyPath(){return new Xd([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this.path=e}static fromPath(e){return new Jd(Yd.fromString(e))}static fromName(e){return new Jd(Yd.fromString(e).popFirst(5))}static empty(){return new Jd(Yd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yd.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yd.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Jd(new Yd(e.slice()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(e,t,n){if(!n)throw new Td(jd.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ef(e){if(!Jd.isDocumentKey(e))throw new Td(jd.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function tf(e){if(Jd.isDocumentKey(e))throw new Td(jd.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function nf(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function rf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":_d(12329,{type:typeof e})}function sf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Td(jd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=rf(e);throw new Td(jd.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}
/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function af(e,t){const n={typeString:e};return t&&(n.value=t),n}function of(e,t){if(!nf(e))throw new Td(jd.INVALID_ARGUMENT,"JSON must be an object");let n;for(const i in t)if(t[i]){const r=t[i].typeString,s="value"in t[i]?{value:t[i].value}:void 0;if(!(i in e)){n=`JSON missing required field: '${i}'`;break}const a=e[i];if(r&&typeof a!==r){n=`JSON field '${i}' must be a ${r}.`;break}if(void 0!==s&&a!==s.value){n=`Expected '${i}' field to equal '${s.value}'`;break}}if(n)throw new Td(jd.INVALID_ARGUMENT,n);return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=-62135596800,cf=1e6;class uf{static now(){return uf.fromMillis(Date.now())}static fromDate(e){return uf.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*cf);return new uf(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Td(jd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Td(jd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lf)throw new Td(jd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Td(jd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cf}_compareTo(e){return this.seconds===e.seconds?Ud(this.nanoseconds,e.nanoseconds):Ud(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:uf._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(of(e,uf._jsonSchema))return new uf(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-lf;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}uf._jsonSchemaVersion="firestore/timestamp/1.0",uf._jsonSchema={type:af("string",uf._jsonSchemaVersion),seconds:af("number"),nanoseconds:af("number")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class df{static fromTimestamp(e){return new df(e)}static min(){return new df(new uf(0,0))}static max(){return new df(new uf(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e,t,n,i){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=i}}function hf(e){return e.fields.find(e=>2===e.kind)}function mf(e){return e.fields.filter(e=>2!==e.kind)}ff.UNKNOWN_ID=-1;class pf{constructor(e,t){this.fieldPath=e,this.kind=t}}class gf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new gf(0,yf.min())}}function vf(e){return new yf(e.readTime,e.key,-1)}class yf{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new yf(df.min(),Jd.empty(),-1)}static max(){return new yf(df.max(),Jd.empty(),-1)}}function bf(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Jd.comparator(e.documentKey,t.documentKey),0!==n?n:Ud(e.largestBatchId,t.largestBatchId)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}const wf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kf{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xf(e){if(e.code!==jd.FAILED_PRECONDITION||e.message!==wf)throw e;bd("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_d(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new _f((n,i)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,i)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof _f?t:_f.resolve(t)}catch(t){return _f.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):_f.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):_f.reject(t)}static resolve(e){return new _f((t,n)=>{t(e)})}static reject(e){return new _f((t,n)=>{n(e)})}static waitFor(e){return new _f((t,n)=>{let i=0,r=0,s=!1;e.forEach(e=>{++i,e.next(()=>{++r,s&&r===i&&t()},e=>n(e))}),s=!0,r===i&&t()})}static or(e){let t=_f.resolve(!1);for(const n of e)t=t.next(e=>e?_f.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,i)=>{n.push(t.call(this,e,i))}),this.waitFor(n)}static mapArray(e,t){return new _f((n,i)=>{const r=e.length,s=new Array(r);let a=0;for(let o=0;o<r;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===r&&n(s)},e=>i(e))}})}static doWhile(e,t){return new _f((n,i)=>{const r=()=>{!0===e()?t().next(()=>{r()},i):n()};r()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="SimpleDb";class Cf{static open(e,t,n,i){try{return new Cf(t,e.transaction(i,n))}catch(r){throw new Ef(t,r)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Ed,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new Ef(e,t.error)):this.S.resolve()},this.transaction.onerror=t=>{const n=Rf(t.target.error);this.S.reject(new Ef(e,n))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(bd(Sf,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pf(t)}}class Nf{static delete(e){return bd(Sf,"Removing database:",e),Af(Mi().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Zi())return!1;if(Nf.F())return!0;const e=Hi(),t=Nf.M(e),n=0<t&&t<10,i=jf(e),r=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||r)}static F(){var e;return"undefined"!=typeof process&&"YES"===(null==(e=process.__PRIVATE_env)?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}constructor(e,t,n){this.name=e,this.version=t,this.N=n,this.B=null,12.2===Nf.M(Hi())&&wd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(bd(Sf,"Opening database:",this.name),this.db=await new Promise((t,n)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=e=>{const n=e.target.result;t(n)},i.onblocked=()=>{n(new Ef(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const i=t.target.error;"VersionError"===i.name?n(new Td(jd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===i.name?n(new Td(jd.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+i)):n(new Ef(e,i))},i.onupgradeneeded=e=>{bd(Sf,'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.N.k(t,i.transaction,e.oldVersion,this.version).next(()=>{bd(Sf,"Database upgrade to version "+this.version+" complete")})}})),this.q&&(this.db.onversionchange=e=>this.q(e)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,i){const r="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.L(e);const t=Cf.open(this.db,e,r?"readonly":"readwrite",n),s=i(t).next(e=>(t.C(),e)).catch(e=>(t.abort(e),_f.reject(e))).toPromise();return s.catch(()=>{}),await t.D,s}catch(a){const e=a,t="FirebaseError"!==e.name&&s<3;if(bd(Sf,"Transaction failed with error:",e.message,"Retrying:",t),this.close(),!t)return Promise.reject(e)}}}close(){this.db&&this.db.close(),this.db=void 0}}function jf(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class Tf{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return Af(this.U.delete())}}class Ef extends Td{constructor(e,t){super(jd.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function If(e){return"IndexedDbTransactionError"===e.name}class Pf{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(bd(Sf,"PUT",this.store.name,e,t),n=this.store.put(t,e)):(bd(Sf,"PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Af(n)}add(e){return bd(Sf,"ADD",this.store.name,e,e),Af(this.store.add(e))}get(e){return Af(this.store.get(e)).next(t=>(void 0===t&&(t=null),bd(Sf,"GET",this.store.name,e,t),t))}delete(e){return bd(Sf,"DELETE",this.store.name,e),Af(this.store.delete(e))}count(){return bd(Sf,"COUNT",this.store.name),Af(this.store.count())}J(e,t){const n=this.options(e,t),i=n.index?this.store.index(n.index):this.store;if("function"==typeof i.getAll){const e=i.getAll(n.range);return new _f((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}{const e=this.cursor(n),t=[];return this.H(e,(e,n)=>{t.push(n)}).next(()=>t)}}Y(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new _f((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}Z(e,t){bd(Sf,"DELETE ALL",this.store.name);const n=this.options(e,t);n.X=!1;const i=this.cursor(n);return this.H(i,(e,t,n)=>n.delete())}ee(e,t){let n;t?n=e:(n={},t=e);const i=this.cursor(n);return this.H(i,t)}te(e){const t=this.cursor({});return new _f((n,i)=>{t.onerror=e=>{const t=Rf(e.target.error);i(t)},t.onsuccess=t=>{const i=t.target.result;i?e(i.primaryKey,i.value).next(e=>{e?i.continue():n()}):n()}})}H(e,t){const n=[];return new _f((i,r)=>{e.onerror=e=>{r(e.target.error)},e.onsuccess=e=>{const r=e.target.result;if(!r)return void i();const s=new Tf(r),a=t(r.primaryKey,r.value,s);if(a instanceof _f){const e=a.catch(e=>(s.done(),_f.reject(e)));n.push(e)}s.isDone?i():null===s.G?r.continue():r.continue(s.G)}}).next(()=>_f.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.X?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Af(e){return new _f((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Rf(e.target.error);n(t)}})}let Mf=!1;function Rf(e){const t=Nf.M(Hi());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Td("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Mf||(Mf=!0,setTimeout(()=>{throw e},0)),e}}return e}const Df="IndexBackfiller";class Lf{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}re(e){bd(Df,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const e=await this.ne.ie();bd(Df,`Documents written: ${e}`)}catch(e){If(e)?bd(Df,"Ignoring IndexedDB error during index backfill: ",e):await xf(e)}await this.re(6e4)})}}class Of{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.se(t,e))}se(e,t){const n=new Set;let i=t,r=!0;return _f.doWhile(()=>!0===r&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return bd(Df,`Processing collection: ${t}`),this.oe(e,t,i).next(e=>{i-=e,n.add(t)});r=!1})).next(()=>t-i)}oe(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,n).next(n=>{const r=n.changes;return this.localStore.indexManager.updateIndexEntries(e,r).next(()=>this._e(i,n)).next(n=>(bd(Df,`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>r.size)}))}_e(e,t){let n=e;return t.changes.forEach((e,t)=>{const i=vf(t);bf(i,n)>0&&(n=i)}),new yf(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Ff.ce=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const zf=-1;function Uf(e){return null==e}function Bf(e){return 0===e&&1/e==-1/0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Vf="";function qf(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Wf(t)),t=$f(e.get(n),t);return Wf(t)}function $f(e,t){let n=t;const i=e.length;for(let r=0;r<i;r++){const t=e.charAt(r);switch(t){case"\0":n+="";break;case Vf:n+="";break;default:n+=t}}return n}function Wf(e){return e+Vf+""}function Hf(e){const t=e.length;if(Cd(t>=2,64408,{path:e}),2===t)return Cd(e.charAt(0)===Vf&&""===e.charAt(1),56145,{path:e}),Yd.emptyPath();const n=t-2,i=[];let r="";for(let s=0;s<t;){const t=e.indexOf(Vf,s);switch((t<0||t>n)&&_d(50515,{path:e}),e.charAt(t+1)){case"":const n=e.substring(s,t);let a;0===r.length?a=n:(r+=n,a=r,r=""),i.push(a);break;case"":r+=e.substring(s,t),r+="\0";break;case"":r+=e.substring(s,t+1);break;default:_d(61167,{path:e})}s=t+2}return new Yd(i)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="remoteDocuments",Kf="owner",Yf="owner",Qf="mutationQueues",Xf="mutations",Jf="batchId",Zf="userMutationsIndex",eh=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(e,t){return[e,qf(t)]}function nh(e,t,n){return[e,qf(t),n]}const ih={},rh="documentMutations",sh="remoteDocumentsV14",ah=["prefixPath","collectionGroup","readTime","documentId"],oh="documentKeyIndex",lh=["prefixPath","collectionGroup","documentId"],ch="collectionGroupIndex",uh=["collectionGroup","readTime","prefixPath","documentId"],dh="remoteDocumentGlobal",fh="remoteDocumentGlobalKey",hh="targets",mh="queryTargetsIndex",ph=["canonicalId","targetId"],gh="targetDocuments",vh=["targetId","path"],yh="documentTargetsIndex",bh=["path","targetId"],wh="targetGlobalKey",kh="targetGlobal",xh="collectionParents",_h=["collectionId","parent"],Sh="clientMetadata",Ch="bundles",Nh="namedQueries",jh="indexConfiguration",Th="collectionGroupIndex",Eh="indexState",Ih=["indexId","uid"],Ph="sequenceNumberIndex",Ah=["uid","sequenceNumber"],Mh="indexEntries",Rh=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dh="documentKeyIndex",Lh=["indexId","uid","orderedDocumentKey"],Oh="documentOverlays",Fh=["userId","collectionPath","documentId"],zh="collectionPathOverlayIndex",Uh=["userId","collectionPath","largestBatchId"],Bh="collectionGroupOverlayIndex",Vh=["userId","collectionGroup","largestBatchId"],qh="globals",$h=[Qf,Xf,rh,Gf,hh,Kf,kh,gh,Sh,dh,xh,Ch,Nh],Wh=[...$h,Oh],Hh=[Qf,Xf,rh,sh,hh,Kf,kh,gh,Sh,dh,xh,Ch,Nh,Oh],Gh=Hh,Kh=[...Gh,jh,Eh,Mh],Yh=Kh,Qh=[...Kh,qh],Xh=Qh;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh extends kf{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Zh(e,t){const n=Nd(e);return Nf.O(n.le,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function em(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function tm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function nm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let im=class e{constructor(e,t){this.comparator=e,this.root=t||sm.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sm.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return t+n.left.size;i<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rm(this.root,e,this.comparator,!1)}getReverseIterator(){return new rm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rm(this.root,e,this.comparator,!0)}},rm=class{constructor(e,t,n,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=t?n(e.key,t):1,t&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(0===r){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},sm=class e{constructor(t,n,i,r,s){this.key=t,this.value=n,this.color=null!=i?i:e.RED,this.left=null!=r?r:e.EMPTY,this.right=null!=s?s:e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,i,r,s){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let i,r=this;if(n(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(t,r.key)){if(r.right.isEmpty())return e.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _d(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _d(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _d(27949);return e+(this.isRed()?0:1)}};sm.EMPTY=null,sm.RED=!0,sm.BLACK=!1,sm.EMPTY=new class{constructor(){this.size=0}get key(){throw _d(57766)}get value(){throw _d(16141)}get color(){throw _d(16727)}get left(){throw _d(29726)}get right(){throw _d(36894)}copy(e,t,n,i,r){return this}insert(e,t,n){return new sm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class am{constructor(e){this.comparator=e,this.data=new im(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new om(this.data.getIterator())}getIteratorFrom(e){return new om(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof am))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(0!==this.comparator(e,i))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new am(this.comparator);return t.data=e,t}}class om{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function lm(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.fields=e,e.sort(Xd.comparator)}static empty(){return new cm([])}unionWith(e){let t=new am(Xd.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new cm(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wd(this.fields,e.fields,(e,t)=>e.isEqual(t))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new um("Invalid base64 string: "+t):t}}(e);return new dm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new dm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ud(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dm.EMPTY_BYTE_STRING=new dm("");const fm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hm(e){if(Cd(!!e,39018),"string"==typeof e){let t=0;const n=fm.exec(e);if(Cd(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:mm(e.seconds),nanos:mm(e.nanos)}}function mm(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function pm(e){return"string"==typeof e?dm.fromBase64String(e):dm.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="server_timestamp",vm="__type__",ym="__previous_value__",bm="__local_write_time__";function wm(e){var t,n;return(null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{})[vm])?void 0:n.stringValue)===gm}function km(e){const t=e.mapValue.fields[ym];return wm(t)?km(t):t}function xm(e){const t=hm(e.mapValue.fields[bm].timestampValue);return new uf(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,t,n,i,r,s,a,o,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=i,this.ssl=r,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c}}const Sm="(default)";class Cm{constructor(e,t){this.projectId=e,this.database=t||Sm}static empty(){return new Cm("","")}get isDefaultDatabase(){return this.database===Sm}isEqual(e){return e instanceof Cm&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="__type__",jm="__max__",Tm={mapValue:{fields:{__type__:{stringValue:jm}}}},Em="__vector__",Im="value",Pm={nullValue:"NULL_VALUE"};function Am(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?wm(e)?4:Ym(e)?9007199254740991:Gm(e)?10:11:_d(28295,{value:e})}function Mm(e,t){if(e===t)return!0;const n=Am(e);if(n!==Am(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return xm(e).isEqual(xm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=hm(e.timestampValue),i=hm(t.timestampValue);return n.seconds===i.seconds&&n.nanos===i.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return i=t,pm(e.bytesValue).isEqual(pm(i.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return mm(e.geoPointValue.latitude)===mm(t.geoPointValue.latitude)&&mm(e.geoPointValue.longitude)===mm(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return mm(e.integerValue)===mm(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=mm(e.doubleValue),i=mm(t.doubleValue);return n===i?Bf(n)===Bf(i):isNaN(n)&&isNaN(i)}return!1}(e,t);case 9:return Wd(e.arrayValue.values||[],t.arrayValue.values||[],Mm);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},i=t.mapValue.fields||{};if(em(n)!==em(i))return!1;for(const r in n)if(n.hasOwnProperty(r)&&(void 0===i[r]||!Mm(n[r],i[r])))return!1;return!0}(e,t);default:return _d(52216,{left:e})}var i}function Rm(e,t){return void 0!==(e.values||[]).find(e=>Mm(e,t))}function Dm(e,t){if(e===t)return 0;const n=Am(e),i=Am(t);if(n!==i)return Ud(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ud(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=mm(e.integerValue||e.doubleValue),i=mm(t.integerValue||t.doubleValue);return n<i?-1:n>i?1:n===i?0:isNaN(n)?isNaN(i)?0:-1:1}(e,t);case 3:return Lm(e.timestampValue,t.timestampValue);case 4:return Lm(xm(e),xm(t));case 5:return Bd(e.stringValue,t.stringValue);case 6:return function(e,t){const n=pm(e),i=pm(t);return n.compareTo(i)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),i=t.split("/");for(let r=0;r<n.length&&r<i.length;r++){const e=Ud(n[r],i[r]);if(0!==e)return e}return Ud(n.length,i.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ud(mm(e.latitude),mm(t.latitude));return 0!==n?n:Ud(mm(e.longitude),mm(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Om(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,i,r,s;const a=e.fields||{},o=t.fields||{},l=null==(n=a[Im])?void 0:n.arrayValue,c=null==(i=o[Im])?void 0:i.arrayValue,u=Ud((null==(r=null==l?void 0:l.values)?void 0:r.length)||0,(null==(s=null==c?void 0:c.values)?void 0:s.length)||0);return 0!==u?u:Om(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Tm.mapValue&&t===Tm.mapValue)return 0;if(e===Tm.mapValue)return 1;if(t===Tm.mapValue)return-1;const n=e.fields||{},i=Object.keys(n),r=t.fields||{},s=Object.keys(r);i.sort(),s.sort();for(let a=0;a<i.length&&a<s.length;++a){const e=Bd(i[a],s[a]);if(0!==e)return e;const t=Dm(n[i[a]],r[s[a]]);if(0!==t)return t}return Ud(i.length,s.length)}(e.mapValue,t.mapValue);default:throw _d(23264,{he:n})}}function Lm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ud(e,t);const n=hm(e),i=hm(t),r=Ud(n.seconds,i.seconds);return 0!==r?r:Ud(n.nanos,i.nanos)}function Om(e,t){const n=e.values||[],i=t.values||[];for(let r=0;r<n.length&&r<i.length;++r){const e=Dm(n[r],i[r]);if(e)return e}return Ud(n.length,i.length)}function Fm(e){return zm(e)}function zm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=hm(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?pm(e.bytesValue).toBase64():"referenceValue"in e?function(e){return Jd.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const i of e.values||[])n?n=!1:t+=",",t+=zm(i);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",i=!0;for(const r of t)i?i=!1:n+=",",n+=`${r}:${zm(e.fields[r])}`;return n+"}"}(e.mapValue):_d(61005,{value:e})}function Um(e){switch(Am(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=km(e);return t?16+Um(t):16;case 5:return 2*e.stringValue.length;case 6:return pm(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return(e.arrayValue.values||[]).reduce((e,t)=>e+Um(t),0);case 10:case 11:return function(e){let t=0;return tm(e.fields,(e,n)=>{t+=e.length+Um(n)}),t}(e.mapValue);default:throw _d(13486,{value:e})}}function Bm(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Vm(e){return!!e&&"integerValue"in e}function qm(e){return!!e&&"arrayValue"in e}function $m(e){return!!e&&"nullValue"in e}function Wm(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Hm(e){return!!e&&"mapValue"in e}function Gm(e){var t,n;return(null==(n=((null==(t=null==e?void 0:e.mapValue)?void 0:t.fields)||{})[Nm])?void 0:n.stringValue)===Em}function Km(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:{...e.timestampValue}};if(e.mapValue){const t={mapValue:{fields:{}}};return tm(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Km(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Km(e.arrayValue.values[n]);return t}return{...e}}function Ym(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===jm}const Qm={mapValue:{fields:{[Nm]:{stringValue:Em},[Im]:{arrayValue:{}}}}};function Xm(e){return"nullValue"in e?Pm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Bm(Cm.empty(),Jd.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?Gm(e)?Qm:{mapValue:{}}:_d(35942,{value:e})}function Jm(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Bm(Cm.empty(),Jd.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?Qm:"mapValue"in e?Gm(e)?{mapValue:{}}:Tm:_d(61959,{value:e})}function Zm(e,t){const n=Dm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function ep(e,t){const n=Dm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e){this.value=e}static empty(){return new tp({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Hm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Km(t)}setAll(e){let t=Xd.emptyPath(),n={},i=[];e.forEach((e,r)=>{if(!t.isImmediateParentOf(r)){const e=this.getFieldsMap(t);this.applyChanges(e,n,i),n={},i=[],t=r.popLast()}e?n[r.lastSegment()]=Km(e):i.push(r.lastSegment())});const r=this.getFieldsMap(t);this.applyChanges(r,n,i)}delete(e){const t=this.field(e.popLast());Hm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=t.mapValue.fields[e.get(n)];Hm(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,n){tm(t,(t,n)=>e[t]=n);for(const i of n)delete e[i]}clone(){return new tp(Km(this.value))}}function np(e){const t=[];return tm(e.fields,(e,n)=>{const i=new Xd([e]);if(Hm(n)){const e=np(n.mapValue).fields;if(0===e.length)t.push(i);else for(const n of e)t.push(i.child(n))}else t.push(i)}),new cm(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class ip{constructor(e,t,n,i,r,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=i,this.createTime=r,this.data=s,this.documentState=a}static newInvalidDocument(e){return new ip(e,0,df.min(),df.min(),df.min(),tp.empty(),0)}static newFoundDocument(e,t,n,i){return new ip(e,1,t,df.min(),n,i,0)}static newNoDocument(e,t){return new ip(e,2,t,df.min(),df.min(),tp.empty(),0)}static newUnknownDocument(e,t){return new ip(e,3,t,df.min(),df.min(),tp.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(df.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tp.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tp.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=df.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ip&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ip(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){this.position=e,this.inclusive=t}}function sp(e,t,n){let i=0;for(let r=0;r<e.position.length;r++){const s=t[r],a=e.position[r];if(i=s.field.isKeyField()?Jd.comparator(Jd.fromName(a.referenceValue),n.key):Dm(a,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function ap(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Mm(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,t="asc"){this.field=e,this.dir=t}}function lp(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{}class up extends cp{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new wp(e,t,n):"array-contains"===t?new Sp(e,n):"in"===t?new Cp(e,n):"not-in"===t?new Np(e,n):"array-contains-any"===t?new jp(e,n):new up(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new kp(e,n):new xp(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Dm(t,this.value)):null!==t&&Am(this.value)===Am(t)&&this.matchesComparison(Dm(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _d(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dp extends cp{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new dp(e,t)}matches(e){return fp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function fp(e){return"and"===e.op}function hp(e){return"or"===e.op}function mp(e){return pp(e)&&fp(e)}function pp(e){for(const t of e.filters)if(t instanceof dp)return!1;return!0}function gp(e){if(e instanceof up)return e.field.canonicalString()+e.op.toString()+Fm(e.value);if(mp(e))return e.filters.map(e=>gp(e)).join(",");{const t=e.filters.map(e=>gp(e)).join(",");return`${e.op}(${t})`}}function vp(e,t){return e instanceof up?(n=e,(i=t)instanceof up&&n.op===i.op&&n.field.isEqual(i.field)&&Mm(n.value,i.value)):e instanceof dp?function(e,t){return t instanceof dp&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,i)=>e&&vp(n,t.filters[i]),!0)}(e,t):void _d(19439);var n,i}function yp(e,t){const n=e.filters.concat(t);return dp.create(n,e.op)}function bp(e){return e instanceof up?`${(t=e).field.canonicalString()} ${t.op} ${Fm(t.value)}`:e instanceof dp?function(e){return e.op.toString()+" {"+e.getFilters().map(bp).join(" ,")+"}"}(e):"Filter";var t}class wp extends up{constructor(e,t,n){super(e,t,n),this.key=Jd.fromName(n.referenceValue)}matches(e){const t=Jd.comparator(e.key,this.key);return this.matchesComparison(t)}}class kp extends up{constructor(e,t){super(e,"in",t),this.keys=_p("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class xp extends up{constructor(e,t){super(e,"not-in",t),this.keys=_p("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _p(e,t){var n;return((null==(n=t.arrayValue)?void 0:n.values)||[]).map(e=>Jd.fromName(e.referenceValue))}class Sp extends up{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return qm(t)&&Rm(t.arrayValue,this.value)}}class Cp extends up{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Rm(this.value.arrayValue,t)}}class Np extends up{constructor(e,t){super(e,"not-in",t)}matches(e){if(Rm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Rm(this.value.arrayValue,t)}}class jp extends up{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!qm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Rm(this.value.arrayValue,e))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t=null,n=[],i=[],r=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=i,this.limit=r,this.startAt=s,this.endAt=a,this.Te=null}}function Ep(e,t=null,n=[],i=[],r=null,s=null,a=null){return new Tp(e,t,n,i,r,s,a)}function Ip(e){const t=Nd(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>gp(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>{return(t=e).field.canonicalString()+t.dir;var t}).join(","),Uf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Fm(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Fm(e)).join(",")),t.Te=e}return t.Te}function Pp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!lp(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!vp(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ap(e.startAt,t.startAt)&&ap(e.endAt,t.endAt)}function Ap(e){return Jd.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Mp(e,t){return e.filters.filter(e=>e instanceof up&&e.field.isEqual(t))}function Rp(e,t,n){let i=Pm,r=!0;for(const s of Mp(e,t)){let e=Pm,t=!0;switch(s.op){case"<":case"<=":e=Xm(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=Pm}Zm({value:i,inclusive:r},{value:e,inclusive:t})<0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Zm({value:i,inclusive:r},{value:e,inclusive:n.inclusive})<0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}function Dp(e,t,n){let i=Tm,r=!0;for(const s of Mp(e,t)){let e=Tm,t=!0;switch(s.op){case">=":case">":e=Jm(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=Tm}ep({value:i,inclusive:r},{value:e,inclusive:t})>0&&(i=e,r=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];ep({value:i,inclusive:r},{value:e,inclusive:n.inclusive})>0&&(i=e,r=n.inclusive);break}return{value:i,inclusive:r}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t=null,n=[],i=[],r=null,s="F",a=null,o=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=i,this.limit=r,this.limitType=s,this.startAt=a,this.endAt=o,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Op(e){return new Lp(e)}function Fp(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function zp(e){return null!==e.collectionGroup}function Up(e){const t=Nd(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(e){let t=new am(Xd.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t})(t).forEach(i=>{e.has(i.canonicalString())||i.isKeyField()||t.Ie.push(new op(i,n))}),e.has(Xd.keyField().canonicalString())||t.Ie.push(new op(Xd.keyField(),n))}return t.Ie}function Bp(e){const t=Nd(e);return t.Ee||(t.Ee=function(e,t){if("F"===e.limitType)return Ep(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new op(e.field,t)});const n=e.endAt?new rp(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new rp(e.startAt.position,e.startAt.inclusive):null;return Ep(e.path,e.collectionGroup,t,e.filters,e.limit,n,i)}}(t,Up(e))),t.Ee}function Vp(e,t){const n=e.filters.concat([t]);return new Lp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qp(e,t,n){return new Lp(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $p(e,t){return Pp(Bp(e),Bp(t))&&e.limitType===t.limitType}function Wp(e){return`${Ip(Bp(e))}|lt:${e.limitType}`}function Hp(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>bp(e)).join(", ")}]`),Uf(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Fm(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Fm(e)).join(",")),`Target(${t})`}(Bp(e))}; limitType=${e.limitType})`}function Gp(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Jd.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Up(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(i=t,!((n=e).startAt&&!function(e,t,n){const i=sp(e,t,n);return e.inclusive?i<=0:i<0}(n.startAt,Up(n),i)||n.endAt&&!function(e,t,n){const i=sp(e,t,n);return e.inclusive?i>=0:i>0}(n.endAt,Up(n),i)));var n,i}function Kp(e){return(t,n)=>{let i=!1;for(const r of Up(e)){const e=Yp(r,t,n);if(0!==e)return e;i=i||r.field.isKeyField()}return 0}}function Yp(e,t,n){const i=e.field.isKeyField()?Jd.comparator(t.key,n.key):function(e,t,n){const i=t.data.field(e),r=n.data.field(e);return null!==i&&null!==r?Dm(i,r):_d(42886)}(e.field,t,n);switch(e.dir){case"asc":return i;case"desc":return-1*i;default:return _d(19790,{direction:e.dir})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[i,r]of n)if(this.equalsFn(i,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return this.inner[n]=[[e,t]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return 1===n.length?delete this.inner[t]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){tm(this.inner,(t,n)=>{for(const[i,r]of n)e(i,r)})}isEmpty(){return nm(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=new im(Jd.comparator);function Jp(){return Xp}const Zp=new im(Jd.comparator);function eg(...e){let t=Zp;for(const n of e)t=t.insert(n.key,n);return t}function tg(e){let t=Zp;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function ng(){return rg()}function ig(){return rg()}function rg(){return new Qp(e=>e.toString(),(e,t)=>e.isEqual(t))}const sg=new im(Jd.comparator),ag=new am(Jd.comparator);function og(...e){let t=ag;for(const n of e)t=t.add(n);return t}const lg=new am(Ud);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function cg(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bf(t)?"-0":t}}function ug(e){return{integerValue:""+e}}function dg(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!Bf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?ug(t):cg(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(){this._=void 0}}function hg(e,t,n){return e instanceof gg?function(e,t){const n={fields:{[vm]:{stringValue:gm},[bm]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&wm(t)&&(t=km(t)),t&&(n.fields[ym]=t),{mapValue:n}}(n,t):e instanceof vg?yg(e,t):e instanceof bg?wg(e,t):function(e,t){const n=pg(e,t),i=xg(n)+xg(e.Ae);return Vm(n)&&Vm(e.Ae)?ug(i):cg(e.serializer,i)}(e,t)}function mg(e,t,n){return e instanceof vg?yg(e,t):e instanceof bg?wg(e,t):n}function pg(e,t){return e instanceof kg?Vm(n=t)||(i=n)&&"doubleValue"in i?t:{integerValue:0}:null;var n,i}class gg extends fg{}class vg extends fg{constructor(e){super(),this.elements=e}}function yg(e,t){const n=_g(t);for(const i of e.elements)n.some(e=>Mm(e,i))||n.push(i);return{arrayValue:{values:n}}}class bg extends fg{constructor(e){super(),this.elements=e}}function wg(e,t){let n=_g(t);for(const i of e.elements)n=n.filter(e=>!Mm(e,i));return{arrayValue:{values:n}}}class kg extends fg{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function xg(e){return mm(e.integerValue||e.doubleValue)}function _g(e){return qm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,t){this.field=e,this.transform=t}}class Cg{constructor(e,t){this.version=e,this.transformResults=t}}class Ng{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ng}static exists(e){return new Ng(void 0,e)}static updateTime(e){return new Ng(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jg(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Tg{}function Eg(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new zg(e.key,Ng.none()):new Rg(e.key,e.data,Ng.none());{const n=e.data,i=tp.empty();let r=new am(Xd.comparator);for(let e of t.fields)if(!r.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?i.delete(e):i.set(e,t),r=r.add(e)}return new Dg(e.key,i,new cm(r.toArray()),Ng.none())}}function Ig(e,t,n){var i;e instanceof Rg?function(e,t,n){const i=e.value.clone(),r=Og(e.fieldTransforms,t,n.transformResults);i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):e instanceof Dg?function(e,t,n){if(!jg(e.precondition,t))return void t.convertToUnknownDocument(n.version);const i=Og(e.fieldTransforms,t,n.transformResults),r=t.data;r.setAll(Lg(e)),r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):(i=n,t.convertToNoDocument(i.version).setHasCommittedMutations())}function Pg(e,t,n,i){return e instanceof Rg?function(e,t,n,i){if(!jg(e.precondition,t))return n;const r=e.value.clone(),s=Fg(e.fieldTransforms,i,t);return r.setAll(s),t.convertToFoundDocument(t.version,r).setHasLocalMutations(),null}(e,t,n,i):e instanceof Dg?function(e,t,n,i){if(!jg(e.precondition,t))return n;const r=Fg(e.fieldTransforms,i,t),s=t.data;return s.setAll(Lg(e)),s.setAll(r),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,i):(r=t,s=n,jg(e.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):s);var r,s}function Ag(e,t){let n=null;for(const i of e.fieldTransforms){const e=t.data.field(i.field),r=pg(i.transform,e||null);null!=r&&(null===n&&(n=tp.empty()),n.set(i.field,r))}return n||null}function Mg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,i=t.fieldTransforms,!!(void 0===n&&void 0===i||n&&i&&Wd(n,i,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&(n=e.transform,i=t.transform,n instanceof vg&&i instanceof vg||n instanceof bg&&i instanceof bg?Wd(n.elements,i.elements,Mm):n instanceof kg&&i instanceof kg?Mm(n.Ae,i.Ae):n instanceof gg&&i instanceof gg);var n,i}(e,t)))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask)));var n,i}class Rg extends Tg{constructor(e,t,n,i=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Dg extends Tg{constructor(e,t,n,i,r=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Lg(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=e.data.field(n);t.set(n,i)}}),t}function Og(e,t,n){const i=new Map;Cd(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let r=0;r<n.length;r++){const s=e[r],a=s.transform,o=t.data.field(s.field);i.set(s.field,mg(a,o,n[r]))}return i}function Fg(e,t,n){const i=new Map;for(const r of e){const e=r.transform,s=n.data.field(r.field);i.set(r.field,hg(e,s,t))}return i}class zg extends Tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ug extends Tg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(e,t,n,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const t=this.mutations[i];t.key.isEqual(e.key)&&Ig(t,e,n[i])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Pg(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Pg(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ig();return this.mutations.forEach(i=>{const r=e.get(i.key),s=r.overlayedDocument;let a=this.applyToLocalView(s,r.mutatedFields);a=t.has(i.key)?null:a;const o=Eg(s,a);null!==o&&n.set(i.key,o),s.isValidDocument()||s.convertToNoDocument(df.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),og())}isEqual(e){return this.batchId===e.batchId&&Wd(this.mutations,e.mutations,(e,t)=>Mg(e,t))&&Wd(this.baseMutations,e.baseMutations,(e,t)=>Mg(e,t))}}class Vg{constructor(e,t,n,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=i}static from(e,t,n){Cd(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=function(){return sg}();const r=e.mutations;for(let s=0;s<r.length;s++)i=i.insert(r[s].key,n[s].version);return new Vg(e,t,n,i)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t){this.count=e,this.unchangedNames=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wg,Hg;function Gg(e){if(void 0===e)return wd("GRPC error has no .code"),jd.UNKNOWN;switch(e){case Wg.OK:return jd.OK;case Wg.CANCELLED:return jd.CANCELLED;case Wg.UNKNOWN:return jd.UNKNOWN;case Wg.DEADLINE_EXCEEDED:return jd.DEADLINE_EXCEEDED;case Wg.RESOURCE_EXHAUSTED:return jd.RESOURCE_EXHAUSTED;case Wg.INTERNAL:return jd.INTERNAL;case Wg.UNAVAILABLE:return jd.UNAVAILABLE;case Wg.UNAUTHENTICATED:return jd.UNAUTHENTICATED;case Wg.INVALID_ARGUMENT:return jd.INVALID_ARGUMENT;case Wg.NOT_FOUND:return jd.NOT_FOUND;case Wg.ALREADY_EXISTS:return jd.ALREADY_EXISTS;case Wg.PERMISSION_DENIED:return jd.PERMISSION_DENIED;case Wg.FAILED_PRECONDITION:return jd.FAILED_PRECONDITION;case Wg.ABORTED:return jd.ABORTED;case Wg.OUT_OF_RANGE:return jd.OUT_OF_RANGE;case Wg.UNIMPLEMENTED:return jd.UNIMPLEMENTED;case Wg.DATA_LOSS:return jd.DATA_LOSS;default:return _d(39323,{code:e})}}(Hg=Wg||(Wg={}))[Hg.OK=0]="OK",Hg[Hg.CANCELLED=1]="CANCELLED",Hg[Hg.UNKNOWN=2]="UNKNOWN",Hg[Hg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hg[Hg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hg[Hg.NOT_FOUND=5]="NOT_FOUND",Hg[Hg.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hg[Hg.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hg[Hg.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hg[Hg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hg[Hg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hg[Hg.ABORTED=10]="ABORTED",Hg[Hg.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hg[Hg.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hg[Hg.INTERNAL=13]="INTERNAL",Hg[Hg.UNAVAILABLE=14]="UNAVAILABLE",Hg[Hg.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Kg=new td([4294967295,4294967295],0);function Yg(e){const t=(new TextEncoder).encode(e),n=new nd;return n.update(t),new Uint8Array(n.digest())}function Qg(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new td([n,i],0),new td([r,s],0)]}class Xg{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Jg(`Invalid padding: ${t}`);if(n<0)throw new Jg(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Jg(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Jg(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=td.fromNumber(this.ge)}ye(e,t,n){let i=e.add(t.multiply(td.fromNumber(n)));return 1===i.compare(Kg)&&(i=new td([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Yg(e),[n,i]=Qg(t);for(let r=0;r<this.hashCount;r++){const e=this.ye(n,i,r);if(!this.we(e))return!1}return!0}static create(e,t,n){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),s=new Xg(r,i,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.ge)return;const t=Yg(e),[n,i]=Qg(t);for(let r=0;r<this.hashCount;r++){const e=this.ye(n,i,r);this.Se(e)}}Se(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Jg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,t,n,i,r){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const i=new Map;return i.set(e,ev.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Zg(df.min(),i,new im(Ud),Jp(),og())}}class ev{constructor(e,t,n,i,r){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ev(n,t,og(),og(),og())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tv{constructor(e,t,n,i){this.be=e,this.removedTargetIds=t,this.key=n,this.De=i}}class nv{constructor(e,t){this.targetId=e,this.Ce=t}}class iv{constructor(e,t,n=dm.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=i}}class rv{constructor(){this.ve=0,this.Fe=ov(),this.Me=dm.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=og(),t=og(),n=og();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:n=n.add(i);break;default:_d(38017,{changeType:r})}}),new ev(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=ov()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Cd(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class sv{constructor(e){this.Ge=e,this.ze=new Map,this.je=Jp(),this.Je=av(),this.He=av(),this.Ye=new im(Ud)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:_d(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,i=this.ot(t);if(i){const r=i.target;if(Ap(r))if(0===n){const e=new Jd(r.path);this.et(t,e,ip.newNoDocument(e,df.min()))}else Cd(1===n,20013,{expectedCount:n});else{const i=this._t(t);if(i!==n){const n=this.ut(e),r=n?this.ct(n,e,i):1;if(0!==r){this.it(t);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,e)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:r=0}=t;let s,a;try{s=pm(n).toUint8Array()}catch(o){if(o instanceof um)return kd("Decoding the base64 bloom filter in existence filter failed ("+o.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw o}try{a=new Xg(s,i,r)}catch(o){return kd(o instanceof Jg?"BloomFilter error: ":"Applying bloom filter failed: ",o),null}return 0===a.ge?null:a}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let i=0;return n.forEach(n=>{const r=this.Ge.ht(),s=`projects/${r.projectId}/databases/${r.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.et(t,n,null),i++)}),i}Tt(e){const t=new Map;this.ze.forEach((n,i)=>{const r=this.ot(i);if(r){if(n.current&&Ap(r.target)){const t=new Jd(r.target.path);this.It(t).has(i)||this.Et(i,t)||this.et(i,t,ip.newNoDocument(t,e))}n.Be&&(t.set(i,n.ke()),n.qe())}});let n=og();this.He.forEach((e,t)=>{let i=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(i=!1,!1)}),i&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const i=new Zg(e,t,this.Ye,this.je,n);return this.je=Jp(),this.Je=av(),this.He=av(),this.Ye=new im(Ud),i}Xe(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new rv,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new am(Ud),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new am(Ud),this.Je=this.Je.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||bd("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new rv),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function av(){return new im(Jd.comparator)}function ov(){return new im(Jd.comparator)}const lv=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),cv=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),uv=(()=>({and:"AND",or:"OR"}))();class dv{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fv(e,t){return e.useProto3Json||Uf(t)?t:{value:t}}function hv(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mv(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function pv(e,t){return hv(e,t.toTimestamp())}function gv(e){return Cd(!!e,49232),df.fromTimestamp(function(e){const t=hm(e);return new uf(t.seconds,t.nanos)}(e))}function vv(e,t){return yv(e,t).canonicalString()}function yv(e,t){const n=(i=e,new Yd(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===t?n:n.child(t)}function bv(e){const t=Yd.fromString(e);return Cd(Uv(t),10190,{key:t.toString()}),t}function wv(e,t){return vv(e.databaseId,t.path)}function kv(e,t){const n=bv(t);if(n.get(1)!==e.databaseId.projectId)throw new Td(jd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Td(jd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Jd(Cv(n))}function xv(e,t){return vv(e.databaseId,t)}function _v(e){const t=bv(e);return 4===t.length?Yd.emptyPath():Cv(t)}function Sv(e){return new Yd(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Cv(e){return Cd(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Nv(e,t,n){return{name:wv(e,t),fields:n.value.mapValue.fields}}function jv(e,t){let n;if(t instanceof Rg)n={update:Nv(e,t.key,t.value)};else if(t instanceof zg)n={delete:wv(e,t.key)};else if(t instanceof Dg)n={update:Nv(e,t.key,t.data),updateMask:zv(t.fieldMask)};else{if(!(t instanceof Ug))return _d(16599,{Vt:t.type});n={verify:wv(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof gg)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vg)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof bg)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof kg)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw _d(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=(i=e,void 0!==(r=t.precondition).updateTime?{updateTime:pv(i,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:_d(27497))),n;var i,r}function Tv(e,t){const n=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ng.updateTime(gv(r.updateTime)):void 0!==r.exists?Ng.exists(r.exists):Ng.none():Ng.none(),i=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;if("setToServerValue"in t)Cd("REQUEST_TIME"===t.setToServerValue,16630,{proto:t}),n=new gg;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new vg(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new bg(e)}else"increment"in t?n=new kg(e,t.increment):_d(16584,{proto:t});const i=Xd.fromServerFormat(t.fieldPath);return new Sg(i,n)}(e,t)):[];var r;if(t.update){t.update.name;const r=kv(e,t.update.name),s=new tp({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new cm(t.map(e=>Xd.fromServerFormat(e)))}(t.updateMask);return new Dg(r,s,e,n,i)}return new Rg(r,s,n,i)}if(t.delete){const i=kv(e,t.delete);return new zg(i,n)}if(t.verify){const i=kv(e,t.verify);return new Ug(i,n)}return _d(1463,{proto:t})}function Ev(e,t){return{documents:[xv(e,t.path)]}}function Iv(e,t){const n={structuredQuery:{}},i=t.path;let r;null!==t.collectionGroup?(r=i,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=xv(e,r);const s=function(e){if(0!==e.length)return Fv(dp.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>{return{field:Lv((t=e).field),direction:Mv(t.dir)};var t})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=fv(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(l=t.startAt).inclusive,values:l.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:r};var l}function Pv(e){let t=_v(e.parent);const n=e.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Cd(1===i,65062);const e=n.from[0];e.allDescendants?r=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Av(e);return t instanceof dp&&mp(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=n.orderBy.map(e=>{return new op(Ov((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t}));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Uf(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new rp(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new rp(n,t)}(n.endAt)),function(e,t,n,i,r,s,a,o){return new Lp(e,t,n,i,r,s,a,o)}(t,r,a,s,o,"F",l,c)}function Av(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ov(e.unaryFilter.field);return up.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ov(e.unaryFilter.field);return up.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ov(e.unaryFilter.field);return up.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Ov(e.unaryFilter.field);return up.create(r,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _d(61313);default:return _d(60726)}}(e):void 0!==e.fieldFilter?(t=e,up.create(Ov(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _d(58110);default:return _d(50506)}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return dp.create(e.compositeFilter.filters.map(e=>Av(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return _d(1026)}}(e.compositeFilter.op))}(e):_d(30097,{filter:e});var t}function Mv(e){return lv[e]}function Rv(e){return cv[e]}function Dv(e){return uv[e]}function Lv(e){return{fieldPath:e.canonicalString()}}function Ov(e){return Xd.fromServerFormat(e.fieldPath)}function Fv(e){return e instanceof up?function(e){if("=="===e.op){if(Wm(e.value))return{unaryFilter:{field:Lv(e.field),op:"IS_NAN"}};if($m(e.value))return{unaryFilter:{field:Lv(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wm(e.value))return{unaryFilter:{field:Lv(e.field),op:"IS_NOT_NAN"}};if($m(e.value))return{unaryFilter:{field:Lv(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lv(e.field),op:Rv(e.op),value:e.value}}}(e):e instanceof dp?function(e){const t=e.getFilters().map(e=>Fv(e));return 1===t.length?t[0]:{compositeFilter:{op:Dv(e.op),filters:t}}}(e):_d(54877,{filter:e})}function zv(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Uv(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,t,n,i,r=df.min(),s=df.min(),a=dm.EMPTY_BYTE_STRING,o=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Bv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.yt=e}}function qv(e,t){let n;if(t.document)n=function(e,t,n){const i=kv(e,t.name),r=gv(t.updateTime),s=t.createTime?gv(t.createTime):df.min(),a=new tp({mapValue:{fields:t.fields}}),o=ip.newFoundDocument(i,r,s,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}(e.yt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=Jd.fromSegments(t.noDocument.path),i=Gv(t.noDocument.readTime);n=ip.newNoDocument(e,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return _d(56709);{const e=Jd.fromSegments(t.unknownDocument.path),i=Gv(t.unknownDocument.version);n=ip.newUnknownDocument(e,i)}}return t.readTime&&n.setReadTime(function(e){const t=new uf(e[0],e[1]);return df.fromTimestamp(t)}(t.readTime)),n}function $v(e,t){const n=t.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:wv(r=e.yt,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:hv(r,s.version.toTimestamp()),createTime:hv(r,s.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Hv(t.version)};else{if(!t.isUnknownDocument())return _d(57904,{document:t});i.unknownDocument={path:n.path.toArray(),version:Hv(t.version)}}var r,s;return i}function Wv(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Hv(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Gv(e){const t=new uf(e.seconds,e.nanoseconds);return df.fromTimestamp(t)}function Kv(e,t){const n=(t.baseMutations||[]).map(t=>Tv(e.yt,t));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const i=t.mutations.map(t=>Tv(e.yt,t)),r=uf.fromMillis(t.localWriteTimeMs);return new Bg(t.batchId,r,n,i)}function Yv(e){const t=Gv(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Gv(e.lastLimboFreeSnapshotVersion):df.min();let i;return i=void 0!==e.query.documents?function(e){const t=e.documents.length;return Cd(1===t,1966,{count:t}),Bp(Op(_v(e.documents[0])))}(e.query):function(e){return Bp(Pv(e))}(e.query),new Bv(i,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,dm.fromBase64String(e.resumeToken))}function Qv(e,t){const n=Hv(t.snapshotVersion),i=Hv(t.lastLimboFreeSnapshotVersion);let r;r=Ap(t.target)?Ev(e.yt,t.target):Iv(e.yt,t.target).ft;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ip(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Xv(e){const t=Pv({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qp(t,t.limit,"L"):t}function Jv(e,t){return new qg(t.largestBatchId,Tv(e.yt,t.overlayMutation))}function Zv(e,t){const n=t.path.lastSegment();return[e,qf(t.path.popLast()),n]}function ey(e,t,n,i){return{indexId:e,uid:t,sequenceNumber:n,readTime:Hv(i.readTime),documentKey:qf(i.documentKey.path),largestBatchId:i.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{getBundleMetadata(e,t){return ny(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:Gv(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return ny(e).put({bundleId:(n=t).id,createTime:Hv(gv(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return iy(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:Xv(t.bundledQuery),readTime:Gv(t.readTime)};var t})}saveNamedQuery(e,t){return iy(e).put({name:(n=t).name,readTime:Hv(gv(n.readTime)),bundledQuery:n.bundledQuery});var n}}function ny(e){return Zh(e,Ch)}function iy(e){return Zh(e,Nh)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const n=t.uid||"";return new ry(e,n)}getOverlay(e,t){return sy(e).get(Zv(this.userId,t)).next(e=>e?Jv(this.serializer,e):null)}getOverlays(e,t){const n=ng();return _f.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const i=[];return n.forEach((n,r)=>{const s=new qg(t,r);i.push(this.St(e,s))}),_f.waitFor(i)}removeOverlaysForBatchId(e,t,n){const i=new Set;t.forEach(e=>i.add(qf(e.getCollectionPath())));const r=[];return i.forEach(t=>{const i=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);r.push(sy(e).Z(zh,i))}),_f.waitFor(r)}getOverlaysForCollection(e,t,n){const i=ng(),r=qf(t),s=IDBKeyRange.bound([this.userId,r,n],[this.userId,r,Number.POSITIVE_INFINITY],!0);return sy(e).J(zh,s).next(e=>{for(const t of e){const e=Jv(this.serializer,t);i.set(e.getKey(),e)}return i})}getOverlaysForCollectionGroup(e,t,n,i){const r=ng();let s;const a=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return sy(e).ee({index:Bh,range:a},(e,t,n)=>{const a=Jv(this.serializer,t);r.size()<i||a.largestBatchId===s?(r.set(a.getKey(),a),s=a.largestBatchId):n.done()}).next(()=>r)}St(e,t){return sy(e).put(function(e,t,n){const[i,r,s]=Zv(t,n.mutation.key);return{userId:t,collectionPath:r,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:jv(e.yt,n.mutation)}}(this.serializer,this.userId,t))}}function sy(e){return Zh(e,Oh)}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{bt(e){return Zh(e,qh)}getSessionToken(e){return this.bt(e).get("sessionToken").next(e=>{const t=null==e?void 0:e.value;return t?dm.fromUint8Array(t):dm.EMPTY_BYTE_STRING})}setSessionToken(e,t){return this.bt(e).put({name:"sessionToken",value:t.toUint8Array()})}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(mm(e.integerValue));else if("doubleValue"in e){const n=mm(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Bf(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=hm(n)),t.xt(`${n.seconds||""}`),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(pm(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ym(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Gm(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.Qt(e.arrayValue,t),this.Nt(t)):_d(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){const n=e.fields||{};this.Ft(t,55);for(const i of Object.keys(n))this.Ot(i,t),this.Ct(n[i],t)}kt(e,t){var n,i;const r=e.fields||{};this.Ft(t,53);const s=Im,a=(null==(i=null==(n=r[s].arrayValue)?void 0:n.values)?void 0:i.length)||0;this.Ft(t,15),t.Mt(mm(a)),this.Ot(s,t),this.Ct(r[s],t)}Qt(e,t){const n=e.values||[];this.Ft(t,50);for(const i of n)this.Ct(i,t)}Lt(e,t){this.Ft(t,37),Jd.fromName(e).path.forEach(e=>{this.Ft(t,60),this.Ut(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}oy.Kt=new oy;
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ly=255;function cy(e){if(0===e)return 8;let t=0;return e>>4||(t+=4,e<<=4),e>>6||(t+=2,e<<=2),e>>7||(t+=1),t}function uy(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const i=cy(255&e[n]);if(t+=i,8!==i)break}return t}(e);return Math.ceil(t/8)}class dy{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Gt(n.value),n=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Jt(n.value),n=t.next();this.Ht()}Yt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Gt(e);else if(e<2048)this.Gt(960|e>>>6),this.Gt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Gt(480|e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e);else{const e=t.codePointAt(0);this.Gt(240|e>>>18),this.Gt(128|63&e>>>12),this.Gt(128|63&e>>>6),this.Gt(128|63&e)}}this.zt()}Zt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Jt(e);else if(e<2048)this.Jt(960|e>>>6),this.Jt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Jt(480|e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e);else{const e=t.codePointAt(0);this.Jt(240|e>>>18),this.Jt(128|63&e>>>12),this.Jt(128|63&e>>>6),this.Jt(128|63&e)}}this.Ht()}Xt(e){const t=this.en(e),n=uy(t);this.tn(1+n),this.buffer[this.position++]=255&n;for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=255&t[i]}nn(e){const t=this.en(e),n=uy(t);this.tn(1+n),this.buffer[this.position++]=~(255&n);for(let i=t.length-n;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}rn(){this.sn(ly),this.sn(255)}_n(){this.an(ly),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let i=1;i<t.length;++i)t[i]^=n?255:0;return t}Gt(e){const t=255&e;0===t?(this.sn(0),this.sn(255)):t===ly?(this.sn(ly),this.sn(0)):this.sn(t)}Jt(e){const t=255&e;0===t?(this.an(0),this.an(255)):t===ly?(this.an(ly),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const i=new Uint8Array(n);i.set(this.buffer),this.buffer=i}}class fy{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class hy{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class my{constructor(){this.cn=new dy,this.ln=new fy(this.cn),this.hn=new hy(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return 0===e?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,t,n,i){this.Tn=e,this.In=t,this.En=n,this.dn=i}An(){const e=this.dn.length,t=0===e||255===this.dn[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.dn,0),t!==e?n.set([0],this.dn.length):++n[n.length-1],new py(this.Tn,this.In,this.En,n)}Rn(e,t,n){return{indexId:this.Tn,uid:e,arrayValue:yy(this.En),directionalValue:yy(this.dn),orderedDocumentKey:yy(t),documentKey:n.path.toArray()}}Vn(e,t,n){const i=this.Rn(e,t,n);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function gy(e,t){let n=e.Tn-t.Tn;return 0!==n?n:(n=vy(e.En,t.En),0!==n?n:(n=vy(e.dn,t.dn),0!==n?n:Jd.comparator(e.In,t.In)))}function vy(e,t){for(let n=0;n<e.length&&n<t.length;++n){const i=e[n]-t[n];if(0!==i)return i}return e.length-t.length}function yy(e){return Ji()?function(e){let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}(e):e}function by(e){return"string"!=typeof e?e:function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)}class wy{constructor(e){this.mn=new am((e,t)=>Xd.comparator(e.field,t.field)),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const t of e.filters){const e=t;e.isInequality()?this.mn=this.mn.add(e):this.gn.push(e)}}get pn(){return this.mn.size>1}yn(e){if(Cd(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const t=hf(e);if(void 0!==t&&!this.wn(t))return!1;const n=mf(e);let i=new Set,r=0,s=0;for(;r<n.length&&this.wn(n[r]);++r)i=i.add(n[r].fieldPath.canonicalString());if(r===n.length)return!0;if(this.mn.size>0){const e=this.mn.getIterator().getNext();if(!i.has(e.field.canonicalString())){const t=n[r];if(!this.Sn(e,t)||!this.bn(this.fn[s++],t))return!1}++r}for(;r<n.length;++r){const e=n[r];if(s>=this.fn.length||!this.bn(this.fn[s++],e))return!1}return!0}Dn(){if(this.pn)return null;let e=new am(Xd.comparator);const t=[];for(const n of this.gn)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new pf(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new pf(n.field,0))}for(const n of this.fn)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new pf(n.field,"asc"===n.dir?0:1)));return new ff(ff.UNKNOWN_ID,this.collectionId,t,gf.empty())}wn(e){for(const t of this.gn)if(this.Sn(t,e))return!0;return!1}Sn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}bn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(e){var t,n;if(Cd(e instanceof up||e instanceof dp,20012),e instanceof up){if(e instanceof Cp){const i=(null==(n=null==(t=e.value.arrayValue)?void 0:t.values)?void 0:n.map(t=>up.create(e.field,"==",t)))||[];return dp.create(i,"or")}return e}const i=e.filters.map(e=>ky(e));return dp.create(i,e.op)}function xy(e){if(0===e.getFilters().length)return[];const t=Ny(ky(e));return Cd(Cy(t),7391),_y(t)||Sy(t)?[t]:t.getFilters()}function _y(e){return e instanceof up}function Sy(e){return e instanceof dp&&mp(e)}function Cy(e){return _y(e)||Sy(e)||function(e){if(e instanceof dp&&hp(e)){for(const t of e.getFilters())if(!_y(t)&&!Sy(t))return!1;return!0}return!1}(e)}function Ny(e){if(Cd(e instanceof up||e instanceof dp,34018),e instanceof up)return e;if(1===e.filters.length)return Ny(e.filters[0]);const t=e.filters.map(e=>Ny(e));let n=dp.create(t,e.op);return n=Ey(n),Cy(n)?n:(Cd(n instanceof dp,64498),Cd(fp(n),40251),Cd(n.filters.length>1,57927),n.filters.reduce((e,t)=>jy(e,t)))}function jy(e,t){let n;return Cd(e instanceof up||e instanceof dp,38388),Cd(t instanceof up||t instanceof dp,25473),n=e instanceof up?t instanceof up?(i=e,r=t,dp.create([i,r],"and")):Ty(e,t):t instanceof up?Ty(t,e):function(e,t){if(Cd(e.filters.length>0&&t.filters.length>0,48005),fp(e)&&fp(t))return yp(e,t.getFilters());const n=hp(e)?e:t,i=hp(e)?t:e,r=n.filters.map(e=>jy(e,i));return dp.create(r,"or")}(e,t),Ey(n);var i,r}function Ty(e,t){if(fp(t))return yp(t,e.getFilters());{const n=t.filters.map(t=>jy(e,t));return dp.create(n,"or")}}function Ey(e){if(Cd(e instanceof up||e instanceof dp,11850),e instanceof up)return e;const t=e.getFilters();if(1===t.length)return Ey(t[0]);if(pp(e))return e;const n=t.map(e=>Ey(e)),i=[];return n.forEach(t=>{t instanceof up?i.push(t):t instanceof dp&&(t.op===e.op?i.push(...t.filters):i.push(t))}),1===i.length?i[0]:dp.create(i,e.op)
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Iy{constructor(){this.Cn=new Py}addToCollectionParentIndex(e,t){return this.Cn.add(t),_f.resolve()}getCollectionParents(e,t){return _f.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return _f.resolve()}deleteFieldIndex(e,t){return _f.resolve()}deleteAllFieldIndexes(e){return _f.resolve()}createTargetIndexes(e,t){return _f.resolve()}getDocumentsMatchingTarget(e,t){return _f.resolve(null)}getIndexType(e,t){return _f.resolve(0)}getFieldIndexes(e,t){return _f.resolve([])}getNextCollectionGroupToUpdate(e){return _f.resolve(null)}getMinOffset(e,t){return _f.resolve(yf.min())}getMinOffsetFromCollectionGroup(e,t){return _f.resolve(yf.min())}updateCollectionGroup(e,t,n){return _f.resolve()}updateIndexEntries(e,t){return _f.resolve()}}class Py{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t]||new am(Yd.comparator),r=!i.has(n);return this.index[t]=i.add(n),r}has(e){const t=e.lastSegment(),n=e.popLast(),i=this.index[t];return i&&i.has(n)}getEntries(e){return(this.index[e]||new am(Yd.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay="IndexedDbIndexManager",My=new Uint8Array(0);class Ry{constructor(e,t){this.databaseId=t,this.vn=new Py,this.Fn=new Qp(e=>Ip(e),(e,t)=>Pp(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.vn.has(t)){const n=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.vn.add(t)});const r={collectionId:n,parent:qf(i)};return Dy(e).put(r)}return _f.resolve()}getCollectionParents(e,t){const n=[],i=IDBKeyRange.bound([t,""],[Hd(t),""],!1,!0);return Dy(e).J(i).next(e=>{for(const i of e){if(i.collectionId!==t)break;n.push(Hf(i.parent))}return n})}addFieldIndex(e,t){const n=Oy(e),i={indexId:(r=t).indexId,collectionGroup:r.collectionGroup,fields:r.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])};var r;delete i.indexId;const s=n.add(i);if(t.indexState){const n=Fy(e);return s.next(e=>{n.put(ey(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){const n=Oy(e),i=Fy(e),r=Ly(e);return n.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const t=Oy(e),n=Ly(e),i=Fy(e);return t.Z().next(()=>n.Z()).next(()=>i.Z())}createTargetIndexes(e,t){return _f.forEach(this.Mn(t),t=>this.getIndexType(e,t).next(n=>{if(0===n||1===n){const n=new wy(t).Dn();if(null!=n)return this.addFieldIndex(e,n)}}))}getDocumentsMatchingTarget(e,t){const n=Ly(e);let i=!0;const r=new Map;return _f.forEach(this.Mn(t),t=>this.xn(e,t).next(e=>{i&&(i=!!e),r.set(t,e)})).next(()=>{if(i){let e=og();const i=[];return _f.forEach(r,(r,s)=>{var a;bd(Ay,`Using index ${a=r,`id=${a.indexId}|cg=${a.collectionGroup}|f=${a.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`} to execute ${Ip(t)}`);const o=function(e,t){const n=hf(t);if(void 0===n)return null;for(const i of Mp(e,n.fieldPath))switch(i.op){case"array-contains-any":return i.value.arrayValue.values||[];case"array-contains":return[i.value]}return null}(s,r),l=function(e,t){const n=new Map;for(const i of mf(t))for(const t of Mp(e,i.fieldPath))switch(t.op){case"==":case"in":n.set(i.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(i.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,r),c=function(e,t){const n=[];let i=!0;for(const r of mf(t)){const t=0===r.kind?Rp(e,r.fieldPath,e.startAt):Dp(e,r.fieldPath,e.startAt);n.push(t.value),i&&(i=t.inclusive)}return new rp(n,i)}(s,r),u=function(e,t){const n=[];let i=!0;for(const r of mf(t)){const t=0===r.kind?Dp(e,r.fieldPath,e.endAt):Rp(e,r.fieldPath,e.endAt);n.push(t.value),i&&(i=t.inclusive)}return new rp(n,i)}(s,r),d=this.On(r,s,c),f=this.On(r,s,u),h=this.Nn(r,s,l),m=this.Bn(r.indexId,o,d,c.inclusive,f,u.inclusive,h);return _f.forEach(m,r=>n.Y(r,t.limit).next(t=>{t.forEach(t=>{const n=Jd.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),i.push(n))})}))}).next(()=>i)}return _f.resolve(null)})}Mn(e){let t=this.Fn.get(e);return t||(t=0===e.filters.length?[e]:xy(dp.create(e.filters,"and")).map(t=>Ep(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt)),this.Fn.set(e,t),t)}Bn(e,t,n,i,r,s,a){const o=(null!=t?t.length:1)*Math.max(n.length,r.length),l=o/(null!=t?t.length:1),c=[];for(let u=0;u<o;++u){const o=t?this.Ln(t[u/l]):My,d=this.kn(e,o,n[u%l],i),f=this.qn(e,o,r[u%l],s),h=a.map(t=>this.kn(e,o,t,!0));c.push(...this.createRange(d,f,h))}return c}kn(e,t,n,i){const r=new py(e,Jd.empty(),t,n);return i?r:r.An()}qn(e,t,n,i){const r=new py(e,Jd.empty(),t,n);return i?r.An():r}xn(e,t){const n=new wy(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(e=>{let t=null;for(const i of e)n.yn(i)&&(!t||i.fields.length>t.fields.length)&&(t=i);return t})}getIndexType(e,t){let n=2;const i=this.Mn(t);return _f.forEach(i,t=>this.xn(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new am(Xd.comparator),n=!1;for(const i of e.filters)for(const e of i.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const i of e.orderBy)i.field.isKeyField()||(t=t.add(i.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>null!==t.limit&&i.length>1&&2===n?1:n)}Qn(e,t){const n=new my;for(const i of mf(e)){const e=t.data.field(i.fieldPath);if(null==e)return null;const r=n.Pn(i.kind);oy.Kt.Dt(e,r)}return n.un()}Ln(e){const t=new my;return oy.Kt.Dt(e,t.Pn(0)),t.un()}$n(e,t){const n=new my;return oy.Kt.Dt(Bm(this.databaseId,t),n.Pn(function(e){const t=mf(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.un()}Nn(e,t,n){if(null===n)return[];let i=[];i.push(new my);let r=0;for(const s of mf(e)){const e=n[r++];for(const n of i)if(this.Un(t,s.fieldPath)&&qm(e))i=this.Kn(i,s,e);else{const t=n.Pn(s.kind);oy.Kt.Dt(e,t)}}return this.Wn(i)}On(e,t,n){return this.Nn(e,t,n.position)}Wn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].un();return t}Kn(e,t,n){const i=[...e],r=[];for(const s of n.arrayValue.values||[])for(const e of i){const n=new my;n.seed(e.un()),oy.Kt.Dt(s,n.Pn(t.kind)),r.push(n)}return r}Un(e,t){return!!e.filters.find(e=>e instanceof up&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=Oy(e),i=Fy(e);return(t?n.J(Th,IDBKeyRange.bound(t,t)):n.J()).next(e=>{const t=[];return _f.forEach(e,e=>i.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new gf(t.sequenceNumber,new yf(Gv(t.readTime),new Jd(Hf(t.documentKey)),t.largestBatchId)):gf.empty(),i=e.fields.map(([e,t])=>new pf(Xd.fromServerFormat(e),t));return new ff(e.indexId,e.collectionGroup,i,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Ud(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const i=Oy(e),r=Fy(e);return this.Gn(e).next(e=>i.J(Th,IDBKeyRange.bound(t,t)).next(t=>_f.forEach(t,t=>r.put(ey(t.indexId,this.uid,e,n)))))}updateIndexEntries(e,t){const n=new Map;return _f.forEach(t,(t,i)=>{const r=n.get(t.collectionGroup);return(r?_f.resolve(r):this.getFieldIndexes(e,t.collectionGroup)).next(r=>(n.set(t.collectionGroup,r),_f.forEach(r,n=>this.zn(e,t,n).next(t=>{const r=this.jn(i,n);return t.isEqual(r)?_f.resolve():this.Jn(e,i,n,t,r)}))))})}Hn(e,t,n,i){return Ly(e).put(i.Rn(this.uid,this.$n(n,t.key),t.key))}Yn(e,t,n,i){return Ly(e).delete(i.Vn(this.uid,this.$n(n,t.key),t.key))}zn(e,t,n){const i=Ly(e);let r=new am(gy);return i.ee({index:Dh,range:IDBKeyRange.only([n.indexId,this.uid,yy(this.$n(n,t))])},(e,i)=>{r=r.add(new py(n.indexId,t,by(i.arrayValue),by(i.directionalValue)))}).next(()=>r)}jn(e,t){let n=new am(gy);const i=this.Qn(t,e);if(null==i)return n;const r=hf(t);if(null!=r){const s=e.data.field(r.fieldPath);if(qm(s))for(const r of s.arrayValue.values||[])n=n.add(new py(t.indexId,e.key,this.Ln(r),i))}else n=n.add(new py(t.indexId,e.key,My,i));return n}Jn(e,t,n,i,r){bd(Ay,"Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,i,r){const s=e.getIterator(),a=t.getIterator();let o=lm(s),l=lm(a);for(;o||l;){let e=!1,t=!1;if(o&&l){const i=n(o,l);i<0?t=!0:i>0&&(e=!0)}else null!=o?t=!0:e=!0;e?(i(l),l=lm(a)):t?(r(o),o=lm(s)):(o=lm(s),l=lm(a))}}(i,r,gy,i=>{s.push(this.Hn(e,t,n,i))},i=>{s.push(this.Yn(e,t,n,i))}),_f.waitFor(s)}Gn(e){let t=1;return Fy(e).ee({index:Ph,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,i)=>{i.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>gy(e,t)).filter((e,t,n)=>!t||0!==gy(e,n[t-1]));const i=[];i.push(e);for(const s of n){const n=gy(s,e),r=gy(s,t);if(0===n)i[0]=e.An();else if(n>0&&r<0)i.push(s),i.push(s.An());else if(r>0)break}i.push(t);const r=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const e=i[s].Vn(this.uid,My,Jd.empty()),t=i[s+1].Vn(this.uid,My,Jd.empty());r.push(IDBKeyRange.bound(e,t))}return r}Zn(e,t){return gy(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(zy)}getMinOffset(e,t){return _f.mapArray(this.Mn(t),t=>this.xn(e,t).next(e=>e||_d(44426))).next(zy)}}function Dy(e){return Zh(e,xh)}function Ly(e){return Zh(e,Mh)}function Oy(e){return Zh(e,jh)}function Fy(e){return Zh(e,Eh)}function zy(e){Cd(0!==e.length,28825);let t=e[0].indexState.offset,n=t.largestBatchId;for(let i=1;i<e.length;i++){const r=e[i].indexState.offset;bf(r,t)<0&&(t=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new yf(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},By=41943040;class Vy{static withCacheSize(e){return new Vy(e,Vy.DEFAULT_COLLECTION_PERCENTILE,Vy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(e,t,n){const i=e.store(Xf),r=e.store(rh),s=[],a=IDBKeyRange.only(n.batchId);let o=0;const l=i.ee({range:a},(e,t,n)=>(o++,n.delete()));s.push(l.next(()=>{Cd(1===o,47070,{batchId:n.batchId})}));const c=[];for(const u of n.mutations){const e=nh(t,u.key.path,n.batchId);s.push(r.delete(e)),c.push(u.key)}return _f.waitFor(s).next(()=>c)}function $y(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _d(14731);t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vy.DEFAULT_COLLECTION_PERCENTILE=10,Vy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vy.DEFAULT=new Vy(By,Vy.DEFAULT_COLLECTION_PERCENTILE,Vy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vy.DISABLED=new Vy(-1,0,0);class Wy{constructor(e,t,n,i){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=i,this.Xn={}}static wt(e,t,n,i){Cd(""!==e.uid,64387);const r=e.isAuthenticated()?e.uid:"";return new Wy(r,t,n,i)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gy(e).ee({index:Zf,range:n},(e,n,i)=>{t=!1,i.done()}).next(()=>t)}addMutationBatch(e,t,n,i){const r=Ky(e),s=Gy(e);return s.add({}).next(a=>{Cd("number"==typeof a,49019);const o=new Bg(a,t,n,i),l=function(e,t,n){const i=n.baseMutations.map(t=>jv(e.yt,t)),r=n.mutations.map(t=>jv(e.yt,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:i,mutations:r}}(this.serializer,this.userId,o),c=[];let u=new am((e,t)=>Ud(e.canonicalString(),t.canonicalString()));for(const e of i){const t=nh(this.userId,e.key.path,a);u=u.add(e.key.path.popLast()),c.push(s.put(l)),c.push(r.put(t,ih))}return u.forEach(t=>{c.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.Xn[a]=o.keys()}),_f.waitFor(c).next(()=>o)})}lookupMutationBatch(e,t){return Gy(e).get(t).next(e=>e?(Cd(e.userId===this.userId,48,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),Kv(this.serializer,e)):null)}er(e,t){return this.Xn[t]?_f.resolve(this.Xn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.Xn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=IDBKeyRange.lowerBound([this.userId,n]);let r=null;return Gy(e).ee({index:Zf,range:i},(e,t,i)=>{t.userId===this.userId&&(Cd(t.batchId>=n,47524,{tr:n}),r=Kv(this.serializer,t)),i.done()}).next(()=>r)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=zf;return Gy(e).ee({index:Zf,range:t,reverse:!0},(e,t,i)=>{n=t.batchId,i.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,zf],[this.userId,Number.POSITIVE_INFINITY]);return Gy(e).J(Zf,t).next(e=>e.map(e=>Kv(this.serializer,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=th(this.userId,t.path),i=IDBKeyRange.lowerBound(n),r=[];return Ky(e).ee({range:i},(n,i,s)=>{const[a,o,l]=n,c=Hf(o);if(a===this.userId&&t.path.isEqual(c))return Gy(e).get(l).next(e=>{if(!e)throw _d(61480,{nr:n,batchId:l});Cd(e.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:e.userId,batchId:l}),r.push(Kv(this.serializer,e))});s.done()}).next(()=>r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new am(Ud);const i=[];return t.forEach(t=>{const r=th(this.userId,t.path),s=IDBKeyRange.lowerBound(r),a=Ky(e).ee({range:s},(e,i,r)=>{const[s,a,o]=e,l=Hf(a);s===this.userId&&t.path.isEqual(l)?n=n.add(o):r.done()});i.push(a)}),_f.waitFor(i).next(()=>this.rr(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1,r=th(this.userId,n),s=IDBKeyRange.lowerBound(r);let a=new am(Ud);return Ky(e).ee({range:s},(e,t,r)=>{const[s,o,l]=e,c=Hf(o);s===this.userId&&n.isPrefixOf(c)?c.length===i&&(a=a.add(l)):r.done()}).next(()=>this.rr(e,a))}rr(e,t){const n=[],i=[];return t.forEach(t=>{i.push(Gy(e).get(t).next(e=>{if(null===e)throw _d(35274,{batchId:t});Cd(e.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:e.userId,batchId:t}),n.push(Kv(this.serializer,e))}))}),_f.waitFor(i).next(()=>n)}removeMutationBatch(e,t){return qy(e.le,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.ir(t.batchId)}),_f.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return _f.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),i=[];return Ky(e).ee({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Hf(e[1]);i.push(t)}else n.done()}).next(()=>{Cd(0===i.length,56720,{sr:i.map(e=>e.canonicalString())})})})}containsKey(e,t){return Hy(e,this.userId,t)}_r(e){return Yy(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:zf,lastStreamToken:""})}}function Hy(e,t,n){const i=th(t,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let a=!1;return Ky(e).ee({range:s,X:!0},(e,n,i)=>{const[s,o,l]=e;s===t&&o===r&&(a=!0),i.done()}).next(()=>a)}function Gy(e){return Zh(e,Xf)}function Ky(e){return Zh(e,rh)}function Yy(e){return Zh(e,Qf)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qy(0)}static cr(){return new Qy(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.lr(e).next(t=>{const n=new Qy(t.highestTargetId);return t.highestTargetId=n.next(),this.hr(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.lr(e).next(e=>df.fromTimestamp(new uf(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.lr(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.lr(e).next(i=>(i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.hr(e,i)))}addTargetData(e,t){return this.Pr(e,t).next(()=>this.lr(e).next(n=>(n.targetCount+=1,this.Tr(t,n),this.hr(e,n))))}updateTargetData(e,t){return this.Pr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Jy(e).delete(t.targetId)).next(()=>this.lr(e)).next(t=>(Cd(t.targetCount>0,8065),t.targetCount-=1,this.hr(e,t)))}removeTargets(e,t,n){let i=0;const r=[];return Jy(e).ee((s,a)=>{const o=Yv(a);o.sequenceNumber<=t&&null===n.get(o.targetId)&&(i++,r.push(this.removeTargetData(e,o)))}).next(()=>_f.waitFor(r)).next(()=>i)}forEachTarget(e,t){return Jy(e).ee((e,n)=>{const i=Yv(n);t(i)})}lr(e){return Zy(e).get(wh).next(e=>(Cd(null!==e,2888),e))}hr(e,t){return Zy(e).put(wh,t)}Pr(e,t){return Jy(e).put(Qv(this.serializer,t))}Tr(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.lr(e).next(e=>e.targetCount)}getTargetData(e,t){const n=Ip(t),i=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let r=null;return Jy(e).ee({range:i,index:mh},(e,n,i)=>{const s=Yv(n);Pp(t,s.target)&&(r=s,i.done())}).next(()=>r)}addMatchingKeys(e,t,n){const i=[],r=eb(e);return t.forEach(t=>{const s=qf(t.path);i.push(r.put({targetId:n,path:s})),i.push(this.referenceDelegate.addReference(e,n,t))}),_f.waitFor(i)}removeMatchingKeys(e,t,n){const i=eb(e);return _f.forEach(t,t=>{const r=qf(t.path);return _f.waitFor([i.delete([n,r]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=eb(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(i)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),i=eb(e);let r=og();return i.ee({range:n,X:!0},(e,t,n)=>{const i=Hf(e[1]),s=new Jd(i);r=r.add(s)}).next(()=>r)}containsKey(e,t){const n=qf(t.path),i=IDBKeyRange.bound([n],[Hd(n)],!1,!0);let r=0;return eb(e).ee({index:yh,X:!0,range:i},([e,t],n,i)=>{0!==e&&(r++,i.done())}).next(()=>r>0)}At(e,t){return Jy(e).get(t).next(e=>e?Yv(e):null)}}function Jy(e){return Zh(e,hh)}function Zy(e){return Zh(e,kh)}function eb(e){return Zh(e,gh)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tb="LruGarbageCollector";function nb([e,t],[n,i]){const r=Ud(e,n);return 0===r?Ud(t,i):r}class ib{constructor(e){this.Ir=e,this.buffer=new am(nb),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();nb(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rb{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Vr(e){bd(tb,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){If(e)?bd(tb,"Ignoring IndexedDB error during garbage collection: ",e):await xf(e)}await this.Vr(3e5)})}}class sb{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return _f.resolve(Ff.ce);const n=new ib(t);return this.mr.forEachTarget(e,e=>n.Ar(e.sequenceNumber)).next(()=>this.mr.pr(e,e=>n.Ar(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(bd("LruGarbageCollector","Garbage collection skipped; disabled"),_f.resolve(Uy)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(bd("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uy):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,i,r,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(bd("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),i=this.params.maximumSequenceNumbersToCollect):i=t,s=Date.now(),this.nthSequenceNumber(e,i))).next(i=>(n=i,a=Date.now(),this.removeTargets(e,n,t))).next(t=>(r=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),yd()<=Tr.DEBUG&&bd("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${i} in `+(a-s)+`ms\n\tRemoved ${r} targets in `+(o-a)+`ms\n\tRemoved ${e} documents in `+(l-o)+`ms\nTotal Duration: ${l-c}ms`),_f.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:e})))}}function ab(e,t){return new sb(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t){this.db=e,this.garbageCollector=ab(this,t)}gr(e){const t=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pr(e,t){return this.Sr(e,(e,n)=>t(n))}addReference(e,t,n){return lb(e,n)}removeReference(e,t,n){return lb(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return lb(e,t)}br(e,t){return function(e,t){let n=!1;return Yy(e).te(i=>Hy(e,i,t).next(e=>(e&&(n=!0),_f.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let r=0;return this.Sr(e,(s,a)=>{if(a<=t){const t=this.br(e,s).next(t=>{if(!t)return r++,n.getEntry(e,s).next(()=>(n.removeEntry(s,df.min()),eb(e).delete([0,qf(s.path)])))});i.push(t)}}).next(()=>_f.waitFor(i)).next(()=>n.apply(e)).next(()=>r)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return lb(e,t)}Sr(e,t){const n=eb(e);let i,r=Ff.ce;return n.ee({index:yh},([e,n],{path:s,sequenceNumber:a})=>{0===e?(r!==Ff.ce&&t(new Jd(Hf(i)),r),r=a,i=s):r=Ff.ce}).next(()=>{r!==Ff.ce&&t(new Jd(Hf(i)),r)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function lb(e,t){return eb(e).put((n=t,i=e.currentSequenceNumber,{targetId:0,path:qf(n.path),sequenceNumber:i}));var n,i}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.changes=new Qp(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ip.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?_f.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return mb(e).put(n)}removeEntry(e,t,n){return mb(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Wv(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.Dr(e,n)))}getEntry(e,t){let n=ip.newInvalidDocument(t);return mb(e).ee({index:oh,range:IDBKeyRange.only(pb(t))},(e,i)=>{n=this.Cr(t,i)}).next(()=>n)}vr(e,t){let n={size:0,document:ip.newInvalidDocument(t)};return mb(e).ee({index:oh,range:IDBKeyRange.only(pb(t))},(e,i)=>{n={document:this.Cr(t,i),size:$y(i)}}).next(()=>n)}getEntries(e,t){let n=Jp();return this.Fr(e,t,(e,t)=>{const i=this.Cr(e,t);n=n.insert(e,i)}).next(()=>n)}Mr(e,t){let n=Jp(),i=new im(Jd.comparator);return this.Fr(e,t,(e,t)=>{const r=this.Cr(e,t);n=n.insert(e,r),i=i.insert(e,$y(t))}).next(()=>({documents:n,Or:i}))}Fr(e,t,n){if(t.isEmpty())return _f.resolve();let i=new am(vb);t.forEach(e=>i=i.add(e));const r=IDBKeyRange.bound(pb(i.first()),pb(i.last())),s=i.getIterator();let a=s.getNext();return mb(e).ee({index:oh,range:r},(e,t,i)=>{const r=Jd.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;a&&vb(a,r)<0;)n(a,null),a=s.getNext();a&&a.isEqual(r)&&(n(a,t),a=s.hasNext()?s.getNext():null),a?i.j(pb(a)):i.done()}).next(()=>{for(;a;)n(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,t,n,i,r){const s=t.path,a=[s.popLast().toArray(),s.lastSegment(),Wv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mb(e).J(IDBKeyRange.bound(a,o,!0)).next(e=>{null==r||r.incrementDocumentReadCount(e.length);let n=Jp();for(const r of e){const e=this.Cr(Jd.fromSegments(r.prefixPath.concat(r.collectionGroup,r.documentId)),r);e.isFoundDocument()&&(Gp(t,e)||i.has(e.key))&&(n=n.insert(e.key,e))}return n})}getAllFromCollectionGroup(e,t,n,i){let r=Jp();const s=gb(t,n),a=gb(t,yf.max());return mb(e).ee({index:ch,range:IDBKeyRange.bound(s,a,!0)},(e,t,n)=>{const s=this.Cr(Jd.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);r=r.insert(s.key,s),r.size===i&&n.done()}).next(()=>r)}newChangeBuffer(e){return new fb(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return hb(e).get(fh).next(e=>(Cd(!!e,20021),e))}Dr(e,t){return hb(e).put(fh,t)}Cr(e,t){if(t){const e=qv(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(df.min()))return e}return ip.newInvalidDocument(e)}}function db(e){return new ub(e)}class fb extends cb{constructor(e,t){super(),this.Nr=e,this.trackRemovals=t,this.Br=new Qp(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,i=new am((e,t)=>Ud(e.canonicalString(),t.canonicalString()));return this.changes.forEach((r,s)=>{const a=this.Br.get(r);if(t.push(this.Nr.removeEntry(e,r,a.readTime)),s.isValidDocument()){const o=$v(this.Nr.serializer,s);i=i.add(r.path.popLast());const l=$y(o);n+=l-a.size,t.push(this.Nr.addEntry(e,r,o))}else if(n-=a.size,this.trackRemovals){const n=$v(this.Nr.serializer,s.convertToNoDocument(df.min()));t.push(this.Nr.addEntry(e,r,n))}}),i.forEach(n=>{t.push(this.Nr.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.Nr.updateMetadata(e,n)),_f.waitFor(t)}getFromCache(e,t){return this.Nr.vr(e,t).next(e=>(this.Br.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.Nr.Mr(e,t).next(({documents:e,Or:t})=>(t.forEach((t,n)=>{this.Br.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function hb(e){return Zh(e,dh)}function mb(e){return Zh(e,sh)}function pb(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function gb(e,t){const n=t.documentKey.path.toArray();return[e,Wv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function vb(e,t){const n=e.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=Ud(n[s],i[s]),r)return r;return r=Ud(n.length,i.length),r||(r=Ud(n[n.length-2],i[i.length-2]),r||Ud(n[n.length-1],i[i.length-1])
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)}class yb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e,t,n,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Pg(n.mutation,e,cm.empty(),uf.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,og()).next(()=>t))}getLocalViewOfDocuments(e,t,n=og()){const i=ng();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,n).next(e=>{let t=eg();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=ng();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,og()))}populateOverlays(e,t,n){const i=[];return n.forEach(e=>{t.has(e)||i.push(e)}),this.documentOverlayCache.getOverlays(e,i).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,i){let r=Jp();const s=rg(),a=rg();return t.forEach((e,t)=>{const a=n.get(t.key);i.has(t.key)&&(void 0===a||a.mutation instanceof Dg)?r=r.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Pg(a.mutation,t,a.mutation.getFieldMask(),uf.now())):s.set(t.key,cm.empty())}),this.recalculateAndSaveOverlays(e,r).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>a.set(e,new yb(t,s.get(e)??null))),a))}recalculateAndSaveOverlays(e,t){const n=rg();let i=new im((e,t)=>e-t),r=og();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const r of e)r.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||cm.empty();a=r.applyToLocalView(s,a),n.set(e,a);const o=(i.get(r.batchId)||og()).add(e);i=i.insert(r.batchId,o)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const i=a.getNext(),o=i.key,l=i.value,c=ig();l.forEach(e=>{if(!r.has(e)){const i=Eg(t.get(e),n.get(e));null!==i&&c.set(e,i),r=r.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return _f.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,i){return r=t,Jd.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):zp(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,i):this.getDocumentsMatchingCollectionQuery(e,t,n,i);var r}getNextDocuments(e,t,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,i).next(r=>{const s=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,i-r.size):_f.resolve(ng());let a=-1,o=r;return s.next(t=>_f.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),r.get(t)?_f.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,r)).next(()=>this.computeViews(e,o,t,og())).next(e=>({batchId:a,changes:tg(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Jd(t)).next(e=>{let t=eg();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,i){const r=t.collectionGroup;let s=eg();return this.indexManager.getCollectionParents(e,r).next(a=>_f.forEach(a,a=>{const o=(l=t,c=a.child(r),new Lp(c,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt));var l,c;return this.getDocumentsMatchingCollectionQuery(e,o,n,i).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r,i))).next(e=>{r.forEach((t,n)=>{const i=n.getKey();null===e.get(i)&&(e=e.insert(i,ip.newInvalidDocument(i)))});let n=eg();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&Pg(s.mutation,i,cm.empty(),uf.now()),Gp(t,i)&&(n=n.insert(e,i))}),n})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return _f.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,{id:(n=t).id,version:n.version,createTime:gv(n.createTime)}),_f.resolve();var n}getNamedQuery(e,t){return _f.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,{name:(n=t).name,query:Xv(n.bundledQuery),readTime:gv(n.readTime)}),_f.resolve();var n}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.overlays=new im(Jd.comparator),this.qr=new Map}getOverlay(e,t){return _f.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ng();return _f.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,i)=>{this.St(e,t,i)}),_f.resolve()}removeOverlaysForBatchId(e,t,n){const i=this.qr.get(n);return void 0!==i&&(i.forEach(e=>this.overlays=this.overlays.remove(e)),this.qr.delete(n)),_f.resolve()}getOverlaysForCollection(e,t,n){const i=ng(),r=t.length+1,s=new Jd(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===r&&e.largestBatchId>n&&i.set(e.getKey(),e)}return _f.resolve(i)}getOverlaysForCollectionGroup(e,t,n,i){let r=new im((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=r.get(e.largestBatchId);null===t&&(t=ng(),r=r.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ng(),o=r.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=i)););return _f.resolve(a)}St(e,t,n){const i=this.overlays.get(n.key);if(null!==i){const e=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new qg(t,n));let r=this.qr.get(t);void 0===r&&(r=og(),this.qr.set(t,r)),this.qr.set(t,r.add(n.key))}}
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(){this.sessionToken=dm.EMPTY_BYTE_STRING}getSessionToken(e){return _f.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,_f.resolve()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(){this.Qr=new am(Sb.$r),this.Ur=new am(Sb.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const n=new Sb(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Gr(new Sb(e,t))}zr(e,t){e.forEach(e=>this.removeReference(e,t))}jr(e){const t=new Jd(new Yd([])),n=new Sb(t,e),i=new Sb(t,e+1),r=[];return this.Ur.forEachInRange([n,i],e=>{this.Gr(e),r.push(e.key)}),r}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Jd(new Yd([])),n=new Sb(t,e),i=new Sb(t,e+1);let r=og();return this.Ur.forEachInRange([n,i],e=>{r=r.add(e.key)}),r}containsKey(e){const t=new Sb(e,0),n=this.Qr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sb{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Jd.comparator(e.key,t.key)||Ud(e.Yr,t.Yr)}static Kr(e,t){return Ud(e.Yr,t.Yr)||Jd.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new am(Sb.$r)}checkEmpty(e){return _f.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Bg(r,t,n,i);this.mutationQueue.push(s);for(const a of i)this.Zr=this.Zr.add(new Sb(a.key,r)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return _f.resolve(s)}lookupMutationBatch(e,t){return _f.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,i=this.ei(n),r=i<0?0:i;return _f.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return _f.resolve(0===this.mutationQueue.length?zf:this.tr-1)}getAllMutationBatches(e){return _f.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sb(t,0),i=new Sb(t,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([n,i],e=>{const t=this.Xr(e.Yr);r.push(t)}),_f.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new am(Ud);return t.forEach(e=>{const t=new Sb(e,0),i=new Sb(e,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([t,i],e=>{n=n.add(e.Yr)})}),_f.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,i=n.length+1;let r=n;Jd.isDocumentKey(r)||(r=r.child(""));const s=new Sb(new Jd(r),0);let a=new am(Ud);return this.Zr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===i&&(a=a.add(e.Yr)),!0)},s),_f.resolve(this.ti(a))}ti(e){const t=[];return e.forEach(e=>{const n=this.Xr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Cd(0===this.ni(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Zr;return _f.forEach(t.mutations,i=>{const r=new Sb(i.key,t.batchId);return n=n.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=n})}ir(e){}containsKey(e,t){const n=new Sb(t,0),i=this.Zr.firstAfterOrEqual(n);return _f.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,_f.resolve()}ni(e,t){return this.ei(e)}ei(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.ri=e,this.docs=new im(Jd.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,i=this.docs.get(n),r=i?i.size:0,s=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-r,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return _f.resolve(n?n.document.mutableCopy():ip.newInvalidDocument(t))}getEntries(e,t){let n=Jp();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():ip.newInvalidDocument(e))}),_f.resolve(n)}getDocumentsMatchingQuery(e,t,n,i){let r=Jp();const s=t.path,a=new Jd(s.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||bf(vf(a),n)<=0||(i.has(a.key)||Gp(t,a))&&(r=r.insert(a.key,a.mutableCopy()))}return _f.resolve(r)}getAllFromCollectionGroup(e,t,n,i){_d(9500)}ii(e,t){return _f.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new jb(this)}getSize(e){return _f.resolve(this.size)}}class jb extends cb{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)}),_f.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.persistence=e,this.si=new Qp(e=>Ip(e),Pp),this.lastRemoteSnapshotVersion=df.min(),this.highestTargetId=0,this.oi=0,this._i=new _b,this.targetCount=0,this.ai=Qy.ur()}forEachTarget(e,t){return this.si.forEach((e,n)=>t(n)),_f.resolve()}getLastRemoteSnapshotVersion(e){return _f.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return _f.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),_f.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),_f.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Qy(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,_f.resolve()}updateTargetData(e,t){return this.Pr(t),_f.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,_f.resolve()}removeTargets(e,t,n){let i=0;const r=[];return this.si.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.si.delete(s),r.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),_f.waitFor(r).next(()=>i)}getTargetCount(e){return _f.resolve(this.targetCount)}getTargetData(e,t){const n=this.si.get(t)||null;return _f.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),_f.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);const i=this.persistence.referenceDelegate,r=[];return i&&t.forEach(t=>{r.push(i.markPotentiallyOrphaned(e,t))}),_f.waitFor(r)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),_f.resolve()}getMatchingKeysForTargetId(e,t){const n=this._i.Hr(t);return _f.resolve(n)}containsKey(e,t){return _f.resolve(this._i.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.ui={},this.overlays={},this.ci=new Ff(0),this.li=!1,this.li=!0,this.hi=new xb,this.referenceDelegate=e(this),this.Pi=new Tb(this),this.indexManager=new Iy,this.remoteDocumentCache=new Nb(e=>this.referenceDelegate.Ti(e)),this.serializer=new Vv(t),this.Ii=new wb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new Cb(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){bd("MemoryPersistence","Starting transaction:",e);const i=new Ib(this.ci.next());return this.referenceDelegate.Ei(),n(i).next(e=>this.referenceDelegate.di(i).next(()=>e)).toPromise().then(e=>(i.raiseOnCommittedEvent(),e))}Ai(e,t){return _f.or(Object.values(this.ui).map(n=>()=>n.containsKey(e,t)))}}class Ib extends kf{constructor(e){super(),this.currentSequenceNumber=e}}class Pb{constructor(e){this.persistence=e,this.Ri=new _b,this.Vi=null}static mi(e){return new Pb(e)}get fi(){if(this.Vi)return this.Vi;throw _d(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),_f.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),_f.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),_f.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(e=>this.fi.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.fi.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _f.forEach(this.fi,n=>{const i=Jd.fromPath(n);return this.gi(e,i).next(e=>{e||t.removeEntry(i,df.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return _f.or([()=>_f.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Ab{constructor(e,t){this.persistence=e,this.pi=new Qp(e=>qf(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=ab(this,t)}static mi(e,t){return new Ab(e,t)}Ei(){}di(e){return _f.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}wr(e){let t=0;return this.pr(e,e=>{t++}).next(()=>t)}pr(e,t){return _f.forEach(this.pi,(n,i)=>this.br(e,n,i).next(e=>e?_f.resolve():t(i)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(e,i=>this.br(e,i,t).next(e=>{e||(n++,r.removeEntry(i,df.min()))})).next(()=>r.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),_f.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_f.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),_f.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),_f.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Um(e.data.value)),t}br(e,t,n){return _f.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.pi.get(t);return _f.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e){this.serializer=e}k(e,t,n,i){const r=new Cf("createOrUpgrade",t);n<1&&i>=1&&(e.createObjectStore(Kf),function(e){e.createObjectStore(Qf,{keyPath:"userId"});e.createObjectStore(Xf,{keyPath:Jf,autoIncrement:!0}).createIndex(Zf,eh,{unique:!0}),e.createObjectStore(rh)}(e),Rb(e),function(e){e.createObjectStore(Gf)}(e));let s=_f.resolve();return n<3&&i>=3&&(0!==n&&(function(e){e.deleteObjectStore(gh),e.deleteObjectStore(hh),e.deleteObjectStore(kh)}(e),Rb(e)),s=s.next(()=>function(e){const t=e.store(kh),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:df.min().toTimestamp(),targetCount:0};return t.put(wh,n)}(r))),n<4&&i>=4&&(0!==n&&(s=s.next(()=>function(e,t){return t.store(Xf).J().next(n=>{e.deleteObjectStore(Xf),e.createObjectStore(Xf,{keyPath:Jf,autoIncrement:!0}).createIndex(Zf,eh,{unique:!0});const i=t.store(Xf),r=n.map(e=>i.put(e));return _f.waitFor(r)})}(e,r))),s=s.next(()=>{!function(e){e.createObjectStore(Sh,{keyPath:"clientId"})}(e)})),n<5&&i>=5&&(s=s.next(()=>this.yi(r))),n<6&&i>=6&&(s=s.next(()=>(function(e){e.createObjectStore(dh)}(e),this.wi(r)))),n<7&&i>=7&&(s=s.next(()=>this.Si(r))),n<8&&i>=8&&(s=s.next(()=>this.bi(e,r))),n<9&&i>=9&&(s=s.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&i>=10&&(s=s.next(()=>this.Di(r))),n<11&&i>=11&&(s=s.next(()=>{!function(e){e.createObjectStore(Ch,{keyPath:"bundleId"})}(e),function(e){e.createObjectStore(Nh,{keyPath:"name"})}(e)})),n<12&&i>=12&&(s=s.next(()=>{!function(e){const t=e.createObjectStore(Oh,{keyPath:Fh});t.createIndex(zh,Uh,{unique:!1}),t.createIndex(Bh,Vh,{unique:!1})}(e)})),n<13&&i>=13&&(s=s.next(()=>function(e){const t=e.createObjectStore(sh,{keyPath:ah});t.createIndex(oh,lh),t.createIndex(ch,uh)}(e)).next(()=>this.Ci(e,r)).next(()=>e.deleteObjectStore(Gf))),n<14&&i>=14&&(s=s.next(()=>this.Fi(e,r))),n<15&&i>=15&&(s=s.next(()=>function(e){e.createObjectStore(jh,{keyPath:"indexId",autoIncrement:!0}).createIndex(Th,"collectionGroup",{unique:!1});e.createObjectStore(Eh,{keyPath:Ih}).createIndex(Ph,Ah,{unique:!1});e.createObjectStore(Mh,{keyPath:Rh}).createIndex(Dh,Lh,{unique:!1})}(e))),n<16&&i>=16&&(s=s.next(()=>{t.objectStore(Eh).clear()}).next(()=>{t.objectStore(Mh).clear()})),n<17&&i>=17&&(s=s.next(()=>{!function(e){e.createObjectStore(qh,{keyPath:"name"})}(e)})),n<18&&i>=18&&Ji()&&(s=s.next(()=>{t.objectStore(Eh).clear()}).next(()=>{t.objectStore(Mh).clear()})),s}wi(e){let t=0;return e.store(Gf).ee((e,n)=>{t+=$y(n)}).next(()=>{const n={byteSize:t};return e.store(dh).put(fh,n)})}yi(e){const t=e.store(Qf),n=e.store(Xf);return t.J().next(t=>_f.forEach(t,t=>{const i=IDBKeyRange.bound([t.userId,zf],[t.userId,t.lastAcknowledgedBatchId]);return n.J(Zf,i).next(n=>_f.forEach(n,n=>{Cd(n.userId===t.userId,18650,"Cannot process batch from unexpected user",{batchId:n.batchId});const i=Kv(this.serializer,n);return qy(e,t.userId,i).next(()=>{})}))}))}Si(e){const t=e.store(gh),n=e.store(Gf);return e.store(kh).get(wh).next(e=>{const i=[];return n.ee((n,r)=>{const s=new Yd(n),a=[0,qf(s)];i.push(t.get(a).next(n=>{return n?_f.resolve():(i=s,t.put({targetId:0,path:qf(i),sequenceNumber:e.highestListenSequenceNumber}));var i}))}).next(()=>_f.waitFor(i))})}bi(e,t){e.createObjectStore(xh,{keyPath:_h});const n=t.store(xh),i=new Py,r=e=>{if(i.add(e)){const t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:qf(i)})}};return t.store(Gf).ee({X:!0},(e,t)=>{const n=new Yd(e);return r(n.popLast())}).next(()=>t.store(rh).ee({X:!0},([e,t,n],i)=>{const s=Hf(t);return r(s.popLast())}))}Di(e){const t=e.store(hh);return t.ee((e,n)=>{const i=Yv(n),r=Qv(this.serializer,i);return t.put(r)})}Ci(e,t){const n=t.store(Gf),i=[];return n.ee((e,n)=>{const r=t.store(sh),s=(o=n,o.document?new Jd(Yd.fromString(o.document.name).popFirst(5)):o.noDocument?Jd.fromSegments(o.noDocument.path):o.unknownDocument?Jd.fromSegments(o.unknownDocument.path):_d(36783)).path.toArray(),a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};var o;i.push(r.put(a))}).next(()=>_f.waitFor(i))}Fi(e,t){const n=t.store(Xf),i=db(this.serializer),r=new Eb(Pb.mi,this.serializer.yt);return n.J().next(e=>{const n=new Map;return e.forEach(e=>{let t=n.get(e.userId)??og();Kv(this.serializer,e).keys().forEach(e=>t=t.add(e)),n.set(e.userId,t)}),_f.forEach(n,(e,n)=>{const s=new pd(n),a=ry.wt(this.serializer,s),o=r.getIndexManager(s),l=Wy.wt(s,this.serializer,o,r.referenceDelegate);return new bb(i,l,a,o).recalculateAndSaveOverlaysForDocumentKeys(new Jh(t,Ff.ce),e).next()})})}}function Rb(e){e.createObjectStore(gh,{keyPath:vh}).createIndex(yh,bh,{unique:!0}),e.createObjectStore(hh,{keyPath:"targetId"}).createIndex(mh,ph,{unique:!0}),e.createObjectStore(kh)}const Db="IndexedDbPersistence",Lb=18e5,Ob=5e3,Fb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zb{constructor(e,t,n,i,r,s,a,o,l,c,u=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.Mi=r,this.window=s,this.document=a,this.xi=l,this.Oi=c,this.Ni=u,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=e=>Promise.resolve(),!zb.v())throw new Td(jd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ob(this,i),this.$i=t+"main",this.serializer=new Vv(o),this.Ui=new Nf(this.$i,this.Ni,new Mb(this.serializer)),this.hi=new ay,this.Pi=new Xy(this.referenceDelegate,this.serializer),this.remoteDocumentCache=db(this.serializer),this.Ii=new ty,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,!1===c&&wd(Db,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Td(jd.FAILED_PRECONDITION,Fb);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Pi.getHighestSequenceNumber(e))}).then(e=>{this.ci=new Ff(e,this.xi)}).then(()=>{this.li=!0}).catch(e=>(this.Ui&&this.Ui.close(),Promise.reject(e)))}Ji(e){return this.Qi=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$(async t=>{null===t.newVersion&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget(async()=>{this.started&&await this.Wi()}))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Bb(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Hi(e).next(e=>{e||(this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)))})}).next(()=>this.Yi(e)).next(t=>this.isPrimary&&!t?this.Zi(e).next(()=>!1):!!t&&this.Xi(e).next(()=>!0))).catch(e=>{if(If(e))return bd(Db,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return bd(Db,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable(()=>this.Qi(e)),this.isPrimary=e})}Hi(e){return Ub(e).get(Yf).next(e=>_f.resolve(this.es(e)))}ts(e){return Bb(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,Lb)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const t=Zh(e,Sh);return t.J().next(e=>{const n=this.ss(e,Lb),i=e.filter(e=>-1===n.indexOf(e));return _f.forEach(i,e=>t.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(this.Ki)for(const t of e)this.Ki.removeItem(this._s(t.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Wi().then(()=>this.ns()).then(()=>this.ji()))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?_f.resolve(!0):Ub(e).get(Yf).next(t=>{if(null!==t&&this.rs(t.leaseTimestampMs,Ob)&&!this.us(t.ownerId)){if(this.es(t)&&this.networkEnabled)return!0;if(!this.es(t)){if(!t.allowTabSynchronization)throw new Td(jd.FAILED_PRECONDITION,Fb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Bb(e).J().next(e=>void 0===this.ss(e,Ob).find(e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,i=this.networkEnabled===e.networkEnabled;if(t||n&&i)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&bd(Db,`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[Kf,Sh],e=>{const t=new Jh(e,Ff.ce);return this.Zi(t).next(()=>this.ts(t))}),this.Ui.close(),this.Ps()}ss(e,t){return e.filter(e=>this.rs(e.updateTimeMs,t)&&!this.us(e.clientId))}Ts(){return this.runTransaction("getActiveClients","readonly",e=>Bb(e).J().next(e=>this.ss(e,Lb).map(e=>e.clientId)))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,t){return Wy.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ry(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return ry.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,t,n){bd(Db,"Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",r=18===(s=this.Ni)?Xh:17===s?Qh:16===s?Yh:15===s?Kh:14===s?Gh:13===s?Hh:12===s?Wh:11===s?$h:void _d(60245);var s;let a;return this.Ui.runTransaction(e,i,r,i=>(a=new Jh(i,this.ci?this.ci.next():Ff.ce),"readwrite-primary"===t?this.Hi(a).next(e=>!!e||this.Yi(a)).next(t=>{if(!t)throw wd(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable(()=>this.Qi(!1)),new Td(jd.FAILED_PRECONDITION,wf);return n(a)}).next(e=>this.Xi(a).next(()=>e)):this.Is(a).next(()=>n(a)))).then(e=>(a.raiseOnCommittedEvent(),e))}Is(e){return Ub(e).get(Yf).next(e=>{if(null!==e&&this.rs(e.leaseTimestampMs,Ob)&&!this.us(e.ownerId)&&!this.es(e)&&!(this.Oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Td(jd.FAILED_PRECONDITION,Fb)})}Xi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ub(e).put(Yf,t)}static v(){return Nf.v()}Zi(e){const t=Ub(e);return t.get(Yf).next(e=>this.es(e)?(bd(Db,"Releasing primary lease."),t.delete(Yf)):_f.resolve())}rs(e,t){const n=Date.now();return!(e<n-t||e>n&&(wd(`Detected an update time that is in the future: ${e} > ${n}`),1))}Gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Li=()=>{this.Mi.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Wi()))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground="visible"===this.document.visibilityState)}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;"function"==typeof(null==(e=this.window)?void 0:e.addEventListener)&&(this.Bi=()=>{this.cs();const e=/(?:Version|Mobile)\/1[456]/;Xi()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var t;try{const n=null!==(null==(t=this.Ki)?void 0:t.getItem(this._s(e)));return bd(Db,`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return wd(Db,"Failed to get zombied client id.",n),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(cZ){wd("Failed to set zombie client id.",cZ)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch(cZ){}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ub(e){return Zh(e,Kf)}function Bb(e){return Zh(e,Sh)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vb{constructor(e,t,n,i){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=i}static As(e,t){let n=og(),i=og();for(const r of t.docChanges)switch(r.type){case 0:n=n.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new Vb(e,t.fromCache,n,i)}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=Xi()?8:jf(Hi())>0?6:4}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,i){const r={result:null};return this.ys(e,t).next(e=>{r.result=e}).next(()=>{if(!r.result)return this.ws(e,t,i,n).next(e=>{r.result=e})}).next(()=>{if(r.result)return;const n=new qb;return this.Ss(e,t,n).next(i=>{if(r.result=i,this.Vs)return this.bs(e,t,n,i.size)})}).next(()=>r.result)}bs(e,t,n,i){return n.documentReadCount<this.fs?(yd()<=Tr.DEBUG&&bd("QueryEngine","SDK will not create cache indexes for query:",Hp(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),_f.resolve()):(yd()<=Tr.DEBUG&&bd("QueryEngine","Query:",Hp(t),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(yd()<=Tr.DEBUG&&bd("QueryEngine","The SDK decides to create cache indexes for query:",Hp(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Bp(t))):_f.resolve())}ys(e,t){if(Fp(t))return _f.resolve(null);let n=Bp(t);return this.indexManager.getIndexType(e,n).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=qp(t,null,"F"),n=Bp(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const r=og(...i);return this.ps.getDocuments(e,r).next(i=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.Ds(t,i);return this.Cs(t,s,r,n.readTime)?this.ys(e,qp(t,null,"F")):this.vs(e,s,t,n)}))})))}ws(e,t,n,i){return Fp(t)||i.isEqual(df.min())?_f.resolve(null):this.ps.getDocuments(e,n).next(r=>{const s=this.Ds(t,r);return this.Cs(t,s,n,i)?_f.resolve(null):(yd()<=Tr.DEBUG&&bd("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hp(t)),this.vs(e,s,t,function(e,t){const n=e.toTimestamp().seconds,i=e.toTimestamp().nanoseconds+1,r=df.fromTimestamp(1e9===i?new uf(n+1,0):new uf(n,i));return new yf(r,Jd.empty(),t)}(i,-1)).next(e=>e))})}Ds(e,t){let n=new am(Kp(e));return t.forEach((t,i)=>{Gp(e,i)&&(n=n.add(i))}),n}Cs(e,t,n,i){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const r="F"===e.limitType?t.last():t.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,t,n){return yd()<=Tr.DEBUG&&bd("QueryEngine","Using full collection scan to execute query:",Hp(t)),this.ps.getDocumentsMatchingQuery(e,t,yf.min(),n)}vs(e,t,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="LocalStore";class Hb{constructor(e,t,n,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new im(Ud),this.xs=new Qp(e=>Ip(e),Pp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function Gb(e,t,n,i){return new Hb(e,t,n,i)}async function Kb(e,t){const n=Nd(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let i;return n.mutationQueue.getAllMutationBatches(e).next(r=>(i=r,n.Bs(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const r=[],s=[];let a=og();for(const e of i){r.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({Ls:e,removedBatchIds:r,addedBatchIds:s}))})})}function Yb(e){const t=Nd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Pi.getLastRemoteSnapshotVersion(e))}function Qb(e,t){const n=Nd(e),i=t.snapshotVersion;let r=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});r=n.Ms;const a=[];t.targetChanges.forEach((s,o)=>{const l=r.get(o);if(!l)return;a.push(n.Pi.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Pi.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(dm.EMPTY_BYTE_STRING,df.min()).withLastLimboFreeSnapshotVersion(df.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,i)),r=r.insert(o,c),function(e,t,n){if(0===e.resumeToken.approximateByteSize())return!0;if(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8)return!0;return n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Pi.updateTargetData(e,c))});let o=Jp(),l=og();if(t.documentUpdates.forEach(i=>{t.resolvedLimboDocuments.has(i)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,i))}),a.push(function(e,t,n){let i=og(),r=og();return n.forEach(e=>i=i.add(e)),t.getEntries(e,i).next(e=>{let i=Jp();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(r=r.add(n)),s.isNoDocument()&&s.version.isEqual(df.min())?(t.removeEntry(n,s.readTime),i=i.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),i=i.insert(n,s)):bd(Wb,"Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{ks:i,qs:r}})}(e,s,t.documentUpdates).next(e=>{o=e.ks,l=e.qs})),!i.isEqual(df.min())){const t=n.Pi.getLastRemoteSnapshotVersion(e).next(t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,i));a.push(t)}return _f.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.Ms=r,e))}function Xb(e,t){const n=Nd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=zf),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}async function Jb(e,t,n){const i=Nd(e),r=i.Ms.get(t),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,e=>i.persistence.referenceDelegate.removeTarget(e,r))}catch(a){if(!If(a))throw a;bd(Wb,`Failed to update sequence numbers for target ${t}: ${a}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function Zb(e,t,n){const i=Nd(e);let r=df.min(),s=og();return i.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const i=Nd(e),r=i.xs.get(n);return void 0!==r?_f.resolve(i.Ms.get(r)):i.Pi.getTargetData(t,n)}(i,e,Bp(t)).next(t=>{if(t)return r=t.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>i.Fs.getDocumentsMatchingQuery(e,t,n?r:df.min(),n?s:og())).next(e=>(function(e,t,n){let i=e.Os.get(t)||df.min();n.forEach((e,t)=>{t.readTime.compareTo(i)>0&&(i=t.readTime)}),e.Os.set(t,i)}(i,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,Qs:s})))}class ew{constructor(){this.activeTargetIds=lg}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class tw{constructor(){this.Mo=new ew,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new ew,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{Oo(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="ConnectivityMonitor";class rw{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){bd(iw,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){bd(iw,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw=null;function aw(){return null===sw?sw=268435456+Math.round(2147483648*Math.random()):sw++,"0x"+sw.toString(16)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const ow="RestConnection",lw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cw{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Sm?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,t,n,i,r){const s=aw(),a=this.zo(e,t.toUriEncodedString());bd(ow,`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(o,i,r);const{host:l}=new URL(a),c=Ui(l);return this.Jo(e,a,o,n,c).then(t=>(bd(ow,`Received RPC '${e}' ${s}: `,t),t),t=>{throw kd(ow,`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t})}Ho(e,t,n,i,r,s){return this.Go(e,t,n,i,r)}jo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+gd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}zo(e,t){const n=lw[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="WebChannelConnection";class fw extends cw{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,i,r){const s=aw();return new Promise((r,a)=>{const o=new rd;o.setWithCredentials(!0),o.listenOnce(ad.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case od.NO_ERROR:const t=o.getResponseJson();bd(dw,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),r(t);break;case od.TIMEOUT:bd(dw,`RPC '${e}' ${s} timed out`),a(new Td(jd.DEADLINE_EXCEEDED,"Request time out"));break;case od.HTTP_ERROR:const n=o.getStatus();if(bd(dw,`RPC '${e}' ${s} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(jd).indexOf(t)>=0?t:jd.UNKNOWN}(t.status);a(new Td(e,t.message))}else a(new Td(jd.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Td(jd.UNAVAILABLE,"Connection failed."));break;default:_d(9055,{l_:e,streamId:s,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{bd(dw,`RPC '${e}' ${s} completed.`)}});const l=JSON.stringify(i);bd(dw,`RPC '${e}' ${s} sending request:`,i),o.send(t,"POST",l,n,15)})}T_(e,t,n){const i=aw(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=dd(),a=ud(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.jo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=r.join("");bd(dw,`Creating RPC '${e}' stream ${i}: ${c}`,o);const u=s.createWebChannel(c,o);this.I_(u);let d=!1,f=!1;const h=new uw({Yo:t=>{f?bd(dw,`Not sending because RPC '${e}' stream ${i} is closed:`,t):(d||(bd(dw,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),bd(dw,`RPC '${e}' stream ${i} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(t){setTimeout(()=>{throw t},0)}})};return m(u,sd.EventType.OPEN,()=>{f||(bd(dw,`RPC '${e}' stream ${i} transport opened.`),h.o_())}),m(u,sd.EventType.CLOSE,()=>{f||(f=!0,bd(dw,`RPC '${e}' stream ${i} transport closed`),h.a_(),this.E_(u))}),m(u,sd.EventType.ERROR,t=>{f||(f=!0,kd(dw,`RPC '${e}' stream ${i} transport errored. Name:`,t.name,"Message:",t.message),h.a_(new Td(jd.UNAVAILABLE,"The operation could not be completed")))}),m(u,sd.EventType.MESSAGE,t=>{var n;if(!f){const r=t.data[0];Cd(!!r,16349);const s=r,a=(null==s?void 0:s.error)||(null==(n=s[0])?void 0:n.error);if(a){bd(dw,`RPC '${e}' stream ${i} received error:`,a);const t=a.status;let n=function(e){const t=Wg[e];if(void 0!==t)return Gg(t)}(t),r=a.message;void 0===n&&(n=jd.INTERNAL,r="Unknown error status: "+t+" with message "+a.message),f=!0,h.a_(new Td(n,r)),u.close()}else bd(dw,`RPC '${e}' stream ${i} received:`,r),h.u_(r)}}),m(a,cd.STAT_EVENT,t=>{t.stat===ld.PROXY?bd(dw,`RPC '${e}' stream ${i} detected buffering proxy`):t.stat===ld.NOPROXY&&bd(dw,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.__()},0),h}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(e){return new dv(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t,n=1e3,i=1.5,r=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-n);i>0&&bd("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="PersistentStream";class vw{constructor(e,t,n,i,r,s,a,o){this.Mi=e,this.S_=n,this.b_=i,this.connection=r,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pw(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===jd.RESOURCE_EXHAUSTED?(wd(t.toString()),wd("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===jd.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.D_===t&&this.G_(e,n)},t=>{e(()=>{const e=new Td(jd.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{n(()=>this.listener.Xo())}),this.stream.t_(()=>{n(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.J_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return bd(gw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(bd(gw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class yw extends vw{constructor(e,t,n,i,r,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r="NO_CHANGE"===(i=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===i?1:"REMOVE"===i?2:"CURRENT"===i?3:"RESET"===i?4:_d(39313,{state:i}),s=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Cd(void 0===t||"string"==typeof t,58123),dm.fromBase64String(t||"")):(Cd(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),dm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,l=o&&function(e){const t=void 0===e.code?jd.UNKNOWN:Gg(e.code);return new Td(t,e.message||"")}(o);n=new iv(r,s,a,l||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=kv(e,i.document.name),s=gv(i.document.updateTime),a=i.document.createTime?gv(i.document.createTime):df.min(),o=new tp({mapValue:{fields:i.document.fields}}),l=ip.newFoundDocument(r,s,a,o),c=i.targetIds||[],u=i.removedTargetIds||[];n=new tv(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=kv(e,i.document),s=i.readTime?gv(i.readTime):df.min(),a=ip.newNoDocument(r,s),o=i.removedTargetIds||[];n=new tv([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=kv(e,i.document),s=i.removedTargetIds||[];n=new tv([],s,r,null)}else{if(!("filter"in t))return _d(11601,{Rt:t});{t.filter;const e=t.filter;e.targetId;const{count:i=0,unchangedNames:r}=e,s=new $g(i,r),a=e.targetId;n=new nv(a,s)}}var i;return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return df.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?df.min():t.readTime?gv(t.readTime):df.min()}(e);return this.listener.H_(t,n)}Y_(e){const t={};t.database=Sv(this.serializer),t.addTarget=function(e,t){let n;const i=t.target;if(n=Ap(i)?{documents:Ev(e,i)}:{query:Iv(e,i).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=mv(e,t.resumeToken);const i=fv(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(df.min())>0){n.readTime=hv(e,t.snapshotVersion.toTimestamp());const i=fv(e,t.expectedCount);null!==i&&(n.expectedCount=i)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _d(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){const t={};t.database=Sv(this.serializer),t.removeTarget=e,this.q_(t)}}class bw extends vw{constructor(e,t,n,i,r,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,i,s),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Cd(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Cd(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){Cd(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(Cd(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?gv(e.updateTime):gv(t);return n.isEqual(df.min())&&(n=gv(t)),new Cg(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=gv(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Sv(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>jv(this.serializer,e))};this.q_(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{}class kw extends ww{constructor(e,t,n,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Td(jd.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Go(e,yv(t,n),i,r,s)).catch(e=>{throw"FirebaseError"===e.name?(e.code===jd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Td(jd.UNKNOWN,e.toString())})}Ho(e,t,n,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Ho(e,yv(t,n),i,s,a,r)).catch(e=>{throw"FirebaseError"===e.name?(e.code===jd.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Td(jd.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xw{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wd(t),this.aa=!1):bd("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w="RemoteStore";class Sw{constructor(e,t,n,i,r){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(e=>{n.enqueueAndForget(async()=>{Mw(this)&&(bd(_w,"Restarting streams for network reachability change."),await async function(e){const t=Nd(e);t.Ea.add(4),await Nw(t),t.Ra.set("Unknown"),t.Ea.delete(4),await Cw(t)}(this))})}),this.Ra=new xw(n,i)}}async function Cw(e){if(Mw(e))for(const t of e.da)await t(!0)}async function Nw(e){for(const t of e.da)await t(!1)}function jw(e,t){const n=Nd(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Aw(n)?Pw(n):Xw(n).O_()&&Ew(n,t))}function Tw(e,t){const n=Nd(e),i=Xw(n);n.Ia.delete(t),i.O_()&&Iw(n,t),0===n.Ia.size&&(i.O_()?i.L_():Mw(n)&&n.Ra.set("Unknown"))}function Ew(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(df.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Xw(e).Y_(t)}function Iw(e,t){e.Va.Ue(t),Xw(e).Z_(t)}function Pw(e){e.Va=new sv({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Xw(e).start(),e.Ra.ua()}function Aw(e){return Mw(e)&&!Xw(e).x_()&&e.Ia.size>0}function Mw(e){return 0===Nd(e).Ea.size}function Rw(e){e.Va=void 0}async function Dw(e){e.Ra.set("Online")}async function Lw(e){e.Ia.forEach((t,n)=>{Ew(e,t)})}async function Ow(e,t){Rw(e),Aw(e)?(e.Ra.ha(t),Pw(e)):e.Ra.set("Unknown")}async function Fw(e,t,n){if(e.Ra.set("Online"),t instanceof iv&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const i of t.targetIds)e.Ia.has(i)&&(await e.remoteSyncer.rejectListen(i,n),e.Ia.delete(i),e.Va.removeTarget(i))}(e,t)}catch(i){bd(_w,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await zw(e,i)}else if(t instanceof tv?e.Va.Ze(t):t instanceof nv?e.Va.st(t):e.Va.tt(t),!n.isEqual(df.min()))try{const t=await Yb(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Va.Tt(t);return n.targetChanges.forEach((n,i)=>{if(n.resumeToken.approximateByteSize()>0){const r=e.Ia.get(i);r&&e.Ia.set(i,r.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const i=e.Ia.get(t);if(!i)return;e.Ia.set(t,i.withResumeToken(dm.EMPTY_BYTE_STRING,i.snapshotVersion)),Iw(e,t);const r=new Bv(i.target,t,n,i.sequenceNumber);Ew(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(r){bd(_w,"Failed to raise snapshot:",r),await zw(e,r)}}async function zw(e,t,n){if(!If(t))throw t;e.Ea.add(1),await Nw(e),e.Ra.set("Offline"),n||(n=()=>Yb(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{bd(_w,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await Cw(e)})}function Uw(e,t){return t().catch(n=>zw(e,n,t))}async function Bw(e){const t=Nd(e),n=Jw(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:zf;for(;Vw(t);)try{const e=await Xb(t.localStore,i);if(null===e){0===t.Ta.length&&n.L_();break}i=e.batchId,qw(t,e)}catch(r){await zw(t,r)}$w(t)&&Ww(t)}function Vw(e){return Mw(e)&&e.Ta.length<10}function qw(e,t){e.Ta.push(t);const n=Jw(e);n.O_()&&n.X_&&n.ea(t.mutations)}function $w(e){return Mw(e)&&!Jw(e).x_()&&e.Ta.length>0}function Ww(e){Jw(e).start()}async function Hw(e){Jw(e).ra()}async function Gw(e){const t=Jw(e);for(const n of e.Ta)t.ea(n.mutations)}async function Kw(e,t,n){const i=e.Ta.shift(),r=Vg.from(i,t,n);await Uw(e,()=>e.remoteSyncer.applySuccessfulWrite(r)),await Bw(e)}async function Yw(e,t){t&&Jw(e).X_&&await async function(e,t){if(function(e){switch(e){case jd.OK:return _d(64938);case jd.CANCELLED:case jd.UNKNOWN:case jd.DEADLINE_EXCEEDED:case jd.RESOURCE_EXHAUSTED:case jd.INTERNAL:case jd.UNAVAILABLE:case jd.UNAUTHENTICATED:return!1;case jd.INVALID_ARGUMENT:case jd.NOT_FOUND:case jd.ALREADY_EXISTS:case jd.PERMISSION_DENIED:case jd.FAILED_PRECONDITION:case jd.ABORTED:case jd.OUT_OF_RANGE:case jd.UNIMPLEMENTED:case jd.DATA_LOSS:return!0;default:return _d(15467,{code:e})}}(n=t.code)&&n!==jd.ABORTED){const n=e.Ta.shift();Jw(e).B_(),await Uw(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Bw(e)}var n}(e,t),$w(e)&&Ww(e)}async function Qw(e,t){const n=Nd(e);n.asyncQueue.verifyOperationInProgress(),bd(_w,"RemoteStore received new credentials");const i=Mw(n);n.Ea.add(3),await Nw(n),i&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Cw(n)}function Xw(e){return e.ma||(e.ma=function(e,t,n){const i=Nd(e);return i.sa(),new yw(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Dw.bind(null,e),t_:Lw.bind(null,e),r_:Ow.bind(null,e),H_:Fw.bind(null,e)}),e.da.push(async t=>{t?(e.ma.B_(),Aw(e)?Pw(e):e.Ra.set("Unknown")):(await e.ma.stop(),Rw(e))})),e.ma}function Jw(e){return e.fa||(e.fa=function(e,t,n){const i=Nd(e);return i.sa(),new bw(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hw.bind(null,e),r_:Yw.bind(null,e),ta:Gw.bind(null,e),na:Kw.bind(null,e)}),e.da.push(async t=>{t?(e.fa.B_(),await Bw(e)):(await e.fa.stop(),e.Ta.length>0&&(bd(_w,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))})),e.fa
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Zw{constructor(e,t,n,i,r){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=i,this.removalCallback=r,this.deferred=new Ed,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,i,r){const s=Date.now()+n,a=new Zw(e,t,s,i,r);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Td(jd.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ek(e,t){if(wd("AsyncQueue",`${t}: ${e}`),If(e))return new Td(jd.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{static emptySet(e){return new tk(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Jd.comparator(t.key,n.key):(e,t)=>Jd.comparator(e.key,t.key),this.keyedMap=eg(),this.sortedSet=new im(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof tk))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,i=n.getNext().key;if(!e.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new tk;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this.ga=new im(Jd.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):_d(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class ik{constructor(e,t,n,i,r,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=r,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,i,r){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new ik(e,t,tk.emptySet(t),s,n,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$p(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==n[i].type||!t[i].doc.isEqual(n[i].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class sk{constructor(){this.queries=ak(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=Nd(e),i=n.queries;n.queries=ak(),i.forEach((e,n)=>{for(const i of n.Sa)i.onError(t)})}(this,new Td(jd.ABORTED,"Firestore shutting down"))}}function ak(){return new Qp(e=>Wp(e),$p)}async function ok(e,t){const n=Nd(e);let i=3;const r=t.query;let s=n.queries.get(r);s?!s.ba()&&t.Da()&&(i=2):(s=new rk,i=t.Da()?0:1);try{switch(i){case 0:s.wa=await n.onListen(r,!0);break;case 1:s.wa=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(a){const e=ek(a,`Initialization of query '${Hp(t.query)}' failed`);return void t.onError(e)}n.queries.set(r,s),s.Sa.push(t),t.va(n.onlineState),s.wa&&t.Fa(s.wa)&&dk(n)}async function lk(e,t){const n=Nd(e),i=t.query;let r=3;const s=n.queries.get(i);if(s){const e=s.Sa.indexOf(t);e>=0&&(s.Sa.splice(e,1),0===s.Sa.length?r=t.Da()?0:1:!s.ba()&&t.Da()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ck(e,t){const n=Nd(e);let i=!1;for(const r of t){const e=r.query,t=n.queries.get(e);if(t){for(const e of t.Sa)e.Fa(r)&&(i=!0);t.wa=r}}i&&dk(n)}function uk(e,t,n){const i=Nd(e),r=i.queries.get(t);if(r)for(const s of r.Sa)s.onError(n);i.queries.delete(t)}function dk(e){e.Ca.forEach(e=>{e.next()})}var fk,hk;(hk=fk||(fk={})).Ma="default",hk.Cache="cache";class mk{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new ik(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=ik.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==fk.Cache}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.key=e}}class gk{constructor(e){this.key=e}}class vk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=og(),this.mutatedKeys=og(),this.eu=Kp(e),this.tu=new tk(this.eu)}get nu(){return this.Ya}ru(e,t){const n=t?t.iu:new nk,i=t?t.tu:this.tu;let r=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const o="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((e,t)=>{const c=i.get(e),u=Gp(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let h=!1;c&&u?c.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),h=!0):this.su(c,u)||(n.track({type:2,doc:u}),h=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),h=!0):c&&!u&&(n.track({type:1,doc:c}),h=!0,(o||l)&&(a=!0)),h&&(u?(s=s.add(u),r=f?r.add(e):r.delete(e)):(s=s.delete(e),r=r.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),r=r.delete(e.key),n.track({type:1,doc:e})}return{tu:s,iu:n,Cs:a,mutatedKeys:r}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _d(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),i=i??!1;const a=t&&!i?this._u():[],o=0===this.Xa.size&&this.current&&!i?1:0,l=o!==this.Za;return this.Za=o,0!==s.length||l?{snapshot:new ik(this.query,e.tu,r,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new nk,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Ya=this.Ya.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ya=this.Ya.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=og(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))});const t=[];return e.forEach(e=>{this.Xa.has(e)||t.push(new gk(e))}),this.Xa.forEach(n=>{e.has(n)||t.push(new pk(n))}),t}cu(e){this.Ya=e.Qs,this.Xa=og();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ik.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Za,this.hasCachedResults)}}const yk="SyncEngine";class bk{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class wk{constructor(e){this.key=e,this.hu=!1}}class kk{constructor(e,t,n,i,r,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Qp(e=>Wp(e),$p),this.Iu=new Map,this.Eu=new Set,this.du=new im(Jd.comparator),this.Au=new Map,this.Ru=new _b,this.Vu={},this.mu=new Map,this.fu=Qy.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function xk(e,t,n=!0){const i=Vk(e);let r;const s=i.Tu.get(t);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.lu()):r=await Sk(i,t,n,!0),r}async function _k(e,t){const n=Vk(e);await Sk(n,t,!0,!1)}async function Sk(e,t,n,i){const r=await function(e,t){const n=Nd(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let i;return n.Pi.getTargetData(e,t).next(r=>r?(i=r,_f.resolve(i)):n.Pi.allocateTargetId(e).next(r=>(i=new Bv(t,r,"TargetPurposeListen",e.currentSequenceNumber),n.Pi.addTargetData(e,i).next(()=>i))))}).then(e=>{const i=n.Ms.get(e.targetId);return(null===i||e.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e})}(e.localStore,Bp(t)),s=r.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return i&&(o=await async function(e,t,n,i,r){e.pu=(t,n,i)=>async function(e,t,n,i){let r=t.view.ru(n);r.Cs&&(r=await Zb(e.localStore,t.query,!1).then(({documents:e})=>t.view.ru(e,r)));const s=i&&i.targetChanges.get(t.targetId),a=i&&null!=i.targetMismatches.get(t.targetId),o=t.view.applyChanges(r,e.isPrimaryClient,s,a);return Lk(e,t.targetId,o.au),o.snapshot}(e,t,n,i);const s=await Zb(e.localStore,t,!0),a=new vk(t,s.Qs),o=a.ru(s.documents),l=ev.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==e.onlineState,r),c=a.applyChanges(o,e.isPrimaryClient,l);Lk(e,n,c.au);const u=new bk(t,n,a);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}(e,t,s,"current"===a,r.resumeToken)),e.isPrimaryClient&&n&&jw(e.remoteStore,r),o}async function Ck(e,t,n){const i=Nd(e),r=i.Tu.get(t),s=i.Iu.get(r.targetId);if(s.length>1)return i.Iu.set(r.targetId,s.filter(e=>!$p(e,t))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Jb(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Tw(i.remoteStore,r.targetId),Rk(i,r.targetId)}).catch(xf)):(Rk(i,r.targetId),await Jb(i.localStore,r.targetId,!0))}async function Nk(e,t){const n=Nd(e),i=n.Tu.get(t),r=n.Iu.get(i.targetId);n.isPrimaryClient&&1===r.length&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Tw(n.remoteStore,i.targetId))}async function jk(e,t){const n=Nd(e);try{const e=await Qb(n.localStore,t);t.targetChanges.forEach((e,t)=>{const i=n.Au.get(t);i&&(Cd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?i.hu=!0:e.modifiedDocuments.size>0?Cd(i.hu,14607):e.removedDocuments.size>0&&(Cd(i.hu,42227),i.hu=!1))}),await zk(n,e,t)}catch(i){await xf(i)}}function Tk(e,t,n){const i=Nd(e);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const e=[];i.Tu.forEach((n,i)=>{const r=i.view.va(t);r.snapshot&&e.push(r.snapshot)}),function(e,t){const n=Nd(e);n.onlineState=t;let i=!1;n.queries.forEach((e,n)=>{for(const r of n.Sa)r.va(t)&&(i=!0)}),i&&dk(n)}(i.eventManager,t),e.length&&i.Pu.H_(e),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Ek(e,t,n){const i=Nd(e);i.sharedClientState.updateQueryState(t,"rejected",n);const r=i.Au.get(t),s=r&&r.key;if(s){let e=new im(Jd.comparator);e=e.insert(s,ip.newNoDocument(s,df.min()));const n=og().add(s),r=new Zg(df.min(),new Map,new im(Ud),e,n);await jk(i,r),i.du=i.du.remove(s),i.Au.delete(t),Fk(i)}else await Jb(i.localStore,t,!1).then(()=>Rk(i,t,n)).catch(xf)}async function Ik(e,t){const n=Nd(e),i=t.batch.batchId;try{const e=await function(e,t){const n=Nd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const i=t.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,i){const r=n.batch,s=r.keys();let a=_f.resolve();return s.forEach(e=>{a=a.next(()=>i.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Cd(null!==s,48541),t.version.compareTo(s)<0&&(r.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),i.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,r))}(n,e,t,r).next(()=>r.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=og();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,i))})}(n.localStore,t);Mk(n,i,null),Ak(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await zk(n,e)}catch(r){await xf(r)}}async function Pk(e,t,n){const i=Nd(e);try{const e=await function(e,t){const n=Nd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let i;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Cd(null!==t,37113),i=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,i,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,i)).next(()=>n.localDocuments.getDocuments(e,i))})}(i.localStore,t);Mk(i,t,n),Ak(i,t),i.sharedClientState.updateMutationState(t,"rejected",n),await zk(i,e)}catch(r){await xf(r)}}function Ak(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Mk(e,t,n){const i=Nd(e);let r=i.Vu[i.currentUser.toKey()];if(r){const e=r.get(t);e&&(n?e.reject(n):e.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function Rk(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const i of e.Iu.get(t))e.Tu.delete(i),n&&e.Pu.yu(i,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach(t=>{e.Ru.containsKey(t)||Dk(e,t)})}function Dk(e,t){e.Eu.delete(t.path.canonicalString());const n=e.du.get(t);null!==n&&(Tw(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Fk(e))}function Lk(e,t,n){for(const i of n)i instanceof pk?(e.Ru.addReference(i.key,t),Ok(e,i)):i instanceof gk?(bd(yk,"Document no longer in limbo: "+i.key),e.Ru.removeReference(i.key,t),e.Ru.containsKey(i.key)||Dk(e,i.key)):_d(19791,{wu:i})}function Ok(e,t){const n=t.key,i=n.path.canonicalString();e.du.get(n)||e.Eu.has(i)||(bd(yk,"New document in limbo: "+n),e.Eu.add(i),Fk(e))}function Fk(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Jd(Yd.fromString(t)),i=e.fu.next();e.Au.set(i,new wk(n)),e.du=e.du.insert(n,i),jw(e.remoteStore,new Bv(Bp(Op(n.path)),i,"TargetPurposeLimboResolution",Ff.ce))}}async function zk(e,t,n){const i=Nd(e),r=[],s=[],a=[];i.Tu.isEmpty()||(i.Tu.forEach((e,o)=>{a.push(i.pu(o,t,n).then(e=>{var t;if((e||n)&&i.isPrimaryClient){const r=e?!e.fromCache:null==(t=null==n?void 0:n.targetChanges.get(o.targetId))?void 0:t.current;i.sharedClientState.updateQueryState(o.targetId,r?"current":"not-current")}if(e){r.push(e);const t=Vb.As(o.targetId,e);s.push(t)}}))}),await Promise.all(a),i.Pu.H_(r),await async function(e,t){const n=Nd(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>_f.forEach(t,t=>_f.forEach(t.Es,i=>n.persistence.referenceDelegate.addReference(e,t.targetId,i)).next(()=>_f.forEach(t.ds,i=>n.persistence.referenceDelegate.removeReference(e,t.targetId,i)))))}catch(i){if(!If(i))throw i;bd(Wb,"Failed to update sequence numbers: "+i)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ms.get(e),i=t.snapshotVersion,r=t.withLastLimboFreeSnapshotVersion(i);n.Ms=n.Ms.insert(e,r)}}}(i.localStore,s))}async function Uk(e,t){const n=Nd(e);if(!n.currentUser.isEqual(t)){bd(yk,"User change. New user:",t.toKey());const e=await Kb(n.localStore,t);n.currentUser=t,r="'waitForPendingWrites' promise is rejected due to a user change.",(i=n).mu.forEach(e=>{e.forEach(e=>{e.reject(new Td(jd.CANCELLED,r))})}),i.mu.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await zk(n,e.Ls)}var i,r}function Bk(e,t){const n=Nd(e),i=n.Au.get(t);if(i&&i.hu)return og().add(i.key);{let e=og();const i=n.Iu.get(t);if(!i)return e;for(const t of i){const i=n.Tu.get(t);e=e.unionWith(i.view.nu)}return e}}function Vk(e){const t=Nd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=jk.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Bk.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ek.bind(null,t),t.Pu.H_=ck.bind(null,t.eventManager),t.Pu.yu=uk.bind(null,t.eventManager),t}function qk(e){const t=Nd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ik.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Pk.bind(null,t),t}class $k{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mw(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Gb(this.persistence,new $b,e.initialUser,this.serializer)}Cu(e){return new Eb(Pb.mi,this.serializer)}Du(e){return new tw}async terminate(){var e,t;null==(e=this.gcScheduler)||e.stop(),null==(t=this.indexBackfillerScheduler)||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$k.provider={build:()=>new $k};class Wk extends $k{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Cd(this.persistence.referenceDelegate instanceof Ab,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new rb(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Vy.withCacheSize(this.cacheSizeBytes):Vy.DEFAULT;return new Eb(e=>Ab.mi(e,t),this.serializer)}}class Hk extends $k{constructor(e,t,n){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await qk(this.xu.syncEngine),await Bw(this.xu.remoteStore),await this.persistence.Ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return Gb(this.persistence,new $b,e.initialUser,this.serializer)}Fu(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new rb(n,e.asyncQueue,t)}Mu(e,t){const n=new Of(t,this.persistence);return new Lf(e.asyncQueue,n)}Cu(e){const t=function(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Vy.withCacheSize(this.cacheSizeBytes):Vy.DEFAULT;return new zb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,"undefined"!=typeof window?window:null,hw(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new tw}}class Gk{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Tk(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Uk.bind(null,this.syncEngine),await async function(e,t){const n=Nd(e);t?(n.Ea.delete(2),await Cw(n)):t||(n.Ea.add(2),await Nw(n),n.Ra.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new sk}createDatastore(e){const t=mw(e.databaseInfo.databaseId),n=(i=e.databaseInfo,new fw(i));var i;return function(e,t,n,i){return new kw(e,t,n,i)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,i=e.asyncQueue,r=e=>Tk(this.syncEngine,e,0),s=rw.v()?new rw:new nw,new Sw(t,n,i,r,s);var t,n,i,r,s}createSyncEngine(e,t){return function(e,t,n,i,r,s,a){const o=new kk(e,t,n,i,r,s);return a&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Nd(e);bd(_w,"RemoteStore shutting down."),t.Ea.add(5),await Nw(t),t.Aa.shutdown(),t.Ra.set("Unknown")}(this.remoteStore),null==(e=this.datastore)||e.terminate(),null==(t=this.eventManager)||t.terminate()}}Gk.provider={build:()=>new Gk};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Kk{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wd("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="FirestoreClient";class Qk{constructor(e,t,n,i,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=i,this.user=pd.UNAUTHENTICATED,this.clientId=zd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(n,async e=>{bd(Yk,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(bd(Yk,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ed;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ek(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Xk(e,t){e.asyncQueue.verifyOperationInProgress(),bd(Yk,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let i=n.initialUser;e.setCredentialChangeListener(async e=>{i.isEqual(e)||(await Kb(t.localStore,e),i=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Jk(e,t){e.asyncQueue.verifyOperationInProgress();const n=await async function(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){bd(Yk,"Using user provided OfflineComponentProvider");try{await Xk(e,e._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!("FirebaseError"===(n=r).name?n.code===jd.FAILED_PRECONDITION||n.code===jd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code))throw r;kd("Error using user provided cache. Falling back to memory cache: "+r),await Xk(e,new $k)}}else bd(Yk,"Using default OfflineComponentProvider"),await Xk(e,new Wk(void 0));var n;return e._offlineComponents}(e);bd(Yk,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Qw(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Qw(t.remoteStore,n)),e._onlineComponents=t}async function Zk(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(bd(Yk,"Using user provided OnlineComponentProvider"),await Jk(e,e._uninitializedComponentsProvider._online)):(bd(Yk,"Using default OnlineComponentProvider"),await Jk(e,new Gk))),e._onlineComponents}async function ex(e){const t=await Zk(e),n=t.eventManager;return n.onListen=xk.bind(null,t.syncEngine),n.onUnlisten=Ck.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_k.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Nk.bind(null,t.syncEngine),n}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function tx(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const nx=new Map,ix="firestore.googleapis.com",rx=!0;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e){if(void 0===e.host){if(void 0!==e.ssl)throw new Td(jd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ix,this.ssl=rx}else this.host=e.host,this.ssl=e.ssl??rx;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=By;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Td(jd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,i){if(!0===t&&!0===i)throw new Td(jd.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tx(e.experimentalLongPollingOptions??{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Td(jd.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Td(jd.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Td(jd.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class ax{constructor(e,t,n,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Td(jd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Td(jd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sx(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Pd;switch(e.type){case"firstParty":return new Dd(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Td(jd.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=nx.get(e);t&&(bd("ComponentProvider","Removing Datastore"),nx.delete(e),t.terminate())}(this),Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ox{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ox(this.firestore,e,this._query)}}class lx{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cx(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lx(this.firestore,e,this._key)}toJSON(){return{type:lx._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(of(t,lx._jsonSchema))return new lx(e,n||null,new Jd(Yd.fromString(t.referencePath)))}}lx._jsonSchemaVersion="firestore/documentReference/1.0",lx._jsonSchema={type:af("string",lx._jsonSchemaVersion),referencePath:af("string")};class cx extends ox{constructor(e,t,n){super(e,t,Op(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lx(this.firestore,null,new Jd(e))}withConverter(e){return new cx(this.firestore,e,this._path)}}function ux(e,t,...n){if(e=_r(e),Zd("collection","path",t),e instanceof ax){const i=Yd.fromString(t,...n);return tf(i),new cx(e,null,i)}{if(!(e instanceof lx||e instanceof cx))throw new Td(jd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Yd.fromString(t,...n));return tf(i),new cx(e.firestore,null,i)}}function dx(e,t,...n){if(e=_r(e),1===arguments.length&&(t=zd.newId()),Zd("doc","path",t),e instanceof ax){const i=Yd.fromString(t,...n);return ef(i),new lx(e,null,new Jd(i))}{if(!(e instanceof lx||e instanceof cx))throw new Td(jd.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=e._path.child(Yd.fromString(t,...n));return ef(i),new lx(e.firestore,e instanceof cx?e.converter:null,new Jd(i))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fx="AsyncQueue";class hx{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pw(this,"async_queue_retry"),this._c=()=>{const e=hw();e&&bd(fx,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=hw();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=hw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Ed;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(0!==this.Xu.length){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(cZ){if(!If(cZ))throw cZ;bd(fx,"Operation failed with retryable error: "+cZ)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,wd("INTERNAL UNHANDLED ERROR: ",mx(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=Zw.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(i),i}uc(){this.nc&&_d(47125,{Pc:mx(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function mx(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function px(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const i of t)if(i in n&&"function"==typeof n[i])return!0;return!1}(e,["next","error","complete"])}class gx extends ax{constructor(e,t,n,i){super(e,t,n,i),this.type="firestore",this._queue=new hx,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hx(e),this._firestoreClient=void 0,await e}}}function vx(e){if(e._terminated)throw new Td(jd.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||yx(e),e._firestoreClient}function yx(e){var t,n,i;const r=e._freezeSettings(),s=(a=e._databaseId,o=(null==(t=e._app)?void 0:t.options.appId)||"",l=e._persistenceKey,new _m(a,o,l,(c=r).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,tx(c.experimentalLongPollingOptions),c.useFetchStreams,c.isUsingEmulator));var a,o,l,c;e._componentsProvider||(null==(n=r.localCache)?void 0:n._offlineComponentProvider)&&(null==(i=r.localCache)?void 0:i._onlineComponentProvider)&&(e._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),e._firestoreClient=new Qk(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class bx{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bx(dm.fromBase64String(e))}catch(t){throw new Td(jd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bx(dm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:bx._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(of(e,bx._jsonSchema))return bx.fromBase64String(e.bytes)}}bx._jsonSchemaVersion="firestore/bytes/1.0",bx._jsonSchema={type:af("string",bx._jsonSchemaVersion),bytes:af("string")};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class wx{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Td(jd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xd(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Td(jd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Td(jd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ud(this._lat,e._lat)||Ud(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xx._jsonSchemaVersion}}static fromJSON(e){if(of(e,xx._jsonSchema))return new xx(e.latitude,e.longitude)}}xx._jsonSchemaVersion="firestore/geoPoint/1.0",xx._jsonSchema={type:af("string",xx._jsonSchemaVersion),latitude:af("number"),longitude:af("number")};
/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _x{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:_x._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(of(e,_x._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new _x(e.vectorValues);throw new Td(jd.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}_x._jsonSchemaVersion="firestore/vectorValue/1.0",_x._jsonSchema={type:af("string",_x._jsonSchemaVersion),vectorValues:af("object")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Sx=/^__.*__$/;class Cx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Dg(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rg(e,this.data,t,this.fieldTransforms)}}class Nx{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Dg(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function jx(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _d(40011,{Ac:e})}}class Tx{constructor(e,t,n,i,r,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=i,void 0===r&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Tx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var t;const n=null==(t=this.path)?void 0:t.child(e),i=this.Vc({path:n,fc:!1});return i.gc(e),i}yc(e){var t;const n=null==(t=this.path)?void 0:t.child(e),i=this.Vc({path:n,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Gx(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(0===e.length)throw this.Sc("Document fields must not be empty");if(jx(this.Ac)&&Sx.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ex{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||mw(e)}Cc(e,t,n,i=!1){return new Tx({Ac:e,methodName:t,Dc:n,path:Xd.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ix(e){const t=e._freezeSettings(),n=mw(e._databaseId);return new Ex(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Px(e,t,n,i,r,s={}){const a=e.Cc(s.merge||s.mergeFields?2:0,t,n,r);qx("Data must be an object, but it was:",a,i);const o=Bx(i,a);let l,c;if(s.merge)l=new cm(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const i of s.mergeFields){const r=$x(t,i,n);if(!a.contains(r))throw new Td(jd.INVALID_ARGUMENT,`Field '${r}' is specified in your field mask but missing from your input data.`);Kx(e,r)||e.push(r)}l=new cm(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new Cx(new tp(o),l,c)}class Ax extends kx{_toFieldTransform(e){if(2!==e.Ac)throw 1===e.Ac?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ax}}function Mx(e,t,n){return new Tx({Ac:3,Dc:t.settings.Dc,methodName:e._methodName,fc:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Rx extends kx{_toFieldTransform(e){return new Sg(e.path,new gg)}isEqual(e){return e instanceof Rx}}class Dx extends kx{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Mx(this,e,!0),n=this.vc.map(e=>Ux(e,t)),i=new vg(n);return new Sg(e.path,i)}isEqual(e){return e instanceof Dx&&fr(this.vc,e.vc)}}class Lx extends kx{constructor(e,t){super(e),this.vc=t}_toFieldTransform(e){const t=Mx(this,e,!0),n=this.vc.map(e=>Ux(e,t)),i=new bg(n);return new Sg(e.path,i)}isEqual(e){return e instanceof Lx&&fr(this.vc,e.vc)}}class Ox extends kx{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new kg(e.serializer,dg(e.serializer,this.Fc));return new Sg(e.path,t)}isEqual(e){return e instanceof Ox&&this.Fc===e.Fc}}function Fx(e,t,n,i){const r=e.Cc(1,t,n);qx("Data must be an object, but it was:",r,i);const s=[],a=tp.empty();tm(i,(e,i)=>{const o=Hx(t,e,n);i=_r(i);const l=r.yc(o);if(i instanceof Ax)s.push(o);else{const e=Ux(i,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new cm(s);return new Nx(a,o,r.fieldTransforms)}function zx(e,t,n,i,r,s){const a=e.Cc(1,t,n),o=[$x(t,i,n)],l=[r];if(s.length%2!=0)throw new Td(jd.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)o.push($x(t,s[f])),l.push(s[f+1]);const c=[],u=tp.empty();for(let f=o.length-1;f>=0;--f)if(!Kx(c,o[f])){const e=o[f];let t=l[f];t=_r(t);const n=a.yc(e);if(t instanceof Ax)c.push(e);else{const i=Ux(t,n);null!=i&&(c.push(e),u.set(e,i))}}const d=new cm(c);return new Nx(u,d,a.fieldTransforms)}function Ux(e,t){if(Vx(e=_r(e)))return qx("Unsupported field value:",t,e),Bx(e,t);if(e instanceof kx)return function(e,t){if(!jx(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&4!==t.Ac)throw t.Sc("Nested arrays are not supported");return function(e,t){const n=[];let i=0;for(const r of e){let e=Ux(r,t.wc(i));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),i++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=_r(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dg(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=uf.fromDate(e);return{timestampValue:hv(t.serializer,n)}}if(e instanceof uf){const n=new uf(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:hv(t.serializer,n)}}if(e instanceof xx)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bx)return{bytesValue:mv(t.serializer,e._byteString)};if(e instanceof lx){const n=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(n))throw t.Sc(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:vv(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof _x)return n=e,i=t,{mapValue:{fields:{[Nm]:{stringValue:Em},[Im]:{arrayValue:{values:n.toArray().map(e=>{if("number"!=typeof e)throw i.Sc("VectorValues must only contain numeric values.");return cg(i.serializer,e)})}}}}};var n,i;throw t.Sc(`Unsupported field value: ${rf(e)}`)}(e,t)}function Bx(e,t){const n={};return nm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):tm(e,(e,i)=>{const r=Ux(i,t.mc(e));null!=r&&(n[e]=r)}),{mapValue:{fields:n}}}function Vx(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof uf||e instanceof xx||e instanceof bx||e instanceof lx||e instanceof kx||e instanceof _x)}function qx(e,t,n){if(!Vx(n)||!nf(n)){const i=rf(n);throw"an object"===i?t.Sc(e+" a custom object"):t.Sc(e+" "+i)}}function $x(e,t,n){if((t=_r(t))instanceof wx)return t._internalPath;if("string"==typeof t)return Hx(e,t);throw Gx("Field path arguments must be of type string or ",e,!1,void 0,n)}const Wx=new RegExp("[~\\*/\\[\\]]");function Hx(e,t,n){if(t.search(Wx)>=0)throw Gx(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new wx(...t.split("."))._internalPath}catch(i){throw Gx(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gx(e,t,n,i,r){const s=i&&!i.isEmpty(),a=void 0!==r;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${i}`),a&&(l+=` in document ${r}`),l+=")"),new Td(jd.INVALID_ARGUMENT,o+e+l)}function Kx(e,t){return e.some(e=>e.isEqual(t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,n,i,r){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new lx(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Qx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Xx("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Qx extends Yx{data(){return super.data()}}function Xx(e,t){return"string"==typeof t?Hx(e,t):t instanceof wx?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Td(jd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Zx{}class e_ extends Zx{}function t_(e,t,...n){let i=[];t instanceof Zx&&i.push(t),i=i.concat(n),function(e){const t=e.filter(e=>e instanceof r_).length,n=e.filter(e=>e instanceof n_).length;if(t>1||t>0&&n>0)throw new Td(jd.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)e=r._apply(e);return e}class n_ extends e_{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new n_(e,t,n)}_apply(e){const t=this._parse(e);return d_(e._query,t),new ox(e.firestore,e.converter,Vp(e._query,t))}_parse(e){const t=Ix(e.firestore),n=function(e,t,n,i,r,s,a){let o;if(r.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Td(jd.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){u_(a,s);const t=[];for(const n of a)t.push(c_(i,e,n));o={arrayValue:{values:t}}}else o=c_(i,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||u_(a,s),o=function(e,t,n,i=!1){return Ux(n,e.Cc(i?4:3,t))}(n,t,a,"in"===s||"not-in"===s);return up.create(r,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function i_(e,t,n){const i=t,r=Xx("where",e);return n_._create(r,i,n)}class r_ extends Zx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new r_(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:dp.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const i=t.getFlattenedFilters();for(const r of i)d_(n,r),n=Vp(n,r)}(e._query,t),new ox(e.firestore,e.converter,Vp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class s_ extends e_{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new s_(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Td(jd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Td(jd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new op(t,n)}(e._query,this._field,this._direction);return new ox(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Lp(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function a_(e,t="asc"){const n=t,i=Xx("orderBy",e);return s_._create(i,n)}class o_ extends e_{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new o_(e,t,n)}_apply(e){return new ox(e.firestore,e.converter,qp(e._query,this._limit,this._limitType))}}function l_(e){return function(e,t){if(t<=0)throw new Td(jd.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}("limit",e),o_._create("limit",e,"F")}function c_(e,t,n){if("string"==typeof(n=_r(n))){if(""===n)throw new Td(jd.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zp(t)&&-1!==n.indexOf("/"))throw new Td(jd.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=t.path.child(Yd.fromString(n));if(!Jd.isDocumentKey(i))throw new Td(jd.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Bm(e,new Jd(i))}if(n instanceof lx)return Bm(e,n._key);throw new Td(jd.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(n)}.`)}function u_(e,t){if(!Array.isArray(e)||0===e.length)throw new Td(jd.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function d_(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Td(jd.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Td(jd.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class f_{convertValue(e,t="none"){switch(Am(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mm(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(pm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw _d(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return tm(e,(e,i)=>{n[e]=this.convertValue(i,t)}),n}convertVectorValue(e){var t,n,i;const r=null==(i=null==(n=null==(t=e.fields)?void 0:t[Im].arrayValue)?void 0:n.values)?void 0:i.map(e=>mm(e.doubleValue));return new _x(r)}convertGeoPoint(e){return new xx(mm(e.latitude),mm(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=km(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(xm(e));default:return null}}convertTimestamp(e){const t=hm(e);return new uf(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Yd.fromString(e);Cd(Uv(n),9688,{name:e});const i=new Cm(n.get(1),n.get(3)),r=new Jd(n.popFirst(5));return i.isEqual(t)||wd(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),r}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h_(e,t,n){let i;return i=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,i}class m_{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class p_ extends Yx{constructor(e,t,n,i,r,s){super(e,t,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new g_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Xx("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Td(jd.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=p_._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}p_._jsonSchemaVersion="firestore/documentSnapshot/1.0",p_._jsonSchema={type:af("string",p_._jsonSchemaVersion),bundleSource:af("string","DocumentSnapshot"),bundleName:af("string"),bundle:af("string")};class g_ extends p_{data(e={}){return super.data(e)}}class v_{constructor(e,t,n,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new m_(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new g_(this._firestore,this._userDataWriter,n.key,n,new m_(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Td(jd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const i=new g_(e._firestore,e._userDataWriter,n.doc.key,n.doc,new m_(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:i,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const i=new g_(e._firestore,e._userDataWriter,t.doc.key,t.doc,new m_(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let r=-1,s=-1;return 0!==t.type&&(r=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:y_(t.type),doc:i,oldIndex:r,newIndex:s}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Td(jd.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=v_._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=zd.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],i=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),i.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function y_(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _d(61501,{type:e})}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(e){e=sf(e,lx);const t=sf(e.firestore,gx);return function(e,t,n={}){const i=new Ed;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,i,r){const s=new Kk({next:o=>{s.Nu(),t.enqueueAndForget(()=>lk(e,a));const l=o.docs.has(n);!l&&o.fromCache?r.reject(new Td(jd.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&i&&"server"===i.source?r.reject(new Td(jd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):r.resolve(o)},error:e=>r.reject(e)}),a=new mk(Op(n.path),s,{includeMetadataChanges:!0,qa:!0});return ok(e,a)}(await ex(e),e.asyncQueue,t,n,i)),i.promise}(vx(t),e._key).then(n=>T_(t,e,n))}v_._jsonSchemaVersion="firestore/querySnapshot/1.0",v_._jsonSchema={type:af("string",v_._jsonSchemaVersion),bundleSource:af("string","QuerySnapshot"),bundleName:af("string"),bundle:af("string")};class w_ extends f_{constructor(e){super(),this.firestore=e}convertBytes(e){return new bx(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new lx(this.firestore,null,t)}}function k_(e){e=sf(e,ox);const t=sf(e.firestore,gx),n=vx(t),i=new w_(t);return Jx(e._query),function(e,t,n={}){const i=new Ed;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,i,r){const s=new Kk({next:n=>{s.Nu(),t.enqueueAndForget(()=>lk(e,a)),n.fromCache&&"server"===i.source?r.reject(new Td(jd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):r.resolve(n)},error:e=>r.reject(e)}),a=new mk(n,s,{includeMetadataChanges:!0,qa:!0});return ok(e,a)}(await ex(e),e.asyncQueue,t,n,i)),i.promise}(n,e._query).then(n=>new v_(t,i,e,n))}function x_(e,t,n){e=sf(e,lx);const i=sf(e.firestore,gx),r=h_(e.converter,t,n);return j_(i,[Px(Ix(i),"setDoc",e._key,r,null!==e.converter,n).toMutation(e._key,Ng.none())])}function __(e,t,n,...i){e=sf(e,lx);const r=sf(e.firestore,gx),s=Ix(r);let a;return a="string"==typeof(t=_r(t))||t instanceof wx?zx(s,"updateDoc",e._key,t,n,i):Fx(s,"updateDoc",e._key,t),j_(r,[a.toMutation(e._key,Ng.exists(!0))])}function S_(e){return j_(sf(e.firestore,gx),[new zg(e._key,Ng.none())])}function C_(e,t){const n=sf(e.firestore,gx),i=dx(e),r=h_(e.converter,t);return j_(n,[Px(Ix(e.firestore),"addDoc",i._key,r,null!==e.converter,{}).toMutation(i._key,Ng.exists(!1))]).then(()=>i)}function N_(e,...t){var n,i,r;e=_r(e);let s={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[a]||px(t[a])||(s=t[a++]);const o={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(px(t[a])){const e=t[a];t[a]=null==(n=e.next)?void 0:n.bind(e),t[a+1]=null==(i=e.error)?void 0:i.bind(e),t[a+2]=null==(r=e.complete)?void 0:r.bind(e)}let l,c,u;if(e instanceof lx)c=sf(e.firestore,gx),u=Op(e._key.path),l={next:n=>{t[a]&&t[a](T_(c,e,n))},error:t[a+1],complete:t[a+2]};else{const n=sf(e,ox);c=sf(n.firestore,gx),u=n._query;const i=new w_(c);l={next:e=>{t[a]&&t[a](new v_(c,i,n,e))},error:t[a+1],complete:t[a+2]},Jx(e._query)}return function(e,t,n,i){const r=new Kk(i),s=new mk(t,r,n);return e.asyncQueue.enqueueAndForget(async()=>ok(await ex(e),s)),()=>{r.Nu(),e.asyncQueue.enqueueAndForget(async()=>lk(await ex(e),s))}}(vx(c),u,o,l)}function j_(e,t){return function(e,t){const n=new Ed;return e.asyncQueue.enqueueAndForget(async()=>async function(t,n,i){const r=qk(t);try{const e=await function(e,t){const n=Nd(e),i=uf.now(),r=t.reduce((e,t)=>e.add(t.key),og());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Jp(),l=og();return n.Ns.getEntries(e,r).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(r=>{s=r;const a=[];for(const e of t){const t=Ag(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Dg(e.key,t,np(t.value.mapValue),Ng.exists(!0)))}return n.mutationQueue.addMutationBatch(e,i,a,t)}).next(t=>{a=t;const i=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,i)})}).then(()=>({batchId:a.batchId,changes:tg(s)}))}(r.localStore,n);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let i=e.Vu[e.currentUser.toKey()];i||(i=new im(Ud)),i=i.insert(t,n),e.Vu[e.currentUser.toKey()]=i}(r,e.batchId,i),await zk(r,e.changes),await Bw(r.remoteStore)}catch(e){const n=ek(e,"Failed to persist write");i.reject(n)}}(await function(e){return Zk(e).then(e=>e.syncEngine)}(e),t,n)),n.promise}(vx(e),t)}function T_(e,t,n){const i=n.docs.get(t._key),r=new w_(e);return new p_(e,r,t._key,i,new m_(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ix(e)}set(e,t,n){this._verifyNotCommitted();const i=I_(e,this._firestore),r=h_(i.converter,t,n),s=Px(this._dataReader,"WriteBatch.set",i._key,r,null!==i.converter,n);return this._mutations.push(s.toMutation(i._key,Ng.none())),this}update(e,t,n,...i){this._verifyNotCommitted();const r=I_(e,this._firestore);let s;return s="string"==typeof(t=_r(t))||t instanceof wx?zx(this._dataReader,"WriteBatch.update",r._key,t,n,i):Fx(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(s.toMutation(r._key,Ng.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=I_(e,this._firestore);return this._mutations=this._mutations.concat(new zg(t._key,Ng.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Td(jd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function I_(e,t){if((e=_r(e)).firestore!==t)throw new Td(jd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function P_(){return new Rx("serverTimestamp")}function A_(...e){return new Dx("arrayUnion",e)}function M_(...e){return new Lx("arrayRemove",e)}function R_(e){return new Ox("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(e){return vx(e=sf(e,gx)),new E_(e,t=>j_(e,t))}!function(e,t=!0){gd=Us,Ds(new Sr("firestore",(e,{instanceIdentifier:n,options:i})=>{const r=e.getProvider("app").getImmediate(),s=new gx(new Md(e.getProvider("auth-internal")),new Od(r,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Td(jd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cm(e.options.projectId,t)}(r,n),r);return i={useFetchStreams:t,...i},s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),qs(hd,md,e),qs(hd,md,"esm2020")}();var L_={};const O_="@firebase/database",F_="1.1.0";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let z_="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class U_{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ar(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:sr(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return lr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new U_(t)}}catch(cZ){}return new B_},q_=V_("localStorage"),$_=V_("sessionStorage"),W_=new Rr("@firebase/database"),H_=function(){let e=1;return function(){return e++}}(),G_=function(e){const t=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);if(r>=55296&&r<=56319){const t=r-55296;i++,xi(i<e.length,"Surrogate pair missing trail surrogate."),r=65536+(t<<10)+(e.charCodeAt(i)-56320)}r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=63&r|128):r<65536?(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=63&r|128):(t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=63&r|128)}return t}(e),n=new vr;n.update(t);const i=n.digest();return Ci.encodeByteArray(i)},K_=function(...e){let t="";for(let n=0;n<e.length;n++){const i=e[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=K_.apply(null,i):t+="object"==typeof i?ar(i):i,t+=" "}return t};let Y_=null,Q_=!0;const X_=function(...e){if(!0===Q_&&(Q_=!1,null===Y_&&!0===$_.get("logging_enabled")&&(xi(!0,"Can't turn on custom loggers persistently."),W_.logLevel=Tr.VERBOSE,Y_=W_.log.bind(W_))),Y_){const t=K_.apply(null,e);Y_(t)}},J_=function(e){return function(...t){X_(e,...t)}},Z_=function(...e){const t="FIREBASE INTERNAL ERROR: "+K_(...e);W_.error(t)},eS=function(...e){const t=`FIREBASE FATAL ERROR: ${K_(...e)}`;throw W_.error(t),new Error(t)},tS=function(...e){const t="FIREBASE WARNING: "+K_(...e);W_.warn(t)},nS=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},iS="[MIN_NAME]",rS="[MAX_NAME]",sS=function(e,t){if(e===t)return 0;if(e===iS||t===rS)return-1;if(t===iS||e===rS)return 1;{const n=hS(e),i=hS(t);return null!==n?null!==i?n-i===0?e.length-t.length:n-i:-1:null!==i?1:e<t?-1:1}},aS=function(e,t){return e===t?0:e<t?-1:1},oS=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+ar(t))},lS=function(e){if("object"!=typeof e||null===e)return ar(e);const t=[];for(const i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)0!==i&&(n+=","),n+=ar(t[i]),n+=":",n+=lS(e[t[i]]);return n+="}",n},cS=function(e,t){const n=e.length;if(n<=t)return[e];const i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function uS(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const dS=function(e){xi(!nS(e),"Invalid JSON number");const t=1023;let n,i,r,s,a;0===e?(i=0,r=0,n=1/e==-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),i=s+t,r=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(i=0,r=Math.round(e/Math.pow(2,-1074))));const o=[];for(a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(i%2?1:0),i=Math.floor(i/2);o.push(n?1:0),o.reverse();const l=o.join("");let c="";for(a=0;a<64;a+=8){let e=parseInt(l.substr(a,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const fS=new RegExp("^-?(0*)\\d{1,10}$"),hS=function(e){if(fS.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},mS=function(e){try{e()}catch(cZ){setTimeout(()=>{const t=cZ.stack||"";throw tS("Exception was thrown by user callback.",t),cZ},Math.floor(0))}},pS=function(e,t){const n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gS{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Os(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null==(t=this.appCheckProvider)||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){tS(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(X_("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tS(e)}}class yS{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}yS.OWNER="owner";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const bS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wS="ac",kS="websocket",xS="long_polling";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class _S{constructor(e,t,n,i,r=!1,s="",a=!1,o=!1,l=null){this.secure=t,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=r,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=o,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=q_.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&q_.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function SS(e,t,n){let i;if(xi("string"==typeof t,"typeof type must == string"),xi("object"==typeof n,"typeof params must == object"),t===kS)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==xS)throw new Error("Unknown connection type: "+t);i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const r=[];return uS(n,(e,t)=>{r.push(e+"="+t)}),i+r.join("&")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.counters_={}}incrementCounter(e,t=1){lr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Ii(this.counters_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={},jS={};function TS(e){const t=e.toString();return NS[t]||(NS[t]=new CS),NS[t]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ES{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&mS(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="start";class PS{constructor(e,t,n,i,r,s,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=J_(e),this.stats_=TS(t),this.urlFn=e=>(this.appCheckToken&&(e[wS]=this.appCheckToken),SS(t,xS,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new ES(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if("complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new AS((...e)=>{const[t,n,i,r,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===IS)this.id=n,this.password=i;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={};e[IS]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[wS]=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&bS.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){PS.forceAllow_=!0}static forceDisallow(){PS.forceDisallow_=!0}static isAvailable(){return!!PS.forceAllow_||!(PS.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=ar(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=ji(t),i=cS(n,1840);for(let r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=ar(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class AS{constructor(e,t,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=H_(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=AS.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const i="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(i),this.myIFrame.doc.close()}catch(cZ){X_("frame writing exception"),cZ.stack&&X_(cZ.stack),X_(cZ)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||X_("No IE domain setting required")}catch(cZ){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+i+"="+e.seg+"&ts"+i+"="+e.ts+"&d"+i+"="+e.d,i++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),n()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{X_("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(cZ){}},Math.floor(1))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MS=null;"undefined"!=typeof MozWebSocket?MS=MozWebSocket:"undefined"!=typeof WebSocket&&(MS=WebSocket);class RS{constructor(e,t,n,i,r,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=J_(this.connId),this.stats_=TS(t),this.connURL=RS.connectionURL_(t,s,a,i,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,i,r){const s={v:"5"};return"undefined"!=typeof location&&location.hostname&&bS.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),i&&(s[wS]=i),r&&(s.p=r),SS(e,kS,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,q_.set("previous_websocket_failure",!0);try{let e;this.mySock=new MS(this.connURL,[],e)}catch(cZ){this.log_("Error instantiating WebSocket.");const t=cZ.message||cZ.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){RS.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==MS&&!RS.forceDisallow_}static previouslyFailed(){return q_.isInMemoryStorage||!0===q_.get("previous_websocket_failure")}markConnectionHealthy(){q_.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=sr(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(xi(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=ar(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=cS(t,16384);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(cZ){this.log_("Exception thrown from WebSocket.send():",cZ.message||cZ.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}RS.responsesRequiredToBeHealthy=2,RS.healthyTimeout=3e4;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class DS{static get ALL_TRANSPORTS(){return[PS,RS]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=RS&&RS.isAvailable();let n=t&&!RS.previouslyFailed();if(e.webSocketOnly&&(t||tS("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[RS];else{const e=this.transports_=[];for(const t of DS.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);DS.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}DS.globalTransportInitialized_=!1;class LS{constructor(e,t,n,i,r,s,a,o,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=r,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=J_("c:"+this.id+":"),this.transportManager_=new DS(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=pS(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=oS("t",e),n=oS("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=oS("t",e),n=oS("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=oS("t",e);if("d"in e){const n=e.d;if("h"===t){const e={...n};this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Z_("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Z_("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&tS("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),pS(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pS(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(q_.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{put(e,t,n,i){}merge(e,t,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.allowedEvents_=e,this.listeners_={},xi(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const i=this.getInitialEvent(e);i&&t.apply(n,i)}off(e,t,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let r=0;r<i.length;r++)if(i[r].callback===t&&(!n||n===i[r].context))return void i.splice(r,1)}validateEventType_(e){xi(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS extends FS{static getInstance(){return new zS}constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Gi()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return xi("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class US{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function BS(){return new US("")}function VS(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function qS(e){return e.pieces_.length-e.pieceNum_}function $S(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new US(e.pieces_,t)}function WS(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function HS(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function GS(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new US(t,0)}function KS(e,t){const n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof US)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new US(n,0)}function YS(e){return e.pieceNum_>=e.pieces_.length}function QS(e,t){const n=VS(e),i=VS(t);if(null===n)return t;if(n===i)return QS($S(e),$S(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function XS(e,t){const n=HS(e,0),i=HS(t,0);for(let r=0;r<n.length&&r<i.length;r++){const e=sS(n[r],i[r]);if(0!==e)return e}return n.length===i.length?0:n.length<i.length?-1:1}function JS(e,t){if(qS(e)!==qS(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function ZS(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(qS(e)>qS(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}class eC{constructor(e,t){this.errorPrefix_=t,this.parts_=HS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=kr(this.parts_[n]);tC(this)}}function tC(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+nC(e))}function nC(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC extends FS{static getInstance(){return new iC}constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}getInitialEvent(e){return xi("visible"===e,"Unknown event type: "+e),[this.visible_]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1e3;class sC extends OS{constructor(e,t,n,i,r,s,a,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=r,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=o,this.id=sC.nextPersistentConnectionId_++,this.log_=J_("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");iC.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&zS.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const i=++this.requestNumber_,r={r:i,a:e,b:t};this.log_(ar(r)),xi(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const t=new zi,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,i){this.initConnection_();const r=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+r),this.listens.has(s)||this.listens.set(s,new Map),xi(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),xi(!this.listens.get(s).has(r),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:t,query:e,tag:n};this.listens.get(s).set(r,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){const t=e.query,n=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+n+" for "+i);const r={p:n};e.tag&&(r.q=t._queryObject,r.t=e.tag),r.h=e.hashFn(),this.sendRequest("q",r,r=>{const s=r.d,a=r.s;sC.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",r),"ok"!==a&&this.removeListen_(n,i),e.onComplete&&e.onComplete(a,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&lr(e,"w")){const n=cr(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();tS(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=or(e).claims;return"object"==typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=or(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,i=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,i))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),xi(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,t)}sendUnlisten_(e,t,n,i){this.log_("Unlisten on "+e+" for "+t);const r={p:e};i&&(r.q=n,r.t=i),this.sendRequest("n",r)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,i){const r={p:t,d:n};this.log_("onDisconnect "+e,r),this.sendRequest(e,r,e=>{i&&setTimeout(()=>{i(e.s,e.d)},Math.floor(0))})}put(e,t,n,i){this.putInternal("p",e,t,n,i)}merge(e,t,n,i){this.putInternal("m",e,t,n,i)}putInternal(e,t,n,i,r){this.initConnection_();const s={p:t,d:n};void 0!==r&&(s.h=r),this.outstandingPuts_.push({action:e,request:s,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),i&&i(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+ar(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Z_("Unrecognized action received from server: "+ar(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){xi(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rC),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+sC.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,i())},c=function(e){xi(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[e,l]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);a?X_("getToken() completed but was canceled"):(X_("getToken() completed. Creating connection."),this.authToken_=e&&e.accessToken,this.appCheckToken_=l&&l.token,o=new LS(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,i,e=>{tS(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},s))}catch(e){this.log_("Failed to get token: "+e),a||(this.repoInfo_.nodeAdmin&&tS(e),l())}}}interrupt(e){X_("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){X_("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ur(this.interruptReasons_)&&(this.reconnectDelay_=rC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>lS(e)).join("$"):"default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){const n=new US(e).toString();let i;if(this.listens.has(n)){const e=this.listens.get(n);i=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,t){X_("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){X_("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_&&this.securityDebugCallback_(e)}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};e["sdk.js."+z_.replace(/\./g,"-")]=1,Gi()?e["framework.cordova"]=1:Qi()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=zS.getInstance().currentlyOnline();return ur(this.interruptReasons_)&&e}}sC.nextPersistentConnectionId_=0,sC.nextConnectionId_=0;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class aC{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new aC(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new aC(iS,e),i=new aC(iS,t);return 0!==this.compare(n,i)}minPost(){return aC.MIN}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lC;class cC extends oC{static get __EMPTY_NODE(){return lC}static set __EMPTY_NODE(e){lC=e}compare(e,t){return sS(e.name,t.name)}isDefinedOn(e){throw _i("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return aC.MIN}maxPost(){return new aC(rS,lC)}makePost(e,t){return xi("string"==typeof e,"KeyIndex indexValue must always be a string."),new aC(e,lC)}toString(){return".key"}}const uC=new cC;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t,n,i,r=null){this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,i&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class fC{constructor(e,t,n,i,r){this.key=e,this.value=t,this.color=null!=n?n:fC.RED,this.left=null!=i?i:hC.EMPTY_NODE,this.right=null!=r?r:hC.EMPTY_NODE}copy(e,t,n,i,r){return new fC(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=i?i:this.left,null!=r?r:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let i=this;const r=n(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return hC.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,i;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return hC.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,fC.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,fC.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}fC.RED=!0,fC.BLACK=!1;class hC{constructor(e,t=hC.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new hC(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,fC.BLACK,null,null))}remove(e){return new hC(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,fC.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,i=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new dC(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new dC(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new dC(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new dC(this.root_,null,this.comparator_,!0,e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mC(e,t){return sS(e.name,t.name)}function pC(e,t){return sS(e,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gC;hC.EMPTY_NODE=new class{copy(e,t,n,i,r){return this}insert(e,t,n){return new fC(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const vC=function(e){return"number"==typeof e?"number:"+dS(e):"string:"+e},yC=function(e){if(e.isLeafNode()){const t=e.val();xi("string"==typeof t||"number"==typeof t||"object"==typeof t&&lr(t,".sv"),"Priority must be a string or number.")}else xi(e===gC||e.isEmpty(),"priority of unexpected type.");xi(e===gC||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let bC,wC,kC;class xC{static set __childrenNodeConstructor(e){bC=e}static get __childrenNodeConstructor(){return bC}constructor(e,t=xC.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,xi(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),yC(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new xC(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:xC.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return YS(e)?this:".priority"===VS(e)?this.priorityNode_:xC.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:xC.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=VS(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(xi(".priority"!==n||1===qS(e),".priority must be the last token in a path"),this.updateImmediateChild(n,xC.__childrenNodeConstructor.EMPTY_NODE.updateChild($S(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vC(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?dS(this.value_):this.value_,this.lazyHash_=G_(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===xC.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof xC.__childrenNodeConstructor?-1:(xi(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,i=xC.VALUE_TYPE_ORDER.indexOf(t),r=xC.VALUE_TYPE_ORDER.indexOf(n);return xi(i>=0,"Unknown leaf type: "+t),xi(r>=0,"Unknown leaf type: "+n),i===r?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:r-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}xC.VALUE_TYPE_ORDER=["object","boolean","number","string"];const _C=new class extends oC{compare(e,t){const n=e.node.getPriority(),i=t.node.getPriority(),r=n.compareTo(i);return 0===r?sS(e.name,t.name):r}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return aC.MIN}maxPost(){return new aC(rS,new xC("[PRIORITY-POST]",kC))}makePost(e,t){const n=wC(e);return new aC(t,new xC("[PRIORITY-POST]",n))}toString(){return".priority"}},SC=Math.log(2);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/SC,10)),this.current_=this.count-1;const n=(i=this.count,parseInt(Array(i+1).join("1"),2));var i;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const NC=function(e,t,n,i){e.sort(t);const r=function(t,i){const s=i-t;let a,o;if(0===s)return null;if(1===s)return a=e[t],o=n?n(a):a,new fC(o,a.node,fC.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=r(t,l),u=r(l+1,i);return a=e[l],o=n?n(a):a,new fC(o,a.node,fC.BLACK,c,u)}},s=function(t){let i=null,s=null,a=e.length;const o=function(t,i){const s=a-t,o=a;a-=t;const c=r(s+1,o),u=e[s],d=n?n(u):u;l(new fC(d,u.node,i,null,c))},l=function(e){i?(i.left=e,i=e):(s=e,i=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),i=Math.pow(2,t.count-(e+1));n?o(i,fC.BLACK):(o(i,fC.BLACK),o(i,fC.RED))}return s}(new CC(e.length));return new hC(i||t,s)};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jC;const TC={};class EC{static get Default(){return xi(TC&&_C,"ChildrenNode.ts has not been loaded"),jC=jC||new EC({".priority":TC},{".priority":_C}),jC}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=cr(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof hC?t:null}hasIndex(e){return lr(this.indexSet_,e.toString())}addIndex(e,t){xi(e!==uC,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const r=t.getIterator(aC.Wrap);let s,a=r.getNext();for(;a;)i=i||e.isDefinedOn(a.node),n.push(a),a=r.getNext();s=i?NC(n,e.getCompare()):TC;const o=e.toString(),l={...this.indexSet_};l[o]=e;const c={...this.indexes_};return c[o]=s,new EC(c,l)}addToIndexes(e,t){const n=dr(this.indexes_,(n,i)=>{const r=cr(this.indexSet_,i);if(xi(r,"Missing index implementation for "+i),n===TC){if(r.isDefinedOn(e.node)){const n=[],i=t.getIterator(aC.Wrap);let s=i.getNext();for(;s;)s.name!==e.name&&n.push(s),s=i.getNext();return n.push(e),NC(n,r.getCompare())}return TC}{const i=t.get(e.name);let r=n;return i&&(r=r.remove(new aC(e.name,i))),r.insert(e,e.node)}});return new EC(n,this.indexSet_)}removeFromIndexes(e,t){const n=dr(this.indexes_,n=>{if(n===TC)return n;{const i=t.get(e.name);return i?n.remove(new aC(e.name,i)):n}});return new EC(n,this.indexSet_)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IC;class PC{static get EMPTY_NODE(){return IC||(IC=new PC(new hC(pC),null,EC.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&yC(this.priorityNode_),this.children_.isEmpty()&&xi(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||IC}updatePriority(e){return this.children_.isEmpty()?this:new PC(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?IC:t}}getChild(e){const t=VS(e);return null===t?this:this.getImmediateChild(t).getChild($S(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(xi(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new aC(e,t);let i,r;t.isEmpty()?(i=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(n,this.children_));const s=i.isEmpty()?IC:this.priorityNode_;return new PC(i,s,r)}}updateChild(e,t){const n=VS(e);if(null===n)return t;{xi(".priority"!==VS(e)||1===qS(e),".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild($S(e),t);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,i=0,r=!0;if(this.forEachChild(_C,(s,a)=>{t[s]=a.val(e),n++,r&&PC.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):r=!1}),!e&&r&&i<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+vC(this.getPriority().val())+":"),this.forEachChild(_C,(t,n)=>{const i=n.hash();""!==i&&(e+=":"+t+":"+i)}),this.lazyHash_=""===e?"":G_(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const i=this.resolveIndex_(n);if(i){const n=i.getPredecessorKey(new aC(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new aC(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new aC(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,aC.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)<0;)n.getNext(),i=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,aC.Wrap);let i=n.peek();for(;null!=i&&t.compare(i,e)>0;)n.getNext(),i=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===AC?-1:0}withIndex(e){if(e===uC||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new PC(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===uC||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(_C),n=t.getIterator(_C);let i=e.getNext(),r=n.getNext();for(;i&&r;){if(i.name!==r.name||!i.node.equals(r.node))return!1;i=e.getNext(),r=n.getNext()}return null===i&&null===r}return!1}return!1}}resolveIndex_(e){return e===uC?null:this.indexMap_.get(e.toString())}}PC.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const AC=new class extends PC{constructor(){super(new hC(pC),PC.EMPTY_NODE,EC.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return PC.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(aC,{MIN:{value:new aC(iS,PC.EMPTY_NODE)},MAX:{value:new aC(rS,AC)}}),cC.__EMPTY_NODE=PC.EMPTY_NODE,xC.__childrenNodeConstructor=PC,gC=AC,function(e){kC=e}(AC);function MC(e,t=null){if(null===e)return PC.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),xi(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e){return new xC(e,MC(t))}if(e instanceof Array){let n=PC.EMPTY_NODE;return uS(e,(t,i)=>{if(lr(e,t)&&"."!==t.substring(0,1)){const e=MC(i);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(MC(t))}{const n=[];let i=!1;if(uS(e,(e,t)=>{if("."!==e.substring(0,1)){const r=MC(t);r.isEmpty()||(i=i||!r.getPriority().isEmpty(),n.push(new aC(e,r)))}}),0===n.length)return PC.EMPTY_NODE;const r=NC(n,mC,e=>e.name,pC);if(i){const e=NC(n,_C.getCompare());return new PC(r,MC(t),new EC({".priority":e},{".priority":_C}))}return new PC(r,MC(t),EC.Default)}}!function(e){wC=e}(MC);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class RC extends oC{constructor(e){super(),this.indexPath_=e,xi(!YS(e)&&".priority"!==VS(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),i=this.extractChild(t.node),r=n.compareTo(i);return 0===r?sS(e.name,t.name):r}makePost(e,t){const n=MC(e),i=PC.EMPTY_NODE.updateChild(this.indexPath_,n);return new aC(t,i)}maxPost(){const e=PC.EMPTY_NODE.updateChild(this.indexPath_,AC);return new aC(rS,e)}toString(){return HS(this.indexPath_,0).join("/")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC=new class extends oC{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?sS(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return aC.MIN}maxPost(){return aC.MAX}makePost(e,t){const n=MC(e);return new aC(t,n)}toString(){return".value"}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(e){return{type:"value",snapshotNode:e}}function OC(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function FC(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function zC(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class UC{constructor(e){this.index_=e}updateChild(e,t,n,i,r,s){xi(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(i).equals(n.getChild(i))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(FC(t,a)):xi(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(OC(t,n)):s.trackChildChange(zC(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(_C,(e,i)=>{t.hasChild(e)||n.trackChildChange(FC(e,i))}),t.isLeafNode()||t.forEachChild(_C,(t,i)=>{if(e.hasChild(t)){const r=e.getImmediateChild(t);r.equals(i)||n.trackChildChange(zC(t,i,r))}else n.trackChildChange(OC(t,i))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?PC.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e){this.indexedFilter_=new UC(e.getIndex()),this.index_=e.getIndex(),this.startPost_=BC.getStartPost_(e),this.endPost_=BC.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,i,r,s){return this.matches(new aC(t,n))||(n=PC.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,i,r,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=PC.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(PC.EMPTY_NODE);const r=this;return t.forEachChild(_C,(e,t)=>{r.matches(new aC(e,t))||(i=i.updateImmediateChild(e,PC.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new BC(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,i,r,s){return this.rangedFilter_.matches(new aC(t,n))||(n=PC.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,i,r,s):this.fullLimitUpdateChild_(e,t,n,r,s)}updateFullNode(e,t,n){let i;if(t.isLeafNode()||t.isEmpty())i=PC.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;i=PC.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;i=i.updateImmediateChild(t.name,t.node),n++}}}else{let e;i=t.withIndex(this.index_),i=i.updatePriority(PC.EMPTY_NODE),e=this.reverse_?i.getReverseIterator(this.index_):i.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:i=i.updateImmediateChild(t.name,PC.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,i,r){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const a=e;xi(a.numChildren()===this.limit_,"");const o=new aC(t,n),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(o);if(a.hasChild(t)){const e=a.getImmediateChild(t);let u=i.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||a.hasChild(u.name));)u=i.getChildAfterChild(this.index_,u,this.reverse_);const d=null==u?1:s(u,o);if(c&&!n.isEmpty()&&d>=0)return null!=r&&r.trackChildChange(zC(t,n,e)),a.updateImmediateChild(t,n);{null!=r&&r.trackChildChange(FC(t,e));const n=a.updateImmediateChild(t,PC.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=r&&r.trackChildChange(OC(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,o)>=0?(null!=r&&(r.trackChildChange(FC(l.name,l.node)),r.trackChildChange(OC(t,n))),a.updateImmediateChild(t,n).updateImmediateChild(l.name,PC.EMPTY_NODE)):e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_C}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return xi(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return xi(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:iS}hasEnd(){return this.endSet_}getIndexEndValue(){return xi(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return xi(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rS}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return xi(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_C}copy(){const e=new qC;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $C(e){const t={};if(e.isDefault())return t;let n;if(e.index_===_C?n="$priority":e.index_===DC?n="$value":e.index_===uC?n="$key":(xi(e.index_ instanceof RC,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=ar(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=ar(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+ar(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=ar(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+ar(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function WC(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==_C&&(t.i=e.index_.toString()),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC extends OS{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(xi(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=J_("p:rest:"),this.listens_={}}listen(e,t,n,i){const r=e._path.toString();this.log_("Listen called for "+r+" "+e._queryIdentifier);const s=HC.getListenId_(e,n),a={};this.listens_[s]=a;const o=$C(e._queryParams);this.restRequest_(r+".json",o,(e,t)=>{let o=t;if(404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(r,o,!1,n),cr(this.listens_,s)===a){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",i(t,null)}})}unlisten(e,t){const n=HC.getListenId_(e,t);delete this.listens_[n]}get(e){const t=$C(e._queryParams),n=e._path.toString(),i=new zi;return this.restRequest_(n+".json",t,(e,t)=>{let r=t;404===e&&(r=null,e=null),null===e?(this.onDataUpdate_(n,r,!1,null),i.resolve(r)):i.reject(new Error(r))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,r])=>{i&&i.accessToken&&(t.auth=i.accessToken),r&&r.token&&(t.ac=r.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+mr(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=sr(a.responseText)}catch(cZ){tS("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&tS("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.rootNode_=PC.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(){return{value:null,children:new Map}}function YC(e,t,n){if(YS(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const i=VS(t);e.children.has(i)||e.children.set(i,KC());YC(e.children.get(i),t=$S(t),n)}}function QC(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,(e,i)=>{QC(i,new US(t.toString()+"/"+e),n)})}class XC{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t={...e};return this.last_&&uS(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new XC(e);const n=1e4+2e4*Math.random();pS(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;uS(e,(e,i)=>{i>0&&lr(this.statsToReport_,e)&&(t[e]=i,n=!0)}),n&&this.server_.reportStats(t),pS(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ZC,eN;function tN(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(eN=ZC||(ZC={}))[eN.OVERWRITE=0]="OVERWRITE",eN[eN.MERGE=1]="MERGE",eN[eN.ACK_USER_WRITE=2]="ACK_USER_WRITE",eN[eN.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";class nN{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=ZC.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(YS(this.path)){if(null!=this.affectedTree.value)return xi(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new US(e));return new nN(BS(),t,this.revert)}}return xi(VS(this.path)===e,"operationForChild called for unrelated child."),new nN($S(this.path),this.affectedTree,this.revert)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,t){this.source=e,this.path=t,this.type=ZC.LISTEN_COMPLETE}operationForChild(e){return YS(this.path)?new iN(this.source,BS()):new iN(this.source,$S(this.path))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=ZC.OVERWRITE}operationForChild(e){return YS(this.path)?new rN(this.source,BS(),this.snap.getImmediateChild(e)):new rN(this.source,$S(this.path),this.snap)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=ZC.MERGE}operationForChild(e){if(YS(this.path)){const t=this.children.subtree(new US(e));return t.isEmpty()?null:t.value?new rN(this.source,BS(),t.value):new sN(this.source,BS(),t)}return xi(VS(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new sN(this.source,$S(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(YS(e))return this.isFullyInitialized()&&!this.filtered_;const t=VS(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lN(e,t,n,i,r,s){const a=i.filter(e=>e.type===n);a.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw _i("Should only compare child_ events.");const i=new aC(t.childName,t.snapshotNode),r=new aC(n.childName,n.snapshotNode);return e.index_.compare(i,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n)),a.forEach(n=>{const i=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);r.forEach(r=>{r.respondsTo(n.type)&&t.push(r.createEvent(i,e.query_))})})}function cN(e,t){return{eventCache:e,serverCache:t}}function uN(e,t,n,i){return cN(new aN(t,n,i),e.serverCache)}function dN(e,t,n,i){return cN(e.eventCache,new aN(t,n,i))}function fN(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function hN(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mN;class pN{static fromObject(e){let t=new pN(null);return uS(e,(e,n)=>{t=t.set(new US(e),n)}),t}constructor(e,t=(()=>(mN||(mN=new hC(aS)),mN))()){this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:BS(),value:this.value};if(YS(e))return null;{const n=VS(e),i=this.children.get(n);if(null!==i){const r=i.findRootMostMatchingPathAndValue($S(e),t);if(null!=r){return{path:KS(new US(n),r.path),value:r.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(YS(e))return this;{const t=VS(e),n=this.children.get(t);return null!==n?n.subtree($S(e)):new pN(null)}}set(e,t){if(YS(e))return new pN(t,this.children);{const n=VS(e),i=(this.children.get(n)||new pN(null)).set($S(e),t),r=this.children.insert(n,i);return new pN(this.value,r)}}remove(e){if(YS(e))return this.children.isEmpty()?new pN(null):new pN(null,this.children);{const t=VS(e),n=this.children.get(t);if(n){const i=n.remove($S(e));let r;return r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty()?new pN(null):new pN(this.value,r)}return this}}get(e){if(YS(e))return this.value;{const t=VS(e),n=this.children.get(t);return n?n.get($S(e)):null}}setTree(e,t){if(YS(e))return t;{const n=VS(e),i=(this.children.get(n)||new pN(null)).setTree($S(e),t);let r;return r=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),new pN(this.value,r)}}fold(e){return this.fold_(BS(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((i,r)=>{n[i]=r.fold_(KS(e,i),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,BS(),t)}findOnPath_(e,t,n){const i=!!this.value&&n(t,this.value);if(i)return i;if(YS(e))return null;{const i=VS(e),r=this.children.get(i);return r?r.findOnPath_($S(e),KS(t,i),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,BS(),t)}foreachOnPath_(e,t,n){if(YS(e))return this;{this.value&&n(t,this.value);const i=VS(e),r=this.children.get(i);return r?r.foreachOnPath_($S(e),KS(t,i),n):new pN(null)}}foreach(e){this.foreach_(BS(),e)}foreach_(e,t){this.children.inorderTraversal((n,i)=>{i.foreach_(KS(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.writeTree_=e}static empty(){return new gN(new pN(null))}}function vN(e,t,n){if(YS(t))return new gN(new pN(n));{const i=e.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const a=QS(r,t);return s=s.updateChild(a,n),new gN(e.writeTree_.set(r,s))}{const i=new pN(n),r=e.writeTree_.setTree(t,i);return new gN(r)}}}function yN(e,t,n){let i=e;return uS(n,(e,n)=>{i=vN(i,KS(t,e),n)}),i}function bN(e,t){if(YS(t))return gN.empty();{const n=e.writeTree_.setTree(t,new pN(null));return new gN(n)}}function wN(e,t){return null!=kN(e,t)}function kN(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(QS(n.path,t)):null}function xN(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(_C,(e,n)=>{t.push(new aC(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new aC(e,n.value))}),t}function _N(e,t){if(YS(t))return e;{const n=kN(e,t);return new gN(null!=n?new pN(n):e.writeTree_.subtree(t))}}function SN(e){return e.writeTree_.isEmpty()}function CN(e,t){return NN(BS(),e.writeTree_,t)}function NN(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((t,r)=>{".priority"===t?(xi(null!==r.value,"Priority writes must always be leaf nodes"),i=r.value):n=NN(KS(e,t),r,n)}),n.getChild(e).isEmpty()||null===i||(n=n.updateChild(KS(e,".priority"),i)),n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(e,t){return UN(t,e)}function TN(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);xi(n>=0,"removeWrite called with nonexistent writeId.");const i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,s=!1,a=e.allWrites.length-1;for(;r&&a>=0;){const t=e.allWrites[a];t.visible&&(a>=n&&EN(t,i.path)?r=!1:ZS(i.path,t.path)&&(s=!0)),a--}if(r){if(s)return function(e){e.visibleWrites=PN(e.allWrites,IN,BS()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(i.snap)e.visibleWrites=bN(e.visibleWrites,i.path);else{uS(i.children,t=>{e.visibleWrites=bN(e.visibleWrites,KS(i.path,t))})}return!0}return!1}function EN(e,t){if(e.snap)return ZS(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&ZS(KS(e.path,n),t))return!0;return!1}function IN(e){return e.visible}function PN(e,t,n){let i=gN.empty();for(let r=0;r<e.length;++r){const s=e[r];if(t(s)){const e=s.path;let t;if(s.snap)ZS(n,e)?(t=QS(n,e),i=vN(i,t,s.snap)):ZS(e,n)&&(t=QS(e,n),i=vN(i,BS(),s.snap.getChild(t)));else{if(!s.children)throw _i("WriteRecord should have .snap or .children");if(ZS(n,e))t=QS(n,e),i=yN(i,t,s.children);else if(ZS(e,n))if(t=QS(e,n),YS(t))i=yN(i,BS(),s.children);else{const e=cr(s.children,VS(t));if(e){const n=e.getChild($S(t));i=vN(i,BS(),n)}}}}}return i}function AN(e,t,n,i,r){if(i||r){const s=_N(e.visibleWrites,t);if(!r&&SN(s))return n;if(r||null!=n||wN(s,BS())){const s=function(e){return(e.visible||r)&&(!i||!~i.indexOf(e.writeId))&&(ZS(e.path,t)||ZS(t,e.path))};return CN(PN(e.allWrites,s,t),n||PC.EMPTY_NODE)}return null}{const i=kN(e.visibleWrites,t);if(null!=i)return i;{const i=_N(e.visibleWrites,t);if(SN(i))return n;if(null!=n||wN(i,BS())){return CN(i,n||PC.EMPTY_NODE)}return null}}}function MN(e,t,n,i){return AN(e.writeTree,e.treePath,t,n,i)}function RN(e,t){return function(e,t,n){let i=PC.EMPTY_NODE;const r=kN(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(_C,(e,t)=>{i=i.updateImmediateChild(e,t)}),i;if(n){const r=_N(e.visibleWrites,t);return n.forEachChild(_C,(e,t)=>{const n=CN(_N(r,new US(e)),t);i=i.updateImmediateChild(e,n)}),xN(r).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}return xN(_N(e.visibleWrites,t)).forEach(e=>{i=i.updateImmediateChild(e.name,e.node)}),i}(e.writeTree,e.treePath,t)}function DN(e,t,n,i){return function(e,t,n,i,r){xi(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=KS(t,n);if(wN(e.visibleWrites,s))return null;{const t=_N(e.visibleWrites,s);return SN(t)?r.getChild(n):CN(t,r.getChild(n))}}(e.writeTree,e.treePath,t,n,i)}function LN(e,t){return function(e,t){return kN(e.visibleWrites,t)}(e.writeTree,KS(e.treePath,t))}function ON(e,t,n,i,r,s){return function(e,t,n,i,r,s,a){let o;const l=_N(e.visibleWrites,t),c=kN(l,BS());if(null!=c)o=c;else{if(null==n)return[];o=CN(l,n)}if(o=o.withIndex(a),o.isEmpty()||o.isLeafNode())return[];{const e=[],t=a.getCompare(),n=s?o.getReverseIteratorFrom(i,a):o.getIteratorFrom(i,a);let l=n.getNext();for(;l&&e.length<r;)0!==t(l,i)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,i,r,s)}function FN(e,t,n){return function(e,t,n,i){const r=KS(t,n),s=kN(e.visibleWrites,r);if(null!=s)return s;if(i.isCompleteForChild(n))return CN(_N(e.visibleWrites,r),i.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function zN(e,t){return UN(KS(e.treePath,t),e.writeTree)}function UN(e,t){return{treePath:e,writeTree:t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;xi("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),xi(".priority"!==n,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const r=i.type;if("child_added"===t&&"child_removed"===r)this.changeMap.set(n,zC(n,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===r)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===r)this.changeMap.set(n,FC(n,i.oldSnap));else if("child_changed"===t&&"child_added"===r)this.changeMap.set(n,OC(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==r)throw _i("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(n,zC(n,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class qN{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new aN(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return FN(this.writes_,e,t)}}getChildAfterChild(e,t,n){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:hN(this.viewCache_),r=ON(this.writes_,i,t,1,n,e);return 0===r.length?null:r[0]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(e,t,n,i,r){const s=new BN;let a,o;if(n.type===ZC.OVERWRITE){const l=n;l.source.fromUser?a=GN(e,t,l.path,l.snap,i,r,s):(xi(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered()&&!YS(l.path),a=HN(e,t,l.path,l.snap,i,r,o,s))}else if(n.type===ZC.MERGE){const l=n;l.source.fromUser?a=function(e,t,n,i,r,s,a){let o=t;return i.foreach((i,l)=>{const c=KS(n,i);KN(t,VS(c))&&(o=GN(e,o,c,l,r,s,a))}),i.foreach((i,l)=>{const c=KS(n,i);KN(t,VS(c))||(o=GN(e,o,c,l,r,s,a))}),o}(e,t,l.path,l.children,i,r,s):(xi(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=QN(e,t,l.path,l.children,i,r,o,s))}else if(n.type===ZC.ACK_USER_WRITE){const o=n;a=o.revert?function(e,t,n,i,r,s){let a;if(null!=LN(i,n))return t;{const o=new qN(i,t,r),l=t.eventCache.getNode();let c;if(YS(n)||".priority"===VS(n)){let n;if(t.serverCache.isFullyInitialized())n=MN(i,hN(t));else{const e=t.serverCache.getNode();xi(e instanceof PC,"serverChildren would be complete if leaf node"),n=RN(i,e)}c=e.filter.updateFullNode(l,n,s)}else{const r=VS(n);let u=FN(i,r,t.serverCache);null==u&&t.serverCache.isCompleteForChild(r)&&(u=l.getImmediateChild(r)),c=null!=u?e.filter.updateChild(l,r,u,$S(n),o,s):t.eventCache.getNode().hasChild(r)?e.filter.updateChild(l,r,PC.EMPTY_NODE,$S(n),o,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(a=MN(i,hN(t)),a.isLeafNode()&&(c=e.filter.updateFullNode(c,a,s)))}return a=t.serverCache.isFullyInitialized()||null!=LN(i,BS()),uN(t,c,a,e.filter.filtersNodes())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,o.path,i,r,s):function(e,t,n,i,r,s,a){if(null!=LN(r,n))return t;const o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=i.value){if(YS(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return HN(e,t,n,l.getNode().getChild(n),r,s,o,a);if(YS(n)){let i=new pN(null);return l.getNode().forEachChild(uC,(e,t)=>{i=i.set(new US(e),t)}),QN(e,t,n,i,r,s,o,a)}return t}{let c=new pN(null);return i.foreach((e,t)=>{const i=KS(n,e);l.isCompleteForPath(i)&&(c=c.set(e,l.getNode().getChild(i)))}),QN(e,t,n,c,r,s,o,a)}}(e,t,o.path,o.affectedTree,i,r,s)}else{if(n.type!==ZC.LISTEN_COMPLETE)throw _i("Unknown operation type: "+n.type);a=function(e,t,n,i,r){const s=t.serverCache,a=dN(t,s.getNode(),s.isFullyInitialized()||YS(n),s.isFiltered());return WN(e,a,n,i,VN,r)}(e,t,n.path,i,s)}const l=s.getChanges();return function(e,t,n){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=fN(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(LC(fN(t)))}}(t,a,l),{viewCache:a,changes:l}}function WN(e,t,n,i,r,s){const a=t.eventCache;if(null!=LN(i,n))return t;{let o,l;if(YS(n))if(xi(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=hN(t),r=RN(i,n instanceof PC?n:PC.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),r,s)}else{const n=MN(i,hN(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=VS(n);if(".priority"===c){xi(1===qS(n),"Can't have a priority with additional path components");const r=a.getNode();l=t.serverCache.getNode();const s=DN(i,n,r,l);o=null!=s?e.filter.updatePriority(r,s):a.getNode()}else{const u=$S(n);let d;if(a.isCompleteForChild(c)){l=t.serverCache.getNode();const e=DN(i,n,a.getNode(),l);d=null!=e?a.getNode().getImmediateChild(c).updateChild(u,e):a.getNode().getImmediateChild(c)}else d=FN(i,c,t.serverCache);o=null!=d?e.filter.updateChild(a.getNode(),c,d,u,r,s):a.getNode()}}return uN(t,o,a.isFullyInitialized()||YS(n),e.filter.filtersNodes())}}function HN(e,t,n,i,r,s,a,o){const l=t.serverCache;let c;const u=a?e.filter:e.filter.getIndexedFilter();if(YS(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),e,null)}else{const e=VS(n);if(!l.isCompleteForPath(n)&&qS(n)>1)return t;const r=$S(n),s=l.getNode().getImmediateChild(e).updateChild(r,i);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,r,VN,null)}const d=dN(t,c,l.isFullyInitialized()||YS(n),u.filtersNodes());return WN(e,d,n,r,new qN(r,d,s),o)}function GN(e,t,n,i,r,s,a){const o=t.eventCache;let l,c;const u=new qN(r,t,s);if(YS(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,a),l=uN(t,c,!0,e.filter.filtersNodes());else{const r=VS(n);if(".priority"===r)c=e.filter.updatePriority(t.eventCache.getNode(),i),l=uN(t,c,o.isFullyInitialized(),o.isFiltered());else{const s=$S(n),c=o.getNode().getImmediateChild(r);let d;if(YS(s))d=i;else{const e=u.getCompleteChild(r);d=null!=e?".priority"===WS(s)&&e.getChild(GS(s)).isEmpty()?e:e.updateChild(s,i):PC.EMPTY_NODE}if(c.equals(d))l=t;else{l=uN(t,e.filter.updateChild(o.getNode(),r,d,s,u,a),o.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function KN(e,t){return e.eventCache.isCompleteForChild(t)}function YN(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function QN(e,t,n,i,r,s,a,o){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=YS(n)?i:new pN(null).setTree(n,i);const u=t.serverCache.getNode();return l.children.inorderTraversal((n,i)=>{if(u.hasChild(n)){const l=YN(0,t.serverCache.getNode().getImmediateChild(n),i);c=HN(e,c,new US(n),l,r,s,a,o)}}),l.children.inorderTraversal((n,i)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===i.value;if(!u.hasChild(n)&&!l){const l=YN(0,t.serverCache.getNode().getImmediateChild(n),i);c=HN(e,c,new US(n),l,r,s,a,o)}}),c}class XN{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new UC(n.getIndex()),r=(s=n).loadsAllData()?new UC(s.getIndex()):s.hasLimit()?new VC(s):new BC(s);var s;this.processor_=function(e){return{filter:e}}(r);const a=t.serverCache,o=t.eventCache,l=i.updateFullNode(PC.EMPTY_NODE,a.getNode(),null),c=r.updateFullNode(PC.EMPTY_NODE,o.getNode(),null),u=new aN(l,a.isFullyInitialized(),i.filtersNodes()),d=new aN(c,o.isFullyInitialized(),r.filtersNodes());this.viewCache_=cN(d,u),this.eventGenerator_=new oN(this.query_)}get query(){return this.query_}}function JN(e,t){const n=hN(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!YS(t)&&!n.getImmediateChild(VS(t)).isEmpty())?n.getChild(t):null}function ZN(e){return 0===e.eventRegistrations_.length}function ej(e,t,n){const i=[];if(n){xi(null==t,"A cancel should cancel all event registrations.");const r=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,r);t&&i.push(t)})}if(t){let n=[];for(let i=0;i<e.eventRegistrations_.length;++i){const r=e.eventRegistrations_[i];if(r.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(i+1));break}}else n.push(r)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return i}function tj(e,t,n,i){t.type===ZC.MERGE&&null!==t.source.queryId&&(xi(hN(e.viewCache_),"We should always have a full cache before handling merges"),xi(fN(e.viewCache_),"Missing event cache, even though we have a server cache"));const r=e.viewCache_,s=$N(e.processor_,r,t,n,i);var a,o;return a=e.processor_,o=s.viewCache,xi(o.eventCache.getNode().isIndexed(a.filter.getIndex()),"Event snap not indexed"),xi(o.serverCache.getNode().isIndexed(a.filter.getIndex()),"Server snap not indexed"),xi(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,nj(e,s.changes,s.viewCache.eventCache.getNode(),null)}function nj(e,t,n,i){const r=i?[i]:e.eventRegistrations_;return function(e,t,n,i){const r=[],s=[];return t.forEach(t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),lN(e,r,"child_removed",t,i,n),lN(e,r,"child_added",t,i,n),lN(e,r,"child_moved",s,i,n),lN(e,r,"child_changed",t,i,n),lN(e,r,"value",t,i,n),r}(e.eventGenerator_,t,n,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ij,rj;class sj{constructor(){this.views=new Map}}function aj(e,t,n,i){const r=t.source.queryId;if(null!==r){const s=e.views.get(r);return xi(null!=s,"SyncTree gave us an op for an invalid query."),tj(s,t,n,i)}{let r=[];for(const s of e.views.values())r=r.concat(tj(s,t,n,i));return r}}function oj(e,t,n,i,r,s){const a=function(e,t,n,i,r){const s=t._queryIdentifier,a=e.views.get(s);if(!a){let e=MN(n,r?i:null),s=!1;e?s=!0:i instanceof PC?(e=RN(n,i),s=!1):(e=PC.EMPTY_NODE,s=!1);const a=cN(new aN(e,s,!1),new aN(i,r,!1));return new XN(t,a)}return a}(e,t,i,r,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){const n=e.viewCache_.eventCache,i=[];n.getNode().isLeafNode()||n.getNode().forEachChild(_C,(e,t)=>{i.push(OC(e,t))});return n.isFullyInitialized()&&i.push(LC(n.getNode())),nj(e,i,n.getNode(),t)}(a,n)}function lj(e,t,n,i){const r=t._queryIdentifier,s=[];let a=[];const o=hj(e);if("default"===r)for(const[l,c]of e.views.entries())a=a.concat(ej(c,n,i)),ZN(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(r);t&&(a=a.concat(ej(t,n,i)),ZN(t)&&(e.views.delete(r),t.query._queryParams.loadsAllData()||s.push(t.query)))}return o&&!hj(e)&&s.push(new(xi(ij,"Reference.ts has not been loaded"),ij)(t._repo,t._path)),{removed:s,events:a}}function cj(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function uj(e,t){let n=null;for(const i of e.views.values())n=n||JN(i,t);return n}function dj(e,t){if(t._queryParams.loadsAllData())return mj(e);{const n=t._queryIdentifier;return e.views.get(n)}}function fj(e,t){return null!=dj(e,t)}function hj(e){return null!=mj(e)}function mj(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pj=1;class gj{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pN(null),this.pendingWriteTree_={visibleWrites:gN.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vj(e,t,n,i,r){return function(e,t,n,i,r){xi(i>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=vN(e.visibleWrites,t,n)),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i,r),r?Sj(e,new rN({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function yj(e,t,n,i){!function(e,t,n,i){xi(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=yN(e.visibleWrites,t,n),e.lastWriteId=i}(e.pendingWriteTree_,t,n,i);const r=pN.fromObject(n);return Sj(e,new sN({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}function bj(e,t,n=!1){const i=function(e,t){for(let n=0;n<e.allWrites.length;n++){const i=e.allWrites[n];if(i.writeId===t)return i}return null}(e.pendingWriteTree_,t);if(TN(e.pendingWriteTree_,t)){let t=new pN(null);return null!=i.snap?t=t.set(BS(),!0):uS(i.children,e=>{t=t.set(new US(e),!0)}),Sj(e,new nN(i.path,t,n))}return[]}function wj(e,t,n){return Sj(e,new rN({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function kj(e,t,n,i,r=!1){const s=t._path,a=e.syncPointTree_.get(s);let o=[];if(a&&("default"===t._queryIdentifier||fj(a,t))){const l=lj(a,t,n,i);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(o=l.events,!r){const n=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),r=e.syncPointTree_.findOnPath(s,(e,t)=>hj(t));if(n&&!r){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&hj(t)){return[mj(t)]}{let e=[];return t&&(e=cj(t)),uS(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const i=n[t],r=i.query,s=jj(e,i);e.listenProvider_.startListening(Mj(r),Tj(e,r),s.hashFn,s.onComplete)}}}if(!r&&c.length>0&&!i)if(n){const n=null;e.listenProvider_.stopListening(Mj(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(Ej(t));e.listenProvider_.stopListening(Mj(t),n)})}!function(e,t){for(let n=0;n<t.length;++n){const i=t[n];if(!i._queryParams.loadsAllData()){const t=Ej(i),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return o}function xj(e,t,n,i=!1){const r=t._path;let s=null,a=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=QS(e,r);s=s||uj(t,n),a=a||hj(t)});let o,l=e.syncPointTree_.get(r);if(l?(a=a||hj(l),s=s||uj(l,BS())):(l=new sj,e.syncPointTree_=e.syncPointTree_.set(r,l)),null!=s)o=!0;else{o=!1,s=PC.EMPTY_NODE;e.syncPointTree_.subtree(r).foreachChild((e,t)=>{const n=uj(t,BS());n&&(s=s.updateImmediateChild(e,n))})}const c=fj(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Ej(t);xi(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const i=pj++;e.queryToTagMap.set(n,i),e.tagToQueryMap.set(i,n)}let u=oj(l,t,n,jN(e.pendingWriteTree_,r),s,o);if(!c&&!a&&!i){const n=dj(l,t);u=u.concat(function(e,t,n){const i=t._path,r=Tj(e,t),s=jj(e,n),a=e.listenProvider_.startListening(Mj(t),r,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(i);if(r)xi(!hj(o.value),"If we're adding a query, it shouldn't be shadowed");else{const t=o.fold((e,t,n)=>{if(!YS(e)&&t&&hj(t))return[mj(t).query];{let e=[];return t&&(e=e.concat(cj(t).map(e=>e.query))),uS(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const i=t[n];e.listenProvider_.stopListening(Mj(i),Tj(e,i))}}return a}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t,n))}return u}function _j(e,t,n){const i=e.pendingWriteTree_,r=e.syncPointTree_.findOnPath(t,(e,n)=>{const i=uj(n,QS(e,t));if(i)return i});return AN(i,t,r,n,!0)}function Sj(e,t){return Cj(t,e.syncPointTree_,null,jN(e.pendingWriteTree_,BS()))}function Cj(e,t,n,i){if(YS(e.path))return Nj(e,t,n,i);{const r=t.get(BS());null==n&&null!=r&&(n=uj(r,BS()));let s=[];const a=VS(e.path),o=e.operationForChild(a),l=t.children.get(a);if(l&&o){const e=n?n.getImmediateChild(a):null,t=zN(i,a);s=s.concat(Cj(o,l,e,t))}return r&&(s=s.concat(aj(r,e,i,n))),s}}function Nj(e,t,n,i){const r=t.get(BS());null==n&&null!=r&&(n=uj(r,BS()));let s=[];return t.children.inorderTraversal((t,r)=>{const a=n?n.getImmediateChild(t):null,o=zN(i,t),l=e.operationForChild(t);l&&(s=s.concat(Nj(l,r,a,o)))}),r&&(s=s.concat(aj(r,e,i,n))),s}function jj(e,t){const n=t.query,i=Tj(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||PC.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return i?function(e,t,n){const i=Ij(e,n);if(i){const n=Pj(i),r=n.path,s=n.queryId,a=QS(r,t);return Aj(e,r,new iN(tN(s),a))}return[]}(e,n._path,i):function(e,t){return Sj(e,new iN({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const i=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}(t,n);return kj(e,n,null,i)}}}}function Tj(e,t){const n=Ej(t);return e.queryToTagMap.get(n)}function Ej(e){return e._path.toString()+"$"+e._queryIdentifier}function Ij(e,t){return e.tagToQueryMap.get(t)}function Pj(e){const t=e.indexOf("$");return xi(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new US(e.substr(0,t))}}function Aj(e,t,n){const i=e.syncPointTree_.get(t);xi(i,"Missing sync point for query tag that we're tracking");return aj(i,n,jN(e.pendingWriteTree_,t),null)}function Mj(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(xi(rj,"Reference.ts has not been loaded"),rj)(e._repo,e._path):e}class Rj{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Rj(t)}node(){return this.node_}}class Dj{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=KS(this.path_,e);return new Dj(this.syncTree_,t)}node(){return _j(this.syncTree_,this.path_)}}const Lj=function(e,t,n){return e&&"object"==typeof e?(xi(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?Oj(e[".sv"],t,n):"object"==typeof e[".sv"]?Fj(e[".sv"],t):void xi(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Oj=function(e,t,n){if("timestamp"===e)return n.timestamp;xi(!1,"Unexpected server value: "+e)},Fj=function(e,t,n){e.hasOwnProperty("increment")||xi(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const i=e.increment;"number"!=typeof i&&xi(!1,"Unexpected increment value: "+i);const r=t.node();if(xi(null!=r,"Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},zj=function(e,t,n,i){return Bj(t,new Dj(n,e),i)},Uj=function(e,t,n){return Bj(e,new Rj(t),n)};function Bj(e,t,n){const i=e.getPriority().val(),r=Lj(i,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const i=e,s=Lj(i.getValue(),t,n);return s!==i.getValue()||r!==i.getPriority().val()?new xC(s,MC(r)):e}{const i=e;return s=i,r!==i.getPriority().val()&&(s=s.updatePriority(new xC(r))),i.forEachChild(_C,(e,i)=>{const r=Bj(i,t.getImmediateChild(e),n);r!==i&&(s=s.updateImmediateChild(e,r))}),s}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vj{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function qj(e,t){let n=t instanceof US?t:new US(t),i=e,r=VS(n);for(;null!==r;){const e=cr(i.node.children,r)||{children:{},childCount:0};i=new Vj(r,i,e),n=$S(n),r=VS(n)}return i}function $j(e){return e.node.value}function Wj(e,t){e.node.value=t,Qj(e)}function Hj(e){return e.node.childCount>0}function Gj(e,t){uS(e.node.children,(n,i)=>{t(new Vj(n,e,i))})}function Kj(e,t,n,i){n&&t(e),Gj(e,e=>{Kj(e,t,!0)})}function Yj(e){return new US(null===e.parent?e.name:Yj(e.parent)+"/"+e.name)}function Qj(e){null!==e.parent&&function(e,t,n){const i=function(e){return void 0===$j(e)&&!Hj(e)}(n),r=lr(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Qj(e)):i||r||(e.node.children[t]=n.node,e.node.childCount++,Qj(e))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.parent,e.name,e)}const Xj=/[\[\].#$\/\u0000-\u001F\u007F]/,Jj=/[\[\].#$\u0000-\u001F\u007F]/,Zj=10485760,eT=function(e){return"string"==typeof e&&0!==e.length&&!Xj.test(e)},tT=function(e){return"string"==typeof e&&0!==e.length&&!Jj.test(e)},nT=function(e,t,n,i){i&&void 0===t||iT(wr(e,"value"),t,n)},iT=function(e,t,n){const i=n instanceof US?new eC(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+nC(i));if("function"==typeof t)throw new Error(e+"contains a function "+nC(i)+" with contents = "+t.toString());if(nS(t))throw new Error(e+"contains "+t.toString()+" "+nC(i));if("string"==typeof t&&t.length>Zj/3&&kr(t)>Zj)throw new Error(e+"contains a string greater than "+Zj+" utf8 bytes "+nC(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,r=!1;if(uS(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(r=!0,!eT(t)))throw new Error(e+" contains an invalid key ("+t+") "+nC(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var a,o;o=t,(a=i).parts_.length>0&&(a.byteLength_+=1),a.parts_.push(o),a.byteLength_+=kr(o),tC(a),iT(e,s,i),function(e){const t=e.parts_.pop();e.byteLength_-=kr(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),n&&r)throw new Error(e+' contains ".value" child '+nC(i)+" in addition to actual children.")}},rT=function(e,t,n,i){const r=wr(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];uS(t,(e,t)=>{const i=new US(e);if(iT(r,t,KS(n,i)),".priority"===WS(i)&&!(null===(a=t)||"string"==typeof a||"number"==typeof a&&!nS(a)||a&&"object"==typeof a&&lr(a,".sv")))throw new Error(r+"contains an invalid value for '"+i.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");var a;s.push(i)}),function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];const r=HS(i);for(let t=0;t<r.length;t++)if(".priority"===r[t]&&t===r.length-1);else if(!eT(r[t]))throw new Error(e+"contains an invalid key ("+r[t]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(XS);let r=null;for(n=0;n<t.length;n++){if(i=t[n],null!==r&&ZS(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},sT=function(e,t,n,i){if(!tT(n))throw new Error(wr(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},aT=function(e,t){if(".info"===VS(t))throw new Error(e+" failed = Can't modify data under /.info/")},oT=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!eT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),tT(e)}(n))throw new Error(wr(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class lT{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function cT(e,t){let n=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null===n||JS(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&e.eventLists_.push(n)}function uT(e,t,n){cT(e,n),fT(e,e=>JS(e,t))}function dT(e,t,n){cT(e,n),fT(e,e=>ZS(e,t)||ZS(t,e))}function fT(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){const r=e.eventLists_[i];if(r){t(r.path)?(hT(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function hT(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const i=n.getEventRunner();Y_&&X_("event: "+n.toString()),mS(i)}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,t,n,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lT,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=KC(),this.transactionQueueTree_=new Vj,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function pT(e,t,n){if(e.stats_=TS(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new HC(e.repoInfo_,(t,n,i,r)=>{yT(e,t,n,i,r)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>bT(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ar(n)}catch(cZ){throw new Error("Invalid authOverride provided: "+cZ)}}e.persistentConnection_=new sC(e.repoInfo_,t,(t,n,i,r)=>{yT(e,t,n,i,r)},t=>{bT(e,t)},t=>{!function(e,t){uS(t,(t,n)=>{wT(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){const n=e.toString();return jS[n]||(jS[n]=t()),jS[n]}(e.repoInfo_,()=>new JC(e.stats_,e.server_)),e.infoData_=new GC,e.infoSyncTree_=new gj({startListening:(t,n,i,r)=>{let s=[];const a=e.infoData_.getNode(t._path);return a.isEmpty()||(s=wj(e.infoSyncTree_,t._path,a),setTimeout(()=>{r("ok")},0)),s},stopListening:()=>{}}),wT(e,"connected",!1),e.serverSyncTree_=new gj({startListening:(t,n,i,r)=>(e.server_.listen(t,i,n,(n,i)=>{const s=r(n,i);dT(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function gT(e){const t=e.infoData_.getNode(new US(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function vT(e){return(t=(t={timestamp:gT(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function yT(e,t,n,i,r){e.dataUpdateCount++;const s=new US(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(r)if(i){const t=dr(n,e=>MC(e));a=function(e,t,n,i){const r=Ij(e,i);if(r){const i=Pj(r),s=i.path,a=i.queryId,o=QS(s,t),l=pN.fromObject(n);return Aj(e,s,new sN(tN(a),o,l))}return[]}(e.serverSyncTree_,s,t,r)}else{const t=MC(n);a=function(e,t,n,i){const r=Ij(e,i);if(null!=r){const i=Pj(r),s=i.path,a=i.queryId,o=QS(s,t);return Aj(e,s,new rN(tN(a),o,n))}return[]}(e.serverSyncTree_,s,t,r)}else if(i){const t=dr(n,e=>MC(e));a=function(e,t,n){const i=pN.fromObject(n);return Sj(e,new sN({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,s,t)}else{const t=MC(n);a=wj(e.serverSyncTree_,s,t)}let o=s;a.length>0&&(o=jT(e,s)),dT(e.eventQueue_,o,a)}function bT(e,t){wT(e,"connected",t),!1===t&&function(e){_T(e,"onDisconnectEvents");const t=vT(e),n=KC();QC(e.onDisconnect_,BS(),(i,r)=>{const s=zj(i,r,e.serverSyncTree_,t);YC(n,i,s)});let i=[];QC(n,BS(),(t,n)=>{i=i.concat(wj(e.serverSyncTree_,t,n));const r=AT(e,t);jT(e,r)}),e.onDisconnect_=KC(),dT(e.eventQueue_,BS(),i)}(e)}function wT(e,t,n){const i=new US("/.info/"+t),r=MC(n);e.infoData_.updateSnapshot(i,r);const s=wj(e.infoSyncTree_,i,r);dT(e.eventQueue_,i,s)}function kT(e){return e.nextWriteId_++}function xT(e,t,n){let i;i=".info"===VS(t._path)?kj(e.infoSyncTree_,t,n):kj(e.serverSyncTree_,t,n),uT(e.eventQueue_,t._path,i)}function _T(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),X_(n,...t)}function ST(e,t,n,i){t&&mS(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let r=e;i&&(r+=": "+i);const s=new Error(r);s.code=e,t(s)}})}function CT(e,t,n){return _j(e.serverSyncTree_,t,n)||PC.EMPTY_NODE}function NT(e,t=e.transactionQueueTree_){if(t||PT(e,t),$j(t)){const n=ET(e,t);xi(n.length>0,"Sending zero length transaction queue");n.every(e=>0===e.status)&&function(e,t,n){const i=n.map(e=>e.currentWriteId),r=CT(e,t,i);let s=r;const a=r.hash();for(let c=0;c<n.length;c++){const e=n[c];xi(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const i=QS(t,e.path);s=s.updateChild(i,e.currentOutputSnapshotRaw)}const o=s.val(!0),l=t;e.server_.put(l.toString(),o,i=>{_T(e,"transaction put response",{path:l.toString(),status:i});let r=[];if("ok"===i){const i=[];for(let t=0;t<n.length;t++)n[t].status=2,r=r.concat(bj(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&i.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();PT(e,qj(e.transactionQueueTree_,t)),NT(e,e.transactionQueueTree_),dT(e.eventQueue_,t,r);for(let e=0;e<i.length;e++)mS(i[e])}else{if("datastale"===i)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{tS("transaction at "+l.toString()+" failed: "+i);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=i}jT(e,t)}},a)}(e,Yj(t),n)}else Hj(t)&&Gj(t,t=>{NT(e,t)})}function jT(e,t){const n=TT(e,t),i=Yj(n);return function(e,t,n){if(0===t.length)return;const i=[];let r=[];const s=t.filter(e=>0===e.status),a=s.map(e=>e.currentWriteId);for(let o=0;o<t.length;o++){const s=t[o],l=QS(n,s.path);let c,u=!1;if(xi(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)u=!0,c=s.abortReason,r=r.concat(bj(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)u=!0,c="maxretry",r=r.concat(bj(e.serverSyncTree_,s.currentWriteId,!0));else{const n=CT(e,s.path,a);s.currentInputSnapshot=n;const i=t[o].update(n.val());if(void 0!==i){iT("transaction failed: Data returned ",i,s.path);let t=MC(i);"object"==typeof i&&null!=i&&lr(i,".priority")||(t=t.updatePriority(n.getPriority()));const o=s.currentWriteId,l=vT(e),c=Uj(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=kT(e),a.splice(a.indexOf(o),1),r=r.concat(vj(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),r=r.concat(bj(e.serverSyncTree_,o,!0))}else u=!0,c="nodata",r=r.concat(bj(e.serverSyncTree_,s.currentWriteId,!0))}dT(e.eventQueue_,n,r),r=[],u&&(t[o].status=2,function(e){setTimeout(e,Math.floor(0))}(t[o].unwatcher),t[o].onComplete&&("nodata"===c?i.push(()=>t[o].onComplete(null,!1,t[o].currentInputSnapshot)):i.push(()=>t[o].onComplete(new Error(c),!1,null))))}PT(e,e.transactionQueueTree_);for(let o=0;o<i.length;o++)mS(i[o]);NT(e,e.transactionQueueTree_)}(e,ET(e,n),i),i}function TT(e,t){let n,i=e.transactionQueueTree_;for(n=VS(t);null!==n&&void 0===$j(i);)i=qj(i,n),n=VS(t=$S(t));return i}function ET(e,t){const n=[];return IT(e,t,n),n.sort((e,t)=>e.order-t.order),n}function IT(e,t,n){const i=$j(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Gj(t,t=>{IT(e,t,n)})}function PT(e,t){const n=$j(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Wj(t,n.length>0?n:void 0)}Gj(t,t=>{PT(e,t)})}function AT(e,t){const n=Yj(TT(e,t)),i=qj(e.transactionQueueTree_,t);return function(e,t){let n=e.parent;for(;null!==n;){if(t(n))return!0;n=n.parent}}(i,t=>{MT(e,t)}),MT(e,i),Kj(i,t=>{MT(e,t)}),n}function MT(e,t){const n=$j(t);if(n){const i=[];let r=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(xi(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(xi(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),r=r.concat(bj(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&i.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Wj(t,void 0):n.length=s+1,dT(e.eventQueue_,Yj(t),r);for(let e=0;e<i.length;e++)mS(i[e])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=function(e,t){const n=DT(e),i=n.namespace;"firebase.com"===n.domain&&eS(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),i&&"undefined"!==i||"localhost"===n.domain||eS("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&tS("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const r="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new _S(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new US(n.pathString)}},DT=function(e){let t="",n="",i="",r="",s="",a=!0,o="https",l=443;if("string"==typeof e){let c=e.indexOf("//");c>=0&&(o=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(cZ){}t+="/"+e}return t}(e.substring(u,d)));const f=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):tS(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(a="https"===o||"wss"===o,l=parseInt(t.substring(c+1),10)):c=t.length;const h=t.slice(0,c);if("localhost"===h.toLowerCase())n="localhost";else if(h.split(".").length<=2)n=h;else{const e=t.indexOf(".");i=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=i}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:a,scheme:o,pathString:r,namespace:s}},LT="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",OT=function(){let e=0;const t=[];return function(n){const i=n===e;let r;e=n;const s=new Array(8);for(r=7;r>=0;r--)s[r]=LT.charAt(n%64),n=Math.floor(n/64);xi(0===n,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=LT.charAt(t[r]);return xi(20===a.length,"nextPushId: Length should be 20."),a}}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class FT{constructor(e,t,n,i){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ar(this.snapshot.exportVal())}}class zT{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return xi(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,t,n,i){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=i}get key(){return YS(this._path)?null:WS(this._path)}get ref(){return new VT(this._repo,this._path)}get _queryIdentifier(){const e=WC(this._queryParams),t=lS(e);return"{}"===t?"default":t}get _queryObject(){return WC(this._queryParams)}isEqual(e){if(!((e=_r(e))instanceof BT))return!1;const t=this._repo===e._repo,n=JS(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class VT extends BT{constructor(e,t){super(e,t,new qC,!1)}get parent(){const e=GS(this._path);return null===e?null:new VT(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class qT{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new US(e),n=WT(this.ref,e);return new qT(this._node.getChild(t),n,_C)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,(t,n)=>e(new qT(n,WT(this.ref,t),_C)))}hasChild(e){const t=new US(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $T(e,t){return(e=_r(e))._checkNotDeleted("ref"),void 0!==t?WT(e._root,t):e._root}function WT(e,t){var n,i,r;return null===VS((e=_r(e))._path)?(n="child",i="path",(r=t)&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),sT(n,i,r)):sT("child","path",t),new VT(e._repo,KS(e._path,t))}function HT(e,t){e=_r(e),aT("set",e._path),nT("set",t,e._path,!1);const n=new zi;return function(e,t,n,i,r){_T(e,"set",{path:t.toString(),value:n,priority:i});const s=vT(e),a=MC(n,i),o=_j(e.serverSyncTree_,t),l=Uj(a,o,s),c=kT(e),u=vj(e.serverSyncTree_,t,l,c,!0);cT(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),(n,i)=>{const s="ok"===n;s||tS("set at "+t+" failed: "+n);const a=bj(e.serverSyncTree_,c,!s);dT(e.eventQueue_,t,a),ST(0,r,n,i)});const d=AT(e,t);jT(e,d),dT(e.eventQueue_,d,[])}(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function GT(e,t){rT("update",t,e._path);const n=new zi;return function(e,t,n,i){_T(e,"update",{path:t.toString(),value:n});let r=!0;const s=vT(e),a={};if(uS(n,(n,i)=>{r=!1,a[n]=zj(KS(t,n),MC(i),e.serverSyncTree_,s)}),r)X_("update() called with empty data.  Don't do anything."),ST(0,i,"ok",void 0);else{const r=kT(e),s=yj(e.serverSyncTree_,t,a,r);cT(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{const a="ok"===n;a||tS("update at "+t+" failed: "+n);const o=bj(e.serverSyncTree_,r,!a),l=o.length>0?jT(e,t):t;dT(e.eventQueue_,l,o),ST(0,i,n,s)}),uS(n,n=>{const i=AT(e,KS(t,n));jT(e,i)}),dT(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class KT{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new FT("value",this,new qT(e.snapshotNode,new VT(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new zT(this,e,t):null}matches(e){return e instanceof KT&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class YT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new zT(this,e,t):null}createEvent(e,t){xi(null!=e.childName,"Child events should have a childName.");const n=WT(new VT(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new FT(e.type,this,new qT(e.snapshotNode,n,i),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof YT&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function QT(e,t,n,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const t=n,i=(n,i)=>{xT(e._repo,e,o),t(n,i)};i.userCallback=n.userCallback,i.context=n.context,n=i}const a=new UT(n,s||void 0),o=new KT(a);return function(e,t,n){let i;i=".info"===VS(t._path)?xj(e.infoSyncTree_,t,n):xj(e.serverSyncTree_,t,n),uT(e.eventQueue_,t._path,i)}(e._repo,e,o),()=>xT(e._repo,e,o)}function XT(e,t,n,i){return QT(e,0,t,n,i)}function JT(e,t,n){let i=null;const r=n?new UT(n):null;"value"===t?i=new KT(r):t&&(i=new YT(t,r)),xT(e._repo,e,i)}!function(e){xi(!ij,"__referenceConstructor has already been defined"),ij=e}(VT),function(e){xi(!rj,"__referenceConstructor has already been defined"),rj=e}(VT);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ZT={};let eE=!1;function tE(e,t,n,i,r){let s=i||e.options.databaseURL;void 0===s&&(e.options.projectId||eS("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),X_("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let a,o=RT(s,r),l=o.repoInfo;"undefined"!=typeof process&&L_&&(a=L_.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=`http://${a}?ns=${l.namespace}`,o=RT(s,r),l=o.repoInfo):o.repoInfo.secure;const c=new vS(e.name,e.options,t);oT("Invalid Firebase Database URL",o),YS(o.path)||eS("Database URL must point to the root of a Firebase Database (not including a child path).");const u=function(e,t,n,i){let r=ZT[t.name];r||(r={},ZT[t.name]=r);let s=r[e.toURLString()];s&&eS("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new mT(e,eE,n,i),r[e.toURLString()]=s,s}(l,e,c,new gS(e,n));return new nE(u,e)}class nE{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(pT(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new VT(this._repo,BS())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=ZT[t];n&&n[e.key]===e||eS(`Database ${t}(${e.repoInfo_}) has already been deleted.`),function(e){e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt")}(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&eS("Cannot call "+e+" on a deleted database.")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const iE={".sv":"timestamp"};function rE(){return iE}sC.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},sC.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){z_=Us,Ds(new Sr("database",(e,{instanceIdentifier:t})=>tE(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),qs(O_,F_,e),qs(O_,F_,"esm2020")}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const sE="firebasestorage.googleapis.com",aE="storageBucket";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oE extends nr{constructor(e,t,n=0){super(fE(e),`Firebase Storage: ${t} (${fE(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,oE.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return fE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var lE,cE,uE,dE;function fE(e){return"storage/"+e}function hE(){return new oE(lE.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function mE(e){return new oE(lE.INVALID_ARGUMENT,e)}function pE(){return new oE(lE.APP_DELETED,"The Firebase app was deleted.")}function gE(e,t){return new oE(lE.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function vE(e){throw new oE(lE.INTERNAL_ERROR,"Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(cE=lE||(lE={})).UNKNOWN="unknown",cE.OBJECT_NOT_FOUND="object-not-found",cE.BUCKET_NOT_FOUND="bucket-not-found",cE.PROJECT_NOT_FOUND="project-not-found",cE.QUOTA_EXCEEDED="quota-exceeded",cE.UNAUTHENTICATED="unauthenticated",cE.UNAUTHORIZED="unauthorized",cE.UNAUTHORIZED_APP="unauthorized-app",cE.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",cE.INVALID_CHECKSUM="invalid-checksum",cE.CANCELED="canceled",cE.INVALID_EVENT_NAME="invalid-event-name",cE.INVALID_URL="invalid-url",cE.INVALID_DEFAULT_BUCKET="invalid-default-bucket",cE.NO_DEFAULT_BUCKET="no-default-bucket",cE.CANNOT_SLICE_BLOB="cannot-slice-blob",cE.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",cE.NO_DOWNLOAD_URL="no-download-url",cE.INVALID_ARGUMENT="invalid-argument",cE.INVALID_ARGUMENT_COUNT="invalid-argument-count",cE.APP_DELETED="app-deleted",cE.INVALID_ROOT_OPERATION="invalid-root-operation",cE.INVALID_FORMAT="invalid-format",cE.INTERNAL_ERROR="internal-error",cE.UNSUPPORTED_ENVIRONMENT="unsupported-environment";class yE{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=yE.makeFromUrl(e,t)}catch(cZ){return new yE(e,"")}if(""===n.path)return n;throw i=e,new oE(lE.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.");var i}static makeFromUrl(e,t){let n=null;const i="([A-Za-z0-9.\\-_]+)";const r=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:r,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===sE?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],i=t.regex.exec(e);if(i){const e=i[t.indices.bucket];let r=i[t.indices.path];r||(r=""),n=new yE(e,r),t.postModify(n);break}}if(null==n)throw function(e){return new oE(lE.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class bE{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(e){return"string"==typeof e||e instanceof String}function kE(e){return xE()&&e instanceof Blob}function xE(){return"undefined"!=typeof Blob}function _E(e,t,n,i){if(i<t)throw mE(`Invalid value for '${e}'. Expected ${t} or greater.`);if(i>n)throw mE(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SE(e,t,n){let i=t;return null==n&&(i=`https://${t}`),`${n}://${i}/v0${e}`}function CE(e){const t=encodeURIComponent;let n="?";for(const i in e)if(e.hasOwnProperty(i)){n=n+(t(i)+"="+t(e[i]))+"&"}return n=n.slice(0,-1),n}(dE=uE||(uE={}))[dE.NO_ERROR=0]="NO_ERROR",dE[dE.NETWORK_ERROR=1]="NETWORK_ERROR",dE[dE.ABORT=2]="ABORT";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class NE{constructor(e,t,n,i,r,s,a,o,l,c,u,d=!0,f=!1){this.url_=e,this.method_=t,this.headers_=n,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.isUsingEmulator=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{if(t)return void e(!1,new jE(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const i=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(i),n.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(i),this.pendingConnection_=null;const t=n.getErrorCode()===uE.NO_ERROR,r=n.getStatus();if(!t||
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e,t){const n=e>=500&&e<600,i=-1!==[408,429].indexOf(e),r=-1!==t.indexOf(e);return n||i||r}(r,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===uE.ABORT;return void e(!1,new jE(!1,null,t))}const s=-1!==this.successCodes_.indexOf(r);e(!0,new jE(s,n))})},t=(e,t)=>{const n=this.resolve_,i=this.reject_,r=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(r,r.getResponse());!
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(e){return void 0!==e}(e)?n():n(e)}catch(cZ){i(cZ)}else if(null!==r){const e=hE();e.serverResponse=r.getErrorText(),this.errorCallback_?i(this.errorCallback_(r,e)):i(e)}else if(t.canceled){i(this.appDelete_?pE():new oE(lE.CANCELED,"User canceled the upload/download."))}else{i(new oE(lE.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new jE(!1,null,!0)):this.backoffId_=function(e,t,n){let i=1,r=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(...e){c||(c=!0,t.apply(null,e))}function d(t){r=setTimeout(()=>{r=null,e(h,l())},t)}function f(){s&&clearTimeout(s)}function h(e,...t){if(c)return void f();if(e)return f(),void u.call(null,e,...t);if(l()||a)return f(),void u.call(null,e,...t);let n;i<64&&(i*=2),1===o?(o=2,n=0):n=1e3*(i+Math.random()),d(n)}let m=!1;function p(e){m||(m=!0,f(),c||(null!==r?(e||(o=2),clearTimeout(r),d(0)):e||(o=1)))}return d(0),s=setTimeout(()=>{a=!0,p(!0)},n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class jE{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function TE(...e){const t="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(xE())return new Blob(e);throw new oE(lE.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function EE(e){if("undefined"==typeof atob)throw t="base-64",new oE(lE.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="raw",PE="base64",AE="base64url",ME="data_url";class RE{constructor(e,t){this.data=e,this.contentType=t||null}}function DE(e,t){switch(e){case IE:return new RE(LE(t));case PE:case AE:return new RE(OE(e,t));case ME:return new RE(function(e){const t=new FE(e);return t.base64?OE(PE,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(cZ){throw gE(ME,"Malformed data URL.")}return LE(t)}(t.rest)}(t),new FE(t).contentType)}throw hE()}function LE(e){const t=[];for(let n=0;n<e.length;n++){let i=e.charCodeAt(n);if(i<=127)t.push(i);else if(i<=2047)t.push(192|i>>6,128|63&i);else if(55296==(64512&i)){if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1))){i=65536|(1023&i)<<10|1023&e.charCodeAt(++n),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else t.push(239,191,189)}else 56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function OE(e,t){switch(e){case PE:{const n=-1!==t.indexOf("-"),i=-1!==t.indexOf("_");if(n||i){throw gE(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case AE:{const n=-1!==t.indexOf("+"),i=-1!==t.indexOf("/");if(n||i){throw gE(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=EE(t)}catch(cZ){if(cZ.message.includes("polyfill"))throw cZ;throw gE(e,"Invalid character found")}const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}class FE{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw gE(ME,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class zE{constructor(e,t){let n=0,i="";kE(e)?(this.data_=e,n=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(kE(this.data_)){const s=this.data_,a=(i=e,r=t,(n=s).webkitSlice?n.webkitSlice(i,r):n.mozSlice?n.mozSlice(i,r):n.slice?n.slice(i,r):null);return null===a?null:new zE(a)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new zE(n,!0)}var n,i,r}static getBlob(...e){if(xE()){const t=e.map(e=>e instanceof zE?e.data_:e);return new zE(TE.apply(null,t))}{const t=e.map(e=>wE(e)?DE(IE,e).data:e.data_);let n=0;t.forEach(e=>{n+=e.byteLength});const i=new Uint8Array(n);let r=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)i[r++]=e[t]}),new zE(i,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(e){let t;try{t=JSON.parse(e)}catch(cZ){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(e,t){return t}class qE{constructor(e,t,n,i){this.server=e,this.local=t||e,this.writable=!!n,this.xform=i||VE}}let $E=null;function WE(){if($E)return $E;const e=[];e.push(new qE("bucket")),e.push(new qE("generation")),e.push(new qE("metageneration")),e.push(new qE("name","fullPath",!0));const t=new qE("name");t.xform=function(e,t){return function(e){return!wE(e)||e.length<2?e:BE(e)}(t)},e.push(t);const n=new qE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new qE("timeCreated")),e.push(new qE("updated")),e.push(new qE("md5Hash",null,!0)),e.push(new qE("cacheControl",null,!0)),e.push(new qE("contentDisposition",null,!0)),e.push(new qE("contentEncoding",null,!0)),e.push(new qE("contentLanguage",null,!0)),e.push(new qE("contentType",null,!0)),e.push(new qE("metadata","customMetadata",!0)),$E=e,$E}function HE(e,t,n){const i={type:"file"},r=n.length;for(let s=0;s<r;s++){const e=n[s];i[e.local]=e.xform(i,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,i=e.fullPath,r=new yE(n,i);return t._makeStorageReference(r)}})}(i,e),i}function GE(e,t,n){const i=UE(t);if(null===i)return null;return HE(e,i,n)}class KE{constructor(e,t,n,i){this.url=e,this.method=t,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(e){if(!e)throw hE()}function QE(e,t){return function(n,i){const r=GE(e,i,t);return YE(null!==r),function(e,t,n,i){const r=UE(t);if(null===r)return null;if(!wE(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map(t=>{const r=e.bucket,s=e.fullPath;return SE("/b/"+a(r)+"/o/"+a(s),n,i)+CE({alt:"media",token:t})})[0]}(r,i,e.host,e._protocol)}}function XE(e){return function(t,n){let i;var r,s;return 401===t.getStatus()?i=t.getErrorText().includes("Firebase App Check token is invalid")?new oE(lE.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new oE(lE.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,i=new oE(lE.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(r=e.path,i=new oE(lE.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")):i=n,i.status=t.getStatus(),i.serverResponse=n.serverResponse,i}}function JE(e){const t=XE(e);return function(n,i){let r=t(n,i);var s;return 404===n.getStatus()&&(s=e.path,r=new oE(lE.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),r.serverResponse=i.serverResponse,r}}function ZE(e,t,n,i,r){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=function(e,t,n){const i=Object.assign({},n);return i.fullPath=e.path,i.size=t.size(),i.contentType||(i.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}(t,i,r),c=function(e,t){const n={},i=t.length;for(let r=0;r<i;r++){const i=t[r];i.writable&&(n[i.server]=e[i.local])}return JSON.stringify(n)}(l,n),u="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",d="\r\n--"+o+"--",f=zE.getBlob(u,i,d);if(null===f)throw new oE(lE.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.");const h={name:l.fullPath},m=SE(s,e.host,e._protocol),p=e.maxUploadRetryTime,g=new KE(m,"POST",function(e,t){return function(n,i){const r=GE(e,i,t);return YE(null!==r),r}}(e,n),p);return g.urlParams=h,g.headers=a,g.body=f.uploadData(),g.errorHandler=XE(t),g}class eI{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uE.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=uE.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=uE.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,i,r){if(this.sent_)throw vE("cannot .send() more than once");if(Ui(e)&&n&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw vE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw vE("cannot .getStatus() before sending");try{return this.xhr_.status}catch(cZ){return-1}}getResponse(){if(!this.sent_)throw vE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw vE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class tI extends eI{initXhr(){this.xhr_.responseType="text"}}function nI(){return new tI}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t){this._service=e,this._location=t instanceof yE?t:yE.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new iI(e,t)}get root(){const e=new yE(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return BE(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new yE(this._location.bucket,e);return new iI(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new oE(lE.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function rI(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const i=SE(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,s=new KE(i,"GET",QE(e,n),r);return s.errorHandler=JE(t),s}(e.storage,e._location,WE());return e.storage.makeRequestWithTokens(t,nI).then(e=>{if(null===e)throw new oE(lE.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})}function sI(e,t){if(e instanceof lI){const n=e;if(null==n._bucket)throw new oE(lE.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+aE+"' property when initializing the app?");const i=new iI(n,n._bucket);return null!=t?sI(i,t):i}return void 0!==t?function(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),i=new yE(e._location.bucket,n);return new iI(e.storage,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,t):e}function aI(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof lI)return new iI(e,t);throw mE("To use ref(service, url), the first argument must be a Storage instance.")}return sI(e,t)}function oI(e,t){const n=null==t?void 0:t[aE];return null==n?null:yE.makeFromBucketSpec(n,e)}class lI{constructor(e,t,n,i,r,s=!1){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=i,this._firebaseVersion=r,this._isUsingEmulator=s,this._bucket=null,this._host=sE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?yE.makeFromBucketSpec(i,this._host):oI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=yE.makeFromBucketSpec(this._url,e):this._bucket=oI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_E("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Os(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new iI(this,e)}_makeRequest(e,t,n,i,r=!0){if(this._deleted)return new bE(pE());{const s=function(e,t,n,i,r,s,a=!0,o=!1){const l=CE(e.urlParams),c=e.url+l,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(u,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,i),new NE(c,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,r,a,o)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,this._appId,n,i,t,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,t){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,i).getPromise()}}const cI="@firebase/storage",uI="0.14.0",dI="storage";function fI(e,t,n){return function(e,t,n){e._throwIfRoot("uploadBytes");const i=ZE(e.storage,e._location,WE(),new zE(t,!0),n);return e.storage.makeRequestWithTokens(i,nI).then(t=>({metadata:t,ref:e}))}(e=_r(e),t,n)}function hI(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),r=e.getProvider("app-check-internal");return new lI(n,i,r,t,Us)}Ds(new Sr(dI,hI,"PUBLIC").setMultipleInstances(!0)),qs(cI,uI,""),qs(cI,uI,"esm2020");const mI=Bs({apiKey:"AIzaSyDQjvWVnK8Mv00F4Z7atVkaARlOmA4dJgY",authDomain:"frontend-40733.firebaseapp.com",databaseURL:"https://frontend-40733-default-rtdb.firebaseio.com",projectId:"frontend-40733",storageBucket:"frontend-40733.firebasestorage.app",messagingSenderId:"191364639424",appId:"1:191364639424:web:e260794329d28a4f009b25",measurementId:"G-04P8GMX5HV"});"undefined"!=typeof window&&function(e=Vs()){const t=Ls(e=_r(e),ko);t.isInitialized()?t.getImmediate():function(e,t={}){const n=Ls(e,ko);if(n.isInitialized()){const e=n.getImmediate();if(fr(t,n.getOptions()))return e;throw So.create("already-initialized")}n.initialize({options:t})}(e)}(mI);const pI=function(e=Vs()){const t=Ls(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Ls(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(fr(n.getOptions(),t??{}))return e;Jo(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Ku,persistence:[du,Kc,Qc]}),i=Fi("authTokenSyncURL");if(i&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(i,location.origin);if(location.origin===e.origin){const t=(r=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ju)return;const i=null==t?void 0:t.token;Zu!==i&&(Zu=i,await fetch(r,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});!function(e,t,n){_r(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,i){_r(e).onIdTokenChanged(t,n,i)}(n,e=>t(e))}}var r;const s=Di("auth");return s&&pc(n,`http://${s}`),n}(mI),gI=function(e){const t="object"==typeof e?e:Vs(),n="string"==typeof e?e:Sm,i=Ls(t,"firestore").getImmediate({identifier:n});if(!i._initialized){const e=Li("firestore");e&&function(e,t,n,i={}){var r;e=sf(e,ax);const s=Ui(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},l=`${t}:${n}`;s&&(Bi(`https://${l}`),Wi("Firestore",!0)),a.host!==ix&&a.host!==l&&kd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:l,ssl:s,emulatorOptions:i};if(!fr(c,o)&&(e._setSettings(c),i.mockUserToken)){let t,n;if("string"==typeof i.mockUserToken)t=i.mockUserToken,n=pd.MOCK_USER;else{t=Vi(i.mockUserToken,null==(r=e._app)?void 0:r.options.projectId);const s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Td(jd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new pd(s)}e._authCredentials=new Ad(new Id(t,n))}}(i,...e)}return i}(mI),vI=function(e=Vs(),t){const n=Ls(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Li("database");e&&function(e,t,n,i={}){e=_r(e),e._checkNotDeleted("useEmulator");const r=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(r===e._repoInternal.repoInfo_.host&&fr(i,s.repoInfo_.emulatorOptions))return;eS("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&eS('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new yS(yS.OWNER);else if(i.mockUserToken){const t="string"==typeof i.mockUserToken?i.mockUserToken:Vi(i.mockUserToken,e.app.options.projectId);a=new yS(t)}Ui(t)&&(Bi(t),Wi("Database",!0));!function(e,t,n,i){const r=t.lastIndexOf(":"),s=Ui(t.substring(0,r));e.repoInfo_=new _S(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),i&&(e.authTokenProvider_=i)}(s,r,i,a)}(n,...e)}return n}(mI),yI=function(e=Vs(),t){const n=Ls(e=_r(e),dI).getImmediate({identifier:t}),i=Li("storage");return i&&function(e,t,n,i={}){!function(e,t,n,i={}){e.host=`${t}:${n}`;const r=Ui(t);r&&(Bi(`https://${e.host}/b`),Wi("Storage",!0)),e._isUsingEmulator=!0,e._protocol=r?"https":"http";const{mockUserToken:s}=i;s&&(e._overrideAuthToken="string"==typeof s?s:Vi(s,e.app.options.projectId))}(e,t,n,i)}(n,...i),n}(mI);let bI=null;"undefined"!=typeof window&&bo().then(e=>{e&&(bI=function(e=Vs()){return bo().then(e=>{if(!e)throw no.create("unsupported-browser")},e=>{throw no.create("indexed-db-unsupported")}),Ls(_r(e),"messaging").getImmediate()}(mI))}).catch(e=>{}),"undefined"!=typeof window&&function(e,t){kd("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings();return function(e,t,n){if((e=sf(e,gx))._firestoreClient||e._terminated)throw new Td(jd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(e._componentsProvider||e._getSettings().localCache)throw new Td(jd.FAILED_PRECONDITION,"SDK cache is already specified.");e._componentsProvider={_online:t,_offline:n},yx(e)}(e,Gk.provider,{build:e=>new Hk(e,n.cacheSizeBytes,null==t?void 0:t.forceOwnership)}),Promise.resolve()}(gI).catch(e=>{"failed-precondition"===e.code||e.code});const wI="fcm_token",kI="notification_permission";const xI=new class{constructor(){this.token=null,this.permission=yi.local.get(kI,"default"),this.messageHandlers=[],this.messaging=bI}isSupported(){return"Notification"in window&&null!==this.messaging}getPermission(){return this.isSupported()?Notification.permission:"denied"}async requestPermission(){if(!this.isSupported())return!1;try{const e=await Notification.requestPermission();return yi.local.set(kI,e),this.permission=e,"granted"===e}catch(e){return!1}}async getToken(e=!1){if(!this.isSupported())return null;if(!e&&this.token)return this.token;const t=yi.local.get(wI);if(!e&&t)return this.token=t,t;try{const e=await this.registerServiceWorker();if(!e)return null;if("granted"!==Notification.permission){if(!(await this.requestPermission()))return null}const t=await async function(e,t){return ho(e=_r(e),t)}(this.messaging,{vapidKey:"BHxKxfBbzbDEvVtcH1RSXbHBhQlv5EMzmc4alxkBQdD2E_7pPNgNYIMy3r3MeVdJoQBTQucN8t7nxEkQe0Gtzuk",serviceWorkerRegistration:e});return t?(this.token=t,yi.local.set(wI,t),t):null}catch(n){return null}}async registerServiceWorker(){if(!("serviceWorker"in navigator))return null;try{const e=await navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/"});return await navigator.serviceWorker.ready,e}catch(e){return null}}onForegroundMessage(e){if(!this.isSupported())return()=>{};this.messageHandlers.push(e);const t=wo(this.messaging,e=>{this.messageHandlers.forEach(t=>{try{t(e)}catch(n){}}),this.showNotification(e)});return()=>{const n=this.messageHandlers.indexOf(e);n>-1&&this.messageHandlers.splice(n,1),t()}}showNotification(e){var t,n,i,r,s,a;if(!this.isSupported()||"granted"!==Notification.permission)return;const o=(null==(t=e.notification)?void 0:t.title)||(null==(n=e.data)?void 0:n.title)||"New Message",l={body:(null==(i=e.notification)?void 0:i.body)||(null==(r=e.data)?void 0:r.body)||"",icon:(null==(s=e.notification)?void 0:s.icon)||"/icon-192x192.png",badge:"/badge-72x72.png",tag:(null==(a=e.data)?void 0:a.chatId)||"general",data:e.data,requireInteraction:!1,silent:!1},c=new Notification(o,l);return c.onclick=t=>{var n;t.preventDefault(),c.close(),(null==(n=e.data)?void 0:n.chatId)&&(window.focus(),window.location.href=`/?chat=${e.data.chatId}`)},c}async deleteToken(){try{this.token&&(this.token=null,yi.local.remove(wI))}catch(e){}}async sendTokenToServer(e){}async removeTokenFromServer(e){}},_I={},SI=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const n=document.querySelector("meta[property=csp-nonce]"),r=(null==n?void 0:n.nonce)||(null==n?void 0:n.getAttribute("nonce"));i=e(t.map(e=>{if((e=function(e){return"/whatsapp-mobile-clone/"+e}(e))in _I)return;_I[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script"),i.crossOrigin="",i.href=e,r&&i.setAttribute("nonce",r),document.head.appendChild(i),t?new Promise((t,n)=>{i.addEventListener("load",t),i.addEventListener("error",()=>n(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function r(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return i.then(t=>{for(const e of t||[])"rejected"===e.status&&r(e.reason);return e().catch(r)})},CI="messageQueue";const NI=new class{constructor(){this.db=null,this.isOnline=navigator.onLine,this.syncInProgress=!1,this.listeners=new Set,this.initDB(),this.setupConnectionListeners()}async initDB(){return new Promise((e,t)=>{const n=indexedDB.open("WhatsAppOfflineDB",1);n.onerror=()=>{t(n.error)},n.onsuccess=()=>{this.db=n.result,e(this.db)},n.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(CI)){const e=t.createObjectStore(CI,{keyPath:"id",autoIncrement:!0});e.createIndex("chatId","chatId",{unique:!1}),e.createIndex("timestamp","timestamp",{unique:!1}),e.createIndex("status","status",{unique:!1})}}})}setupConnectionListeners(){window.addEventListener("online",()=>{this.isOnline=!0,this.notifyListeners({type:"online"}),this.syncQueue()}),window.addEventListener("offline",()=>{this.isOnline=!1,this.notifyListeners({type:"offline"})})}subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)}notifyListeners(e){this.listeners.forEach(t=>{try{t(e)}catch(n){}})}async queueMessage(e,t){return this.db||await this.initDB(),new Promise((n,i)=>{const r=this.db.transaction([CI],"readwrite").objectStore(CI),s={chatId:e,messageData:{...t,queuedAt:Date.now(),status:"queued"},timestamp:Date.now(),status:"pending",retryCount:0,maxRetries:3},a=r.add(s);a.onsuccess=()=>{const t=a.result;this.notifyListeners({type:"messageQueued",chatId:e,messageId:t}),n({success:!0,queueId:t})},a.onerror=()=>{i(a.error)}})}async getQueuedMessages(e=null){return this.db||await this.initDB(),new Promise((t,n)=>{const i=this.db.transaction([CI],"readonly").objectStore(CI);let r;if(e){const t=i.index("chatId");r=t.getAll(e)}else r=i.getAll();r.onsuccess=()=>{const e=r.result.filter(e=>"pending"===e.status);t(e)},r.onerror=()=>{n(r.error)}})}async getQueueCount(e=null){return(await this.getQueuedMessages(e)).length}async removeFromQueue(e){return this.db||await this.initDB(),new Promise((t,n)=>{const i=this.db.transaction([CI],"readwrite").objectStore(CI).delete(e);i.onsuccess=()=>{this.notifyListeners({type:"messageRemoved",queueId:e}),t({success:!0})},i.onerror=()=>{n(i.error)}})}async updateQueuedMessage(e,t){return this.db||await this.initDB(),new Promise((n,i)=>{const r=this.db.transaction([CI],"readwrite").objectStore(CI),s=r.get(e);s.onsuccess=()=>{const e=s.result;if(!e)return void i(new Error("Message not found"));const a={...e,...t},o=r.put(a);o.onsuccess=()=>{n({success:!0})},o.onerror=()=>{i(o.error)}},s.onerror=()=>{i(s.error)}})}async syncQueue(e=null){if(!this.isOnline)return{success:!1,reason:"offline"};if(this.syncInProgress)return{success:!1,reason:"sync_in_progress"};this.syncInProgress=!0,this.notifyListeners({type:"syncStarted"});try{const n=await this.getQueuedMessages();if(0===n.length)return this.syncInProgress=!1,{success:!0,synced:0};let i=0,r=0;for(const s of n)try{if(!e){const{messageFirebaseService:t}=await SI(async()=>{const{messageFirebaseService:e}=await Promise.resolve().then(()=>OI);return{messageFirebaseService:e}},void 0);e=t}const t=await e.sendMessage(s.chatId,s.messageData);if(!t.success)throw new Error("Send failed");await this.removeFromQueue(s.id),i++,this.notifyListeners({type:"messageSynced",chatId:s.chatId,queueId:s.id,messageId:t.messageId})}catch(t){const e=(s.retryCount||0)+1;e>=s.maxRetries?(await this.updateQueuedMessage(s.id,{status:"failed",retryCount:e,lastError:t.message}),r++,this.notifyListeners({type:"messageFailed",chatId:s.chatId,queueId:s.id})):(await this.updateQueuedMessage(s.id,{retryCount:e,lastError:t.message}),r++)}return this.notifyListeners({type:"syncCompleted",successCount:i,failedCount:r}),{success:!0,synced:i,failed:r}}catch(t){return this.notifyListeners({type:"syncError",error:t}),{success:!1,error:t}}finally{this.syncInProgress=!1}}async clearChatQueue(e){this.db||await this.initDB();const t=await this.getQueuedMessages(e);for(const n of t)await this.removeFromQueue(n.id);return{success:!0,cleared:t.length}}async clearAllQueues(){return this.db||await this.initDB(),new Promise((e,t)=>{const n=this.db.transaction([CI],"readwrite").objectStore(CI).clear();n.onsuccess=()=>{this.notifyListeners({type:"allQueuesCleared"}),e({success:!0})},n.onerror=()=>{t(n.error)}})}getOnlineStatus(){return this.isOnline}};class jI extends Error{constructor(e,t,n){super(t),this.name="FirebaseError",this.code=e,this.originalError=n}}const TI=e=>{const t={"permission-denied":"You do not have permission to perform this action","not-found":"The requested data was not found","already-exists":"This item already exists","resource-exhausted":"Too many requests. Please try again later",unauthenticated:"Please sign in to continue",unavailable:"Service temporarily unavailable. Please check your connection",cancelled:"Operation was cancelled","network-request-failed":"Network error. Please check your internet connection"}[e.code]||e.message||"An unexpected error occurred";return new jI(e.code,t,e)};class EI{constructor(){this.db=gI,this.realtimeDb=vI,this.listeners=new Map}getServerTimestamp(){return P_()}getCurrentTimestamp(){return(new Date).toISOString()}getDocRef(e,t){return dx(gI,e,t)}getCollectionRef(e){return ux(gI,e)}getRealtimeRef(e){return $T(vI,e)}subscribeToDocument(e,t,n,i){const r=N_(this.getDocRef(e,t),e=>{e.exists()?n({id:e.id,...e.data()}):n(null)},e=>{i&&i(TI(e))}),s=`${e}/${t}`;return this.listeners.set(s,r),r}subscribeToCollection(e,t,n,i){const r=this.getCollectionRef(e),s=N_(t?t_(r,...t):r,e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));n(t)},e=>{i&&i(TI(e))}),a=`collection:${e}`;return this.listeners.set(a,s),s}subscribeToRealtimeValue(e,t,n){const i=this.getRealtimeRef(e),r=e=>{t(e.val())};XT(i,r,e=>{n&&n(TI(e))});const s=()=>JT(i,"value",r);return this.listeners.set(`realtime:${e}`,s),s}unsubscribe(e){const t=this.listeners.get(e);t&&(t(),this.listeners.delete(e))}unsubscribeAll(){this.listeners.forEach(e=>e()),this.listeners.clear()}async batchWrite(e){const t=D_(gI);e.forEach(({type:e,ref:n,data:i})=>{switch(e){case"set":t.set(n,i);break;case"update":t.update(n,i);break;case"delete":t.delete(n)}});try{return await t.commit(),{success:!0}}catch(n){throw TI(n)}}monitorConnectionState(e){return this.getRealtimeRef(".info/connected"),this.subscribeToRealtimeValue(".info/connected",e)}}const II=new class{constructor(){var e,t,n,i;this.auth=pI,this.currentUser=null,this.authStateListeners=[],e=this.auth,t=e=>{this.currentUser=e,this.authStateListeners.forEach(t=>t(e))},_r(e).onAuthStateChanged(t,n,i)}async register(e,t,n){try{const i=await async function(e,t,n){if(Os(e.app))return Promise.reject(tl(e));const i=sc(e),r=mc(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Mc),s=await r.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Bc(e),t}),a=await Rc._fromIdTokenResponse(i,"signIn",s);return await i._updateCurrentUser(a.user),a}(this.auth,e,t),r=i.user;return n.name&&await qc(r,{displayName:n.name,photoURL:n.avatar||null}),await this.createUserProfile(r.uid,{email:r.email,name:n.name||"User",avatar:n.avatar||`https://picsum.photos/seed/${r.uid}/200`,about:n.about||"Hey there! I am using WhatsApp",phone:n.phone||"",createdAt:P_(),lastSeen:P_(),isOnline:!0,isPrivate:!1,blockedUsers:[]}),{success:!0,user:{uid:r.uid,email:r.email,displayName:r.displayName,photoURL:r.photoURL}}}catch(i){throw TI(i)}}async login(e,t){try{const n=(await Vc(this.auth,e,t)).user;return await this.updateOnlineStatus(n.uid,!0),{success:!0,user:{uid:n.uid,email:n.email,displayName:n.displayName,photoURL:n.photoURL}}}catch(n){const e={"auth/user-not-found":"No account found with this email","auth/wrong-password":"Incorrect password","auth/invalid-email":"Invalid email address","auth/user-disabled":"This account has been disabled","auth/too-many-requests":"Too many failed attempts. Please try again later"}[n.code]||n.message;throw new Error(e)}}async logout(){var e,t;try{const n=null==(e=this.currentUser)?void 0:e.uid;return n&&await this.updateOnlineStatus(n,!1),await(t=this.auth,_r(t).signOut()),{success:!0}}catch(n){throw TI(n)}}async resetPassword(e){try{return await async function(e,t){const n=sc(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};await mc(n,i,"getOobCode",kc)}(this.auth,e),{success:!0,message:"Password reset email sent. Please check your inbox."}}catch(t){const e={"auth/user-not-found":"No account found with this email","auth/invalid-email":"Invalid email address"}[t.code]||t.message;throw new Error(e)}}async changePassword(e,t){try{const n=this.auth.currentUser;if(!n||!n.email)throw new Error("No user logged in");const i=Nc.credential(n.email,e);return await Uc(n,i),await function(e,t){return $c(_r(e),null,t)}(n,t),{success:!0,message:"Password updated successfully"}}catch(n){const e={"auth/wrong-password":"Current password is incorrect","auth/weak-password":"New password is too weak"}[n.code]||n.message;throw new Error(e)}}async changeEmail(e,t){try{const n=this.auth.currentUser;if(!n||!n.email)throw new Error("No user logged in");const i=Nc.credential(n.email,t);return await Uc(n,i),await function(e,t){const n=_r(e);return Os(n.auth.app)?Promise.reject(tl(n.auth)):$c(n,t,null)}(n,e),await __(dx(gI,"users",n.uid),{email:e}),{success:!0,message:"Email updated successfully"}}catch(n){throw TI(n)}}async createUserProfile(e,t){try{const n=dx(gI,"users",e);return await x_(n,{id:e,...t,settings:{appSettings:{theme:"light",language:"English",appColor:"#008069",logoEffect:"none",notifications:{enabled:!0,sound:!0,vibration:!0,preview:!0}},chatSettings:{fontSize:"medium",outgoingBubbleColor:"#D9FDD3",incomingBubbleColor:"#FFFFFF",chatListBackgroundImage:null,contactInfoBackgroundImage:null,translationLanguage:"Spanish",enterToSend:!1,mediaAutoDownload:{photos:!0,videos:!1,documents:!1}},securitySettings:{isAppLockEnabled:!1,dailyLockPassword:"",chatLockPassword:"",archiveLockPassword:"",fingerprintEnabled:!1,autoLockTime:3e5},privacySettings:{lastSeen:"everyone",profilePhoto:"everyone",about:"everyone",statusPrivacy:"contacts",selectedContacts:[],readReceipts:!0,blockedUsers:[]}}}),{success:!0}}catch(n){throw TI(n)}}async getUserProfile(e){try{const t=dx(gI,"users",e),n=await b_(t);if(n.exists())return{success:!0,user:{id:n.id,...n.data()}};throw new Error("User profile not found")}catch(t){throw TI(t)}}async updateOnlineStatus(e,t){try{const n=dx(gI,"users",e);await __(n,{isOnline:t,lastSeen:P_()})}catch(n){}}onAuthStateChange(e){return this.authStateListeners.push(e),()=>{const t=this.authStateListeners.indexOf(e);t>-1&&this.authStateListeners.splice(t,1)}}getCurrentUser(){return this.auth.currentUser}isAuthenticated(){return!!this.auth.currentUser}getCurrentUserId(){var e;return(null==(e=this.auth.currentUser)?void 0:e.uid)||null}};const PI=new class extends EI{constructor(){super(),this.collectionName="users"}async getAllSettings(e){try{const t=dx(gI,this.collectionName,e),n=await b_(t);if(n.exists()){return{success:!0,settings:n.data().settings||{}}}return{success:!1,error:"User not found"}}catch(t){throw TI(t)}}async updateAppSettings(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{"settings.appSettings":{...t,updatedAt:P_()}}),{success:!0}}catch(n){throw TI(n)}}async updateChatSettings(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{"settings.chatSettings":{...t,updatedAt:P_()}}),{success:!0}}catch(n){throw TI(n)}}async updateSecuritySettings(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{"settings.securitySettings":{...t,updatedAt:P_()}}),{success:!0}}catch(n){throw TI(n)}}async updatePrivacySettings(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{"settings.privacySettings":{...t,updatedAt:P_()}}),{success:!0}}catch(n){throw TI(n)}}subscribeToSettings(e,t,n){return this.subscribeToDocument(this.collectionName,e,e=>{e&&e.settings?t(e.settings):t(null)},n)}},AI={FOLLOW_REQUEST:"follow_request",FOLLOW_ACCEPTED:"follow_accepted",NEW_FOLLOWER:"new_follower",FOLLOW_BACK:"follow_back",ADDED_TO_GROUP:"added_to_group",INCOMING_CALL:"incoming_call",MISSED_CALL:"missed_call",CALL_DECLINED:"call_declined"};const MI=new class extends EI{constructor(){super(),this.collectionName="notifications"}async createNotification(e,t,n,i={}){try{if(e===t)return{success:!0,message:"Self-notification skipped"};const r=dx(ux(gI,this.collectionName)),s={userId:e,actorId:t,type:n,read:!1,createdAt:P_(),metadata:i};return await x_(r,s),{success:!0,notificationId:r.id,notification:{id:r.id,...s}}}catch(r){throw TI(r)}}async getUserNotifications(e,t=50){try{const n=t_(ux(gI,this.collectionName),i_("userId","==",e),a_("createdAt","desc"),l_(t)),i=(await k_(n)).docs.map(e=>({id:e.id,...e.data()}));return{success:!0,notifications:i,unreadCount:i.filter(e=>!e.read).length}}catch(n){throw TI(n)}}async markAsRead(e){try{const t=dx(gI,this.collectionName,e);return await __(t,{read:!0}),{success:!0}}catch(t){throw TI(t)}}async markAllAsRead(e){try{const t=t_(ux(gI,this.collectionName),i_("userId","==",e),i_("read","==",!1)),n=await k_(t);if(n.empty)return{success:!0,message:"No unread notifications"};const i=D_(gI);return n.docs.forEach(e=>{i.update(e.ref,{read:!0})}),await i.commit(),{success:!0,markedCount:n.docs.length}}catch(t){throw TI(t)}}async deleteNotification(e){try{const t=dx(gI,this.collectionName,e);return await S_(t),{success:!0}}catch(t){throw TI(t)}}async deleteOldNotifications(e,t=30){try{const n=new Date;n.setDate(n.getDate()-t);const i=t_(ux(gI,this.collectionName),i_("userId","==",e),i_("createdAt","<",n.toISOString())),r=await k_(i);if(r.empty)return{success:!0,message:"No old notifications to delete"};const s=D_(gI);return r.docs.forEach(e=>{s.delete(e.ref)}),await s.commit(),{success:!0,deletedCount:r.docs.length}}catch(n){throw TI(n)}}async getUnreadCount(e){try{const t=t_(ux(gI,this.collectionName),i_("userId","==",e),i_("read","==",!1));return{success:!0,count:(await k_(t)).size}}catch(t){throw TI(t)}}};const RI=new class extends EI{constructor(){super(),this.collectionName="chats"}async createIndividualChat(e,t){try{const n=await this.findChatByParticipants([e,t]);if(n)return{success:!0,chatId:n.id,chat:n};const i=`chat_${Date.now()}_${e}_${t}`,r=dx(gI,this.collectionName,i),s={id:i,type:"individual",participants:[e,t],createdBy:e,createdAt:P_(),updatedAt:P_(),lastMessage:null};return await x_(r,s),await this.createUserChatSettings(i,e),await this.createUserChatSettings(i,t),{success:!0,chatId:i,chat:s}}catch(n){throw TI(n)}}async createGroupChat(e,t,n,i={}){try{const s=`group_${Date.now()}_${e}`,a=dx(gI,this.collectionName,s),o=[e,...n],l={[e]:"owner"};n.forEach(e=>l[e]="member");const c={id:s,type:"group",participants:o,groupName:t,groupAvatar:i.groupAvatar||null,groupDescription:i.groupDescription||"",groupRoles:l,groupSettings:{editInfo:"all",sendMessages:"all",addMembers:"all",approveMembers:!1},settings:{showHistoryToNewMembers:!0},createdBy:e,createdAt:P_(),updatedAt:P_(),lastMessage:null};await x_(a,c);for(const e of o)await this.createUserChatSettings(s,e);const u=(await SI(async()=>{const{default:e}=await Promise.resolve().then(()=>aP);return{default:e}},void 0)).default,d=n.map(async n=>{try{await u.sendNotification(n,e,AI.ADDED_TO_GROUP,{groupId:s,groupName:t,groupAvatar:i.groupAvatar||null})}catch(r){}});await Promise.all(d);try{const{default:t}=await SI(async()=>{const{default:e}=await Promise.resolve().then(()=>OI);return{default:e}},void 0);let i="Someone";try{const{default:t}=await SI(async()=>{const{default:e}=await Promise.resolve().then(()=>UI);return{default:e}},void 0),n=await t.getUser(e);n.success&&n.user&&(i=n.user.name||i)}catch(r){}const a=1===n.length?`${i} added you`:`${i} created this group`;await t.sendMessage(s,{senderId:"system",text:a,type:"system"})}catch(r){}return{success:!0,chatId:s,chat:c}}catch(r){throw TI(r)}}async createUserChatSettings(e,t){try{const n=dx(gI,this.collectionName,e,"userSettings",t);return await x_(n,{isPinned:!1,isMuted:!1,isArchived:!1,isLocked:!1,themeColor:null,incomingThemeColor:null,wallpaper:null,hiddenDates:[],unreadCount:0,createdAt:P_()}),{success:!0}}catch(n){return{success:!1}}}async getUserChats(e,t=50){try{const n=t_(ux(gI,this.collectionName),i_("participants","array-contains",e),l_(t)),i=await k_(n),r=[];for(const t of i.docs){const n={id:t.id,...t.data()},i=dx(gI,this.collectionName,t.id,"userSettings",e),s=await b_(i);s.exists()&&(n.userSettings=s.data()),r.push(n)}return r.sort((e,t)=>{var n,i,r,s;const a=(null==(i=null==(n=e.updatedAt)?void 0:n.toMillis)?void 0:i.call(n))||0;return((null==(s=null==(r=t.updatedAt)?void 0:r.toMillis)?void 0:s.call(r))||0)-a}),{success:!0,chats:r}}catch(n){throw TI(n)}}subscribeToUserChats(e,t){try{const{onSnapshot:n}=require("firebase/firestore"),i=t_(ux(gI,this.collectionName),i_("participants","array-contains",e));return n(i,async n=>{const i=[];for(const t of n.docs){const n={id:t.id,...t.data()},r=dx(gI,this.collectionName,t.id,"userSettings",e),s=await b_(r);s.exists()&&(n.userSettings=s.data()),i.push(n)}i.sort((e,t)=>{var n,i,r,s;const a=(null==(i=null==(n=e.updatedAt)?void 0:n.toMillis)?void 0:i.call(n))||0;return((null==(s=null==(r=t.updatedAt)?void 0:r.toMillis)?void 0:s.call(r))||0)-a}),t(i)},e=>{})}catch(n){throw TI(n)}}async getChat(e,t=null){try{const n=dx(gI,this.collectionName,e),i=await b_(n);if(!i.exists())return{success:!1,error:"Chat not found"};const r={id:i.id,...i.data()};if(t){const n=dx(gI,this.collectionName,e,"userSettings",t),i=await b_(n);i.exists()&&(r.userSettings=i.data())}return{success:!0,chat:r}}catch(n){throw TI(n)}}async findChatByParticipants(e){try{if(2!==e.length)return null;const t=t_(ux(gI,this.collectionName),i_("type","==","individual"),i_("participants","array-contains",e[0])),n=await k_(t);for(const i of n.docs){const t=i.data();if(t.participants.includes(e[1]))return{id:i.id,...t}}return null}catch(t){return null}}async createDirectChat(e,t){try{const n=await this.findChatByParticipants([e,t]);if(n)return{success:!0,chatId:n.id,chat:n,isNew:!1};return{...await this.createIndividualChat(e,t),isNew:!0}}catch(n){throw TI(n)}}async updateChat(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{...t,updatedAt:P_()}),{success:!0}}catch(n){throw TI(n)}}async updateGroupInfo(e,t){try{const n=["groupName","groupAvatar","groupDescription"],i=Object.keys(t).filter(e=>n.includes(e)).reduce((e,n)=>(e[n]=t[n],e),{});if(0===Object.keys(i).length)return{success:!1,error:"No valid fields to update"};const r=dx(gI,this.collectionName,e);return await __(r,{...i,updatedAt:P_()}),{success:!0}}catch(n){throw TI(n)}}async updateLastMessage(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{lastMessage:t,updatedAt:P_()}),{success:!0}}catch(n){throw TI(n)}}async updateUserChatSettings(e,t,n){try{const i=dx(gI,this.collectionName,e,"userSettings",t);return await x_(i,n,{merge:!0}),{success:!0}}catch(i){throw TI(i)}}async togglePinChat(e,t){try{const n=dx(gI,this.collectionName,e,"userSettings",t),i=await b_(n);if(i.exists()){const e=i.data().isPinned||!1;await __(n,{isPinned:!e})}return{success:!0}}catch(n){throw TI(n)}}async toggleArchiveChat(e,t){try{const n=dx(gI,this.collectionName,e,"userSettings",t),i=await b_(n);if(i.exists()){const e=i.data().isArchived||!1;await __(n,{isArchived:!e})}return{success:!0}}catch(n){throw TI(n)}}async addParticipants(e,t){try{const n=dx(gI,this.collectionName,e),i=await b_(n);if(!i.exists()||"group"!==i.data().type)throw new Error("Group chat not found");await __(n,{participants:A_(...t),updatedAt:P_()});for(const r of t)await this.createUserChatSettings(e,r),await __(n,{[`groupRoles.${r}`]:"member"});return{success:!0}}catch(n){throw TI(n)}}async removeParticipant(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{participants:M_(t),updatedAt:P_()}),{success:!0}}catch(n){throw TI(n)}}async updateGroupRole(e,t,n){try{const i=dx(gI,this.collectionName,e);return await __(i,{[`groupRoles.${t}`]:n,updatedAt:P_()}),{success:!0}}catch(i){throw TI(i)}}async deleteChat(e){try{const t=dx(gI,this.collectionName,e);return await S_(t),{success:!0}}catch(t){throw TI(t)}}subscribeToUserChats(e,t,n){const i=[i_("participants","array-contains",e),a_("updatedAt","desc")];return this.subscribeToCollection(this.collectionName,i,t,n)}subscribeToChat(e,t,n){return this.subscribeToDocument(this.collectionName,e,t,n)}},DI=Object.freeze(Object.defineProperty({__proto__:null,chatFirebaseService:RI,default:RI},Symbol.toStringTag,{value:"Module"}));const LI=new class extends EI{constructor(){super(),this.messagesCollection="messages",this.chatsCollection="chats"}async sendMessage(e,t){try{const n=Object.fromEntries(Object.entries(t).filter(([e,t])=>void 0!==t)),i=n.id||`m_${Date.now()}`,r=dx(gI,this.messagesCollection,i),s={id:i,chatId:e,senderId:n.senderId,text:n.text||"",timestamp:n.timestamp||(new Date).toISOString(),status:"sent",type:n.type||"text",...n,createdAt:P_()};await x_(r,s);const a=dx(gI,this.chatsCollection,e);return(await b_(a)).exists()&&await __(a,{lastMessage:s.text,lastMessageId:i,updatedAt:P_()}),{success:!0,messageId:i,message:s}}catch(n){throw TI(n)}}async getMessages(e,t=50){try{const n=t_(ux(gI,this.messagesCollection),i_("chatId","==",e),a_("timestamp","desc"),l_(t)),i=(await k_(n)).docs.map(e=>({...e.data(),id:e.id}));return i.reverse(),{success:!0,messages:i}}catch(n){throw TI(n)}}async updateMessage(e,t){try{const n=dx(gI,this.messagesCollection,e);return await __(n,t),{success:!0}}catch(n){throw TI(n)}}async deleteMessage(e,t=!1){try{const n=dx(gI,this.messagesCollection,e);return t?await __(n,{isDeleted:!0,text:"This message was deleted",type:"text",mediaUrl:null,pollData:null,reactions:null}):await S_(n),{success:!0}}catch(n){throw TI(n)}}async deleteMessages(e,t=!1){try{const n=D_(gI);for(const i of e){const e=dx(gI,this.messagesCollection,i);t?n.update(e,{isDeleted:!0,text:"This message was deleted",type:"text",mediaUrl:null}):n.delete(e)}return await n.commit(),{success:!0}}catch(n){throw TI(n)}}async updateMessageStatus(e,t){try{const n=dx(gI,this.messagesCollection,e);return await __(n,{status:t}),{success:!0}}catch(n){throw TI(n)}}async addReaction(e,t,n){try{const i=dx(gI,this.messagesCollection,e),r=await b_(i);if(r.exists()){const e=r.data().reactions||{};e[t]=n,await __(i,{reactions:e})}return{success:!0}}catch(i){throw TI(i)}}async removeReaction(e,t){try{const n=dx(gI,this.messagesCollection,e),i=await b_(n);if(i.exists()){const e=i.data().reactions||{};delete e[t],await __(n,{reactions:e})}return{success:!0}}catch(n){throw TI(n)}}async editMessage(e,t){try{const n=dx(gI,this.messagesCollection,e);return await __(n,{text:t,isEdited:!0,editedAt:Date.now()}),{success:!0}}catch(n){throw TI(n)}}subscribeToMessages(e,t,n){const i=N_(t_(ux(gI,this.messagesCollection),i_("chatId","==",e),a_("timestamp","asc")),e=>{const n=e.docs.map(e=>({...e.data(),id:e.id}));t(n)},e=>{n&&n(TI(e))});return this.listeners.set(`messages:${e}`,i),i}},OI=Object.freeze(Object.defineProperty({__proto__:null,default:LI,messageFirebaseService:LI},Symbol.toStringTag,{value:"Module"}));const FI=new class extends EI{constructor(){super(),this.collectionName="follows"}generateRelationshipId(e,t){return`${e}_${t}`}async followUser(e,t,n=!1){try{if(e===t)throw new Error("Cannot follow yourself");const i=this.generateRelationshipId(e,t),r=dx(gI,this.collectionName,i),s=await b_(r);if(s.exists()){const e=s.data().status;if("accepted"===e)return{success:!0,message:"Already following this user"};if("pending"===e)return{success:!0,isPending:!0,message:"Follow request already pending"}}const a=D_(gI),o=n?"pending":"accepted";if(a.set(r,{followerId:e,followingId:t,status:o,createdAt:P_(),notificationSent:!1}),"accepted"===o){const n=dx(gI,"users",e);a.update(n,{followingCount:R_(1),following:A_(t)});const i=dx(gI,"users",t);a.update(i,{followersCount:R_(1),followers:A_(e)})}if(await a.commit(),"pending"===o)await MI.createNotification(t,e,AI.FOLLOW_REQUEST,{relationshipId:i}).catch(e=>{});else{await MI.createNotification(t,e,AI.NEW_FOLLOWER,{relationshipId:i}).catch(e=>{});const n=this.generateRelationshipId(t,e),r=await b_(dx(gI,this.collectionName,n));r.exists()&&"accepted"===r.data().status&&await MI.createNotification(t,e,AI.FOLLOW_BACK,{relationshipId:i}).catch(e=>{})}return{success:!0,relationshipId:i,isPending:"pending"===o,status:o}}catch(i){throw TI(i)}}async unfollowUser(e,t){try{const n=this.generateRelationshipId(e,t),i=dx(gI,this.collectionName,n);if(!(await b_(i)).exists())return{success:!0,message:"Not following this user"};const r=D_(gI);r.delete(i);const s=dx(gI,"users",e);r.update(s,{followingCount:R_(-1),following:M_(t)});const a=dx(gI,"users",t);return r.update(a,{followersCount:R_(-1),followers:M_(e)}),await r.commit(),{success:!0}}catch(n){throw TI(n)}}async checkFollowStatus(e,t){try{const n=this.generateRelationshipId(e,t),i=dx(gI,this.collectionName,n),r=await b_(i);if(r.exists()){const e=r.data();return{success:!0,isFollowing:"accepted"===e.status,isPending:"pending"===e.status,status:e.status}}return{success:!0,isFollowing:!1,isPending:!1,status:null}}catch(n){throw TI(n)}}async getFollowers(e,t=100){try{const n=t_(ux(gI,this.collectionName),i_("followingId","==",e),i_("status","==","accepted"),a_("createdAt","desc"),l_(t)),i=(await k_(n)).docs.map(e=>({id:e.id,...e.data(),followerId:e.data().followerId}));return{success:!0,followers:i,count:i.length}}catch(n){throw TI(n)}}async getFollowing(e,t=100){try{const n=t_(ux(gI,this.collectionName),i_("followerId","==",e),i_("status","==","accepted"),a_("createdAt","desc"),l_(t)),i=(await k_(n)).docs.map(e=>({id:e.id,...e.data(),followingId:e.data().followingId}));return{success:!0,following:i,count:i.length}}catch(n){throw TI(n)}}async getMutualConnections(e,t){try{const n=await this.checkFollowStatus(e,t),i=await this.checkFollowStatus(t,e);return{success:!0,isMutual:n.isFollowing&&i.isFollowing}}catch(n){throw TI(n)}}async getFollowStats(e){try{const t=dx(gI,"users",e),n=await b_(t);if(!n.exists())return{success:!1,error:"User not found"};const i=n.data();return{success:!0,stats:{followersCount:i.followersCount||0,followingCount:i.followingCount||0}}}catch(t){throw TI(t)}}subscribeToFollowUpdates(e,t,n){const i=t_(ux(gI,this.collectionName),i_("followingId","==",e)),r=t_(ux(gI,this.collectionName),i_("followerId","==",e)),s=N_(i,e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t({type:"followers",data:n})},e=>{n&&n(TI(e))}),a=N_(r,e=>{const n=e.docs.map(e=>({id:e.id,...e.data()}));t({type:"following",data:n})},e=>{n&&n(TI(e))});return()=>{s(),a()}}async markNotificationSent(e,t){try{const n=this.generateRelationshipId(e,t),i=dx(gI,this.collectionName,n);return await __(i,{notificationSent:!0}),{success:!0}}catch(n){return{success:!1}}}async acceptFollowRequest(e,t){try{const n=this.generateRelationshipId(e,t),i=dx(gI,this.collectionName,n),r=await b_(i);if(!r.exists())return{success:!1,error:"Follow request not found"};if("pending"!==r.data().status)return{success:!1,error:"No pending request to accept"};const s=D_(gI);s.update(i,{status:"accepted",acceptedAt:P_()});const a=dx(gI,"users",e);s.update(a,{followingCount:R_(1),following:A_(t)});const o=dx(gI,"users",t);return s.update(o,{followersCount:R_(1),followers:A_(e)}),await s.commit(),await MI.createNotification(e,t,AI.FOLLOW_ACCEPTED,{relationshipId:n}).catch(e=>{}),{success:!0}}catch(n){throw TI(n)}}async rejectFollowRequest(e,t){try{const n=this.generateRelationshipId(e,t),i=dx(gI,this.collectionName,n),r=await b_(i);return r.exists()?"pending"!==r.data().status?{success:!1,error:"No pending request to reject"}:(await S_(i),{success:!0}):{success:!1,error:"Follow request not found"}}catch(n){throw TI(n)}}async getPendingRequests(e,t=50){try{const n=t_(ux(gI,this.collectionName),i_("followingId","==",e),i_("status","==","pending"),a_("createdAt","desc"),l_(t)),i=(await k_(n)).docs.map(e=>({id:e.id,...e.data(),followerId:e.data().followerId}));return{success:!0,requests:i,count:i.length}}catch(n){throw TI(n)}}async getOutgoingRequests(e,t=50){try{const n=t_(ux(gI,this.collectionName),i_("followerId","==",e),i_("status","==","pending"),a_("createdAt","desc"),l_(t)),i=(await k_(n)).docs.map(e=>({id:e.id,...e.data(),followingId:e.data().followingId}));return{success:!0,requests:i,count:i.length}}catch(n){throw TI(n)}}async cancelFollowRequest(e,t){try{const n=this.generateRelationshipId(e,t),i=dx(gI,this.collectionName,n),r=await b_(i);return r.exists()?"pending"!==r.data().status?{success:!1,error:"No pending request to cancel"}:(await S_(i),{success:!0}):{success:!1,error:"Follow request not found"}}catch(n){throw TI(n)}}};const zI=new class extends EI{constructor(){super(),this.collectionName="users"}async getUser(e){try{const t=dx(gI,this.collectionName,e),n=await b_(t);return n.exists()?{success:!0,user:{id:n.id,...n.data()}}:{success:!1,error:"User not found"}}catch(t){throw TI(t)}}async getUsers(e){try{const t={},n=e.map(async e=>{const n=dx(gI,this.collectionName,e),i=await b_(n);i.exists()&&(t[e]={id:i.id,...i.data()})});return await Promise.all(n),{success:!0,users:t}}catch(t){throw TI(t)}}async updateUserProfile(e,t){try{const n=dx(gI,this.collectionName,e),i=Object.entries(t).reduce((e,[t,n])=>(void 0!==n&&(e[t]=n),e),{});return await __(n,{...i,updatedAt:P_()}),{success:!0}}catch(n){throw TI(n)}}async updateAvatar(e,t){try{return await this.updateUserProfile(e,{avatar:t})}catch(n){throw TI(n)}}async updateAbout(e,t){try{return await this.updateUserProfile(e,{about:t})}catch(n){throw TI(n)}}async updateName(e,t){try{return await this.updateUserProfile(e,{name:t})}catch(n){throw TI(n)}}async searchUsers(e,t=20){try{const n=t_(ux(gI,this.collectionName),i_("name",">=",e),i_("name","<=",e+""),l_(t)),i=await k_(n);return{success:!0,users:i.docs.map(e=>({id:e.id,...e.data()}))}}catch(n){throw TI(n)}}async getUserByEmail(e){try{const t=t_(ux(gI,this.collectionName),i_("email","==",e),l_(1)),n=await k_(t);if(n.empty)return{success:!1,error:"User not found"};{const e=n.docs[0];return{success:!0,user:{id:e.id,...e.data()}}}}catch(t){throw TI(t)}}async getAllUsers(e=50){try{const t=t_(ux(gI,this.collectionName),l_(e)),n=await k_(t),i=[];return n.forEach(e=>{i.push({id:e.id,...e.data()})}),{success:!0,users:i}}catch(t){throw TI(t)}}async updateOnlineStatus(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{isOnline:t,lastSeen:P_()}),{success:!0}}catch(n){return{success:!1}}}async blockUser(e,t){try{const n=dx(gI,this.collectionName,e),i=await b_(n);if(!i.exists())throw new Error("User not found");const r=i.data().blockedUsers||[];return r.includes(t)||(r.push(t),await __(n,{blockedUsers:r})),{success:!0}}catch(n){throw TI(n)}}async unblockUser(e,t){try{const n=dx(gI,this.collectionName,e),i=await b_(n);if(!i.exists())throw new Error("User not found");const r=(i.data().blockedUsers||[]).filter(e=>e!==t);return await __(n,{blockedUsers:r}),{success:!0}}catch(n){throw TI(n)}}subscribeToUser(e,t,n){return this.subscribeToDocument(this.collectionName,e,t,n)}async saveFcmToken(e,t){try{if(!e||!t)return{success:!1,error:"userId and fcmToken are required"};const n=dx(gI,this.collectionName,e);return await __(n,{fcmToken:t,updatedAt:P_()}),{success:!0}}catch(n){return{success:!1,error:n.message}}}async getFcmToken(e){var t;try{const n=await this.getUser(e);return n.success&&(null==(t=n.user)?void 0:t.fcmToken)?{success:!0,token:n.user.fcmToken}:{success:!1,error:"No FCM token found"}}catch(n){return{success:!1,error:n.message}}}async removeFcmToken(e){try{const t=dx(gI,this.collectionName,e);return await __(t,{fcmToken:null,updatedAt:P_()}),{success:!0}}catch(t){return{success:!1,error:t.message}}}subscribeToOnlineUsers(e,t){const n=[i_("isOnline","==",!0),a_("lastSeen","desc")];return this.subscribeToCollection(this.collectionName,n,e,t)}},UI=Object.freeze(Object.defineProperty({__proto__:null,default:zI,userService:zI},Symbol.toStringTag,{value:"Module"})),BI={EVERYONE:"everyone",MY_CONTACTS:"my_contacts",NOBODY:"nobody"},VI={[BI.EVERYONE]:"Everyone",[BI.MY_CONTACTS]:"My Contacts",[BI.NOBODY]:"Nobody"},qI={[BI.EVERYONE]:"Anyone on WhatsApp",[BI.MY_CONTACTS]:"Only people in your contacts",[BI.NOBODY]:"Not visible to anyone"},$I={lastSeen:BI.EVERYONE,profilePhoto:BI.EVERYONE,about:BI.EVERYONE,groups:BI.EVERYONE,status:BI.MY_CONTACTS},WI=n.createContext(void 0),HI={fontSize:"medium",appColor:"#008069",outgoingBubbleColor:"#D9FDD3",incomingBubbleColor:"#FFFFFF",chatListBackgroundImage:null,contactInfoBackgroundImage:null,translationLanguage:"Spanish"},GI={dailyLockPassword:"",chatLockPassword:"",archiveLockPassword:"",isAppLockEnabled:!1},KI=({children:e})=>{const[t,i]=n.useState(!1),[r,s]=n.useState(!0),[a,o]=n.useState(null),[l,c]=bi("theme","light"),[u,d]=bi("language","English"),[f,h]=((e,t)=>{const[i,r]=n.useState(()=>yi.session.get(e,t)),s=n.useCallback(t=>{try{const n=t instanceof Function?t(i):t;r(n),yi.session.set(e,n)}catch(n){}},[e,i]),a=n.useCallback(()=>{try{r(t),yi.session.remove(e)}catch(n){}},[e,t]);return[i,s,a]})("session_id",null),[m,p]=n.useState("none"),[g,v]=bi("chatSettings",HI),[y,b]=bi("securitySettings",GI),[w,k]=bi("privacySettings",$I),[x,_]=bi("statusPrivacy","contacts"),{permission:S,token:C,requestPermission:N,showNotification:j,isGranted:T}=((e={})=>{const{autoRequest:t=!1,onMessage:i}=e,[r,s]=n.useState(xI.getPermission()),[a,o]=n.useState(null),[l,c]=n.useState(!1),[u,d]=n.useState(null),[f,h]=n.useState(xI.isSupported()),m=n.useCallback(async()=>{c(!0),d(null);try{const e=await xI.requestPermission();if(s(xI.getPermission()),e){const e=await xI.getToken();o(e)}return c(!1),e}catch(e){return d(e.message),c(!1),!1}},[]),p=n.useCallback(async(e=!1)=>{c(!0),d(null);try{const t=await xI.getToken(e);return o(t),c(!1),t}catch(t){return d(t.message),c(!1),null}},[]),g=n.useCallback(async()=>{c(!0),d(null);try{await xI.deleteToken(),o(null),c(!1)}catch(e){d(e.message),c(!1)}},[]),v=n.useCallback((e,t)=>f&&"granted"===r?xI.showNotification({notification:{title:e,...t},data:(null==t?void 0:t.data)||{}}):null,[f,r]);return n.useEffect(()=>{h(xI.isSupported()),xI.isSupported()&&(t&&"default"===r&&m(),"granted"===r&&xI.getToken().then(o))},[t,r,m]),n.useEffect(()=>{if(f&&i)return xI.onForegroundMessage(e=>{i(e)})},[f,i]),{permission:r,token:a,loading:l,error:u,supported:f,requestPermission:m,getToken:p,deleteToken:g,showNotification:v,isGranted:"granted"===r,isDenied:"denied"===r,isDefault:"default"===r}})({autoRequest:!1,onMessage:e=>{}}),[E,I]=n.useState(""),[P,A]=n.useState(null),[M,R]=n.useState({}),[D,L]=n.useState([]),[O,F]=n.useState({}),[z,U]=n.useState([]),[B,V]=n.useState([]),[q,$]=n.useState([]),[W,H]=n.useState({}),[G,K]=n.useState({}),[Y,Q]=n.useState(new Set),[X,J]=n.useState({}),[Z,ee]=n.useState({}),[te,ne]=n.useState(null),[ie,re]=n.useState(new Map),[se,ae]=n.useState(new Map),[oe,le]=n.useState([]),[ce,ue]=n.useState(!1),[de,fe]=n.useState({isGroup:!1}),[he,me]=n.useState(new Map),[pe,ge]=bi("hiddenMessages",{}),[ve,ye]=n.useState(navigator.onLine),[be,we]=n.useState([]),[ke,xe]=n.useState(0),[_e,Se]=n.useState(0),[Ce,Ne]=n.useState(null),[je,Te]=n.useState(0),[Ee,Ie]=n.useState([]),[Pe,Ae]=n.useState([]);n.useEffect(()=>{const e=II.onAuthStateChange(async e=>{var t;if(o(e),i(!!e),e){try{const{user:t}=await II.getUserProfile(e.uid);t&&(A({id:e.uid,email:e.email,name:t.name||e.displayName||"User",avatar:t.avatar||e.photoURL,about:t.about||"Hey there! I am using WhatsApp",phone:t.phone||"",...t}),R(n=>({...n,[e.uid]:{id:e.uid,name:t.name||e.displayName||"User",avatar:t.avatar||e.photoURL,about:t.about||"Hey there! I am using WhatsApp",...t}})),di.connect(e.uid))}catch(n){const t={id:e.uid,email:e.email,name:e.displayName||"User",avatar:e.photoURL,about:"Hey there! I am using WhatsApp"};A(t),R(n=>({...n,[e.uid]:t})),di.connect(e.uid)}try{const{settings:n}=await PI.getAllSettings(e.uid);n&&(n.appSettings&&(n.appSettings.theme&&c(n.appSettings.theme),n.appSettings.language&&d(n.appSettings.language),n.appSettings.logoEffect&&p(n.appSettings.logoEffect)),n.chatSettings&&v(n.chatSettings),n.securitySettings&&b(n.securitySettings),(null==(t=n.privacySettings)?void 0:t.statusPrivacy)&&_(n.privacySettings.statusPrivacy))}catch(n){}try{const{success:t,following:i}=await FI.getFollowing(e.uid);if(t&&i){const e=i.map(e=>e.followingId);we(e)}const r=await FI.getFollowStats(e.uid);r.success&&(xe(r.stats.followersCount),Se(r.stats.followingCount));const s=await FI.getOutgoingRequests(e.uid);s.success&&Ie(s.requests.map(e=>e.followingId));const a=await FI.getPendingRequests(e.uid);a.success&&Ae(a.requests);try{const{success:e,users:t}=await zI.getAllUsers(100);if(e&&t&&t.length>0){const e={};t.forEach(t=>{e[t.id]=t}),R(t=>({...t,...e}))}}catch(n){}const o=FI.subscribeToFollowUpdates(e.uid,async t=>{const{success:n,following:i}=await FI.getFollowing(e.uid);if(n&&i){const e=i.map(e=>e.followingId);we(e)}const r=await FI.getFollowStats(e.uid);if(r.success){const e=ke;if(xe(r.stats.followersCount),Se(r.stats.followingCount),"followers"===t.type&&r.stats.followersCount>e){const t=r.stats.followersCount-e;Te(e=>e+t),j&&t>0&&j("New Follower!",{body:`You have ${t} new follower${t>1?"s":""}`,icon:"/logo.png"})}}const s=await FI.getOutgoingRequests(e.uid);s.success&&Ie(s.requests.map(e=>e.followingId));const a=await FI.getPendingRequests(e.uid);a.success&&Ae(a.requests)},e=>{});Ne(o)}catch(n){}try{const{success:t,chats:n}=await RI.getUserChats(e.uid);if(t&&n&&n.length>0){const t=n.map(t=>{var n,i,r,s,a,o,l,c,u,d,f,h,m,p;return{id:t.id,isGroup:"group"===t.type,groupName:t.groupName,groupParticipants:t.participants,groupRoles:t.groupRoles,groupSettings:t.groupSettings,contactId:"individual"===t.type?t.participants.find(t=>t!==e.uid):void 0,timestamp:t.updatedAt||t.createdAt,lastMessageId:t.lastMessageId,unreadCount:(null==(n=t.userSettings)?void 0:n.unreadCount)||0,isPinned:(null==(i=t.userSettings)?void 0:i.isPinned)||!1,isMuted:(null==(r=t.userSettings)?void 0:r.isMuted)||!1,isArchived:(null==(s=t.userSettings)?void 0:s.isArchived)||!1,isLocked:(null==(a=t.userSettings)?void 0:a.isLocked)||!1,userSettings:{isPinned:(null==(o=t.userSettings)?void 0:o.isPinned)||!1,isMuted:(null==(l=t.userSettings)?void 0:l.isMuted)||!1,isArchived:(null==(c=t.userSettings)?void 0:c.isArchived)||!1,isLocked:(null==(u=t.userSettings)?void 0:u.isLocked)||!1,hiddenDates:(null==(d=t.userSettings)?void 0:d.hiddenDates)||[],unreadCount:(null==(f=t.userSettings)?void 0:f.unreadCount)||0,themeColor:(null==(h=t.userSettings)?void 0:h.themeColor)||null,incomingThemeColor:(null==(m=t.userSettings)?void 0:m.incomingThemeColor)||null,wallpaper:(null==(p=t.userSettings)?void 0:p.wallpaper)||null}}});t.forEach(e=>{var t,n;(null==(t=e.userSettings)?void 0:t.themeColor)||null==(n=e.userSettings)||n.incomingThemeColor}),L(t),RI.subscribeToUserChats(e.uid,t=>{t.forEach(e=>{e.userSettings});const n=t.map(t=>{var n,i,r,s,a,o,l,c,u,d,f,h,m,p;return{id:t.id,isGroup:"group"===t.type,groupName:t.groupName,groupAvatar:t.groupAvatar,groupDescription:t.groupDescription,groupParticipants:t.participants,groupRoles:t.groupRoles,groupSettings:t.groupSettings,contactId:"individual"===t.type?t.participants.find(t=>t!==e.uid):void 0,timestamp:t.updatedAt||t.createdAt,lastMessageId:t.lastMessageId,unreadCount:(null==(n=t.userSettings)?void 0:n.unreadCount)||0,isPinned:(null==(i=t.userSettings)?void 0:i.isPinned)||!1,isMuted:(null==(r=t.userSettings)?void 0:r.isMuted)||!1,isArchived:(null==(s=t.userSettings)?void 0:s.isArchived)||!1,isLocked:(null==(a=t.userSettings)?void 0:a.isLocked)||!1,userSettings:{isPinned:(null==(o=t.userSettings)?void 0:o.isPinned)||!1,isMuted:(null==(l=t.userSettings)?void 0:l.isMuted)||!1,isArchived:(null==(c=t.userSettings)?void 0:c.isArchived)||!1,isLocked:(null==(u=t.userSettings)?void 0:u.isLocked)||!1,hiddenDates:(null==(d=t.userSettings)?void 0:d.hiddenDates)||[],unreadCount:(null==(f=t.userSettings)?void 0:f.unreadCount)||0,themeColor:(null==(h=t.userSettings)?void 0:h.themeColor)||null,incomingThemeColor:(null==(m=t.userSettings)?void 0:m.incomingThemeColor)||null,wallpaper:(null==(p=t.userSettings)?void 0:p.wallpaper)||null}}});n.forEach(e=>{var t,n;(null==(t=e.userSettings)?void 0:t.themeColor)||null==(n=e.userSettings)||n.incomingThemeColor}),L(e=>{const t=new Map(e.map(e=>[e.id,e]));return n.forEach(e=>{const n=t.get(e.id);n&&n.userSettings?t.set(e.id,{...e,userSettings:{...e.userSettings,themeColor:null!==e.userSettings.themeColor?e.userSettings.themeColor:n.userSettings.themeColor,incomingThemeColor:null!==e.userSettings.incomingThemeColor?e.userSettings.incomingThemeColor:n.userSettings.incomingThemeColor}}):t.set(e.id,e)}),Array.from(t.values())})})}}catch(n){}f||h(`session_${Date.now()}_${e.uid}`);try{D.forEach(e=>{const t=e.id;if(he.has(t))return;const n=LI.subscribeToMessages(t,e=>{F(n=>({...n,[t]:e}))},e=>{});me(e=>new Map(e).set(t,n))})}catch(n){}}else A(null),h(null),he.forEach(e=>e()),me(new Map),Ce&&(Ce(),Ne(null)),we([]),xe(0),Se(0),Ie([]);s(!1)});return()=>{e()}},[]),n.useEffect(()=>{(null==P?void 0:P.id)&&0!==D.length&&D.forEach(e=>{const t=e.id;if(!he.has(t))try{const e=LI.subscribeToMessages(t,e=>{F(n=>({...n,[t]:e}))},e=>{});me(n=>new Map(n).set(t,e))}catch(n){}})},[D,P]),n.useEffect(()=>{const e=document.documentElement;"dark"===l?e.classList.add("dark"):e.classList.remove("dark")},[l]),n.useEffect(()=>{const e=document.documentElement;e.style.setProperty("--wa-teal",g.appColor),e.style.setProperty("--wa-teal-dark",g.appColor),e.style.setProperty("--wa-bubble-out",g.outgoingBubbleColor),e.style.setProperty("--wa-bubble-in",g.incomingBubbleColor)},[g]),n.useEffect(()=>{const e=()=>{ye(!0),NI.syncQueue(LI)},t=()=>{ye(!1)};window.addEventListener("online",e),window.addEventListener("offline",t);const n=NI.subscribe(e=>{"messageSynced"===e.type&&(We(e.chatId,e.messageId,"sent"),setTimeout(()=>{We(e.chatId,e.messageId,"delivered")},1e3))});return()=>{window.removeEventListener("online",e),window.removeEventListener("offline",t),n()}},[]);const Me=n.useCallback(()=>{},[]),Re=n.useCallback(async()=>{try{he.forEach(e=>e()),me(new Map),di.disconnect(),L([]),F({}),K({}),ne(null),re(new Map),ae(new Map),await II.logout()}catch(e){i(!1),A(null)}},[he]),De=n.useCallback(async e=>{if(v(t=>({...t,...e})),null==P?void 0:P.id)try{const t={...g,...e};await PI.updateChatSettings(P.id,t)}catch(t){}},[P,g]),Le=n.useCallback(async e=>{try{if(k(t=>({...t,...e})),null==P?void 0:P.id){const t={...w,...e};await PI.updatePrivacySettings(P.id,t)}}catch(t){}},[null==P?void 0:P.id,w]),Oe=n.useCallback(async e=>{if(b(t=>({...t,...e})),null==P?void 0:P.id)try{const t={...y,...e};await PI.updateSecuritySettings(P.id,t)}catch(t){}},[P,y]),Fe=n.useCallback(async e=>{if(void 0!==e.theme&&c(e.theme),void 0!==e.language&&d(e.language),void 0!==e.logoEffect&&p(e.logoEffect),null==P?void 0:P.id)try{const t={theme:void 0!==e.theme?e.theme:l,language:void 0!==e.language?e.language:u,logoEffect:void 0!==e.logoEffect?e.logoEffect:m};await PI.updateAppSettings(P.id,t)}catch(t){}},[P,l,u,m]),ze=n.useCallback(()=>{Fe({theme:"light"===l?"dark":"light"})},[l,Fe]),Ue=n.useCallback((e,t,n)=>{const i={...P,name:e,about:t,avatar:n};A(i),localStorage.setItem("currentUser",JSON.stringify(i))},[P]),Be=n.useCallback((e,t)=>{K(n=>{if(!t){const t={...n};return delete t[e],t}return{...n,[e]:t}})},[]),Ve=n.useCallback(e=>{Q(t=>new Set([...t,e])),ee(t=>({...t,[e]:null}))},[]),qe=n.useCallback(e=>{Q(t=>{const n=new Set(t);return n.delete(e),n}),ee(t=>({...t,[e]:(new Date).toISOString()}))},[]),$e=n.useCallback((e,t,n)=>{J(i=>{const r=i[e]||[];return n?r.includes(t)?i:{...i,[e]:[...r,t]}:{...i,[e]:r.filter(e=>e!==t)}})},[]),We=n.useCallback((e,t,n)=>{F(i=>{const r=i[e]||[];return{...i,[e]:r.map(e=>e.id===t?{...e,status:n}:e)}})},[]),He=n.useCallback(e=>{L(t=>t.map(t=>t.id===e?{...t,unreadCount:0}:t))},[]),Ge=n.useCallback(async e=>{const t=D.find(t=>t.contactId===e&&!t.isGroup);if(t)return t.id;try{const t=await RI.createDirectChat(P.id,e);if(t.success&&t.chat){const n=t.chat,i={id:n.id,contactId:e,unreadCount:0,isPinned:!1,isMuted:!1,isGroup:!1,timestamp:n.updatedAt||n.createdAt||(new Date).toISOString()};return L(e=>e.find(e=>e.id===n.id)?e:[i,...e]),F(e=>({...e,[n.id]:[]})),n.id}}catch(r){}const n=`c_${Date.now()}`,i={id:n,contactId:e,unreadCount:0,isPinned:!1,isMuted:!1,isGroup:!1,timestamp:(new Date).toISOString()};return L([i,...D]),F(e=>({...e,[n]:[]})),n},[D,P]),Ke=n.useCallback(async(e,t)=>{try{const n=await RI.createGroupChat(P.id,e,t,{});if(!n.success)throw new Error(n.error||"Failed to create group");return n.chatId}catch(n){const i=`c_g_${Date.now()}`,r={};r[P.id]="owner",t.forEach(e=>r[e]="member");const s={id:i,contactId:"",unreadCount:0,isPinned:!1,isMuted:!1,isGroup:!0,groupName:e,groupParticipants:[...t,P.id],groupRoles:r,groupSettings:{editInfo:"all",sendMessages:"all",addMembers:"all",approveMembers:!1},timestamp:(new Date).toISOString()};return L(e=>[s,...e]),i}},[P]),Ye=n.useCallback((e,t)=>{if(L(n=>n.map(n=>{if(n.id===e&&n.isGroup){const e=n.groupParticipants||[],i=t.filter(t=>!e.includes(t));if(0===i.length)return n;const r=[...e,...i],s={...n.groupRoles};return i.forEach(e=>{s[e]="member"}),{...n,groupParticipants:r,groupRoles:s}}return n})),t.length>0){const n=t.map(e=>{var t;return(null==(t=M[e])?void 0:t.name)||"Someone"}).join(", "),i=`m_add_${Date.now()}`;F(t=>({...t,[e]:[...t[e]||[],{id:i,chatId:e,senderId:"system",text:`You added ${n}`,timestamp:(new Date).toISOString(),status:"read",type:"text",isPinned:!1}]}))}},[M]),Qe=n.useCallback((e,t)=>{L(n=>n.map(n=>n.id===e&&n.isGroup?{...n,groupSettings:{...n.groupSettings,...t}}:n))},[]),Xe=n.useCallback((e,t,n)=>{L(i=>i.map(i=>i.id===e&&i.isGroup?{...i,groupRoles:{...i.groupRoles,[t]:n}}:i))},[]),Je=n.useCallback(async(e,t)=>{try{const n=await RI.updateGroupInfo(e,t);return n.success?(L(n=>n.map(n=>n.id===e&&n.isGroup?{...n,...t}:n)),{success:!0}):{success:!1,error:n.error}}catch(n){return{success:!1,error:n.message}}},[]),Ze=n.useCallback((e,t)=>{F(n=>{const i=n[e]||[];return{...n,[e]:i.map(e=>e.id===t?{...e,isViewed:!0}:e)}})},[]),et=n.useCallback((e,t,n)=>{F(i=>{const r=i[e]||[];return{...i,[e]:r.map(e=>e.id===t?{...e,text:n,isEdited:!0}:e)}})},[]),tt=n.useCallback(async(e,t,n,i,r,s,a,o)=>{const l={id:`m_${Date.now()}`,chatId:e,senderId:P.id,text:t,timestamp:(new Date).toISOString(),status:ve?"sent":"queued",type:n,replyToId:i,mediaUrl:r,duration:s,pollData:a,isViewOnce:o};if(F(t=>({...t,[e]:[...t[e]||[],l]})),L(t=>{const n=t.findIndex(t=>t.id===e);if(-1===n)return t;const i={...t[n],timestamp:(new Date).toISOString(),lastMessageId:l.id,isArchived:!!t[n].isLocked},r=[...t];return r[n]=i,r.splice(n,1),r.unshift(i),r}),ve){try{const t=Object.fromEntries(Object.entries(l).filter(([e,t])=>void 0!==t));await LI.sendMessage(e,t)}catch(c){try{const t=Object.fromEntries(Object.entries(l).filter(([e,t])=>void 0!==t));await NI.queueMessage(e,t),We(e,l.id,"queued")}catch(u){}}ve&&setTimeout(()=>{We(e,l.id,"delivered")},1e3)}else try{const t=Object.fromEntries(Object.entries(l).filter(([e,t])=>void 0!==t));await NI.queueMessage(e,t)}catch(c){}},[P,ve,We]),nt=n.useCallback((e,t,n)=>{F(i=>{const r=i[e]||[];return{...i,[e]:r.map(e=>{if(e.id===t&&"poll"===e.type&&e.pollData){const t=e.pollData.options.map(e=>{const t=n.includes(e.id),i=new Set(e.voters);return t?i.add(P.id):i.delete(P.id),{...e,voters:Array.from(i)}});return{...e,pollData:{...e.pollData,options:t}}}return e})}})},[P]),it=n.useCallback((e,t)=>{ge(n=>{const i=new Set(n[e]||[]);return t.forEach(e=>i.add(e)),{...n,[e]:Array.from(i)}})},[ge]),rt=n.useCallback((e,t)=>{F(n=>{const i=n[e]||[],r=new Set(t);return{...n,[e]:i.map(e=>r.has(e.id)?{...e,isDeleted:!0,text:e.senderId===P.id?"You deleted this message":"This message was deleted",type:"text",reactions:void 0,mediaUrl:void 0,mediaUrls:void 0,replyToId:void 0,pollData:void 0}:e)}})},[P]),st=n.useCallback(e=>Date.now()-new Date(e).getTime()<36e5,[]),at=n.useCallback((e,t,n)=>{n?rt(e,t):it(e,t)},[it,rt]),ot=n.useCallback(async e=>{L(t=>t.map(t=>t.id===e?{...t,isArchived:!t.isArchived}:t));try{const t=D.find(t=>t.id===e);if(t){const n=!t.isArchived;await RI.updateUserChatSettings(e,P.id,{isArchived:n})}}catch(t){}},[D,P]),lt=n.useCallback(e=>{L(t=>t.map(t=>t.id===e?{...t,isPinned:!t.isPinned}:t))},[]),ct=n.useCallback((e,t)=>{F(n=>{const i=n[e]||[];return{...n,[e]:i.map(e=>e.id===t?{...e,isPinned:!e.isPinned}:e)}})},[]),ut=n.useCallback((e,t)=>{F(n=>{const i=n[e]||[];return{...n,[e]:i.map(e=>e.id===t?{...e,isStarred:!e.isStarred}:e)}})},[]),dt=n.useCallback(async e=>{var t,n;if(null==P?void 0:P.id)try{we(t=>t.includes(e)?t:[...t,e]),Se(e=>e+1);if((await FI.followUser(P.id,e)).success){const i=(null==(t=M[e])?void 0:t.name)||"User";j&&j("New Follower",{body:`You started following ${i} `,icon:(null==(n=M[e])?void 0:n.avatar)||"/default-avatar.png"})}else we(t=>t.filter(t=>t!==e)),Se(e=>Math.max(0,e-1))}catch(i){we(t=>t.filter(t=>t!==e)),Se(e=>Math.max(0,e-1))}},[P,M,j]),ft=n.useCallback(async e=>{if(null==P?void 0:P.id)try{we(t=>t.filter(t=>t!==e)),Se(e=>Math.max(0,e-1));(await FI.unfollowUser(P.id,e)).success}catch(t){we(t=>[...t,e]),Se(e=>e+1)}},[P]),mt=n.useCallback(e=>be.includes(e),[be]),pt=n.useCallback(async e=>{try{if(!(null==P?void 0:P.id))return 0;const t=be,{success:n,following:i}=await FI.getFollowing(e);if(!n||!i)return 0;const r=i.map(e=>e.followingId);return t.filter(e=>r.includes(e)).length}catch(t){return 0}},[P,be]),gt=n.useCallback(e=>be.includes(e),[be]),vt=n.useCallback(()=>{Te(0)},[]),yt=n.useCallback((e,t,n)=>{F(i=>{const r=i[e]||[];return{...i,[e]:r.map(e=>{if(e.id!==t)return e;const i=e.reactions||{};if(i[P.id]===n){const t={...i};return delete t[P.id],{...e,reactions:t}}return{...e,reactions:{...i,[P.id]:n}}})}})},[P]),bt=n.useCallback(async(e,t,n)=>{L(i=>i.map(i=>i.id!==e?i:"outgoing"===n?{...i,themeColor:t,userSettings:{...i.userSettings,themeColor:t}}:{...i,incomingThemeColor:t,userSettings:{...i.userSettings,incomingThemeColor:t}}));try{if(null==P?void 0:P.id){const i="outgoing"===n?{themeColor:t}:{incomingThemeColor:t};await RI.updateUserChatSettings(e,P.id,i)}}catch(i){}},[P]),wt=n.useCallback(async e=>{L(t=>t.map(t=>{if(t.id===e){const e=!t.isLocked;return{...t,isLocked:e}}return t}));try{const t=D.find(t=>t.id===e);if(t){const n=!t.isLocked;await RI.updateUserChatSettings(e,P.id,{isLocked:n})}}catch(t){}},[D,P]),kt=n.useCallback(async(e,t)=>{L(n=>n.map(n=>{if(n.id!==e)return n;const i=n.userSettings||{},r=i.hiddenDates||[];let s;return s=r.includes(t)?r.filter(e=>e!==t):[...r,t],{...n,userSettings:{...i,hiddenDates:s}}}));try{const n=D.find(t=>t.id===e);if(n){const i=(n.userSettings||{}).hiddenDates||[];let r;r=i.includes(t)?i.filter(e=>e!==t):[...i,t],await RI.updateUserChatSettings(e,P.id,{hiddenDates:r})}}catch(n){}},[D,P]),xt=n.useCallback(e=>{V(t=>[e,...t])},[]),_t=n.useCallback(e=>{V(t=>t.filter(t=>t.id!==e))},[]),St=n.useCallback(e=>{fe(e||{isGroup:!1}),ue(!0)},[]),Ct=n.useCallback(()=>{ue(!1),fe({isGroup:!1})},[]),Nt=n.useCallback((e,t)=>{const n=`room_${Date.now()}_${Math.random().toString(36).substring(2,9)}`,i=`game_${Date.now()}_${Math.random().toString(36).substring(2,11)}`;tt(e," Game Invite","game_invite",void 0,void 0,void 0,{gameType:t,roomId:n,gameId:i,status:"pending",hostId:P.id,players:[P.id],maxPlayers:"ludo"===t||"snake"===t?4:2,createdAt:(new Date).toISOString()}),ae(r=>{const s=new Map(r);return s.set(n,{id:n,gameId:i,gameType:t,hostId:P.id,chatId:e,players:[{userId:P.id,ready:!0}],maxPlayers:"ludo"===t||"snake"===t?4:2,status:"waiting",createdAt:(new Date).toISOString()}),s}),Ct()},[P,tt]),jt=n.useCallback((e,t,n,i)=>{let r=se.get(t);if(!r&&i&&(r={id:t,gameId:i.gameId||`game_${Date.now()}`,gameType:e,hostId:i.hostId,chatId:n,players:i.players?i.players.map(e=>({userId:e,ready:!1})):[],maxPlayers:i.maxPlayers||("ludo"===e||"snake"===e?4:2),status:i.status||"waiting",createdAt:i.createdAt||(new Date).toISOString()},ae(e=>{const n=new Map(e);return n.set(t,r),n})),!r)return;const s=r.players.some(e=>e.userId===P.id);!s&&r.players.length<r.maxPlayers&&(ae(e=>{const n=new Map(e),i={...r};return i.players.push({userId:P.id,ready:!0}),i.players.length>=2&&(i.status="in_progress"),n.set(t,i),n}),di.sendGameEvent(fi,{gameId:r.gameId,roomId:t,userId:P.id}));const a={id:r.gameId,type:e,roomId:t,chatId:n,status:r.status,timestamp:(new Date).toISOString(),currentTurn:r.players[0].userId,players:r.players.map((t,n)=>({userId:t.userId,status:"playing",color:"ludo"===e?["red","green","blue","yellow"][n]:"chess"===e?0===n?"white":"black":0===n?"X":"O"})),isMinimized:!1,gameState:{}};ne(a),re(e=>{const t=new Map(e);return t.set(a.id,a),t}),di.subscribeToGame(a.id,e=>{Tt(e)})},[se,P]),Tt=n.useCallback(e=>{const{type:t,data:n}=e;switch(t){case hi:case mi:It(n.gameId,n.gameState);break;case pi:Pt(n.gameId,n.result)}},[]),Et=n.useCallback((e,t)=>{ie.get(e)&&(It(e,t),di.sendGameEvent(hi,{gameId:e,gameState:t,playerId:P.id,timestamp:(new Date).toISOString()}))},[ie,P]),It=n.useCallback((e,t)=>{re(n=>{const i=new Map(n),r=i.get(e);return r&&i.set(e,{...r,gameState:t}),i}),ne(n=>n&&n.id===e?{...n,gameState:t}:n)},[]),Pt=n.useCallback((e,t)=>{var n;const i=ie.get(e);if(!i)return;const r={...i,status:"finished",result:t,endedAt:(new Date).toISOString()};if(le(e=>[r,...e]),re(t=>{const n=new Map(t);return n.delete(e),n}),te&&te.id===e&&ne(null),i.chatId){const e=t.winner?null==(n=M[t.winner])?void 0:n.name:null,r=t.isDraw?"Game ended in a draw":t.winner===P.id?"You won the game! ":`${e} won the game!`;tt(i.chatId,r,"text")}di.unsubscribeFromGame(e),di.sendGameEvent(pi,{gameId:e,result:t})},[ie,te,P,M,tt]),At=n.useCallback(()=>{te&&("in_progress"===te.status&&Pt(te.id,{winner:null,reason:"quit",quitBy:P.id}),ne(null))},[te,Pt,P]),Mt=n.useCallback(()=>{ne(e=>e?{...e,isMinimized:!0}:null)},[]),Rt=n.useCallback(()=>{ne(e=>e?{...e,isMinimized:!1}:null)},[]),Dt=n.useMemo(()=>({isAuthenticated:t,authLoading:r,firebaseUser:a,login:Me,logout:Re,chats:D,messages:O,users:M,calls:z,statusUpdates:B,channels:q,chatDocuments:W,currentUser:P,currentUserId:(null==P?void 0:P.id)||"me",drafts:G,chatSettings:g,updateChatSettings:De,securitySettings:y,updateSecuritySettings:Oe,privacySettings:w,updatePrivacySettings:Le,statusPrivacy:x,searchQuery:E,logoEffect:m,onlineUsers:Y,typingUsers:X,lastSeen:Z,activeGame:te,activeGames:ie,gameRooms:se,gameHistory:oe,isGameInviteOpen:ce,inviteOptions:de,updateAppSettings:Fe,toggleTheme:ze,updateUserProfile:Ue,setDraft:Be,startChat:Ge,createGroup:Ke,addGroupParticipants:Ye,updateGroupSettings:Qe,updateGroupRole:Xe,updateGroupInfo:Je,addMessage:tt,votePoll:nt,openGameInvite:St,closeGameInvite:Ct,inviteToGame:Nt,joinGame:jt,makeGameMove:Et,updateGameState:It,endGame:Pt,closeGame:At,minimizeGame:Mt,maximizeGame:Rt,editMessage:et,markMessageAsViewed:Ze,deleteMessages:at,deleteForMe:it,deleteForEveryone:rt,canDeleteForEveryone:st,hiddenMessages:pe,toggleArchiveChat:ot,togglePinChat:lt,toggleChatLock:wt,updateChatTheme:bt,toggleDateLock:kt,addStatusUpdate:xt,deleteStatusUpdate:_t,addReaction:yt,setSearchQuery:I,setLogoEffect:e=>Fe({logoEffect:e}),setLanguage:e=>Fe({language:e}),markUserOnline:Ve,markUserOffline:qe,setUserTyping:$e,updateMessageStatus:We,markChatAsRead:He,togglePinMessage:ct,toggleStarMessage:ut,followUser:dt,unfollowUser:ft,isFollowing:mt,acceptRequest:async e=>{const t=await FI.acceptFollowRequest(e,P.id);return t.success&&(Ae(t=>t.filter(t=>t.followerId!==e)),xe(e=>e+1)),t},rejectRequest:async e=>{const t=await FI.rejectFollowRequest(e,P.id);return t.success&&Ae(t=>t.filter(t=>t.followerId!==e)),t},followedUsers:be,outgoingRequests:Ee,pendingRequests:Pe,isOnline:ve}),[D,O,M,z,B,q,W,P,G,g,y,x,E,m,t,r,a,Me,Re,De,Oe,Fe,ze,Ue,Be,Ge,Ke,Ye,Qe,Xe,Je,tt,nt,at,it,rt,st,pe,ot,lt,kt,xt,_t,I,te,ie,se,oe,ce,de,St,Ct,Nt,jt,Et,It,Pt,At,Mt,Rt,et,Ze,Y,X,Z,Ve,qe,$e,We,He,ct,ut,dt,ft,mt,be,ke,_e,je,vt,pt,gt,yt,bt,wt,be,ke,_e,je,Ee,Pe,S,C,N,j,T,f,h,he,ve]);return r?ht.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-[#EFEAE2] dark:bg-[#111b21] gap-4",children:[ht.jsx("div",{className:"w-12 h-12 border-4 border-wa-teal border-t-transparent rounded-full animate-spin"}),ht.jsx("div",{className:"text-wa-teal dark:text-gray-300 font-medium animate-pulse",children:"Authenticating..."})]}):ht.jsx(WI.Provider,{value:Dt,children:e})},YI=()=>{const e=n.useContext(WI);if(!e)throw new Error("useApp must be used within AppProvider");return e},QI=()=>ht.jsxs("div",{className:"relative w-16 h-16 md:w-20 md:h-20 flex items-center justify-center",children:[ht.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-teal-400 via-wa-teal to-blue-600 opacity-20 blur-xl animate-pulse"}),ht.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full drop-shadow-lg",xmlns:"http://www.w3.org/2000/svg",children:[ht.jsx("defs",{children:ht.jsxs("linearGradient",{id:"auraGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[ht.jsx("stop",{offset:"0%",stopColor:"#2DD4BF"})," ",ht.jsx("stop",{offset:"100%",stopColor:"#008069"})," "]})}),ht.jsx("path",{d:"M50 10 C27.9 10 10 27.9 10 50 C10 65.5 18.8 78.9 31.5 85.5 L28 95 L42 89 C44.6 89.6 47.3 90 50 90 C72.1 90 90 72.1 90 50 C90 27.9 72.1 10 50 10 Z",fill:"url(#auraGradient)"}),ht.jsx("path",{d:"M35 50 Q50 25 65 50 T95 50",fill:"none",stroke:"white",strokeWidth:"6",strokeLinecap:"round",opacity:"0.3"}),ht.jsx("circle",{cx:"50",cy:"50",r:"8",fill:"white"})]})]}),XI=({children:e,title:t,subtitle:n})=>ht.jsxs("div",{className:"min-h-screen w-full bg-[#EFEAE2] dark:bg-[#0b141a] relative flex flex-col items-center justify-start md:justify-center overflow-hidden",children:[ht.jsx("div",{className:"absolute inset-0 opacity-40 pointer-events-none z-0",style:{backgroundImage:'url("https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png")',backgroundRepeat:"repeat",backgroundSize:"400px"}}),ht.jsx("div",{className:"absolute top-0 left-0 w-full h-64 bg-gradient-to-b from-wa-teal to-transparent -z-10 hidden md:block opacity-90"}),ht.jsxs("div",{className:"z-10 flex flex-col items-center gap-4 mb-8 md:mb-10 pt-12 md:pt-0",children:[ht.jsx(QI,{}),ht.jsx("h1",{className:"text-4xl font-extrabold text-wa-teal dark:text-gray-100 md:text-white tracking-tight drop-shadow-sm",children:"Aura"}),ht.jsx("p",{className:"text-sm font-medium text-gray-500 dark:text-gray-400 md:text-white/80 uppercase tracking-widest",children:"Connect Beyond Words"})]}),ht.jsxs("div",{className:"w-full max-w-md bg-white/95 dark:bg-wa-dark-paper/95 backdrop-blur-md rounded-t-3xl md:rounded-2xl shadow-2xl p-8 z-10 flex-1 md:flex-none animate-in slide-in-from-bottom-10 duration-300 border border-white/20",children:[ht.jsxs("div",{className:"text-center mb-8",children:[ht.jsx("h2",{className:"text-2xl font-bold text-[#111b21] dark:text-gray-100",children:t}),n&&ht.jsx("p",{className:"text-[#667781] dark:text-gray-400 mt-2 text-sm leading-relaxed",children:n})]}),e]}),ht.jsx("div",{className:"py-6 text-center z-10 hidden md:block",children:ht.jsxs("p",{className:"text-gray-500 text-xs",children:["Powered by ",ht.jsx("span",{className:"font-bold text-wa-teal",children:"Aura Systems"})]})})]}),JI=()=>{const e=i(),{login:t}=YI(),[r,s]=n.useState(""),[a,o]=n.useState(""),[l,c]=n.useState(!1),[u,d]=n.useState(!1),[f,h]=n.useState("");return ht.jsx(XI,{title:"Welcome Back",subtitle:"Log in to your Aura account to continue connecting.",children:ht.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),r.trim()&&a.trim()){d(!0),h("");try{await II.login(r,a),e("/chats")}catch(n){h(n.message||"Failed to log in. Please try again.")}finally{d(!1)}}},className:"flex flex-col gap-6",children:[f&&ht.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg text-sm",children:f}),ht.jsxs("div",{className:"relative border-b border-wa-teal py-2 group",children:[ht.jsx("div",{className:"absolute left-0 top-3 text-gray-500 dark:text-gray-400 group-focus-within:text-wa-teal transition-colors",children:ht.jsx(g,{size:20})}),ht.jsx("input",{type:"email",placeholder:"Email Address",className:"w-full pl-8 outline-none bg-transparent text-[#111b21] dark:text-gray-100 placeholder:text-gray-400 py-1 font-medium",value:r,onChange:e=>s(e.target.value),autoFocus:!0,disabled:u})]}),ht.jsxs("div",{className:"relative border-b border-wa-teal py-2 group",children:[ht.jsx("div",{className:"absolute left-0 top-3 text-gray-500 dark:text-gray-400 group-focus-within:text-wa-teal transition-colors",children:ht.jsx(v,{size:20})}),ht.jsx("input",{type:l?"text":"password",placeholder:"Password",className:"w-full pl-8 pr-8 outline-none bg-transparent text-[#111b21] dark:text-gray-100 placeholder:text-gray-400 py-1 font-medium",value:a,onChange:e=>o(e.target.value),disabled:u}),ht.jsx("button",{type:"button",onClick:()=>c(!l),className:"absolute right-0 top-3 text-gray-500 dark:text-gray-400 hover:text-wa-teal transition-colors",disabled:u,children:l?ht.jsx(y,{size:20}):ht.jsx(b,{size:20})})]}),ht.jsx("div",{className:"flex justify-end",children:ht.jsx("button",{type:"button",onClick:async()=>{if(r.trim()){d(!0),h("");try{await II.resetPassword(r),alert("Password reset email sent! Please check your inbox.")}catch(e){h(e.message||"Failed to send reset email")}finally{d(!1)}}else h("Please enter your email address")},className:"text-xs text-wa-teal font-bold hover:underline tracking-wide",disabled:u,children:"Forgot Password?"})}),ht.jsx("button",{type:"submit",disabled:!r||!a||u,className:`w-full py-3.5 rounded-xl font-bold text-white transition-all flex items-center justify-center gap-2 mt-4 shadow-lg\n                        ${r&&a&&!u?"bg-gradient-to-r from-wa-teal to-teal-500 hover:shadow-xl active:scale-[0.98]":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"}\n                    `,children:u?"Authenticating...":"Log In"}),ht.jsx("div",{className:"mt-4 text-center",children:ht.jsxs("p",{className:"text-sm text-[#667781] dark:text-gray-400",children:["New to Aura? ",ht.jsx("span",{onClick:()=>e("/signup"),className:"text-wa-teal font-bold cursor-pointer hover:underline",children:"Create Account"})]})})]})})},ZI=()=>{const e=i(),{login:t}=YI(),[r,s]=n.useState(""),[a,o]=n.useState(""),[l,c]=n.useState(""),[u,d]=n.useState(!1),[f,h]=n.useState(!1),[m,p]=n.useState("");return ht.jsx(XI,{title:"Create your account",subtitle:"Please fill in your details to get started.",children:ht.jsxs("form",{onSubmit:async t=>{if(t.preventDefault(),r.trim()&&a.trim()&&l.trim())if(l.length<6)p("Password must be at least 6 characters long");else{h(!0),p("");try{await II.register(a,l,{name:r.trim(),about:"Hey there! I am using WhatsApp",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(r)}&background=random`}),e("/chats")}catch(n){p({"auth/email-already-in-use":"An account with this email already exists","auth/invalid-email":"Invalid email address","auth/weak-password":"Password is too weak. Use at least 6 characters"}[n.code]||n.message||"Failed to create account")}finally{h(!1)}}},className:"flex flex-col gap-5",children:[m&&ht.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg text-sm",children:m}),ht.jsx("div",{className:"flex justify-center mb-2",children:ht.jsxs("div",{className:"w-24 h-24 bg-gray-200 dark:bg-gray-700 rounded-full flex items-center justify-center cursor-pointer hover:opacity-80 transition-opacity relative",children:[ht.jsx(w,{size:32,className:"text-gray-400"}),ht.jsx("div",{className:"absolute bottom-0 right-0 bg-wa-teal p-1.5 rounded-full border-2 border-white dark:border-wa-dark-paper",children:ht.jsx("span",{className:"text-white text-xs font-bold",children:"+"})})]})}),ht.jsxs("div",{className:"space-y-5",children:[ht.jsxs("div",{children:[ht.jsx("label",{className:"text-xs font-medium text-wa-teal mb-1 block",children:"Full Name"}),ht.jsx("input",{type:"text",placeholder:"John Doe",className:"w-full border-b border-gray-300 dark:border-gray-600 focus:border-wa-teal bg-transparent py-2 outline-none text-[#111b21] dark:text-gray-100 transition-colors",value:r,onChange:e=>s(e.target.value),autoFocus:!0,disabled:f})]}),ht.jsxs("div",{children:[ht.jsx("label",{className:"text-xs font-medium text-wa-teal mb-1 block",children:"Email Address"}),ht.jsx("input",{type:"email",placeholder:"john@example.com",className:"w-full border-b border-gray-300 dark:border-gray-600 focus:border-wa-teal bg-transparent py-2 outline-none text-[#111b21] dark:text-gray-100 transition-colors",value:a,onChange:e=>o(e.target.value),disabled:f})]}),ht.jsxs("div",{className:"relative",children:[ht.jsx("label",{className:"text-xs font-medium text-wa-teal mb-1 block",children:"Password"}),ht.jsx("input",{type:u?"text":"password",placeholder:"Create a password (min 6 characters)",className:"w-full border-b border-gray-300 dark:border-gray-600 focus:border-wa-teal bg-transparent py-2 outline-none text-[#111b21] dark:text-gray-100 transition-colors pr-8",value:l,onChange:e=>c(e.target.value),disabled:f}),ht.jsx("button",{type:"button",onClick:()=>d(!u),className:"absolute right-0 bottom-2 text-gray-500 dark:text-gray-400 hover:text-wa-teal",disabled:f,children:u?ht.jsx(y,{size:18}):ht.jsx(b,{size:18})})]})]}),ht.jsx("button",{type:"submit",disabled:!r||!a||!l||f,className:`w-full py-3 rounded-full font-bold text-white transition-all mt-6\n                        ${r&&a&&l&&!f?"bg-wa-teal hover:bg-wa-tealDark shadow-md active:scale-95":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"}\n                    `,children:f?"Creating Account...":"Create Account"}),ht.jsx("div",{className:"text-center",children:ht.jsxs("p",{className:"text-sm text-[#667781] dark:text-gray-400",children:["Already have an account? ",ht.jsx("span",{onClick:()=>e("/login"),className:"text-wa-teal font-medium cursor-pointer hover:underline",children:"Log in"})]})})]})})},eP=()=>{var e,t;const s=i(),a=r(),{login:o,updateUserProfile:l}=YI(),[c,u]=n.useState(["","","","","",""]),d=n.useRef([]),[f,h]=n.useState(!1),[m,p]=n.useState(null),g=(null==(e=a.state)?void 0:e.email)||"your email",v=null==(t=a.state)?void 0:t.name;n.useEffect(()=>{fetch("https://lottie.host/80362206-8207-4467-bc82-9694e9f7336e/Gu7XQ72ZkZ.json").then(e=>e.json()).then(e=>p(e)).catch(e=>{})},[]);return ht.jsx(XI,{title:"Verify your email",subtitle:`We've sent a 6-digit code to ${g}.`,children:ht.jsxs("form",{onSubmit:e=>{e.preventDefault();c.join("").length<6||(h(!0),setTimeout(()=>{v&&l(v,"Available","https://picsum.photos/seed/newuser/200"),o(),s("/chats"),h(!1)},1500))},className:"flex flex-col items-center gap-6",children:[ht.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 -mt-4",children:m&&ht.jsx(it,{animationData:m,loop:!0})}),ht.jsx("div",{className:"flex gap-2 justify-center w-full",children:c.map((e,t)=>ht.jsx("input",{ref:e=>{d.current[t]=e},type:"text",maxLength:6,className:"w-10 h-12 md:w-12 md:h-14 border-b-2 border-gray-300 dark:border-gray-600 focus:border-wa-teal bg-transparent text-center text-xl font-medium outline-none text-[#111b21] dark:text-gray-100 transition-all focus:scale-110 focus:border-b-4",value:e,onChange:e=>((e,t)=>{var n,i,r;if(t.length>1){const r=t.split("").slice(0,6),s=[...c];return r.forEach((t,n)=>{e+n<6&&(s[e+n]=t)}),u(s),void(e+r.length<6?null==(n=d.current[e+r.length])||n.focus():null==(i=d.current[5])||i.focus())}const s=[...c];s[e]=t,u(s),t&&e<5&&(null==(r=d.current[e+1])||r.focus())})(t,e.target.value),onKeyDown:e=>((e,t)=>{var n;"Backspace"===t.key&&!c[e]&&e>0&&(null==(n=d.current[e-1])||n.focus())})(t,e)},t))}),ht.jsx("div",{className:"text-center space-y-4 w-full",children:ht.jsx("button",{type:"button",className:"text-wa-teal font-medium text-sm hover:underline flex items-center justify-center gap-1 mx-auto",children:"Resend Email"})}),ht.jsx("button",{type:"submit",disabled:c.join("").length<6||f,className:`w-full py-3 rounded-full font-bold text-white transition-all mt-2\n                        ${c.join("").length<6||f?"bg-gray-300 dark:bg-gray-700 cursor-not-allowed":"bg-wa-teal hover:bg-wa-tealDark shadow-md active:scale-95"}\n                    `,children:f?"Verifying...":"Verify"})]})})};const tP=new class{constructor(){this.peerConnections=new Map,this.localStreams=new Map,this.iceServers={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}]}}createPeerConnection(e,t,n,i,r){try{const t=new RTCPeerConnection(this.iceServers);return t.onicecandidate=e=>{e.candidate&&(null==n||n(e.candidate))},t.ontrack=e=>{null==i||i(e.streams[0])},t.onconnectionstatechange=()=>{const n=t.connectionState;null==r||r(n),"disconnected"!==n&&"failed"!==n&&"closed"!==n||this.closePeerConnection(e)},t.oniceconnectionstatechange=()=>{},this.peerConnections.set(e,t),t}catch(s){throw s}}async getLocalStream(e=!0,t=!1){try{const n={audio:!!e&&{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0},video:!!t&&{width:{ideal:1280},height:{ideal:720},facingMode:"user"}};return await navigator.mediaDevices.getUserMedia(n)}catch(n){throw n}}addLocalStream(e,t){const n=this.peerConnections.get(e);n&&(t.getTracks().forEach(e=>{n.addTrack(e,t)}),this.localStreams.set(e,t))}async createOffer(e){try{const t=this.peerConnections.get(e);if(!t)throw new Error("No peer connection found");const n=await t.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});return await t.setLocalDescription(n),n}catch(t){throw t}}async createAnswer(e,t){try{const n=this.peerConnections.get(e);if(!n)throw new Error("No peer connection found");await n.setRemoteDescription(new RTCSessionDescription(t));const i=await n.createAnswer();return await n.setLocalDescription(i),i}catch(n){throw n}}async setRemoteAnswer(e,t){try{const n=this.peerConnections.get(e);if(!n)throw new Error("No peer connection found");await n.setRemoteDescription(new RTCSessionDescription(t))}catch(n){throw n}}async addIceCandidate(e,t){try{const n=this.peerConnections.get(e);if(!n)return;await n.addIceCandidate(new RTCIceCandidate(t))}catch(n){}}toggleAudio(e,t){const n=this.localStreams.get(e);n&&n.getAudioTracks().forEach(e=>{e.enabled=t})}toggleVideo(e,t){const n=this.localStreams.get(e);n&&n.getVideoTracks().forEach(e=>{e.enabled=t})}async switchCamera(e){try{const t=this.localStreams.get(e);if(!t)return;const n=t.getVideoTracks()[0];if(!n)return;const i="user"===n.getSettings().facingMode?"environment":"user";n.stop();const r=(await navigator.mediaDevices.getUserMedia({video:{facingMode:i}})).getVideoTracks()[0],s=this.peerConnections.get(e).getSenders().find(e=>{var t;return"video"===(null==(t=e.track)?void 0:t.kind)});s&&await s.replaceTrack(r),t.removeTrack(n),t.addTrack(r)}catch(t){}}async getConnectionStats(e){try{const t=this.peerConnections.get(e);if(!t)return null;const n=await t.getStats(),i={audio:{bitrate:0,packetsLost:0},video:{bitrate:0,packetsLost:0}};return n.forEach(e=>{"inbound-rtp"===e.type&&("audio"===e.kind?(i.audio.bitrate=e.bytesReceived,i.audio.packetsLost=e.packetsLost):"video"===e.kind&&(i.video.bitrate=e.bytesReceived,i.video.packetsLost=e.packetsLost))}),i}catch(t){return null}}closePeerConnection(e){const t=this.localStreams.get(e);t&&(t.getTracks().forEach(e=>e.stop()),this.localStreams.delete(e));const n=this.peerConnections.get(e);n&&(n.close(),this.peerConnections.delete(e))}hasConnection(e){return this.peerConnections.has(e)}getPeerConnection(e){return this.peerConnections.get(e)||null}getLocalStream(e){return this.localStreams.get(e)||null}createDataChannel(e,t="data",n={}){try{const i=this.peerConnections.get(e);if(!i)return null;return i.createDataChannel(t,{ordered:!0,...n})}catch(i){return null}}async replaceVideoTrack(e,t){try{const n=this.peerConnections.get(e);if(!n)return!1;const i=n.getSenders().find(e=>{var t;return"video"===(null==(t=e.track)?void 0:t.kind)});return!!i&&(await i.replaceTrack(t),!0)}catch(n){return!1}}async replaceAudioTrack(e,t){try{const n=this.peerConnections.get(e);if(!n)return!1;const i=n.getSenders().find(e=>{var t;return"audio"===(null==(t=e.track)?void 0:t.kind)});return!!i&&(await i.replaceTrack(t),!0)}catch(n){return!1}}async enterPictureInPicture(e){try{if(!document.pictureInPictureEnabled)return;document.pictureInPictureElement&&await document.exitPictureInPicture(),await e.requestPictureInPicture()}catch(t){throw t}}async exitPictureInPicture(){try{document.pictureInPictureElement&&await document.exitPictureInPicture()}catch(e){}}async startScreenShare(e){try{const t=await navigator.mediaDevices.getDisplayMedia({video:{cursor:"always",displaySurface:"monitor"},audio:!1}),n=this.peerConnections.get(e);if(!n)throw new Error("No peer connection found");const i=n.getSenders().find(e=>{var t;return"video"===(null==(t=e.track)?void 0:t.kind)});if(i){const n=t.getVideoTracks()[0];return await i.replaceTrack(n),n.onended=()=>{this.stopScreenShare(e)},t}throw new Error("No video sender found")}catch(t){throw t}}async stopScreenShare(e){try{const t=this.peerConnections.get(e);if(!t)throw new Error("No peer connection found");const n=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"}}),i=t.getSenders().find(e=>{var t;return"video"===(null==(t=e.track)?void 0:t.kind)});if(i){const t=n.getVideoTracks()[0];await i.replaceTrack(t);const r=this.localStreams.get(e);if(r){const e=r.getVideoTracks()[0];e&&(r.removeTrack(e),e.stop()),r.addTrack(t)}}}catch(t){throw t}}};const nP=new class{constructor(){this.activeListeners=new Map}async initiateCall(e,t,n){try{const i=`call_${Date.now()}_${e}`,r=$T(vI,`calls/${i}`),s={callId:i,caller:e,callee:t,type:n,status:"ringing",createdAt:rE(),offer:null,answer:null};return await HT(r,s),{success:!0,callId:i}}catch(i){return{success:!1,error:i.message}}}async sendOffer(e,t){try{const n=$T(vI,`calls/${e}/offer`);await HT(n,{type:t.type,sdp:t.sdp})}catch(n){throw n}}async sendAnswer(e,t){try{const n=$T(vI,`calls/${e}/answer`);await HT(n,{type:t.type,sdp:t.sdp}),await this.updateCallStatus(e,"accepted")}catch(n){throw n}}async sendIceCandidate(e,t,n){try{const i=$T(vI,`calls/${e}/${n?"callerCandidates":"calleeCandidates"}`);await function(e,t){e=_r(e),aT("push",e._path),nT("push",t,e._path,!0);const n=gT(e._repo),i=OT(n),r=WT(e,i),s=WT(e,i);let a;return a=null!=t?HT(s,t).then(()=>s):Promise.resolve(s),r.then=a.then.bind(a),r.catch=a.then.bind(a,void 0),r}(i,{candidate:t.candidate,sdpMid:t.sdpMid,sdpMLineIndex:t.sdpMLineIndex,timestamp:Date.now()})}catch(i){}}listenForIncomingCalls(e,t){const n=$T(vI,"calls"),i=n=>{if(!n.exists())return;const i=n.val();Object.entries(i).forEach(([n,i])=>{i.callee===e&&"ringing"===i.status&&t({callId:n,...i})})};return XT(n,i),this.activeListeners.set(`incoming_${e}`,{ref:n,handler:i}),()=>{JT(n,"value",i),this.activeListeners.delete(`incoming_${e}`)}}listenForAnswer(e,t){const n=$T(vI,`calls/${e}/answer`),i=e=>{if(e.exists()){const r=e.val();t(r),JT(n,"value",i)}};return XT(n,i),()=>{JT(n,"value",i)}}listenForOffer(e,t){const n=$T(vI,`calls/${e}/offer`),i=e=>{if(e.exists()){const r=e.val();t(r),JT(n,"value",i)}};return XT(n,i),()=>{JT(n,"value",i)}}listenForIceCandidates(e,t,n){const i=$T(vI,`calls/${e}/${t?"calleeCandidates":"callerCandidates"}`),r=e=>{if(e.exists()){const t=e.val();Object.values(t).forEach(e=>{n({candidate:e.candidate,sdpMid:e.sdpMid,sdpMLineIndex:e.sdpMLineIndex})})}};return XT(i,r),()=>{JT(i,"value",r)}}listenForStatusChange(e,t){const n=$T(vI,`calls/${e}/status`),i=e=>{if(e.exists()){const n=e.val();t(n)}};return XT(n,i),()=>{JT(n,"value",i)}}async updateCallStatus(e,t){try{const n=$T(vI,`calls/${e}/status`);if(await HT(n,t),"ended"===t||"missed"===t||"rejected"===t){const t=$T(vI,`calls/${e}/endedAt`);await HT(t,rE())}}catch(n){}}async endCall(e){try{await this.updateCallStatus(e,"ended")}catch(t){}}async rejectCall(e){try{await this.updateCallStatus(e,"rejected")}catch(t){}}async markAsMissed(e){try{await this.updateCallStatus(e,"missed")}catch(t){}}async getCallData(e){try{const t=$T(vI,`calls/${e}`);return new Promise(e=>{XT(t,t=>{t.exists()?e(t.val()):e(null)},{onlyOnce:!0})})}catch(t){return null}}async deleteCall(e){try{const n=$T(vI,`calls/${e}`);await(t=n,aT("remove",t._path),HT(t,null))}catch(n){}var t}cleanupListeners(){this.activeListeners.forEach((e,t)=>{JT(e.ref,"value",e.handler)}),this.activeListeners.clear()}async createGroupCall(e,t,n){try{const i=`group_call_${Date.now()}_${e}`,r=$T(vI,`calls/${i}`),s={callId:i,caller:e,participants:t.reduce((t,n)=>(t[n]={joined:n===e,joinedAt:n===e?rE():null,status:n===e?"connected":"pending"},t),{}),type:n,isGroupCall:!0,status:"active",createdAt:rE()};return await HT(r,s),{success:!0,callId:i}}catch(i){return{success:!1,error:i.message}}}async joinGroupCall(e,t){try{const n=$T(vI,`calls/${e}/participants/${t}`);await GT(n,{joined:!0,joinedAt:rE(),status:"connected"})}catch(n){}}async leaveGroupCall(e,t){try{const n=$T(vI,`calls/${e}/participants/${t}`);await GT(n,{joined:!1,leftAt:rE(),status:"disconnected"})}catch(n){}}async getActiveParticipants(e){try{const t=$T(vI,`calls/${e}/participants`);return new Promise(e=>{XT(t,t=>{if(t.exists()){const n=t.val(),i=Object.entries(n).filter(([e,t])=>t.joined&&"connected"===t.status).map(([e])=>e);e(i)}else e([])},{onlyOnce:!0})})}catch(t){return[]}}listenForParticipantChanges(e,t){const n=$T(vI,`calls/${e}/participants`),i=e=>{if(e.exists()){const n=e.val(),i=Object.entries(n).filter(([e,t])=>t.joined&&"connected"===t.status).map(([e])=>e);t(i,n)}};return XT(n,i),()=>{JT(n,"value",i)}}async sendGroupCallOffer(e,t,n){try{const i=$T(vI,`calls/${e}/offers/${t}`);await HT(i,{type:n.type,sdp:n.sdp,timestamp:rE()})}catch(i){}}async sendGroupCallAnswer(e,t,n){try{const i=$T(vI,`calls/${e}/answers/${t}`);await HT(i,{type:n.type,sdp:n.sdp,timestamp:rE()})}catch(i){}}listenForGroupCallOffers(e,t,n){const i=$T(vI,`calls/${e}/offers/${t}`),r=e=>{if(e.exists()){const t=e.val();n(t)}};return XT(i,r),()=>{JT(i,"value",r)}}listenForGroupCallAnswers(e,t,n){const i=$T(vI,`calls/${e}/answers/${t}`),r=e=>{if(e.exists()){const t=e.val();n(t)}};return XT(i,r),()=>{JT(i,"value",r)}}};const iP=new class{constructor(){this.activeRecordings=new Map,this.mediaRecorder=null,this.recordedChunks=[]}async startRecording(e,t){try{if(this.activeRecordings.has(e))return{success:!1,error:"Already recording"};this.recordedChunks=[];const n={mimeType:"audio/webm;codecs=opus",audioBitsPerSecond:128e3};this.mediaRecorder=new MediaRecorder(t,n),this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.recordedChunks.push(e.data)},this.mediaRecorder.start(1e3);const i={callId:e,startTime:Date.now(),isRecording:!0};return this.activeRecordings.set(e,i),{success:!0}}catch(n){return{success:!1,error:n.message}}}async stopRecording(e,t){try{const n=this.activeRecordings.get(e);return n&&n.isRecording?new Promise(i=>{this.mediaRecorder.onstop=async()=>{try{const r=new Blob(this.recordedChunks,{type:"audio/webm"}),s=(Date.now()-n.startTime)/1e3,a=await this.uploadRecording(e,r,t);a.success?(this.recordedChunks=[],this.activeRecordings.delete(e),i({success:!0,url:a.url,duration:s,size:r.size})):i(a)}catch(r){i({success:!1,error:r.message})}},this.mediaRecorder.stop()}):{success:!1,error:"No active recording"}}catch(n){return{success:!1,error:n.message}}}async uploadRecording(e,t,n){try{const s=`call-recordings/${e}_${Date.now()}.webm`,a=(r=s,aI(_r(yI),r));await fI(a,t,{contentType:"audio/webm",customMetadata:{callId:e,groupId:n.groupId||"",participants:JSON.stringify(n.participants||[]),timestamp:Date.now().toString()}});return{success:!0,url:await(i=a,rI(i=_r(i)))}}catch(s){return{success:!1,error:s.message}}var i,r}isRecording(e){const t=this.activeRecordings.get(e);return!!t&&t.isRecording}async cancelRecording(e){try{return this.mediaRecorder&&"recording"===this.mediaRecorder.state&&this.mediaRecorder.stop(),this.recordedChunks=[],this.activeRecordings.delete(e),{success:!0}}catch(t){return{success:!1,error:t.message}}}};const rP=new class extends EI{constructor(){super(),this.collectionName="calls"}async logCall(e){try{const t=ux(gI,this.collectionName),n={userId:e.userId,contactId:e.contactId,type:e.type,direction:e.direction,timestamp:P_(),duration:e.duration||null,status:e.status||"completed"},i=await C_(t,n);return{success:!0,callId:i.id,call:{id:i.id,...n}}}catch(t){throw TI(t)}}async updateCallDuration(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{duration:t,status:"completed"}),{success:!0}}catch(n){throw TI(n)}}async getCallHistory(e,t=50){try{const n=t_(ux(gI,this.collectionName),i_("userId","==",e),a_("timestamp","desc"),l_(t)),i=await k_(n);return{success:!0,calls:i.docs.map(e=>({id:e.id,...e.data()}))}}catch(n){throw TI(n)}}async deleteCall(e){try{const t=dx(gI,this.collectionName,e);return await S_(t),{success:!0}}catch(t){throw TI(t)}}subscribeToCallHistory(e,t,n){const i=[i_("userId","==",e),a_("timestamp","desc")];return this.subscribeToCollection(this.collectionName,i,t,n)}};const sP=new class{constructor(){this.listeners=new Map}async sendNotification(e,t,n,i={}){try{if(e===t)return{success:!0,message:"Self-notification skipped"};const s=await MI.createNotification(e,t,n,i);if(!s.success)return{success:!1,error:"Failed to create notification"};try{await this.sendPushNotification(e,t,n,i)}catch(r){}return{success:!0,notificationId:s.notificationId}}catch(s){return{success:!1,error:s.message||"Failed to send notification"}}}async sendPushNotification(e,t,n,i={}){var r,s;try{const a=await zI.getUser(e);if(!a.success||!(null==(r=a.user)?void 0:r.fcmToken))return;const o=await zI.getUser(t),l=o.success&&(null==(s=o.user)?void 0:s.name)||"Someone",{title:c,body:u,data:d}=this.buildNotificationContent(n,l,i);xI.isSupported()&&xI.showNotification({notification:{title:c,body:u},data:d})}catch(a){throw a}}buildNotificationContent(e,t,n){switch(e){case AI.FOLLOW_REQUEST:return{title:"New Follow Request",body:`${t} requested to follow you`,data:{type:e,actorName:t}};case AI.FOLLOW_ACCEPTED:return{title:"Follow Request Accepted",body:`${t} accepted your follow request`,data:{type:e,actorName:t}};case AI.NEW_FOLLOWER:return{title:"New Follower",body:`${t} started following you`,data:{type:e,actorName:t}};case AI.FOLLOW_BACK:return{title:"New Follower",body:`${t} followed you back`,data:{type:e,actorName:t}};case AI.ADDED_TO_GROUP:return{title:"Added to Group",body:`${t} added you to "${n.groupName||"a group"}"`,data:{type:e,actorName:t,groupId:n.groupId,groupName:n.groupName,chatId:n.groupId,url:`/chat/${n.groupId}`}};case AI.INCOMING_CALL:return{title:`Incoming ${"video"===n.callType?"Video":""} Call`,body:`${t} is calling you`,data:{type:e,actorName:t,callId:n.callId,callType:n.callType,action:"answer_call"}};case AI.MISSED_CALL:return{title:"Missed Call",body:`You missed a ${"video"===n.callType?"video":""} call from ${t}`,data:{type:e,actorName:t,callId:n.callId,callType:n.callType,recordingUrl:n.recordingUrl}};case AI.CALL_DECLINED:return{title:"Call Declined",body:`${t} declined your call`,data:{type:e,actorName:t,callId:n.callId,callType:n.callType}};default:return{title:"New Notification",body:`${t} sent you a notification`,data:{type:e,actorName:t}}}}subscribeToNotifications(e,t){try{if(this.listeners.has(e))return this.listeners.get(e);const n=ux(gI,"notifications"),i=N_(t_(n,i_("userId","==",e),a_("createdAt","desc")),e=>{const n=e.docs.map(e=>({id:e.id,...e.data()})),i=n.filter(e=>!e.read).length;t({notifications:n,unreadCount:i,totalCount:n.length})},e=>{});return this.listeners.set(e,i),i}catch(n){return()=>{}}}unsubscribeFromNotifications(e){if(this.listeners.has(e)){this.listeners.get(e)(),this.listeners.delete(e)}}async getUnreadCount(e){try{return await MI.getUnreadCount(e)}catch(t){return{success:!1,count:0}}}async markAsRead(e){try{return await MI.markAsRead(e)}catch(t){return{success:!1}}}async markAllAsRead(e){try{return await MI.markAllAsRead(e)}catch(t){return{success:!1}}}async getUserNotifications(e,t=50){try{return await MI.getUserNotifications(e,t)}catch(n){return{success:!1,notifications:[],unreadCount:0}}}async deleteNotification(e){try{return await MI.deleteNotification(e)}catch(t){return{success:!1}}}},aP=Object.freeze(Object.defineProperty({__proto__:null,NOTIFICATION_TYPES:AI,default:sP},Symbol.toStringTag,{value:"Module"}));const oP=new class{constructor(){this.groupCalls=new Map,this.dominantSpeakers=new Map,this.audioMonitors=new Map}async createMeshConnections(e,t,n,i,r={}){var s;try{this.groupCalls.has(e)||this.groupCalls.set(e,new Map);const a=this.groupCalls.get(e);for(const o of n){if(o===t)continue;const n=tP.createPeerConnection(`${e}_${o}`,!0,e=>{var t;null==(t=r.onIceCandidate)||t.call(r,o,e)},e=>{var t;const n=a.get(o);n&&(n.stream=e),null==(t=r.onRemoteStream)||t.call(r,o,e)},e=>{var t;const n=a.get(o);n&&(n.connectionState=e),null==(t=r.onConnectionStateChange)||t.call(r,o,e)});tP.addLocalStream(`${e}_${o}`,i),a.set(o,{peerConnection:n,stream:null,connectionState:"connecting",audioLevel:0});const l=await tP.createOffer(`${e}_${o}`);null==(s=r.onOffer)||s.call(r,o,l)}return this.startAudioMonitoring(e),!0}catch(a){return!1}}async handleAnswer(e,t,n){try{await tP.setRemoteAnswer(`${e}_${t}`,n)}catch(i){}}async handleOffer(e,t,n,i,r={}){try{this.groupCalls.has(e)||this.groupCalls.set(e,new Map);const s=this.groupCalls.get(e),a=tP.createPeerConnection(`${e}_${t}`,!1,e=>{var n;null==(n=r.onIceCandidate)||n.call(r,t,e)},e=>{var n;const i=s.get(t);i&&(i.stream=e),null==(n=r.onRemoteStream)||n.call(r,t,e)},e=>{var n;const i=s.get(t);i&&(i.connectionState=e),null==(n=r.onConnectionStateChange)||n.call(r,t,e)});tP.addLocalStream(`${e}_${t}`,i),s.set(t,{peerConnection:a,stream:null,connectionState:"connecting",audioLevel:0});return await tP.createAnswer(`${e}_${t}`,n)}catch(s){throw s}}async addIceCandidate(e,t,n){try{await tP.addIceCandidate(`${e}_${t}`,n)}catch(i){}}async addParticipant(e,t,n,i={}){await this.createMeshConnections(e,"local",[t],n,i)}removeParticipant(e,t){const n=this.groupCalls.get(e);n&&(tP.closePeerConnection(`${e}_${t}`),n.delete(t),0===n.size&&this.cleanupCall(e))}getParticipantStreams(e){const t=this.groupCalls.get(e);if(!t)return new Map;const n=new Map;return t.forEach((e,t)=>{e.stream&&n.set(t,e.stream)}),n}getParticipantCount(e){const t=this.groupCalls.get(e);return t?t.size:0}startAudioMonitoring(e){this.stopAudioMonitoring(e);const t=setInterval(()=>{const t=this.groupCalls.get(e);if(!t||0===t.size)return void this.stopAudioMonitoring(e);let n=0,i=null;if(t.forEach((e,t)=>{if(e.stream){const r=this.getAudioLevel(e.stream);e.audioLevel=r,r>n&&(n=r,i=t)}}),n>.1){this.dominantSpeakers.get(e)!==i&&this.dominantSpeakers.set(e,i)}},500);this.audioMonitors.set(e,t)}stopAudioMonitoring(e){const t=this.audioMonitors.get(e);t&&(clearInterval(t),this.audioMonitors.delete(e))}getAudioLevel(e){try{return 0===e.getAudioTracks().length?0:Math.random()}catch(t){return 0}}getDominantSpeaker(e){return this.dominantSpeakers.get(e)||null}isGroupCall(e){const t=this.groupCalls.get(e);return!!t&&t.size>1}cleanupCall(e){const t=this.groupCalls.get(e);t&&(t.forEach((t,n)=>{tP.closePeerConnection(`${e}_${n}`)}),t.clear()),this.stopAudioMonitoring(e),this.groupCalls.delete(e),this.dominantSpeakers.delete(e)}cleanup(){this.groupCalls.forEach((e,t)=>{this.cleanupCall(t)}),this.groupCalls.clear(),this.dominantSpeakers.clear()}};const lP=new class{constructor(){this.dataChannels=new Map,this.recentReactions=new Map,this.lastReactionTime=new Map,this.THROTTLE_MS=2e3,this.REACTIONS=["","","","","",""]}createDataChannel(e,t,n,i){try{const r=n.createDataChannel("reactions",{ordered:!0});r.onopen=()=>{},r.onmessage=n=>{try{const r=JSON.parse(n.data);"reaction"===r.type&&(this.addRecentReaction(e,{participantId:t,emoji:r.emoji,timestamp:Date.now()}),null==i||i(t,r.emoji))}catch(r){}},r.onerror=e=>{},r.onclose=()=>{},this.dataChannels.has(e)||this.dataChannels.set(e,new Map),this.dataChannels.get(e).set(t,r),n.ondatachannel=n=>{const i=n.channel;i.onmessage=r.onmessage,i.onerror=r.onerror,i.onclose=r.onclose,this.dataChannels.get(e).set(t,i)}}catch(r){}}sendReaction(e,t){try{if(!this.REACTIONS.includes(t))return!1;const n=this.lastReactionTime.get(e)||0,i=Date.now();if(i-n<this.THROTTLE_MS)return!1;const r=this.dataChannels.get(e);if(!r||0===r.size)return!1;const s=JSON.stringify({type:"reaction",emoji:t,timestamp:i});let a=0;return r.forEach((e,t)=>{if("open"===e.readyState)try{e.send(s),a++}catch(n){}}),a>0&&(this.lastReactionTime.set(e,i),this.addRecentReaction(e,{participantId:"self",emoji:t,timestamp:i}),!0)}catch(n){return!1}}addRecentReaction(e,t){this.recentReactions.has(e)||this.recentReactions.set(e,[]);const n=this.recentReactions.get(e);n.push(t),n.length>50&&n.shift();const i=Date.now()-1e4,r=n.filter(e=>e.timestamp>i);this.recentReactions.set(e,r)}getRecentReactions(e,t=10){return(this.recentReactions.get(e)||[]).slice(-t)}getAvailableReactions(){return[...this.REACTIONS]}canSendReaction(e){const t=this.lastReactionTime.get(e)||0,n=Date.now()-t;return n>=this.THROTTLE_MS?{canSend:!0,waitTime:0}:{canSend:!1,waitTime:Math.ceil((this.THROTTLE_MS-n)/1e3)}}closeDataChannel(e,t){const n=this.dataChannels.get(e);if(!n)return;const i=n.get(t);if(i){try{i.close()}catch(r){}n.delete(t)}}cleanupCall(e){const t=this.dataChannels.get(e);t&&(t.forEach((e,t)=>{try{e.close()}catch(n){}}),t.clear()),this.dataChannels.delete(e),this.recentReactions.delete(e),this.lastReactionTime.delete(e)}cleanup(){this.dataChannels.forEach((e,t)=>{this.cleanupCall(t)}),this.dataChannels.clear(),this.recentReactions.clear(),this.lastReactionTime.clear()}};var cP,uP={};function dP(){return cP||(cP=1,function(){var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof p&&p];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,t){if(t)e:{var r=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in r))break e;r=r[a]}(t=t(s=r[e=e[e.length-1]]))!=s&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function a(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function o(e){if(!(e instanceof Array)){e=a(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}r("Symbol",function(e){function t(e,t){this.h=e,n(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.h};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(i+(n||"")+"_"+r++,n)}}),r("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<r.length;a++){var o=i[r[a]];"function"==typeof o&&"function"!=typeof o.prototype[e]&&n(o.prototype,e,{configurable:!0,writable:!0,value:function(){return s(t(this))}})}return e});var l="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};r("Object.assign",function(e){return e||l});var c,u="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)c=Object.setPrototypeOf;else{var d;e:{var f={};try{f.__proto__={a:!0},d=f.a;break e}catch(bn){}d=!1}c=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var h=c;function m(e,t){if(e.prototype=u(t.prototype),e.prototype.constructor=e,h)h(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.za=t.prototype}function g(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function v(e){if(e.m)throw new TypeError("Generator is already running");e.m=!0}function y(e,t){e.l={ma:t,na:!0},e.h=e.s||e.v}function b(e,t,n){return e.h=n,{value:t}}function w(e){this.h=new g,this.i=e}function k(e,t,n,i){try{var r=t.call(e.h.j,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.h.m=!1,r;var s=r.value}catch(a){return e.h.j=null,y(e.h,a),x(e)}return e.h.j=null,i.call(e.h,s),x(e)}function x(e){for(;e.h.h;)try{var t=e.i(e.h);if(t)return e.h.m=!1,{value:t.value,done:!1}}catch(n){e.h.i=void 0,y(e.h,n)}if(e.h.m=!1,e.h.l){if(t=e.h.l,e.h.l=null,t.na)throw t.ma;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function _(e){this.next=function(t){return v(e.h),e.h.j?t=k(e,e.h.j.next,t,e.h.u):(e.h.u(t),t=x(e)),t},this.throw=function(t){return v(e.h),e.h.j?t=k(e,e.h.j.throw,t,e.h.u):(y(e.h,t),t=x(e)),t},this.return=function(t){return function(e,t){v(e.h);var n=e.h.j;return n?k(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.h.return):(e.h.return(t),x(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function S(e){return function(e){function t(t){return e.next(t)}function n(t){return e.throw(t)}return new Promise(function(i,r){!function e(s){s.done?i(s.value):Promise.resolve(s.value).then(t,n).then(e,r)}(e.next())})}(new _(new w(e)))}function C(e){return e||Array.prototype.fill}g.prototype.u=function(e){this.i=e},g.prototype.return=function(e){this.l={return:e},this.h=this.v},r("Promise",function(e){function t(e){this.i=0,this.j=void 0,this.h=[],this.u=!1;var t=this.l();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.h=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.i=function(e){if(null==this.h){this.h=[];var t=this;this.j(function(){t.m()})}this.h.push(e)};var s=i.setTimeout;n.prototype.j=function(e){s(e,0)},n.prototype.m=function(){for(;this.h&&this.h.length;){var e=this.h;this.h=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.l(i)}}}this.h=null},n.prototype.l=function(e){this.j(function(){throw e})},t.prototype.l=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.I),reject:e(this.m)}},t.prototype.I=function(e){if(e===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.L(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.F(e):this.s(e)}},t.prototype.F=function(e){var t=void 0;try{t=e.then}catch(n){return void this.m(n)}"function"==typeof t?this.M(t,e):this.s(e)},t.prototype.m=function(e){this.v(2,e)},t.prototype.s=function(e){this.v(1,e)},t.prototype.v=function(e,t){if(0!=this.i)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.i);this.i=e,this.j=t,2===this.i&&this.K(),this.H()},t.prototype.K=function(){var e=this;s(function(){if(e.D()){var t=i.console;void 0!==t&&t.error(e.j)}},1)},t.prototype.D=function(){if(this.u)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.j,n(e))},t.prototype.H=function(){if(null!=this.h){for(var e=0;e<this.h.length;++e)o.i(this.h[e]);this.h=null}};var o=new n;return t.prototype.L=function(e){var t=this.l();e.T(t.resolve,t.reject)},t.prototype.M=function(e,t){var n=this.l();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){s(n)}}:t}var r,s,a=new t(function(e,t){r=e,s=t});return this.T(i(e,r),i(n,s)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.T=function(e,t){function n(){switch(i.i){case 1:e(i.j);break;case 2:t(i.j);break;default:throw Error("Unexpected state: "+i.i)}}var i=this;null==this.h?o.i(n):this.h.push(n),this.u=!0},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=a(e),s=i.next();!s.done;s=i.next())r(s.value).T(t,n)})},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t(function(e,t){function s(t){return function(n){a[t]=n,0==--o&&e(a)}}var a=[],o=0;do{a.push(void 0),o++,r(i.value).T(s(a.length-1),t),i=n.next()}while(!i.done)})},t}),r("Array.prototype.keys",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(e){return e})}}),r("Array.prototype.fill",function(e){return e||function(e,t,n){var i=this.length||0;for(0>t&&(t=Math.max(0,i+t)),(null==n||n>i)&&(n=i),0>(n=Number(n))&&(n=Math.max(0,i+n)),t=Number(t||0);t<n;t++)this[t]=e;return this}}),r("Int8Array.prototype.fill",C),r("Uint8Array.prototype.fill",C),r("Uint8ClampedArray.prototype.fill",C),r("Int16Array.prototype.fill",C),r("Uint16Array.prototype.fill",C),r("Int32Array.prototype.fill",C),r("Uint32Array.prototype.fill",C),r("Float32Array.prototype.fill",C),r("Float64Array.prototype.fill",C),r("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),r("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}}),r("String.prototype.includes",function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}});var N=this||self;function j(e,t){e=e.split(".");var n,i=N;e[0]in i||void 0===i.execScript||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function T(e){var t;return(t=N.navigator)&&(t=t.userAgent)||(t=""),-1!=t.indexOf(e)}var E=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,i=Array(n),r="string"==typeof e?e.split(""):e,s=0;s<n;s++)s in r&&(i[s]=t.call(void 0,r[s],s,e));return i},I={},P=null;function A(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var i=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=P[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}M();for(var i=0;;){var r=n(-1),s=n(0),a=n(64),o=n(64);if(64===o&&-1===r)break;t(r<<2|s>>4),64!=a&&(t(s<<4&240|a>>2),64!=o&&t(a<<6&192|o))}}(e,function(e){i[r++]=e}),r!==n?i.subarray(0,r):i}function M(){if(!P){P={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=e.concat(t[n].split(""));I[n]=i;for(var r=0;r<i.length;r++){var s=i[r];void 0===P[s]&&(P[s]=r)}}}}var R="undefined"!=typeof Uint8Array,D=!(T("Trident")||T("MSIE"))&&"function"==typeof N.btoa;function L(e){if(!D){var t;void 0===t&&(t=0),M(),t=I[t];for(var n=Array(Math.floor(e.length/3)),i=t[64]||"",r=0,s=0;r<e.length-2;r+=3){var a=e[r],o=e[r+1],l=e[r+2],c=t[a>>2];a=t[(3&a)<<4|o>>4],o=t[(15&o)<<2|l>>6],l=t[63&l],n[s++]=c+a+o+l}switch(c=0,l=i,e.length-r){case 2:l=t[(15&(c=e[r+1]))<<2]||i;case 1:e=e[r],n[s]=t[e>>2]+t[(3&e)<<4|c>>4]+l+i}return n.join("")}for(t="";10240<e.length;)t+=String.fromCharCode.apply(null,e.subarray(0,10240)),e=e.subarray(10240);return t+=String.fromCharCode.apply(null,e),btoa(t)}var O,F=RegExp("[-_.]","g");function z(e){switch(e){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function U(e){if(!D)return A(e);F.test(e)&&(e=e.replace(F,z)),e=atob(e);for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function B(){return O||(O=new Uint8Array(0))}var V={},q="function"==typeof Uint8Array.prototype.slice,$=0,W=0;function H(e){var t=0>e,n=(e=Math.abs(e))>>>0;e=Math.floor((e-n)/4294967296),t&&(t=(n=a(Y(n,e))).next().value,e=n.next().value,n=t),$=n>>>0,W=e>>>0}var G,K="function"==typeof BigInt;function Y(e,t){return t=~t,e?e=1+~e:t+=1,[e,t]}function Q(e,t){this.i=e>>>0,this.h=t>>>0}function X(e){if(!e)return G||(G=new Q(0,0));if(!/^-?\d+$/.test(e))return null;if(16>e.length)H(Number(e));else if(K)e=BigInt(e),$=Number(e&BigInt(4294967295))>>>0,W=Number(e>>BigInt(32)&BigInt(4294967295));else{var t=+("-"===e[0]);W=$=0;for(var n=e.length,i=t,r=(n-t)%6+t;r<=n;i=r,r+=6)i=Number(e.slice(i,r)),W*=1e6,4294967296<=($=1e6*$+i)&&(W+=$/4294967296|0,$%=4294967296);t&&(e=(t=a(Y($,W))).next().value,t=t.next().value,$=e,W=t)}return new Q($,W)}function J(e,t){return Error("Invalid wire type: "+e+" (at position "+t+")")}function Z(){return Error("Failed to read varint, encoding is invalid.")}function ee(e,t){return Error("Tried to read past the end of the data "+t+" > "+e)}function te(){throw Error("Invalid UTF8")}function ne(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var ie,re,se,ae=void 0,oe="undefined"!=typeof TextDecoder,le="undefined"!=typeof TextEncoder;function ce(e){if(e!==V)throw Error("illegal external caller")}function ue(e,t){if(ce(t),this.V=e,null!=e&&0===e.length)throw Error("ByteString should be constructed with non-empty values")}function de(){return se||(se=new ue(null,V))}function fe(e){ce(V);var t=e.V;return null==(t=null==t||R&&null!=t&&t instanceof Uint8Array?t:"string"==typeof t?U(t):null)?t:e.V=t}function he(e,t){this.i=null,this.m=!1,this.h=this.j=this.l=0,me(this,e,t)}function me(e,t,n){n=void 0===n?{}:n,e.S=void 0!==n.S&&n.S,t&&(t=function(e){if("string"==typeof e)return{buffer:U(e),C:!1};if(Array.isArray(e))return{buffer:new Uint8Array(e),C:!1};if(e.constructor===Uint8Array)return{buffer:e,C:!1};if(e.constructor===ArrayBuffer)return{buffer:new Uint8Array(e),C:!1};if(e.constructor===ue)return{buffer:fe(e)||B(),C:!0};if(e instanceof Uint8Array)return{buffer:new Uint8Array(e.buffer,e.byteOffset,e.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}(t),e.i=t.buffer,e.m=t.C,e.l=0,e.j=e.i.length,e.h=e.l)}function pe(e,t){if(e.h=t,t>e.j)throw ee(e.j,t)}function ge(e){var t=e.i,n=e.h,i=t[n++],r=127&i;if(128&i&&(r|=(127&(i=t[n++]))<<7,128&i&&(r|=(127&(i=t[n++]))<<14,128&i&&(r|=(127&(i=t[n++]))<<21,128&i&&(r|=(i=t[n++])<<28,128&i&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++]&&128&t[n++])))))throw Z();return pe(e,n),r}function ve(e,t){if(0>t)throw Error("Tried to read a negative byte length: "+t);var n=e.h,i=n+t;if(i>e.j)throw ee(t,e.j-n);return e.h=i,n}he.prototype.reset=function(){this.h=this.l};var ye=[];function be(){this.h=[]}function we(e,t,n){for(;0<n||127<t;)e.h.push(127&t|128),t=(t>>>7|n<<25)>>>0,n>>>=7;e.h.push(t)}function ke(e,t){for(;127<t;)e.h.push(127&t|128),t>>>=7;e.h.push(t)}function xe(e,t){if(ye.length){var n=ye.pop();me(n,e,t),e=n}else e=new he(e,t);this.h=e,this.j=this.h.h,this.i=this.l=-1,this.setOptions(t)}function _e(e){var t=e.h;if(t.h==t.j)return!1;e.j=e.h.h;var n=ge(e.h)>>>0;if(t=n>>>3,!(0<=(n&=7)&&5>=n))throw J(n,e.j);if(1>t)throw Error("Invalid field number: "+t+" (at position "+e.j+")");return e.l=t,e.i=n,!0}function Se(e){switch(e.i){case 0:if(0!=e.i)Se(e);else e:{for(var t=(e=e.h).h,n=t+10,i=e.i;t<n;)if(!(128&i[t++])){pe(e,t);break e}throw Z()}break;case 1:pe(e=e.h,e.h+8);break;case 2:2!=e.i?Se(e):(t=ge(e.h)>>>0,pe(e=e.h,e.h+t));break;case 5:pe(e=e.h,e.h+4);break;case 3:for(t=e.l;;){if(!_e(e))throw Error("Unmatched start-group tag: stream EOF");if(4==e.i){if(e.l!=t)throw Error("Unmatched end-group tag");break}Se(e)}break;default:throw J(e.i,e.j)}}be.prototype.length=function(){return this.h.length},be.prototype.end=function(){var e=this.h;return this.h=[],e},xe.prototype.setOptions=function(e){e=void 0===e?{}:e,this.ca=void 0!==e.ca&&e.ca},xe.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};var Ce=[];function Ne(){this.j=[],this.i=0,this.h=new be}function je(e,t){0!==t.length&&(e.j.push(t),e.i+=t.length)}var Te="function"==typeof Symbol&&"symbol"==typeof Symbol()?Symbol():void 0;function Ee(e,t){return Te?e[Te]|=t:void 0!==e.A?e.A|=t:(Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}}),t)}function Ie(e,t){Te?e[Te]&&(e[Te]&=~t):void 0!==e.A&&(e.A&=~t)}function Pe(e){var t;return null==(t=Te?e[Te]:e.A)?0:t}function Ae(e,t){Te?e[Te]=t:void 0!==e.A?e.A=t:Object.defineProperties(e,{A:{value:t,configurable:!0,writable:!0,enumerable:!1}})}function Me(e){return Ee(e,1),e}function Re(e,t){Ae(t,-51&e)}function De(e,t){Ae(t,-41&e|18)}var Le={};function Oe(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)&&e.constructor===Object}var Fe,ze,Ue=[];function Be(e){if(2&Pe(e.o))throw Error("Cannot mutate an immutable Message")}function Ve(e){var t=e.length;(t=t?e[t-1]:void 0)&&Oe(t)?t.g=1:(t={},e.push((t.g=1,t)))}function qe(e){var t=e.i+e.G;return e.B||(e.B=e.o[t]={})}function $e(e,t){return-1===t?null:t>=e.i?e.B?e.B[t]:void 0:e.o[t+e.G]}function We(e,t,n,i){Be(e),He(e,t,n,i)}function He(e,t,n,i){e.j&&(e.j=void 0),t>=e.i||i?qe(e)[t]=n:(e.o[t+e.G]=n,(e=e.B)&&t in e&&delete e[t])}function Ge(e,t,n,i){var r=$e(e,t);Array.isArray(r)||(r=Fe);var s=Pe(r);if(1&s||Me(r),i)2&s||Ee(r,2),1&n||Object.freeze(r);else{i=!(2&n);var a=2&s;1&n||!a?i&&16&s&&!a&&Ie(r,16):He(e,t,r=Me(Array.prototype.slice.call(r)))}return r}function Ke(e,t){var n=$e(e,t),i=null==n?n:"number"==typeof n||"NaN"===n||"Infinity"===n||"-Infinity"===n?Number(n):void 0;return null!=i&&i!==n&&He(e,t,i),i}function Ye(e,t,n,i,r){e.h||(e.h={});var s=e.h[n],a=Ge(e,n,3,r);if(!s){var o=a;s=[];var l=!!(16&Pe(e.o));a=!!(2&Pe(o));var c=o;!r&&a&&(o=Array.prototype.slice.call(o));for(var u=a,d=0;d<o.length;d++){var f=o[d],h=t,m=!1;if(m=void 0!==m&&m,void 0!==(f=Array.isArray(f)?new h(f):m?new h:void 0)){var p=m=Pe(h=f.o);a&&(p|=2),l&&(p|=16),p!=m&&Ae(h,p),h=p,u=u||!!(2&h),s.push(f)}}return e.h[n]=s,t=33|(l=Pe(o)),l!=(t=u?-9&t:8|t)&&(u=o,Object.isFrozen(u)&&(u=Array.prototype.slice.call(u)),Ae(u,t),o=u),c!==o&&He(e,n,o),(r||i&&a)&&Ee(s,2),i&&Object.freeze(s),s}return r||(r=Object.isFrozen(s),i&&!r?Object.freeze(s):!i&&r&&(s=Array.prototype.slice.call(s),e.h[n]=s)),s}function Qe(e,t,n){var i=!!(2&Pe(e.o));if(t=Ye(e,t,n,i,i),e=Ge(e,n,3,i),!(i||8&Pe(e))){for(i=0;i<t.length;i++){if(2&Pe((n=t[i]).o)){var r=lt(n,!1);r.j=n}else r=n;n!==r&&(t[i]=r,e[i]=r.o)}Ee(e,8)}return t}function Xe(e,t,n){if(null!=n&&"number"!=typeof n)throw Error("Value of float/double field must be a number|null|undefined, found "+typeof n+": "+n);We(e,t,n)}function Je(e,t,n,i,r){Be(e);var s=Ye(e,n,t,!1,!1);return n=null!=i?i:new n,e=Ge(e,t,2,!1),null!=r?(s.splice(r,0,n),e.splice(r,0,n.o)):(s.push(n),e.push(n.o)),n.C()&&Ie(e,8),n}function Ze(e,t){return null==e?t:e}function et(e,t,n){return n=void 0===n?0:n,Ze(Ke(e,t),n)}function tt(e,t,n,i){if(null!=e){if(Array.isArray(e))e=nt(e,t,n,void 0!==i);else if(Oe(e)){var r,s={};for(r in e)s[r]=tt(e[r],t,n,i);e=s}else e=t(e,i);return e}}function nt(e,t,n,i){var r=Pe(e);i=i?!!(16&r):void 0,e=Array.prototype.slice.call(e);for(var s=0;s<e.length;s++)e[s]=tt(e[s],t,n,i);return n(r,e),e}function it(e){return e.ja===Le?e.toJSON():function(e){switch(typeof e){case"number":return isFinite(e)?e:String(e);case"object":if(e)if(Array.isArray(e)){if(128&Pe(e))return Ve(e=Array.prototype.slice.call(e)),e}else{if(R&&null!=e&&e instanceof Uint8Array)return L(e);if(e instanceof ue){var t=e.V;return null==t?"":"string"==typeof t?t:e.V=L(t)}}}return e}(e)}function rt(e,t){128&e&&Ve(t)}function st(e,t,n){if(n=void 0===n?De:n,null!=e){if(R&&e instanceof Uint8Array)return e.length?new ue(new Uint8Array(e),V):de();if(Array.isArray(e)){var i=Pe(e);return 2&i?e:!t||32&i||!(16&i||0===i)?(4&(t=Pe(e=nt(e,st,4&i?De:n,!0)))&&2&t&&Object.freeze(e),e):(Ae(e,2|i),e)}return e.ja===Le?ot(e):e}}function at(e,t,n,i,r,s,a){if(e=e.h&&e.h[n]){if(2&(i=Pe(e))?i=e:(De(i,s=E(e,ot)),Object.freeze(s),i=s),Be(t),a=null==i?Fe:Me([]),null!=i){for(s=!!i.length,e=0;e<i.length;e++){var o=i[e];s=s&&!(2&Pe(o.o)),a[e]=o.o}s=1|(s?8:0),((e=Pe(a))&s)!==s&&(Object.isFrozen(a)&&(a=Array.prototype.slice.call(a)),Ae(a,e|s)),t.h||(t.h={}),t.h[n]=i}else t.h&&(t.h[n]=void 0);He(t,n,a,r)}else We(t,n,st(i,s,a),r)}function ot(e){return 2&Pe(e.o)||Ee((e=lt(e,!0)).o,2),e}function lt(e,t){var n=e.o,i=[];Ee(i,16);var r=e.constructor.h;if(r&&i.push(r),r=e.B){i.length=n.length,i.fill(void 0,i.length,n.length);var s={};i[i.length-1]=s}128&Pe(n)&&Ve(i),t=t||e.C()?De:Re,s=e.constructor,ze=i,i=new s(i),ze=void 0,e.R&&(i.R=e.R.slice()),s=!!(16&Pe(n));for(var a=r?n.length-1:n.length,o=0;o<a;o++)at(e,i,o-e.G,n[o],!1,s,t);if(r)for(var l in r)at(e,i,+l,r[l],!0,s,t);return i}function ct(e,t,n){null==e&&(e=ze),ze=void 0;var i,r=this.constructor.i||0,s=0<r,a=this.constructor.h,o=!1;if(null==e){var l=48,c=!0;s&&(r=0,l|=128),Ae(e=a?[a]:[],l)}else{if(!Array.isArray(e))throw Error();if(a&&a!==e[0])throw Error();var u=l=Ee(e,0);if((c=!!(16&u))&&((o=!!(32&u))||(u|=32)),s){if(128&u)r=0;else if(0<e.length){var d=e[e.length-1];if(Oe(d)&&"g"in d){r=0,u|=128,delete d.g;var f,h=!0;for(f in d){h=!1;break}h&&e.pop()}}}else if(128&u)throw Error();l!==u&&Ae(e,u)}if(this.G=(a?0:-1)-r,this.h=void 0,this.o=e,r=(a=this.o.length)-1,a&&Oe(a=this.o[r])?(this.B=a,this.i=r-this.G):void 0!==t&&-1<t?(this.i=Math.max(t,r+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE,!s&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(n)for(t=c&&!o&&!0,s=this.i,c=0;c<n.length;c++)(o=n[c])<s?(r=e[o+=this.G])?ut(r,t):e[o]=Fe:(i||(i=qe(this)),(r=i[o])?ut(r,t):i[o]=Fe)}function ut(e,t){if(Array.isArray(e)){var n=Pe(e),i=1;!t||2&n||(i|=16),(n&i)!==i&&Ae(e,n|i)}}function dt(e,t,n){if(n){var i,r={};for(i in n){var s=n[i],a=s.ra;a||(r.J=s.xa||s.oa.W,s.ia?(r.aa=bt(s.ia),a=function(e){return function(t,n,i){return e.J(t,n,i,e.aa)}}(r)):s.ka?(r.Z=wt(s.da.P,s.ka),a=function(e){return function(t,n,i){return e.J(t,n,i,e.Z)}}(r)):a=r.J,s.ra=a),a(t,e,s.da),r={J:r.J,aa:r.aa,Z:r.Z}}}!function(e,t){if(t=t.R){je(e,e.h.end());for(var n=0;n<t.length;n++)je(e,fe(t[n])||B())}}(t,e)}Ae(Ue,23),Fe=Object.freeze(Ue),ct.prototype.toJSON=function(){return nt(this.o,it,rt)},ct.prototype.C=function(){return!!(2&Pe(this.o))},ct.prototype.ja=Le,ct.prototype.toString=function(){return this.o.toString()};var ft=Symbol();function ht(e,t,n){return e[ft]||(e[ft]=function(e,i){return t(e,i,n)})}function mt(e){var t=e[ft];if(!t){var n=At(e);t=function(e,t){return Mt(e,t,n)},e[ft]=t}return t}function pt(e){var t=function(e){var t=e.ia;return t?mt(t):(t=e.wa)?ht(e.da.P,t,e.ka):void 0}(e),n=e.da,i=e.oa.U;return t?function(e,r){return i(e,r,n,t)}:function(e,t){return i(e,t,n)}}function gt(e,t){var n=e[t];return"function"==typeof n&&0===n.length&&(n=n(),e[t]=n),Array.isArray(n)&&(jt in n||kt in n||0<n.length&&"function"==typeof n[0])?n:void 0}function vt(e,t,n,i,r,s){t.P=e[0];var a=1;if(e.length>a&&"number"!=typeof e[a]){var o=e[a++];n(t,o)}for(;a<e.length;){n=e[a++];for(var l=a+1;l<e.length&&"number"!=typeof e[l];)l++;switch(o=e[a++],l-=a){case 0:i(t,n,o);break;case 1:(l=gt(e,a))?(a++,r(t,n,o,l)):i(t,n,o,e[a++]);break;case 2:r(t,n,o,l=gt(e,l=a++),e[a++]);break;case 3:s(t,n,o,e[a++],e[a++],e[a++]);break;case 4:s(t,n,o,e[a++],e[a++],e[a++],e[a++]);break;default:throw Error("unexpected number of binary field arguments: "+l)}}return t}var yt=Symbol();function bt(e){var t=e[yt];if(!t){var n=Nt(e);t=function(e,t){return Rt(e,t,n)},e[yt]=t}return t}function wt(e,t){var n=e[yt];return n||(n=function(e,n){return dt(e,n,t)},e[yt]=n),n}var kt=Symbol();function xt(e,t){e.push(t)}function _t(e,t,n){e.push(t,n.W)}function St(e,t,n,i){var r=bt(i),s=Nt(i).P,a=n.W;e.push(t,function(e,t,n){return a(e,t,n,s,r)})}function Ct(e,t,n,i,r,s){var a=wt(i,s),o=n.W;e.push(t,function(e,t,n){return o(e,t,n,i,a)})}function Nt(e){var t=e[kt];return t||(t=vt(e,e[kt]=[],xt,_t,St,Ct),jt in e&&kt in e&&(e.length=0),t)}var jt=Symbol();function Tt(e,t){e[0]=t}function Et(e,t,n,i){var r=n.U;e[t]=i?function(e,t,n){return r(e,t,n,i)}:r}function It(e,t,n,i,r){var s=n.U,a=mt(i),o=At(i).P;e[t]=function(e,t,n){return s(e,t,n,o,a,r)}}function Pt(e,t,n,i,r,s,a){var o=n.U,l=ht(i,r,s);e[t]=function(e,t,n){return o(e,t,n,i,l,a)}}function At(e){var t=e[jt];return t||(t=vt(e,e[jt]={},Tt,Et,It,Pt),jt in e&&kt in e&&(e.length=0),t)}function Mt(e,t,n){for(;_e(t)&&4!=t.i;){var i=t.l,r=n[i];if(!r){var s=n[0];s&&(s=s[i])&&(r=n[i]=pt(s))}if(!r||!r(t,e,i)){i=e,s=(r=t).j,Se(r);var a=r;if(!a.ca){if(r=a.h.h-s,a.h.h=s,a=a.h,0==r)r=de();else{if(s=ve(a,r),a.S&&a.m)r=a.i.subarray(s,s+r);else{a=a.i;var o=s;r=o===(r=s+r)?B():q?a.slice(o,r):new Uint8Array(a.subarray(o,r))}r=0==r.length?de():new ue(r,V)}(s=i.R)?s.push(r):i.R=[r]}}}return e}function Rt(e,t,n){for(var i=n.length,r=1==i%2,s=r?1:0;s<i;s+=2)(0,n[s+1])(t,e,n[s]);dt(e,t,r?n[0]:void 0)}function Dt(e,t){return{U:e,W:t}}var Lt=Dt(function(e,t,n){if(5!==e.i)return!1;var i=(e=e.h).i,r=e.h,s=i[r],a=i[r+1],o=i[r+2];return i=i[r+3],pe(e,e.h+4),e=2*((a=(s|a<<8|o<<16|i<<24)>>>0)>>31)+1,s=a>>>23&255,a&=8388607,We(t,n,255==s?a?NaN:1/0*e:0==s?e*Math.pow(2,-149)*a:e*Math.pow(2,s-150)*(a+Math.pow(2,23))),!0},function(e,t,n){if(null!=(t=Ke(t,n))){ke(e.h,8*n+5),e=e.h;var i=+t;0===i?0<1/i?$=W=0:(W=0,$=2147483648):isNaN(i)?(W=0,$=2147483647):34028234663852886e22<(i=(n=0>i?-2147483648:0)?-i:i)?(W=0,$=(2139095040|n)>>>0):11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),W=0,$=(n|i)>>>0):(t=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-t),16777216<=(i=Math.round(8388608*i))&&++t,W=0,$=(n|t+127<<23|8388607&i)>>>0),n=$,e.h.push(n>>>0&255),e.h.push(n>>>8&255),e.h.push(n>>>16&255),e.h.push(n>>>24&255)}}),Ot=Dt(function(e,t,n){if(0!==e.i)return!1;var i=e.h,r=0,s=e=0,a=i.i,o=i.h;do{var l=a[o++];r|=(127&l)<<s,s+=7}while(32>s&&128&l);for(32<s&&(e|=(127&l)>>4),s=3;32>s&&128&l;s+=7)e|=(127&(l=a[o++]))<<s;if(pe(i,o),!(128>l))throw Z();return i=r>>>0,(e=2147483648&(l=e>>>0))&&(l=~l>>>0,0==(i=1+~i>>>0)&&(l=l+1>>>0)),i=4294967296*l+(i>>>0),We(t,n,e?-i:i),!0},function(e,t,n){null!=(t=$e(t,n))&&("string"==typeof t&&X(t),null!=t&&(ke(e.h,8*n),"number"==typeof t?(e=e.h,H(t),we(e,$,W)):(n=X(t),we(e.h,n.i,n.h))))}),Ft=Dt(function(e,t,n){return 0===e.i&&(We(t,n,ge(e.h)),!0)},function(e,t,n){if(null!=(t=$e(t,n))&&null!=t)if(ke(e.h,8*n),e=e.h,0<=(n=t))ke(e,n);else{for(t=0;9>t;t++)e.h.push(127&n|128),n>>=7;e.h.push(1)}}),zt=Dt(function(e,t,n){if(2!==e.i)return!1;var i=ge(e.h)>>>0,r=ve(e=e.h,i);if(e=e.i,oe){var s,a=e;(s=ie)||(s=ie=new TextDecoder("utf-8",{fatal:!0})),e=r+i,a=0===r&&e===a.length?a:a.subarray(r,e);try{var o=s.decode(a)}catch(d){if(void 0===ae){try{s.decode(new Uint8Array([128]))}catch(f){}try{s.decode(new Uint8Array([97])),ae=!0}catch(f){ae=!1}}throw!ae&&(ie=void 0),d}}else{i=(o=r)+i,r=[];for(var l,c,u=null;o<i;)128>(l=e[o++])?r.push(l):224>l?o>=i?te():(c=e[o++],194>l||128!=(192&c)?(o--,te()):r.push((31&l)<<6|63&c)):240>l?o>=i-1?te():128!=(192&(c=e[o++]))||224===l&&160>c||237===l&&160<=c||128!=(192&(a=e[o++]))?(o--,te()):r.push((15&l)<<12|(63&c)<<6|63&a):244>=l?o>=i-2?te():128!=(192&(c=e[o++]))||c-144+(l<<28)>>30||128!=(192&(a=e[o++]))||128!=(192&(s=e[o++]))?(o--,te()):(l=(7&l)<<18|(63&c)<<12|(63&a)<<6|63&s,l-=65536,r.push(55296+(l>>10&1023),56320+(1023&l))):te(),8192<=r.length&&(u=ne(u,r),r.length=0);o=ne(u,r)}return We(t,n,o),!0},function(e,t,n){if(null!=(t=$e(t,n))){var i=!1;if(i=void 0!==i&&i,le){if(i&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(t))throw Error("Found an unpaired surrogate");t=(re||(re=new TextEncoder)).encode(t)}else{for(var r=0,s=new Uint8Array(3*t.length),a=0;a<t.length;a++){var o=t.charCodeAt(a);if(128>o)s[r++]=o;else{if(2048>o)s[r++]=o>>6|192;else{if(55296<=o&&57343>=o){if(56319>=o&&a<t.length){var l=t.charCodeAt(++a);if(56320<=l&&57343>=l){o=1024*(o-55296)+l-56320+65536,s[r++]=o>>18|240,s[r++]=o>>12&63|128,s[r++]=o>>6&63|128,s[r++]=63&o|128;continue}a--}if(i)throw Error("Found an unpaired surrogate");o=65533}s[r++]=o>>12|224,s[r++]=o>>6&63|128}s[r++]=63&o|128}}t=r===s.length?s:s.subarray(0,r)}ke(e.h,8*n+2),ke(e.h,t.length),je(e,e.h.end()),je(e,t)}}),Ut=Dt(function(e,t,n,i,r){if(2!==e.i)return!1;t=Je(t,n,i),n=e.h.j,i=ge(e.h)>>>0;var s=e.h.h+i,a=s-n;if(0>=a&&(e.h.j=s,r(t,e,void 0,void 0,void 0),a=s-e.h.h),a)throw Error("Message parsing ended unexpectedly. Expected to read "+i+" bytes, instead read "+(i-a)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.h.h=s,e.h.j=n,!0},function(e,t,n,i,r){if(null!=(t=Qe(t,i,n)))for(i=0;i<t.length;i++){var s=e;ke(s.h,8*n+2);var a=s.h.end();je(s,a),a.push(s.i),s=a,r(t[i],e),a=e;var o=s.pop();for(o=a.i+a.h.length()-o;127<o;)s.push(127&o|128),o>>>=7,a.i++;s.push(o),a.i++}});function Bt(e){return function(t,n){e:{if(Ce.length){var i=Ce.pop();i.setOptions(n),me(i.h,t,n),t=i}else t=new xe(t,n);try{var r=At(e),s=Mt(new r.P,t,r);break e}finally{(r=t.h).i=null,r.m=!1,r.l=0,r.j=0,r.h=0,r.S=!1,t.l=-1,t.i=-1,100>Ce.length&&Ce.push(t)}s=void 0}return s}}function Vt(e){return function(){var t=new Ne;Rt(this,t,Nt(e)),je(t,t.h.end());for(var n=new Uint8Array(t.i),i=t.j,r=i.length,s=0,a=0;a<r;a++){var o=i[a];n.set(o,s),s+=o.length}return t.j=[n],n}}function qt(e){ct.call(this,e)}m(qt,ct);var $t=[qt,1,Ft,2,Lt,3,zt,4,zt];function Wt(e){ct.call(this,e,-1,Ht)}qt.prototype.l=Vt($t),m(Wt,ct),Wt.prototype.addClassification=function(e,t){return Je(this,1,qt,e,t),this};var Ht=[1],Gt=Bt([Wt,1,Ut,$t]);function Kt(e){ct.call(this,e)}m(Kt,ct);var Yt=[Kt,1,Lt,2,Lt,3,Lt,4,Lt,5,Lt];function Qt(e){ct.call(this,e,-1,Xt)}Kt.prototype.l=Vt(Yt),m(Qt,ct);var Xt=[1],Jt=Bt([Qt,1,Ut,Yt]);function Zt(e){ct.call(this,e)}m(Zt,ct);var en=[Zt,1,Lt,2,Lt,3,Lt,4,Lt,5,Lt,6,Ot],tn=Bt(en);function nn(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function rn(e){return Qe(e,qt,1).map(function(e){var t=$e(e,1);return{index:null==t?0:t,qa:et(e,2),label:null!=$e(e,3)?Ze($e(e,3),""):void 0,displayName:null!=$e(e,4)?Ze($e(e,4),""):void 0}})}function sn(e){return{x:et(e,1),y:et(e,2),z:et(e,3),visibility:null!=Ke(e,4)?et(e,4):void 0}}function an(e,t){this.i=e,this.h=t,this.m=0}function on(e,t,n){return function(e,t){var n=e.h;if(void 0===e.s){var i=nn(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=nn(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),s=n.createProgram();if(n.attachShader(s,i),n.attachShader(s,r),n.linkProgram(s),!n.getProgramParameter(s,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(s));i=e.s=s,n.useProgram(i),r=n.getUniformLocation(i,"sampler0"),e.l={O:n.getAttribLocation(i,"aVertex"),N:n.getAttribLocation(i,"aTex"),ya:r},e.v=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.enableVertexAttribArray(e.l.O),n.vertexAttribPointer(e.l.O,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.u=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.enableVertexAttribArray(e.l.N),n.vertexAttribPointer(e.l.N,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}i=e.l,n.useProgram(e.s),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.i.bindTexture2d(t.glName),n.enableVertexAttribArray(i.O),n.bindBuffer(n.ARRAY_BUFFER,e.v),n.vertexAttribPointer(i.O,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(i.N),n.bindBuffer(n.ARRAY_BUFFER,e.u),n.vertexAttribPointer(i.N,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(i.O),n.disableVertexAttribArray(i.N),n.bindBuffer(n.ARRAY_BUFFER,null),e.i.bindTexture2d(0)}(e,t),"function"==typeof e.h.canvas.transferToImageBitmap?Promise.resolve(e.h.canvas.transferToImageBitmap()):n?Promise.resolve(e.h.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.h.canvas):(void 0===e.j&&(e.j=document.createElement("canvas")),new Promise(function(t){e.j.height=e.h.canvas.height,e.j.width=e.h.canvas.width,e.j.getContext("2d",{}).drawImage(e.h.canvas,0,0,e.h.canvas.width,e.h.canvas.height),t(e.j)}))}function ln(e){this.h=e}Zt.prototype.l=Vt(en);var cn=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function un(e,t){return t+e}function dn(e,t){window[e]=t}function fn(e){if(this.h=e,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=e&&e.locateFile||un,"object"==typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"==typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.ha=t,e.options)for(var n=(t=a(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var i=e.options[n].default;void 0!==i&&(this.l[n]="function"==typeof i?i():i)}}function hn(e){var t,n,i,r,s,a,l,c,u,d,f;return S(function(h){switch(h.h){case 1:return e.ga?(t=void 0===e.h.files?[]:"function"==typeof e.h.files?e.h.files(e.l):e.h.files,b(h,S(function(e){switch(e.h){case 1:return e.s=2,b(e,WebAssembly.instantiate(cn),4);case 4:e.h=3,e.s=0;break;case 2:return e.s=0,e.l=null,e.return(!1);case 3:return e.return(!0)}}),2)):h.return();case 2:if(n=h.i,"object"==typeof window)return dn("createMediapipeSolutionsWasm",{locateFile:e.locateFile}),dn("createMediapipeSolutionsPackedAssets",{locateFile:e.locateFile}),a=t.filter(function(e){return void 0!==e.data}),l=t.filter(function(e){return void 0===e.data}),c=Promise.all(a.map(function(t){var n=mn(e,t.url);if(void 0!==t.path){var i=t.path;n=n.then(function(t){return e.overrideFile(i,t),Promise.resolve(t)})}return n})),u=Promise.all(l.map(function(t){return void 0===t.simd||t.simd&&n||!t.simd&&!n?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise(function(e){t.addEventListener("load",function(){e()},!1),t.addEventListener("error",function(){e()},!1),document.body.appendChild(t)})}(e.locateFile(t.url,e.ha)):Promise.resolve()})).then(function(){var t,n,i;return S(function(r){if(1==r.h)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,i=e,b(r,t(n),2);i.i=r.i,r.h=0})}),d=S(function(t){return e.h.graph&&e.h.graph.url?t=b(t,mn(e,e.h.graph.url),0):(t.h=0,t=void 0),t}),b(h,Promise.all([u,c,d]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return i=t.filter(function(e){return void 0===e.simd||e.simd&&n||!e.simd&&!n}).map(function(t){return e.locateFile(t.url,e.ha)}),importScripts.apply(null,o(i)),r=e,b(h,createMediapipeSolutionsWasm(Module),6);case 6:r.i=h.i,e.m=new OffscreenCanvas(1,1),e.i.canvas=e.m,s=e.i.GL.createContext(e.m,{antialias:!1,alpha:!1,va:"undefined"!=typeof WebGL2RenderingContext?2:1}),e.i.GL.makeContextCurrent(s),h.h=4;break;case 7:if(e.m=document.createElement("canvas"),!(f=e.m.getContext("webgl2",{}))&&!(f=e.m.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),h.return();e.K=f,e.i.canvas=e.m,e.i.createContext(e.m,!0,!0,{});case 4:e.j=new e.i.SolutionWasm,e.ga=!1,h.h=0}})}function mn(e,t){var n,i;return S(function(r){return t in e.L?r.return(e.L[t]):(n=e.locateFile(t,""),i=fetch(n).then(function(e){return e.arrayBuffer()}),e.L[t]=i,r.return(i))})}function pn(e,t,n){var i,r,s,o,l,c,u,d,f,h,m,p,g,v;return S(function(y){switch(y.h){case 1:if(!n)return y.return(t);for(i={},r=0,s=a(Object.keys(n)),o=s.next();!o.done;o=s.next())l=o.value,"string"!=typeof(c=n[l])&&"texture"===c.type&&void 0!==t[c.stream]&&++r;1<r&&(e.M=!1),u=a(Object.keys(n)),o=u.next();case 2:if(o.done){y.h=4;break}if(d=o.value,"string"==typeof(f=n[d]))return g=i,v=d,b(y,function(e,t,n){var i;return S(function(r){return"number"==typeof n||n instanceof Uint8Array||n instanceof e.i.Uint8BlobList?r.return(n):n instanceof e.i.Texture2dDataOut?((i=e.v[t])||(i=new an(e.i,e.K),e.v[t]=i),r.return(on(i,n,e.M))):r.return(void 0)})}(e,d,t[f]),14);if(h=t[f.stream],"detection_list"===f.type){if(h){for(var w=h.getRectList(),k=h.getLandmarksList(),x=h.getClassificationsList(),_=[],C=0;C<w.size();++C){var N=tn(w.get(C)),j=void 0;j=void 0===j?0:j,N={la:{sa:et(N,1),ta:et(N,2),height:et(N,3),width:et(N,4),rotation:et(N,5,0),pa:Ze($e(N,6),j)},ea:Qe(Jt(k.get(C)),Kt,1).map(sn),ba:rn(Gt(x.get(C)))},_.push(N)}w=_}else w=[];i[d]=w,y.h=7;break}if("proto_list"===f.type){if(h){for(w=Array(h.size()),k=0;k<h.size();k++)w[k]=h.get(k);h.delete()}else w=[];i[d]=w,y.h=7;break}if(void 0===h){y.h=3;break}if("float_list"===f.type){i[d]=h,y.h=7;break}if("proto"===f.type){i[d]=h,y.h=7;break}if("texture"!==f.type)throw Error("Unknown output config type: '"+f.type+"'");return(m=e.v[d])||(m=new an(e.i,e.K),e.v[d]=m),b(y,on(m,h,e.M),13);case 13:p=y.i,i[d]=p;case 7:f.transform&&i[d]&&(i[d]=f.transform(i[d])),y.h=3;break;case 14:g[v]=y.i;case 3:o=u.next(),y.h=2;break;case 4:return y.return(i)}})}function gn(e,t){for(var n=t.name||"$",i=[].concat(o(t.wants)),r=new e.i.StringList,s=a(t.wants),l=s.next();!l.done;l=s.next())r.push_back(l.value);s=e.i.PacketListener.implement({onResults:function(r){for(var s={},a=0;a<t.wants.length;++a)s[i[a]]=r.get(a);var o=e.listeners[n];o&&(e.I=pn(e,s,t.outs).then(function(n){n=o(n);for(var r=0;r<t.wants.length;++r){var a=s[i[r]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.I=n)}))}}),e.j.attachMultiListener(r,s),r.delete()}function vn(e){return void 0===e&&(e=0),1===e?"selfie_segmentation_landscape.tflite":"selfie_segmentation.tflite"}function yn(e){var t=this;e=e||{},this.h=new fn({locateFile:e.locateFile,files:function(e){return[{simd:!0,url:"selfie_segmentation_solution_simd_wasm_bin.js"},{simd:!1,url:"selfie_segmentation_solution_wasm_bin.js"},{data:!0,url:vn(e.modelSelection)}]},graph:{url:"selfie_segmentation.binarypb"},listeners:[{wants:["segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"object"==typeof window&&void 0!==window.navigator&&("iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelSelection:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelSelection",fieldName:"int_value"},onChange:function(e){var n,i,r;return S(function(s){return 1==s.h?(n=vn(e),i="third_party/mediapipe/modules/selfie_segmentation/"+n,b(s,mn(t.h,n),2)):(r=s.i,t.h.overrideFile(i,r),s.return(!0))})}}}})}(e=fn.prototype).close=function(){return this.j&&this.j.delete(),Promise.resolve()},e.reset=function(){var e=this;return S(function(t){e.j&&(e.j.reset(),e.s={},e.v={}),t.h=0})},e.setOptions=function(e,t){var n=this;if(t=t||this.h.options){for(var i=[],r=[],s={},o=a(Object.keys(e)),l=o.next();!l.done;s={X:s.X,Y:s.Y},l=o.next())if(!((l=l.value)in this.l)||this.l[l]!==e[l]){this.l[l]=e[l];var c=t[l];void 0!==c&&(c.onChange&&(s.X=c.onChange,s.Y=e[l],i.push(function(e){return function(){return S(function(t){if(1==t.h)return b(t,e.X(e.Y),2);!0===t.i&&(n.u=!0),t.h=0})}}(s))),c.graphOptionXref&&(l=Object.assign({},{calculatorName:"",calculatorIndex:0},c.graphOptionXref,{valueNumber:1===c.type?e[l]:0,valueBoolean:0===c.type&&e[l],valueString:2===c.type?e[l]:""}),r.push(l)))}0===i.length&&0===r.length||(this.u=!0,this.H=(void 0===this.H?[]:this.H).concat(r),this.F=(void 0===this.F?[]:this.F).concat(i))}},e.initialize=function(){var e=this;return S(function(t){return 1==t.h?b(t,hn(e),2):3!=t.h?b(t,function(e){var t,n,i,r,s,o,l,c;return S(function(u){if(1==u.h)return e.h.graph&&e.h.graph.url&&e.fa===e.h.graph.url?u.return():(e.u=!0,e.h.graph&&e.h.graph.url?(e.fa=e.h.graph.url,b(u,mn(e,e.h.graph.url),3)):void(u.h=2));for(2!=u.h&&(t=u.i,e.j.loadGraph(t)),n=a(Object.keys(e.D)),i=n.next();!i.done;i=n.next())r=i.value,e.j.overrideFile(r,e.D[r]);if(e.D={},e.h.listeners)for(s=a(e.h.listeners),o=s.next();!o.done;o=s.next())l=o.value,gn(e,l);c=e.l,e.l={},e.setOptions(c),u.h=0})}(e),3):b(t,function(e){var t,n,i,r,s,o;return S(function(l){switch(l.h){case 1:if(!e.u)return l.return();if(!e.F){l.h=2;break}t=a(e.F),n=t.next();case 3:if(n.done){l.h=5;break}return b(l,(0,n.value)(),4);case 4:n=t.next(),l.h=3;break;case 5:e.F=void 0;case 2:if(e.H){for(i=new e.i.GraphOptionChangeRequestList,r=a(e.H),s=r.next();!s.done;s=r.next())o=s.value,i.push_back(o);e.j.changeOptions(i),i.delete(),e.H=void 0}e.u=!1,l.h=0}})}(e),0)})},e.overrideFile=function(e,t){this.j?this.j.overrideFile(e,t):this.D[e]=t},e.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},e.send=function(e,t){var n,i,r,s,o,l,c,u,d,f=this;return S(function(h){switch(h.h){case 1:return f.h.inputs?(n=1e3*(null==t?performance.now():t),b(h,f.I,2)):h.return();case 2:return b(h,f.initialize(),3);case 3:for(i=new f.i.PacketDataList,r=a(Object.keys(e)),s=r.next();!s.done;s=r.next())if(o=s.value,l=f.h.inputs[o]){e:{var m=e[o];switch(l.type){case"video":var p=f.s[l.stream];if(p||(p=new an(f.i,f.K),f.s[l.stream]=p),0===p.m&&(p.m=p.i.createTexture()),"undefined"!=typeof HTMLVideoElement&&m instanceof HTMLVideoElement)var g=m.videoWidth,v=m.videoHeight;else"undefined"!=typeof HTMLImageElement&&m instanceof HTMLImageElement?(g=m.naturalWidth,v=m.naturalHeight):(g=m.width,v=m.height);v={glName:p.m,width:g,height:v},(g=p.h).canvas.width=v.width,g.canvas.height=v.height,g.activeTexture(g.TEXTURE0),p.i.bindTexture2d(p.m),g.texImage2D(g.TEXTURE_2D,0,g.RGBA,g.RGBA,g.UNSIGNED_BYTE,m),p.i.bindTexture2d(0),p=v;break e;case"detections":for((p=f.s[l.stream])||(p=new ln(f.i),f.s[l.stream]=p),p.data||(p.data=new p.h.DetectionListData),p.data.reset(m.length),v=0;v<m.length;++v){g=m[v];var y=p.data,w=y.setBoundingBox,k=v,x=g.la,_=new Zt;if(Xe(_,1,x.sa),Xe(_,2,x.ta),Xe(_,3,x.height),Xe(_,4,x.width),Xe(_,5,x.rotation),We(_,6,x.pa),x=_.l(),w.call(y,k,x),g.ea)for(y=0;y<g.ea.length;++y){_=g.ea[y],k=(w=p.data).addNormalizedLandmark,x=v,_=Object.assign({},_,{visibility:_.visibility?_.visibility:0});var S=new Kt;Xe(S,1,_.x),Xe(S,2,_.y),Xe(S,3,_.z),_.visibility&&Xe(S,4,_.visibility),_=S.l(),k.call(w,x,_)}if(g.ba)for(y=0;y<g.ba.length;++y)k=(w=p.data).addClassification,x=v,_=g.ba[y],Xe(S=new qt,2,_.qa),_.index&&We(S,1,_.index),_.label&&We(S,3,_.label),_.displayName&&We(S,4,_.displayName),_=S.l(),k.call(w,x,_)}p=p.data;break e;default:p={}}}switch(c=p,u=l.stream,l.type){case"video":i.pushTexture2d(Object.assign({},c,{stream:u,timestamp:n}));break;case"detections":(d=c).stream=u,d.timestamp=n,i.pushDetectionList(d);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return f.j.send(i),b(h,f.I,4);case 4:i.delete(),h.h=0}})},e.onResults=function(e,t){this.listeners[t||"$"]=e},j("Solution",fn),j("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"}),(e=yn.prototype).close=function(){return this.h.close(),Promise.resolve()},e.onResults=function(e){this.h.onResults(e)},e.initialize=function(){var e=this;return S(function(t){return b(t,e.h.initialize(),0)})},e.reset=function(){this.h.reset()},e.send=function(e){var t=this;return S(function(n){return b(n,t.h.send(e),0)})},e.setOptions=function(e){this.h.setOptions(e)},j("SelfieSegmentation",yn),j("VERSION","0.1.1675465747")}.call(uP)),uP}var fP=dP();const hP=new class{constructor(){this.segmentation=null,this.canvasElements=new Map,this.videoElements=new Map,this.isInitialized=!1,this.activeProcessors=new Map}async initialize(){if(this.isInitialized)return!0;try{return this.segmentation=new fP.SelfieSegmentation({locateFile:e=>`https://cdn.jsdelivr.net/npm/@mediapipe/selfie_segmentation/${e}`}),this.segmentation.setOptions({modelSelection:1,selfieMode:!0}),await this.segmentation.initialize(),this.isInitialized=!0,!0}catch(e){return!1}}async applyVirtualBackground(e,t,n={}){if(!this.isInitialized){if(!(await this.initialize()))return t}try{const i=t.getVideoTracks()[0];if(!i)return t;const r=document.createElement("video");r.srcObject=new MediaStream([i]),r.autoplay=!0,r.muted=!0,await r.play();const s=document.createElement("canvas"),a=s.getContext("2d",{willReadFrequently:!0});s.width=i.getSettings().width||1280,s.height=i.getSettings().height||720;let o=null;"image"===n.type&&n.url&&(o=await this.loadImage(n.url)),this.videoElements.set(e,r),this.canvasElements.set(e,s);const l=async()=>{if(this.activeProcessors.has(e))try{await this.processFrame(r,s,a,n,o),requestAnimationFrame(l)}catch(t){}},c=s.captureStream(30);c.getVideoTracks()[0];return t.getAudioTracks().forEach(e=>c.addTrack(e)),this.activeProcessors.set(e,{videoElement:r,canvas:s,ctx:a,backgroundConfig:n,backgroundImage:o,originalStream:t,processedStream:c}),requestAnimationFrame(l),c}catch(i){return t}}async processFrame(e,t,n,i,r){const{width:s,height:a}=t;n.drawImage(e,0,0,s,a);const o=n.getImageData(0,0,s,a);await this.segmentation.send({image:o}),this.segmentation.onResults(e=>{n.clearRect(0,0,s,a),n.save(),"blur"===i.type?(n.filter=`blur(${i.blurAmount||10}px)`,n.drawImage(e.image,0,0,s,a),n.filter="none"):"image"===i.type&&r?n.drawImage(r,0,0,s,a):"color"===i.type?(n.fillStyle=i.color||"#00ff00",n.fillRect(0,0,s,a)):(n.fillStyle="#ffffff",n.fillRect(0,0,s,a)),n.globalCompositeOperation="destination-atop",n.drawImage(e.segmentationMask,0,0,s,a),n.globalCompositeOperation="destination-over",n.drawImage(e.image,0,0,s,a),n.restore()})}loadImage(e){return new Promise((t,n)=>{const i=new Image;i.crossOrigin="anonymous",i.onload=()=>t(i),i.onerror=n,i.src=e})}updateBackground(e,t){const n=this.activeProcessors.get(e);n&&(n.backgroundConfig={...n.backgroundConfig,...t},"image"===t.type&&t.url&&t.url!==n.backgroundConfig.url&&this.loadImage(t.url).then(e=>{n.backgroundImage=e}))}removeVirtualBackground(e){const t=this.activeProcessors.get(e);if(!t)return null;try{return t.processedStream.getTracks().forEach(e=>e.stop()),t.videoElement&&(t.videoElement.pause(),t.videoElement.srcObject=null),this.activeProcessors.delete(e),this.videoElements.delete(e),this.canvasElements.delete(e),t.originalStream}catch(n){return t.originalStream}}isActive(e){return this.activeProcessors.has(e)}static getPresets(){return[{id:"none",name:"None",type:"none"},{id:"blur-light",name:"Light Blur",type:"blur",blurAmount:5},{id:"blur-medium",name:"Medium Blur",type:"blur",blurAmount:10},{id:"blur-heavy",name:"Heavy Blur",type:"blur",blurAmount:20},{id:"office",name:"Office",type:"image",url:"https://images.unsplash.com/photo-1497366216548-37526070297c?w=1280&h=720&fit=crop"},{id:"library",name:"Library",type:"image",url:"https://images.unsplash.com/photo-1507842217343-583bb7270b66?w=1280&h=720&fit=crop"},{id:"nature",name:"Nature",type:"image",url:"https://images.unsplash.com/photo-1441974231531-c6227db76b6e?w=1280&h=720&fit=crop"}]}cleanup(){this.activeProcessors.forEach((e,t)=>{this.removeVirtualBackground(t)}),this.segmentation&&(this.segmentation.close(),this.segmentation=null),this.isInitialized=!1}};const mP=new class{constructor(){this.audioContext=null,this.processors=new Map,this.isSupported=this.checkSupport()}checkSupport(){return!(!window.AudioContext&&!window.webkitAudioContext)}initAudioContext(){return this.audioContext||(this.audioContext=new(window.AudioContext||window.webkitAudioContext)),this.audioContext}async applyNoiseCancellation(e,t,n={}){if(!this.isSupported)return t;try{const i=this.initAudioContext();if(0===t.getAudioTracks().length)return t;const r=i.createMediaStreamSource(t),s=this.createFilterChain(i,n),a=i.createMediaStreamDestination();let o=r;return s.forEach(e=>{o.connect(e),o=e}),o.connect(a),this.processors.set(e,{audioContext:i,source:r,filters:s,destination:a,originalStream:t}),a.stream}catch(i){return t}}createFilterChain(e,t={}){const n=[],i=e.createBiquadFilter();i.type="highpass",i.frequency.value=t.highPassFreq||85,i.Q.value=.7,n.push(i);const r=e.createDynamicsCompressor();r.threshold.value=t.threshold||-50,r.knee.value=t.knee||40,r.ratio.value=t.ratio||12,r.attack.value=t.attack||.003,r.release.value=t.release||.25,n.push(r);const s=e.createBiquadFilter();s.type="lowpass",s.frequency.value=t.lowPassFreq||8e3,s.Q.value=.7,n.push(s);const a=e.createGain();return a.gain.value=t.gain||1.2,n.push(a),n}removeNoiseCancellation(e){const t=this.processors.get(e);if(!t)return null;try{return t.source.disconnect(),t.filters.forEach(e=>e.disconnect()),this.processors.delete(e),t.originalStream}catch(n){return t.originalStream}}updateSettings(e,t={}){const n=this.processors.get(e);if(n)try{const[e,i,r,s]=n.filters;void 0!==t.highPassFreq&&(e.frequency.value=t.highPassFreq),void 0!==t.threshold&&(i.threshold.value=t.threshold),void 0!==t.knee&&(i.knee.value=t.knee),void 0!==t.ratio&&(i.ratio.value=t.ratio),void 0!==t.lowPassFreq&&(r.frequency.value=t.lowPassFreq),void 0!==t.gain&&(s.gain.value=t.gain)}catch(i){}}isActive(e){return this.processors.has(e)}cleanup(){this.processors.forEach((e,t)=>{this.removeNoiseCancellation(t)}),this.audioContext&&"closed"!==this.audioContext.state&&(this.audioContext.close(),this.audioContext=null)}static getPresets(){return{light:{highPassFreq:60,threshold:-40,knee:30,ratio:8,lowPassFreq:1e4,gain:1.1},medium:{highPassFreq:85,threshold:-50,knee:40,ratio:12,lowPassFreq:8e3,gain:1.2},aggressive:{highPassFreq:100,threshold:-60,knee:50,ratio:20,lowPassFreq:6e3,gain:1.5}}}},pP=n.createContext(void 0),gP=({children:e})=>{const[t,i]=n.useState(null),[r,s]=n.useState(null),[a,o]=n.useState(null),[l,c]=n.useState(null),[u,d]=n.useState("new"),[f,h]=n.useState(!1),[m,p]=n.useState(!1),[g,v]=n.useState(!1),[y,b]=n.useState([]),[w,k]=n.useState(!1),[x,_]=n.useState(null),[S,C]=n.useState([]),[N,j]=n.useState(!1),[T,E]=n.useState(null),[I,P]=n.useState(!1),[A,M]=n.useState("medium"),R=n.useRef(null),D=n.useRef(null),L=n.useRef([]),{currentUser:O}=YI();n.useEffect(()=>{if(!(null==O?void 0:O.id))return;const e=nP.listenForIncomingCalls(O.id,e=>{t||(s(e),sP.sendIncomingCallNotification(e.callee,e.caller,e.type,e.callId),D.current=setTimeout(()=>{F(e.callId)},3e4))});return L.current.push(e),()=>{e()}},[null==O?void 0:O.id,t]);const F=async e=>{const t=await nP.getCallData(e);if(!t)return;await nP.markAsMissed(e),await rP.logCall({userId:t.callee,contactId:t.caller,type:t.type,direction:"incoming",status:"missed",duration:0});const n=yi.local.get("call_auto_record_missed",!1);let i=null;if(n&&l){(await iP.startRecording(e,l)).success&&setTimeout(async()=>{const n=await iP.stopRecording(e,t);n.success&&(i=n.url)},1e4)}await sP.sendNotification(t.callee,t.caller,AI.MISSED_CALL,{callId:e,callType:t.type,recordingUrl:i}),s(null)},z=()=>{i(e=>e?{...e,status:"rejected"}:null),setTimeout(()=>{B()},2e3)},U=async()=>{t&&(await nP.endCall(t.id),i(e=>e?{...e,status:"ended"}:null),setTimeout(()=>{B()},1e3))},B=()=>{(null==t?void 0:t.id)&&(tP.closePeerConnection(t.id),w&&oP.cleanupCall(t.id),lP.cleanupCall(t.id),N&&hP.cleanup(),I&&mP.cleanup()),L.current.forEach(e=>e()),L.current=[],R.current&&(clearTimeout(R.current),R.current=null),D.current&&(clearTimeout(D.current),D.current=null),i(null),o(null),c(null),d("new"),h(!1),b([]),k(!1),_(null),C([]),j(!1),E(null),P(!1)},V=(e,t)=>{try{const n=tP.getPeerConnection(`${e}_${t}`);if(!n)return;lP.createDataChannel(e,t,n,(e,t)=>{C(n=>[...n,{participantId:e,emoji:t,timestamp:Date.now()}])})}catch(n){}},q=e=>{b(t=>t.filter(t=>t.id!==e))};return ht.jsx(pP.Provider,{value:{activeCall:t,incomingCall:r,localStream:a,remoteStream:l,connectionState:u,isRecording:f,isScreenSharing:m,isPiPMode:g,participants:y,isGroupCall:w,dominantSpeaker:x,reactions:S,isVirtualBackgroundEnabled:N,currentBackground:T,isNoiseCancellationEnabled:I,noiseCancellationLevel:A,startCall:async(e,t)=>{try{const n=await nP.initiateCall(O.id,e,t);if(!n.success)return;const r=n.callId,s=!0,a="video"===t,l=await tP.getLocalStream(s,a);o(l);tP.createPeerConnection(r,!0,e=>{nP.sendIceCandidate(r,e,!0)},e=>{c(e)},t=>{d(t),"connected"===t?i(t=>{if(t){const n={...t,status:"connected",startTime:Date.now()};return handleCallConnected(r,e),n}return null}):"failed"!==t&&"disconnected"!==t||handleCallFailed(r,e,t)});tP.addLocalStream(r,l);const u=await tP.createOffer(r);await nP.sendOffer(r,u);const f=nP.listenForAnswer(r,async e=>{await tP.setRemoteAnswer(r,e)});L.current.push(f);const h=nP.listenForIceCandidates(r,!0,e=>{tP.addIceCandidate(r,e)});L.current.push(h);const m=nP.listenForStatusChange(r,e=>{"rejected"===e?z():"ended"===e&&U()});L.current.push(m),i({id:r,contactId:e,type:t,status:"ringing",isMinimized:!1,isMuted:!1,isVideoEnabled:a,isOutgoing:!0})}catch(n){}},startGroupCall:async(e,t)=>{try{let n=null;const r=!0,s="video"===t,a=await tP.getLocalStream(r,s);if(I&&r){const e=mP.constructor.getPresets()[A];n=await mP.applyNoiseCancellation("temp_"+Date.now(),a,e)}else n=a;o(n);const l=await nP.createGroupCall(O.id,[O.id,...e],t);if(!l.success)return;const c=l.callId;await oP.createMeshConnections(c,O.id,e,n,{onIceCandidate:(e,t)=>{nP.sendIceCandidate(c,t,!0)},onRemoteStream:(e,t)=>{b(n=>{const i=n.find(t=>t.id===e);return i?n.map(n=>n.id===e?{...n,stream:t}:n):[...n,{id:e,stream:t,isMuted:!1}]})},onConnectionStateChange:(e,t)=>{"connected"===t?V(c,e):"disconnected"!==t&&"failed"!==t||q(e)},onOffer:(e,t)=>{nP.sendGroupCallOffer(c,e,t)}}),i({id:c,type:t,status:"connecting",isMinimized:!1,isMuted:!1,isVideoEnabled:s,isGroupCall:!0,isOutgoing:!0}),k(!0);const u=setInterval(()=>{const e=oP.getDominantSpeaker(c);e&&_(e)},1e3);L.current.push(()=>clearInterval(u))}catch(n){}},acceptCall:async()=>{if(r)try{D.current&&(clearTimeout(D.current),D.current=null);const e=r.callId,t=r.type,n=!0,a="video"===t,l=await tP.getLocalStream(n,a);o(l),tP.createPeerConnection(e,!1,t=>{nP.sendIceCandidate(e,t,!1)},e=>{c(e)},t=>{d(t),"connected"===t?i(t=>{if(t){const n={...t,status:"connected",startTime:Date.now()};return handleCallConnected(e,r.caller),n}return null}):"failed"!==t&&"disconnected"!==t||handleCallFailed(e,r.caller,t)}),tP.addLocalStream(e,l);const u=nP.listenForOffer(e,async t=>{const n=await tP.createAnswer(e,t);await nP.sendAnswer(e,n)});L.current.push(u);const f=nP.listenForIceCandidates(e,!1,t=>{tP.addIceCandidate(e,t)});L.current.push(f);const h=nP.listenForStatusChange(e,e=>{"ended"===e&&U()});L.current.push(h),i({id:e,contactId:r.caller,type:r.type,status:"connecting",isMinimized:!1,isMuted:!1,isVideoEnabled:a,isOutgoing:!1}),s(null)}catch(e){}},rejectCall:async()=>{r&&(D.current&&(clearTimeout(D.current),D.current=null),await nP.rejectCall(r.callId),await sP.sendNotification(r.caller,r.callee,AI.CALL_DECLINED,{callId:r.callId,callType:r.type}),s(null))},endCall:U,minimizeCall:()=>{i(e=>e?{...e,isMinimized:!0}:null)},maximizeCall:()=>{i(e=>e?{...e,isMinimized:!1}:null)},toggleMute:()=>{if(!t)return;const e=!t.isMuted;tP.toggleAudio(t.id,!e),i(t=>t?{...t,isMuted:e}:null)},toggleVideo:()=>{if(!t)return;const e=!t.isVideoEnabled;tP.toggleVideo(t.id,e),i(t=>t?{...t,isVideoEnabled:e}:null)},switchCamera:async()=>{t&&await tP.switchCamera(t.id)},getCallQuality:async()=>t?await tP.getConnectionStats(t.id):null,enterPiP:async e=>{try{await tP.enterPictureInPicture(e),v(!0)}catch(t){}},exitPiP:async()=>{try{await tP.exitPictureInPicture(),v(!1)}catch(e){}},startScreenShare:async()=>{if(t)try{await tP.startScreenShare(t.id),p(!0)}catch(e){p(!1)}},stopScreenShare:async()=>{if(t)try{await tP.stopScreenShare(t.id),p(!1)}catch(e){}},sendReaction:e=>{if(!t)return;lP.sendReaction(t.id,e)&&C(t=>[...t,{participantId:"self",emoji:e,timestamp:Date.now()}])},toggleVirtualBackground:async e=>{if(t&&a)try{if(e&&"none"!==e.id){const n=(await hP.applyVirtualBackground(t.id,a,e)).getVideoTracks()[0];w?y.forEach(e=>{tP.replaceVideoTrack(`${t.id}_${e.id}`,n)}):await tP.replaceVideoTrack(t.id,n),j(!0),E(e)}else if(N){const e=hP.removeVirtualBackground(t.id);if(e){const n=e.getVideoTracks()[0];w?y.forEach(e=>{tP.replaceVideoTrack(`${t.id}_${e.id}`,n)}):await tP.replaceVideoTrack(t.id,n)}j(!1),E(null)}}catch(n){}},toggleNoiseCancellation:async(e,n=null)=>{if(t&&a)try{if(e){const e=n||mP.constructor.getPresets()[A],i=(await mP.applyNoiseCancellation(t.id,a,e)).getAudioTracks()[0];w?y.forEach(e=>{tP.replaceAudioTrack(`${t.id}_${e.id}`,i)}):await tP.replaceAudioTrack(t.id,i),P(!0)}else{const e=mP.removeNoiseCancellation(t.id);if(e){const n=e.getAudioTracks()[0];w?y.forEach(e=>{tP.replaceAudioTrack(`${t.id}_${e.id}`,n)}):await tP.replaceAudioTrack(t.id,n)}P(!1)}}catch(i){}}},children:e})},vP=()=>{const e=n.useContext(pP);if(!e)throw new Error("useCall must be used within CallProvider");return e},yP=e=>{if(!e)return"";let t;if(e instanceof Date)t=e;else if("number"==typeof e)t=new Date(e);else if("string"==typeof e)t=new Date(e);else if((null==e?void 0:e.toDate)&&"function"==typeof e.toDate)t=e.toDate();else{if(!e||"object"!=typeof e||!("seconds"in e))return"";t=new Date(1e3*e.seconds)}if(isNaN(t.getTime()))return"";const n=new Date-t,i=Math.floor(n/6e4),r=Math.floor(n/36e5),s=Math.floor(n/864e5);return i<1?"Just now":i<60?`${i}m`:r<24?`${r}h`:s<7?`${s}d`:t.toLocaleDateString("en-US",{month:"short",day:"numeric"})},bP=()=>{self.onmessage=e=>{const{type:t,payload:n}=e.data;if("FILTER_CHATS"===t){const{chats:e,users:t,query:i,activeFilter:r}=n,s=i.toLowerCase().trim(),a=e.filter(e=>{if(e.isArchived)return!1;let n=!0;if(s)if(e.isGroup){const i=(e.groupName||"").toLowerCase().includes(s),r=(e.groupParticipants||[]).some(e=>{const n=t[e];return n&&(n.name.toLowerCase().includes(s)||n.phone.includes(s))});n=i||r}else{const i=t[e.contactId];n=i&&(i.name.toLowerCase().includes(s)||i.phone.replace(/\s/g,"").includes(s.replace(/\s/g,""))||i.phone.includes(s))}let i=!0;return"unread"===r?i=e.unreadCount>0:"groups"===r&&(i=e.isGroup),n&&i}).sort((e,t)=>e.isPinned!==t.isPinned?e.isPinned?-1:1:new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime());self.postMessage({type:"FILTER_CHATS_RESULT",result:a})}if("FILTER_MESSAGES"===t){const{messages:e,query:t}=n;if(!t)return void self.postMessage({type:"FILTER_MESSAGES_RESULT",result:e});const i=t.toLowerCase(),r=e.filter(e=>"text"===e.type&&e.text.toLowerCase().includes(i));self.postMessage({type:"FILTER_MESSAGES_RESULT",result:r})}}},wP=()=>{const e=bP.toString(),t=new Blob([`(${e})()`],{type:"application/javascript"});return new Worker(URL.createObjectURL(t))},kP=({chats:e,users:t,searchQuery:i,activeFilter:r})=>{const[s,a]=n.useState([]),[o,l]=n.useState(!1),c=n.useRef(null),u=((e,t=300)=>{const[i,r]=n.useState(e);return n.useEffect(()=>{const n=setTimeout(()=>{r(e)},t);return()=>{clearTimeout(n)}},[e,t]),i})(i,300);return n.useEffect(()=>(c.current=wP(),c.current.onmessage=e=>{"FILTER_CHATS_RESULT"===e.data.type&&(a(e.data.result),l(!1))},()=>{var e;null==(e=c.current)||e.terminate()}),[]),n.useEffect(()=>{c.current&&(l(!0),c.current.postMessage({type:"FILTER_CHATS",payload:{chats:e,users:t,query:u,activeFilter:r}}))},[e,t,u,r]),{sortedChats:s,isSearching:o}},xP=()=>{const e=i(),{chatId:t}=s(),{searchQuery:r,chats:o,messages:l,toggleArchiveChat:c,togglePinChat:u,securitySettings:d,users:f,chatSettings:h,drafts:m,onlineUsers:p}=YI(),[g,y]=n.useState("all"),[b,w]=n.useState(null),[j,T]=n.useState(""),[E,I]=n.useState(""),[P,A]=n.useState(null),[M,R]=n.useState(""),[D,L]=n.useState(""),{sortedChats:O}=kP({chats:o,users:f,searchQuery:r,activeFilter:g}),F=o.filter(e=>e.isArchived).length,z=()=>{const e=d.archiveLockPassword||"0000";j===e?(c(b),w(null),T("")):(I("Incorrect PIN"),T(""))},U=()=>{const t=d.chatLockPassword||"0000";M===t?(e(`/chat/${P}`),A(null),R("")):(L("Incorrect PIN"),R(""))},B=({label:e,value:t})=>ht.jsx("button",{onClick:()=>y(t),className:`\n            px-3 py-1.5 rounded-full text-sm font-medium transition-colors whitespace-nowrap shadow-sm backdrop-blur-sm\n            ${g===t?"bg-[#e7fce3] text-[#008069] dark:bg-[#00a884]/20 dark:text-[#00a884]":"bg-[#f0f2f5]/80 text-[#54656f] hover:bg-[#e9edef] dark:bg-[#202c33]/80 dark:text-[#8696a0] dark:hover:bg-[#2a3942]"}\n        `,children:e}),V=h.chatListBackgroundImage?{backgroundImage:`url(${h.chatListBackgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}:{};return ht.jsxs("div",{className:"flex flex-col pb-4 min-h-full "+(h.chatListBackgroundImage?"":"bg-white dark:bg-wa-dark-bg"),style:V,children:[b&&a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl w-full max-w-xs p-6 flex flex-col items-center",children:[ht.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mb-4 text-white",children:ht.jsx(k,{size:24})}),ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-2",children:"Archive Lock"}),ht.jsx("p",{className:"text-sm text-[#667781] dark:text-gray-400 mb-6 text-center",children:"Enter PIN to archive/unarchive chat"}),ht.jsx("input",{type:"password",maxLength:4,value:j,onChange:e=>{T(e.target.value),I("")},onKeyDown:e=>"Enter"===e.key&&z(),className:"w-full text-center text-2xl tracking-[0.5em] font-medium py-2 border-b-2 border-purple-500 bg-transparent outline-none mb-2 text-[#111b21] dark:text-gray-100 placeholder-transparent",placeholder:"****",autoFocus:!0}),E&&ht.jsx("p",{className:"text-red-500 text-xs mb-4",children:E}),ht.jsxs("div",{className:"flex gap-3 w-full mt-4",children:[ht.jsx("button",{onClick:()=>w(null),className:"flex-1 py-2 text-purple-500 font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:z,className:"flex-1 py-2 bg-purple-500 text-white font-medium rounded-full shadow-sm hover:shadow-md transition-all",children:"Unlock"})]})]})}),document.body),P&&a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl w-full max-w-xs p-6 flex flex-col items-center",children:[ht.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mb-4 text-white",children:ht.jsx(v,{size:24})}),ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-2",children:"Locked Chat"}),ht.jsx("p",{className:"text-sm text-[#667781] dark:text-gray-400 mb-6 text-center",children:"Enter PIN to access locked chat"}),ht.jsx("input",{type:"password",maxLength:4,value:M,onChange:e=>{R(e.target.value),L("")},onKeyDown:e=>"Enter"===e.key&&U(),className:"w-full text-center text-2xl tracking-[0.5em] font-medium py-2 border-b-2 border-green-500 bg-transparent outline-none mb-2 text-[#111b21] dark:text-gray-100 placeholder-transparent",placeholder:"****",autoFocus:!0}),D&&ht.jsx("p",{className:"text-red-500 text-xs mb-4",children:D}),ht.jsxs("div",{className:"flex gap-3 w-full mt-4",children:[ht.jsx("button",{onClick:()=>A(null),className:"flex-1 py-2 text-green-500 font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:U,className:"flex-1 py-2 bg-green-500 text-white font-medium rounded-full shadow-sm hover:shadow-md transition-all",children:"Unlock"})]})]})}),document.body),h.chatListBackgroundImage&&ht.jsx("div",{className:"fixed inset-0 bg-white/50 dark:bg-black/50 pointer-events-none z-0 backdrop-blur-[2px]"}),ht.jsxs("div",{className:"relative z-10",children:[!r&&ht.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 overflow-x-auto no-scrollbar",children:[ht.jsx(B,{label:"All",value:"all"}),ht.jsx(B,{label:"Unread",value:"unread"}),ht.jsx(B,{label:"Groups",value:"groups"})]}),!r&&"all"===g&&F>0&&ht.jsxs("div",{onClick:()=>{e("/archived")},className:"flex items-center gap-3 px-4 py-3 cursor-pointer hover:bg-wa-grayBg/80 dark:hover:bg-wa-dark-hover/80 transition-colors group backdrop-blur-sm bg-white/60 dark:bg-wa-dark-bg/60",children:[ht.jsx("div",{className:"w-12 flex items-center justify-center shrink-0",children:ht.jsx(k,{size:20,className:"text-wa-teal dark:text-wa-teal group-hover:scale-110 transition-transform"})}),ht.jsxs("div",{className:"flex-1 border-b border-wa-border dark:border-wa-dark-border pb-3 -mb-3 flex justify-between items-center",children:[ht.jsx("div",{className:"font-medium text-[#111b21] dark:text-gray-100 text-[17px]",children:"Archived"}),ht.jsx("div",{className:"text-[#008069] dark:text-[#00a884] text-xs font-medium mr-1",children:F})]})]}),0===O.length?ht.jsx("div",{className:"flex flex-col items-center justify-center h-64 text-[#667781] dark:text-gray-400 text-center px-4 relative z-10",children:ht.jsxs("p",{className:"bg-white/80 dark:bg-black/50 p-2 rounded-lg backdrop-blur-sm",children:["No chats found ",r?`matching "${r}"`:`in ${g}`]})}):O.map(n=>{const i=f[n.contactId];if(!i&&!n.isGroup)return null;const r=l[n.id]||[],s=r.length>0?r[r.length-1]:null,a="c1"===n.id&&Math.random()>.8,o=n.id===t,g=m[n.id];return ht.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 cursor-pointer transition-colors relative group \n                        ${o?"bg-[#f0f2f5]/90 dark:bg-[#2a3942]/90":"hover:bg-wa-grayBg/80 dark:hover:bg-wa-dark-hover/80 active:bg-[#e9edef]/80 dark:active:bg-wa-dark-paper/80"}\n                        ${h.chatListBackgroundImage?"bg-white/70 dark:bg-black/60 mb-0.5 backdrop-blur-sm":""}\n                    `,onClick:()=>(t=>{t.isLocked&&d.chatLockPassword&&""!==d.chatLockPassword?(A(t.id),R(""),L("")):e(`/chat/${t.id}`)})(n),children:[ht.jsxs("div",{className:"relative shrink-0",children:[ht.jsx("img",{src:n.isGroup?"https://picsum.photos/300":null==i?void 0:i.avatar,alt:null==i?void 0:i.name,className:"w-12 h-12 rounded-full object-cover"}),!n.isGroup&&(null==p?void 0:p.has(n.contactId))&&ht.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white dark:border-wa-dark-bg rounded-full"}),n.isLocked&&ht.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center border border-white dark:border-wa-dark-bg",children:ht.jsx(v,{size:10,className:"text-white"})})]}),ht.jsxs("div",{className:"flex-1 flex flex-col justify-center border-b border-wa-border dark:border-wa-dark-border pb-3 -mb-3 min-w-0",children:[ht.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-100 font-normal truncate",children:n.isGroup?n.groupName:null==i?void 0:i.name}),ht.jsx("span",{className:"text-[12px] "+(n.unreadCount>0||g?"text-wa-lightGreen font-medium":"text-[#667781] dark:text-gray-400"),children:yP(n.timestamp)})]}),ht.jsxs("div",{className:"flex justify-between items-center",children:[ht.jsx("div",{className:"flex items-center gap-1 text-[14px] text-[#667781] dark:text-gray-400 truncate w-full pr-2",children:g?ht.jsxs("span",{className:"flex items-center gap-1 text-[#667781] dark:text-gray-400 truncate",children:[ht.jsx("span",{className:"text-red-500 font-medium",children:"Draft:"})," ",g]}):ht.jsxs(ht.Fragment,{children:["me"===(null==s?void 0:s.senderId)&&!a&&("read"===s.status?ht.jsx(x,{size:16,className:"text-wa-blue shrink-0"}):ht.jsx(_,{size:16,className:"shrink-0"})),a?ht.jsx("span",{className:"text-wa-lightGreen font-medium",children:"typing..."}):ht.jsxs("span",{className:"truncate flex items-center gap-1",children:["voice"===(null==s?void 0:s.type)&&ht.jsx(S,{size:14}),s?s.text:"Start a conversation"]})]})}),ht.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[n.isPinned&&ht.jsx(C,{size:16,className:"text-[#667781] dark:text-gray-400 rotate-45",fill:"currentColor"}),n.unreadCount>0&&ht.jsx("div",{className:"w-5 h-5 rounded-full bg-wa-lightGreen flex items-center justify-center",children:ht.jsx("span",{className:"text-white text-[10px] font-bold",children:n.unreadCount})})]})]})]}),ht.jsxs("div",{className:"absolute right-2 top-1/2 -translate-y-1/2 hidden group-hover:flex items-center gap-1 md:flex opacity-0 group-hover:opacity-100 transition-opacity",children:[ht.jsx("button",{onClick:e=>{e.stopPropagation(),u(n.id)},className:"bg-white dark:bg-wa-dark-paper shadow rounded-full p-1.5 text-wa-gray hover:text-wa-teal transition-colors",title:n.isPinned?"Unpin chat":"Pin chat",children:n.isPinned?ht.jsx(N,{size:16}):ht.jsx(C,{size:16})}),ht.jsx("button",{onClick:e=>{var t;e.stopPropagation(),t=n.id,d.archiveLockPassword&&""!==d.archiveLockPassword?(w(t),T(""),I("")):c(t)},className:"bg-white dark:bg-wa-dark-paper shadow rounded-full p-1.5 text-wa-gray hover:text-purple-500 transition-colors",title:"Archive chat",children:ht.jsx(k,{size:16})})]})]},n.id)})]}),ht.jsx("div",{className:"h-20 md:hidden"})]})},_P=Object.freeze(Object.defineProperty({__proto__:null,default:xP},Symbol.toStringTag,{value:"Module"})),SP=()=>{const{chatId:e}=s(),t=i(),{chats:r,messages:a,users:o,currentUser:l,addMessage:c,deleteMessages:u,togglePinMessage:d,addReaction:f,currentUserId:h,chatSettings:m,toggleDateLock:p,securitySettings:g,drafts:v,setDraft:y,votePoll:b,setUserTyping:w,updateMessageStatus:k,markChatAsRead:x,onlineUsers:_,typingUsers:S,lastSeen:C,markMessageAsViewed:N,editMessage:j,openGameInvite:T}=YI(),{startCall:E}=vP(),[I,P]=n.useState(""),[A,M]=n.useState(!1),[R,D]=n.useState(!1),[L,O]=n.useState(null),[F,z]=n.useState(null),[U,B]=n.useState(!1),[V,q]=n.useState(new Set),[$,W]=n.useState(new Set),[H,G]=n.useState(null),K=n.useRef({}),[Y,Q]=n.useState(!1),[X,J]=n.useState(0),Z=n.useRef(null),ee=n.useRef(null),[te,ne]=n.useState(!1),[ie,re]=n.useState(""),[se,ae]=n.useState(!1),[oe,le]=n.useState(null),[ce,ue]=n.useState(""),[de,fe]=n.useState(""),[he,me]=n.useState(null),pe=n.useRef(null),ge=n.useRef(null),ve=n.useMemo(()=>r.find(t=>t.id===e),[r,e]),ye=n.useMemo(()=>e&&a[e]?a[e]:[],[e,a]),be=n.useMemo(()=>ve?ve.isGroup?null:o[ve.contactId]:null,[ve,o]),{filteredMessages:we}=(({messages:e,searchQuery:t})=>{const[i,r]=n.useState(e),s=n.useRef(null);return n.useEffect(()=>(s.current=wP(),s.current.onmessage=e=>{"FILTER_MESSAGES_RESULT"===e.data.type&&r(e.data.result)},()=>{var e;null==(e=s.current)||e.terminate()}),[]),n.useEffect(()=>{s.current&&s.current.postMessage({type:"FILTER_MESSAGES",payload:{messages:e,query:t}})},[e,t]),{filteredMessages:i}})({messages:ye,searchQuery:ie});n.useEffect(()=>{e&&P(v[e]||"")},[e]);const ke=n.useCallback(t=>{const n=t.target.value;P(n),e&&y(e,n),e&&n.length>0?(w(e,h,!0),ee.current&&clearTimeout(ee.current),ee.current=setTimeout(()=>{w(e,h,!1)},3e3)):e&&w(e,h,!1)},[e,h,y,w]);n.useEffect(()=>{pe.current&&!ie&&pe.current.scrollIntoView({behavior:"auto"})},[we.length,e,ie]),n.useEffect(()=>{if(e&&we.length>0){x(e);we.filter(e=>e.senderId!==h&&"read"!==e.status).forEach(t=>{k(e,t.id,"read")})}},[e,x,k,h,we.length]);const xe=n.useCallback(t=>{null==t||t.preventDefault(),e&&I.trim()&&(w(e,h,!1),ee.current&&clearTimeout(ee.current),he?(j(e,he.id,I),me(null)):c(e,I,"text",null==F?void 0:F.id),P(""),y(e,""),z(null),D(!1))},[e,I,F,he,j,h,c,y,w]),_e=n.useCallback(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),xe())},[xe]),Se=n.useCallback(()=>{Q(!0),J(0),Z.current=setInterval(()=>{J(e=>e+1)},1e3)},[]),Ce=n.useCallback(()=>{Z.current&&clearInterval(Z.current),Q(!1),J(0)},[]),Ne=n.useCallback(()=>{if(!e)return;Z.current&&clearInterval(Z.current);const t=`${Math.floor(X/60)}:${(X%60).toString().padStart(2,"0")}`;c(e," Voice Message","voice",void 0,void 0,t),Q(!1),J(0)},[e,X,c]),je=n.useCallback(e=>{z(e),O(null)},[]),Te=n.useCallback(async e=>{const t=new Set($);t.has(e)?t.delete(e):t.add(e),W(t),O(null)},[$]),Ee=n.useCallback(e=>{const t=new Set(V);t.has(e)?(t.delete(e),0===t.size&&B(!1)):(t.add(e),B(!0)),q(t),O(null)},[V]),Ie=n.useCallback(()=>{e&&(u(e,Array.from(V),!0),q(new Set),B(!1))},[e,V,u]),Pe=n.useCallback(t=>{e&&(c(e,"Poll","poll",void 0,void 0,void 0,t),D(!1))},[e,c]),Ae=n.useCallback((t,n)=>{e&&b(e,t,n)},[e,b]),Me=n.useCallback(e=>{me(e),P(e.text),O(null)},[P]),Re=n.useCallback(()=>{me(null),P("")},[P]),De=n.useCallback(e=>{const t=K.current[e];t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("bg-yellow-100","dark:bg-yellow-900/20"),setTimeout(()=>{t.classList.remove("bg-yellow-100","dark:bg-yellow-900/20")},1500))},[]),Le=n.useCallback(e=>{G(e.id)},[]),Oe=n.useCallback(()=>{G(null)},[]),Fe=n.useCallback(t=>{t.preventDefault();const n=g.dailyLockPassword||"1234";ce===n?(e&&oe&&p(e,oe),le(null),ue("")):(fe("Incorrect PIN"),ue(""))},[ce,e,oe,g.dailyLockPassword,p]),ze=n.useCallback(()=>t("/chats"),[t]),Ue=n.useCallback(()=>t(`/chat/${e}/info`),[t,e]);return{chatId:e,chat:ve,contact:be,chatMessages:we,users:o,currentUser:l,currentUserId:h,chatSettings:m,onlineUsers:_,typingUsers:S,lastSeen:C,inputText:I,setInputText:ke,showPicker:A,setShowPicker:M,showAttachMenu:R,setShowAttachMenu:D,activeMessageId:L,setActiveMessageId:O,replyTo:F,setReplyTo:z,isSelectionMode:U,setIsSelectionMode:B,selectedMessages:V,setSelectedMessages:q,translatedMessages:$,isRecording:Y,recordingSeconds:X,isSearchOpen:te,setIsSearchOpen:ne,messageSearchQuery:ie,setMessageSearchQuery:re,isMenuOpen:se,setIsMenuOpen:ae,dateLockTarget:oe,setDateLockTarget:le,lockPin:ce,setLockPin:ue,lockError:de,setLockError:fe,messagesEndRef:pe,chatContainerRef:ge,handleSendMessage:xe,handleKeyDown:_e,startRecording:Se,cancelRecording:Ce,finishRecording:Ne,handleReply:je,handleTranslate:Te,toggleSelection:Ee,handleDeleteSelected:Ie,handleLockVerify:Fe,addMessage:c,handleSendPoll:Pe,handleVote:Ae,editingMessage:he,handleStartEdit:Me,handleCancelEdit:Re,activeThreadId:H,handleOpenThread:Le,handleCloseThread:Oe,scrollToMessage:De,messageRefs:K,navigateToChats:ze,navigateToInfo:Ue,startCall:E,openGameInvite:T,deleteMessages:u,togglePinMessage:d,addReaction:f,markMessageAsViewed:N,securitySettings:g}},CP=({src:e,poster:t,duration:i,className:r})=>{const s=n.useRef(null),[a,o]=n.useState(!1),l=e=>{null==e||e.stopPropagation(),s.current&&(a?s.current.pause():s.current.play().catch(e=>{}),o(!a))};return e?ht.jsxs("div",{className:`relative bg-black overflow-hidden cursor-pointer group flex items-center justify-center ${r||"w-full max-w-[300px] md:max-w-[350px] max-h-[250px] md:max-h-[300px] min-w-[200px] rounded-lg"}`,onClick:e=>{e.stopPropagation(),a||l(e)},children:[ht.jsx("video",{ref:s,src:e,poster:t,className:"w-full h-full object-cover",onEnded:()=>o(!1),onPause:()=>o(!1),onPlay:()=>o(!0),playsInline:!0,controls:a}),!a&&ht.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 transition-all z-10",children:ht.jsx("div",{onClick:l,className:"w-14 h-14 bg-black/50 rounded-full flex items-center justify-center text-white backdrop-blur-sm border border-white/30 shadow-lg transform group-hover:scale-110 transition-transform",children:ht.jsx(j,{size:24,fill:"currentColor",className:"ml-1 opacity-100"})})}),i&&!a&&ht.jsxs("span",{className:"absolute bottom-2 left-2 bg-black/60 text-white text-[11px] px-2 py-1 rounded-md backdrop-blur-md font-medium z-10 flex items-center gap-1.5 shadow-sm",children:[ht.jsx(T,{size:12})," ",i]})]}):null},NP=({mediaUrls:e})=>{const[t,i]=n.useState(0),r=n.useRef(null),s=n.useRef(null),a=e=>{const t=e.toLowerCase();return t.endsWith(".mp4")||t.endsWith(".mov")||t.endsWith(".webm")||e.startsWith("blob:")||t.includes("video")};return e&&0!==e.length?ht.jsxs("div",{className:"relative w-full max-w-[300px] md:max-w-[350px] aspect-square bg-black rounded-lg overflow-hidden group select-none touch-pan-y",onTouchStart:e=>{s.current=null,r.current=e.targetTouches[0].clientX},onTouchMove:e=>{s.current=e.targetTouches[0].clientX},onTouchEnd:n=>{if(!r.current||!s.current)return;const a=r.current-s.current,o=a<-40;a>40&&t<e.length-1?i(e=>e+1):o&&t>0&&i(e=>e-1),r.current=null,s.current=null},children:[ht.jsx("div",{className:"flex w-full h-full transition-transform duration-300 ease-out will-change-transform",style:{transform:`translateX(-${100*t}%)`},children:e.map((e,t)=>ht.jsx("div",{className:"w-full h-full flex-shrink-0 relative flex items-center justify-center bg-black",children:a(e)?ht.jsx(CP,{src:e,className:"w-full h-full"}):ht.jsx("img",{src:e,alt:`Slide ${t+1}`,className:"w-full h-full object-cover pointer-events-none",loading:"lazy",draggable:!1})},t))}),ht.jsx("div",{className:"absolute inset-0 pointer-events-none bg-gradient-to-t from-black/40 via-transparent to-transparent opacity-40"}),e.length>1&&ht.jsxs(ht.Fragment,{children:[ht.jsx("button",{onClick:e=>{null==e||e.stopPropagation(),t>0&&i(e=>e-1)},className:`absolute left-2 top-1/2 -translate-y-1/2 p-1.5 rounded-full bg-black/40 text-white backdrop-blur-sm transition-all z-30 hover:bg-black/60 active:scale-95 border border-white/10\n                            ${0===t?"opacity-0 pointer-events-none":"opacity-100"}\n                        `,"aria-label":"Previous media",children:ht.jsx(E,{size:20,strokeWidth:3})}),ht.jsx("button",{onClick:n=>{null==n||n.stopPropagation(),t<e.length-1&&i(e=>e+1)},className:`absolute right-2 top-1/2 -translate-y-1/2 p-1.5 rounded-full bg-black/40 text-white backdrop-blur-sm transition-all z-30 hover:bg-black/60 active:scale-95 border border-white/10\n                            ${t===e.length-1?"opacity-0 pointer-events-none":"opacity-100"}\n                        `,"aria-label":"Next media",children:ht.jsx(I,{size:20,strokeWidth:3})})]}),e.length>1&&ht.jsx("div",{className:"absolute bottom-3 left-0 right-0 flex justify-center gap-1.5 z-20 pointer-events-none",children:e.map((e,n)=>ht.jsx("div",{className:"rounded-full shadow-sm transition-all duration-300 "+(n===t?"bg-white w-2 h-2 opacity-100 scale-110":"bg-white/50 w-1.5 h-1.5 opacity-70")},n))}),e.length>1&&ht.jsxs("div",{className:"absolute top-2 right-2 bg-black/60 text-white text-[10px] px-2 py-0.5 rounded-full backdrop-blur-sm z-20 font-medium pointer-events-none border border-white/10",children:[t+1,"/",e.length]})]}):null},jP=[{color:"#000000",label:"Black"},{color:"#FF0000",label:"Red"},{color:"#0000FF",label:"Blue"},{color:"#008000",label:"Green"},{color:"#FFFF00",label:"Yellow"}],TP=({onClose:e,onSend:t})=>{const i=n.useRef(null),[r,s]=n.useState(!1),[a,o]=n.useState("#000000"),[l,c]=n.useState(3),u=n.useRef(null);n.useEffect(()=>{const e=()=>{const e=i.current;if(e){const t=e.parentElement;t&&(e.width=t.clientWidth,e.height=t.clientHeight,u.current&&(u.current.lineCap="round",u.current.lineJoin="round",u.current.strokeStyle=a,u.current.lineWidth=l,u.current.fillStyle="#FFFFFF",u.current.fillRect(0,0,e.width,e.height)))}},t=i.current;if(t){const n=t.getContext("2d");n&&(u.current=n,e())}return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),n.useEffect(()=>{u.current&&(u.current.strokeStyle=a,u.current.lineWidth=l)},[a,l]);const d=e=>{e.touches&&e.preventDefault();const{offsetX:t,offsetY:n}=m(e);u.current&&(u.current.beginPath(),u.current.moveTo(t,n),s(!0))},f=e=>{if(e.touches&&e.preventDefault(),!r||!u.current)return;const{offsetX:t,offsetY:n}=m(e);u.current.lineTo(t,n),u.current.stroke()},h=()=>{u.current&&u.current.closePath(),s(!1)},m=e=>{const t=i.current;if(!t)return{offsetX:0,offsetY:0};const n=t.getBoundingClientRect();let r,s;e.touches&&e.touches.length>0?(r=e.touches[0].clientX,s=e.touches[0].clientY):(r=e.clientX,s=e.clientY);const a=t.width/n.width,o=t.height/n.height;return{offsetX:(r-n.left)*a,offsetY:(s-n.top)*o}};return ht.jsxs("div",{className:"fixed inset-0 z-[60] bg-white flex flex-col animate-in fade-in duration-200",children:[ht.jsxs("div",{className:"flex items-center justify-between p-4 bg-black/5 absolute top-0 w-full z-10 backdrop-blur-sm",children:[ht.jsx("button",{onClick:e,className:"p-2 rounded-full bg-white shadow-sm hover:bg-gray-100 transition-colors text-gray-700",children:ht.jsx(P,{size:24})}),ht.jsx("div",{className:"flex gap-4",children:ht.jsx("button",{onClick:()=>{const e=i.current;e&&u.current&&(u.current.fillStyle="#FFFFFF",u.current.fillRect(0,0,e.width,e.height))},className:"p-2 rounded-full bg-white shadow-sm hover:bg-red-50 text-red-500 transition-colors",title:"Clear",children:ht.jsx(A,{size:24})})})]}),ht.jsx("canvas",{ref:i,className:"touch-none cursor-crosshair flex-1",onMouseDown:d,onMouseMove:f,onMouseUp:h,onMouseLeave:h,onTouchStart:d,onTouchMove:f,onTouchEnd:h}),ht.jsxs("div",{className:"absolute bottom-0 w-full p-4 bg-black/5 backdrop-blur-sm flex flex-col gap-4",children:[ht.jsx("div",{className:"flex justify-center gap-3",children:jP.map(e=>ht.jsx("button",{onClick:()=>o(e.color),className:"w-8 h-8 rounded-full border-2 transition-transform hover:scale-110 "+(a===e.color?"border-gray-900 scale-110":"border-white shadow-sm"),style:{backgroundColor:e.color},title:e.label},e.color))}),ht.jsx("div",{className:"flex justify-end",children:ht.jsx("button",{onClick:()=>{const e=i.current;if(e){const n=e.toDataURL("image/jpeg",.8);t(n)}},className:"w-14 h-14 bg-wa-teal rounded-full shadow-lg flex items-center justify-center text-white active:scale-95 transition-transform",children:ht.jsx(M,{size:24,className:"ml-1"})})})]})]})},EP=({onClose:e,onSend:t})=>{const[i,r]=n.useState(""),[s,a]=n.useState(["",""]),[o,l]=n.useState(!1);return ht.jsx("div",{className:"fixed inset-0 z-[60] bg-black/60 backdrop-blur-sm flex items-end md:items-center justify-center animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper w-full md:w-[500px] md:rounded-xl rounded-t-xl p-4 flex flex-col h-[90vh] md:h-auto md:max-h-[85vh] animate-in slide-in-from-bottom-10 duration-300",children:[ht.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[ht.jsx("button",{onClick:e,children:ht.jsx(P,{size:24,className:"text-[#54656f] dark:text-gray-400"})}),ht.jsx("h2",{className:"text-xl font-medium text-[#111b21] dark:text-gray-100",children:"Create Poll"})]}),ht.jsxs("div",{className:"flex-1 overflow-y-auto pr-2",children:[ht.jsxs("div",{className:"mb-6",children:[ht.jsx("label",{className:"text-sm font-medium text-[#54656f] dark:text-gray-400 mb-2 block",children:"Question"}),ht.jsx("input",{type:"text",className:"w-full bg-wa-grayBg dark:bg-wa-dark-input p-3 rounded-lg outline-none text-[#111b21] dark:text-gray-100 border-b-2 border-transparent focus:border-wa-teal transition-all",placeholder:"Ask a question",value:i,onChange:e=>r(e.target.value),autoFocus:!0})]}),ht.jsxs("div",{className:"mb-6 space-y-3",children:[ht.jsx("label",{className:"text-sm font-medium text-[#54656f] dark:text-gray-400 block",children:"Options"}),s.map((e,t)=>ht.jsxs("div",{className:"flex items-center gap-2 animate-in slide-in-from-left-2 duration-200",children:[ht.jsx("input",{type:"text",className:"flex-1 bg-wa-grayBg dark:bg-wa-dark-input p-3 rounded-lg outline-none text-[#111b21] dark:text-gray-100 border-b-2 border-transparent focus:border-wa-teal transition-all",placeholder:`Option ${t+1}`,value:e,onChange:e=>((e,t)=>{const n=[...s];n[e]=t,a(n)})(t,e.target.value)}),s.length>2&&ht.jsx("button",{onClick:()=>(e=>{if(s.length>2){const t=s.filter((t,n)=>n!==e);a(t)}})(t),className:"p-2 text-gray-400 hover:text-red-500 transition-colors",children:ht.jsx(A,{size:20})})]},t)),s.length<10&&ht.jsxs("button",{onClick:()=>{a([...s,""])},className:"flex items-center gap-2 text-wa-teal font-medium mt-2 px-1 hover:underline",children:[ht.jsx(R,{size:20})," Add option"]})]}),ht.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 py-4",children:ht.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[ht.jsx("span",{className:"text-[#111b21] dark:text-gray-100 font-medium",children:"Allow multiple answers"}),ht.jsx("div",{className:"w-12 h-6 rounded-full p-1 transition-colors "+(o?"bg-wa-teal":"bg-gray-300 dark:bg-gray-600"),children:ht.jsx("div",{className:"bg-white w-4 h-4 rounded-full shadow-sm transition-transform "+(o?"translate-x-6":"")})}),ht.jsx("input",{type:"checkbox",className:"hidden",checked:o,onChange:()=>l(!o)})]})})]}),ht.jsx("div",{className:"pt-4 mt-auto",children:ht.jsx("button",{onClick:()=>{const n=s.filter(e=>""!==e.trim());if(!i.trim()||n.length<2)return;const r={question:i,options:n.map((e,t)=>({id:`opt_${Date.now()}_${t}`,text:e,voters:[]})),allowMultiple:o};t(r),e()},disabled:!i.trim()||s.filter(e=>e.trim()).length<2,className:`w-full py-3 rounded-full font-bold text-white transition-all\n                            ${!i.trim()||s.filter(e=>e.trim()).length<2?"bg-gray-300 dark:bg-gray-700 cursor-not-allowed":"bg-wa-teal hover:bg-wa-tealDark shadow-md"}\n                        `,children:"Send Poll"})})]})})},IP=["","","","","","","",""],PP=["#FFFFFF","#000000","#FF0000","#00FF00","#0000FF","#FFFF00"],AP=({file:e,onClose:t,onSend:i,placeholder:r,footerElement:s})=>{const[o,l]=n.useState(""),[c,u]=n.useState(!1),[d,f]=n.useState(""),[h,m]=n.useState(!1),[p,g]=n.useState("#FFFFFF"),[v,y]=n.useState(!1),b=n.useRef(null),[w,k]=n.useState(!1);n.useEffect(()=>{h&&b.current&&b.current.focus()},[h]);const x=()=>{i(o,w)};return a.createPortal(ht.jsxs("div",{className:"fixed inset-0 z-[100] bg-[#0b141a] flex flex-col animate-in fade-in duration-200",children:[ht.jsxs("div",{className:"flex items-center justify-between p-4 z-20 absolute top-0 w-full bg-gradient-to-b from-black/60 to-transparent",children:[ht.jsx("button",{onClick:t,className:"p-2 rounded-full hover:bg-white/10 text-white transition-colors",children:ht.jsx(P,{size:24})}),ht.jsxs("div",{className:"flex gap-6 text-white mx-auto md:mr-4",children:[ht.jsx("button",{onClick:()=>u(!c),className:"p-2 rounded-full hover:bg-white/10 transition-colors "+(c?"bg-white/20":""),title:"Crop / Fit",children:ht.jsx(D,{size:20})}),ht.jsx("button",{onClick:()=>{m(!h),h||d||f("")},className:"p-2 rounded-full hover:bg-white/10 transition-colors "+(h||d?"bg-white/20":""),title:"Add Text",children:ht.jsx(L,{size:20})}),ht.jsxs("div",{className:"relative",children:[ht.jsx("button",{onClick:()=>y(!v),className:"p-2 rounded-full hover:bg-white/10 transition-colors "+(v?"bg-white/20":""),title:"Emoji",children:ht.jsx(O,{size:20})}),v&&ht.jsx("div",{className:"absolute top-12 right-0 bg-[#1f2c34] p-2 rounded-lg shadow-xl flex gap-2 flex-wrap w-40 z-30 border border-gray-700",children:IP.map(e=>ht.jsx("button",{onClick:()=>{return t=e,void(h?f(e=>e+t):l(e=>e+t));var t},className:"text-xl p-1 hover:bg-white/10 rounded",children:e},e))})]})]})]}),ht.jsxs("div",{className:"flex-1 flex items-center justify-center relative bg-black overflow-hidden",onClick:()=>y(!1),children:[ht.jsx("div",{className:"relative transition-all duration-300 "+(c?"w-full h-full":"max-w-full max-h-full p-4"),children:"video"===e.type?ht.jsx("video",{src:e.url,controls:!1,autoPlay:!0,loop:!0,playsInline:!0,className:"w-full h-full "+(c?"object-cover":"object-contain")}):ht.jsx("img",{src:e.url,alt:"Preview",className:"w-full h-full "+(c?"object-cover":"object-contain")})}),(h||d)&&ht.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 pointer-events-none",children:h?ht.jsxs("div",{className:"w-full bg-black/50 p-4 pointer-events-auto flex flex-col items-center gap-4",children:[ht.jsx("input",{ref:b,type:"text",value:d,onChange:e=>f(e.target.value),className:"bg-transparent text-center text-3xl font-bold outline-none w-full",style:{color:p},placeholder:"Type something...",onKeyDown:e=>{"Enter"===e.key&&m(!1)},autoFocus:!0}),ht.jsx("div",{className:"flex gap-2",children:PP.map(e=>ht.jsx("button",{onClick:()=>g(e),className:"w-6 h-6 rounded-full border-2 "+(p===e?"border-white scale-110":"border-transparent"),style:{backgroundColor:e}},e))}),ht.jsx("button",{onClick:()=>m(!1),className:"px-4 py-1 bg-white/20 rounded-full text-white text-sm",children:"Done"})]}):ht.jsx("div",{className:"pointer-events-auto cursor-move text-3xl font-bold drop-shadow-md select-none px-4 py-2 rounded hover:bg-white/10 transition-colors",style:{color:p,textShadow:"0 2px 4px rgba(0,0,0,0.8)"},onClick:()=>m(!0),children:d})})]}),ht.jsxs("div",{className:"bg-[#0b141a] p-3 w-full border-t border-white/10 z-20",children:[ht.jsxs("div",{className:"max-w-4xl mx-auto flex items-end gap-3 pb-2 md:pb-4",children:[ht.jsxs("div",{className:"flex-1 bg-[#2a3942] rounded-full flex items-center px-4 py-2 border border-transparent focus-within:border-gray-500 transition-colors",children:[ht.jsx("div",{className:"text-gray-400 mr-3",children:ht.jsx(R,{size:24,className:"rotate-45"})}),ht.jsx("input",{type:"text",placeholder:r||"Add a caption...",className:"flex-1 bg-transparent text-white placeholder:text-gray-400 outline-none text-[15px] min-w-0",value:o,onChange:e=>l(e.target.value),onKeyDown:e=>"Enter"===e.key&&x()}),ht.jsx("button",{onClick:()=>k(!w),className:"ml-2 w-7 h-7 rounded-full flex items-center justify-center border-2 transition-all "+(w?"bg-wa-teal border-wa-teal text-black font-black":"border-gray-400 text-gray-400 font-bold"),title:"View Once",children:ht.jsx("span",{className:"text-xs",children:"1"})})]}),ht.jsx("button",{onClick:x,className:"w-12 h-12 bg-wa-teal rounded-full flex items-center justify-center text-white shadow-lg hover:brightness-110 active:scale-95 transition-all shrink-0",children:ht.jsx(M,{size:20,className:"ml-1"})})]}),s&&ht.jsx("div",{className:"max-w-4xl mx-auto flex justify-between items-center px-2 mt-1",children:s})]})]}),document.body)},MP=({message:e})=>{var t;const{joinGame:n,currentUserId:i,users:r}=YI(),s=e.pollData||{},{gameType:a,roomId:o,status:l,hostId:c}=s,u=e.senderId===i,d=()=>{n(a,o,e.chatId,s)};return ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg overflow-hidden shadow-sm max-w-[300px] border border-black/5 dark:border-white/5",children:[ht.jsxs("div",{className:"bg-gradient-to-r from-wa-teal to-teal-600 p-3 flex items-center justify-between text-white",children:[ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx(F,{size:20}),ht.jsx("span",{className:"font-bold text-sm tracking-wide",children:(e=>{switch(e){case"chess":return"Chess Master";case"ludo":return"Ludo King";case"snake":return"Snake & Ladders";default:return"Game"}})(a)})]}),ht.jsx("div",{className:"text-[10px] font-medium bg-white/20 px-2 py-0.5 rounded-full uppercase tracking-wider",children:"active"===l?"Live":"Invite"})]}),ht.jsxs("div",{className:"p-4 flex flex-col items-center gap-3",children:[ht.jsxs("div",{className:"w-16 h-16 rounded-full bg-gray-100 dark:bg-gray-700 flex items-center justify-center text-4xl shadow-inner",children:["chess"===a&&"","ludo"===a&&"","snake"===a&&""]}),ht.jsxs("div",{className:"text-center",children:[ht.jsx("h3",{className:"text-[#111b21] dark:text-gray-100 font-medium text-sm",children:u?"You invited others to play":`${(null==(t=r[e.senderId])?void 0:t.name)||"Someone"} invited you to play`}),ht.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"pending"===l?"Waiting for players...":"Game in progress"})]}),"pending"===l&&ht.jsx("button",{onClick:d,className:"w-full py-2 rounded-lg font-bold text-sm transition-all flex items-center justify-center gap-2 bg-wa-teal text-white hover:bg-teal-600 shadow-md hover:shadow-lg active:scale-95",children:u?ht.jsxs(ht.Fragment,{children:[ht.jsx(j,{size:16,fill:"currentColor"}),"Enter Game"]}):ht.jsxs(ht.Fragment,{children:[ht.jsx(j,{size:16,fill:"currentColor"}),"Join Game"]})}),"active"===l&&ht.jsxs("button",{onClick:d,className:"w-full py-2 rounded-lg font-bold text-sm bg-wa-teal text-white hover:bg-teal-600 transition-all shadow-md flex items-center justify-center gap-2",children:[ht.jsx(F,{size:16})," Return to Game"]})]}),ht.jsxs("div",{className:"px-4 pb-2 text-[10px] text-center text-gray-400",children:["Room ID: ",null==o?void 0:o.slice(-6)]})]})},RP=({typingUserIds:e,users:t})=>{if(!e||0===e.length)return null;const n=e.map(e=>{var n;return(null==(n=t[e])?void 0:n.name)||"Someone"}).slice(0,3),i=1===e.length?`${n[0]} is typing`:2===e.length?`${n[0]} and ${n[1]} are typing`:3===e.length?`${n[0]}, ${n[1]}, and ${n[2]} are typing`:`${n[0]}, ${n[1]}, and ${e.length-2} others are typing`;return ht.jsxs("div",{className:"flex items-center gap-1 text-wa-teal dark:text-wa-teal text-sm animate-in fade-in duration-200",children:[ht.jsx("span",{children:i}),ht.jsxs("div",{className:"flex gap-0.5 ml-1",children:[ht.jsx("span",{className:"inline-block w-1 h-1 bg-wa-teal dark:bg-wa-teal rounded-full animate-bounce",style:{animationDelay:"0ms",animationDuration:"1.4s"}}),ht.jsx("span",{className:"inline-block w-1 h-1 bg-wa-teal dark:bg-wa-teal rounded-full animate-bounce",style:{animationDelay:"200ms",animationDuration:"1.4s"}}),ht.jsx("span",{className:"inline-block w-1 h-1 bg-wa-teal dark:bg-wa-teal rounded-full animate-bounce",style:{animationDelay:"400ms",animationDuration:"1.4s"}})]})]})},DP={categories:JSON.parse('[{"id":"people","emojis":["grinning","smiley","smile","grin","laughing","sweat_smile","rolling_on_the_floor_laughing","joy","slightly_smiling_face","upside_down_face","melting_face","wink","blush","innocent","smiling_face_with_3_hearts","heart_eyes","star-struck","kissing_heart","kissing","relaxed","kissing_closed_eyes","kissing_smiling_eyes","smiling_face_with_tear","yum","stuck_out_tongue","stuck_out_tongue_winking_eye","zany_face","stuck_out_tongue_closed_eyes","money_mouth_face","hugging_face","face_with_hand_over_mouth","face_with_open_eyes_and_hand_over_mouth","face_with_peeking_eye","shushing_face","thinking_face","saluting_face","zipper_mouth_face","face_with_raised_eyebrow","neutral_face","expressionless","no_mouth","dotted_line_face","face_in_clouds","smirk","unamused","face_with_rolling_eyes","grimacing","face_exhaling","lying_face","shaking_face","relieved","pensive","sleepy","drooling_face","sleeping","mask","face_with_thermometer","face_with_head_bandage","nauseated_face","face_vomiting","sneezing_face","hot_face","cold_face","woozy_face","dizzy_face","face_with_spiral_eyes","exploding_head","face_with_cowboy_hat","partying_face","disguised_face","sunglasses","nerd_face","face_with_monocle","confused","face_with_diagonal_mouth","worried","slightly_frowning_face","white_frowning_face","open_mouth","hushed","astonished","flushed","pleading_face","face_holding_back_tears","frowning","anguished","fearful","cold_sweat","disappointed_relieved","cry","sob","scream","confounded","persevere","disappointed","sweat","weary","tired_face","yawning_face","triumph","rage","angry","face_with_symbols_on_mouth","smiling_imp","imp","skull","skull_and_crossbones","hankey","clown_face","japanese_ogre","japanese_goblin","ghost","alien","space_invader","wave","raised_back_of_hand","raised_hand_with_fingers_splayed","hand","spock-hand","rightwards_hand","leftwards_hand","palm_down_hand","palm_up_hand","leftwards_pushing_hand","rightwards_pushing_hand","ok_hand","pinched_fingers","pinching_hand","v","crossed_fingers","hand_with_index_finger_and_thumb_crossed","i_love_you_hand_sign","the_horns","call_me_hand","point_left","point_right","point_up_2","middle_finger","point_down","point_up","index_pointing_at_the_viewer","+1","-1","fist","facepunch","left-facing_fist","right-facing_fist","clap","raised_hands","heart_hands","open_hands","palms_up_together","handshake","pray","writing_hand","nail_care","selfie","muscle","mechanical_arm","mechanical_leg","leg","foot","ear","ear_with_hearing_aid","nose","brain","anatomical_heart","lungs","tooth","bone","eyes","eye","tongue","lips","biting_lip","baby","child","boy","girl","adult","person_with_blond_hair","man","bearded_person","man_with_beard","woman_with_beard","red_haired_man","curly_haired_man","white_haired_man","bald_man","woman","red_haired_woman","red_haired_person","curly_haired_woman","curly_haired_person","white_haired_woman","white_haired_person","bald_woman","bald_person","blond-haired-woman","blond-haired-man","older_adult","older_man","older_woman","person_frowning","man-frowning","woman-frowning","person_with_pouting_face","man-pouting","woman-pouting","no_good","man-gesturing-no","woman-gesturing-no","ok_woman","man-gesturing-ok","woman-gesturing-ok","information_desk_person","man-tipping-hand","woman-tipping-hand","raising_hand","man-raising-hand","woman-raising-hand","deaf_person","deaf_man","deaf_woman","bow","man-bowing","woman-bowing","face_palm","man-facepalming","woman-facepalming","shrug","man-shrugging","woman-shrugging","health_worker","male-doctor","female-doctor","student","male-student","female-student","teacher","male-teacher","female-teacher","judge","male-judge","female-judge","farmer","male-farmer","female-farmer","cook","male-cook","female-cook","mechanic","male-mechanic","female-mechanic","factory_worker","male-factory-worker","female-factory-worker","office_worker","male-office-worker","female-office-worker","scientist","male-scientist","female-scientist","technologist","male-technologist","female-technologist","singer","male-singer","female-singer","artist","male-artist","female-artist","pilot","male-pilot","female-pilot","astronaut","male-astronaut","female-astronaut","firefighter","male-firefighter","female-firefighter","cop","male-police-officer","female-police-officer","sleuth_or_spy","male-detective","female-detective","guardsman","male-guard","female-guard","ninja","construction_worker","male-construction-worker","female-construction-worker","person_with_crown","prince","princess","man_with_turban","man-wearing-turban","woman-wearing-turban","man_with_gua_pi_mao","person_with_headscarf","person_in_tuxedo","man_in_tuxedo","woman_in_tuxedo","bride_with_veil","man_with_veil","woman_with_veil","pregnant_woman","pregnant_man","pregnant_person","breast-feeding","woman_feeding_baby","man_feeding_baby","person_feeding_baby","angel","santa","mrs_claus","mx_claus","superhero","male_superhero","female_superhero","supervillain","male_supervillain","female_supervillain","mage","male_mage","female_mage","fairy","male_fairy","female_fairy","vampire","male_vampire","female_vampire","merperson","merman","mermaid","elf","male_elf","female_elf","genie","male_genie","female_genie","zombie","male_zombie","female_zombie","troll","massage","man-getting-massage","woman-getting-massage","haircut","man-getting-haircut","woman-getting-haircut","walking","man-walking","woman-walking","standing_person","man_standing","woman_standing","kneeling_person","man_kneeling","woman_kneeling","person_with_probing_cane","man_with_probing_cane","woman_with_probing_cane","person_in_motorized_wheelchair","man_in_motorized_wheelchair","woman_in_motorized_wheelchair","person_in_manual_wheelchair","man_in_manual_wheelchair","woman_in_manual_wheelchair","runner","man-running","woman-running","dancer","man_dancing","man_in_business_suit_levitating","dancers","men-with-bunny-ears-partying","women-with-bunny-ears-partying","person_in_steamy_room","man_in_steamy_room","woman_in_steamy_room","person_climbing","man_climbing","woman_climbing","fencer","horse_racing","skier","snowboarder","golfer","man-golfing","woman-golfing","surfer","man-surfing","woman-surfing","rowboat","man-rowing-boat","woman-rowing-boat","swimmer","man-swimming","woman-swimming","person_with_ball","man-bouncing-ball","woman-bouncing-ball","weight_lifter","man-lifting-weights","woman-lifting-weights","bicyclist","man-biking","woman-biking","mountain_bicyclist","man-mountain-biking","woman-mountain-biking","person_doing_cartwheel","man-cartwheeling","woman-cartwheeling","wrestlers","man-wrestling","woman-wrestling","water_polo","man-playing-water-polo","woman-playing-water-polo","handball","man-playing-handball","woman-playing-handball","juggling","man-juggling","woman-juggling","person_in_lotus_position","man_in_lotus_position","woman_in_lotus_position","bath","sleeping_accommodation","people_holding_hands","two_women_holding_hands","man_and_woman_holding_hands","two_men_holding_hands","couplekiss","woman-kiss-man","man-kiss-man","woman-kiss-woman","couple_with_heart","woman-heart-man","man-heart-man","woman-heart-woman","family","man-woman-boy","man-woman-girl","man-woman-girl-boy","man-woman-boy-boy","man-woman-girl-girl","man-man-boy","man-man-girl","man-man-girl-boy","man-man-boy-boy","man-man-girl-girl","woman-woman-boy","woman-woman-girl","woman-woman-girl-boy","woman-woman-boy-boy","woman-woman-girl-girl","man-boy","man-boy-boy","man-girl","man-girl-boy","man-girl-girl","woman-boy","woman-boy-boy","woman-girl","woman-girl-boy","woman-girl-girl","speaking_head_in_silhouette","bust_in_silhouette","busts_in_silhouette","people_hugging","footprints","robot_face","smiley_cat","smile_cat","joy_cat","heart_eyes_cat","smirk_cat","kissing_cat","scream_cat","crying_cat_face","pouting_cat","see_no_evil","hear_no_evil","speak_no_evil","love_letter","cupid","gift_heart","sparkling_heart","heartpulse","heartbeat","revolving_hearts","two_hearts","heart_decoration","heavy_heart_exclamation_mark_ornament","broken_heart","heart_on_fire","mending_heart","heart","pink_heart","orange_heart","yellow_heart","green_heart","blue_heart","light_blue_heart","purple_heart","brown_heart","black_heart","grey_heart","white_heart","kiss","100","anger","boom","dizzy","sweat_drops","dash","hole","speech_balloon","eye-in-speech-bubble","left_speech_bubble","right_anger_bubble","thought_balloon","zzz"]},{"id":"nature","emojis":["monkey_face","monkey","gorilla","orangutan","dog","dog2","guide_dog","service_dog","poodle","wolf","fox_face","raccoon","cat","cat2","black_cat","lion_face","tiger","tiger2","leopard","horse","moose","donkey","racehorse","unicorn_face","zebra_face","deer","bison","cow","ox","water_buffalo","cow2","pig","pig2","boar","pig_nose","ram","sheep","goat","dromedary_camel","camel","llama","giraffe_face","elephant","mammoth","rhinoceros","hippopotamus","mouse","mouse2","rat","hamster","rabbit","rabbit2","chipmunk","beaver","hedgehog","bat","bear","polar_bear","koala","panda_face","sloth","otter","skunk","kangaroo","badger","feet","turkey","chicken","rooster","hatching_chick","baby_chick","hatched_chick","bird","penguin","dove_of_peace","eagle","duck","swan","owl","dodo","feather","flamingo","peacock","parrot","wing","black_bird","goose","frog","crocodile","turtle","lizard","snake","dragon_face","dragon","sauropod","t-rex","whale","whale2","dolphin","seal","fish","tropical_fish","blowfish","shark","octopus","shell","coral","jellyfish","snail","butterfly","bug","ant","bee","beetle","ladybug","cricket","cockroach","spider","spider_web","scorpion","mosquito","fly","worm","microbe","bouquet","cherry_blossom","white_flower","lotus","rosette","rose","wilted_flower","hibiscus","sunflower","blossom","tulip","hyacinth","seedling","potted_plant","evergreen_tree","deciduous_tree","palm_tree","cactus","ear_of_rice","herb","shamrock","four_leaf_clover","maple_leaf","fallen_leaf","leaves","empty_nest","nest_with_eggs","mushroom"]},{"id":"foods","emojis":["grapes","melon","watermelon","tangerine","lemon","banana","pineapple","mango","apple","green_apple","pear","peach","cherries","strawberry","blueberries","kiwifruit","tomato","olive","coconut","avocado","eggplant","potato","carrot","corn","hot_pepper","bell_pepper","cucumber","leafy_green","broccoli","garlic","onion","peanuts","beans","chestnut","ginger_root","pea_pod","bread","croissant","baguette_bread","flatbread","pretzel","bagel","pancakes","waffle","cheese_wedge","meat_on_bone","poultry_leg","cut_of_meat","bacon","hamburger","fries","pizza","hotdog","sandwich","taco","burrito","tamale","stuffed_flatbread","falafel","egg","fried_egg","shallow_pan_of_food","stew","fondue","bowl_with_spoon","green_salad","popcorn","butter","salt","canned_food","bento","rice_cracker","rice_ball","rice","curry","ramen","spaghetti","sweet_potato","oden","sushi","fried_shrimp","fish_cake","moon_cake","dango","dumpling","fortune_cookie","takeout_box","crab","lobster","shrimp","squid","oyster","icecream","shaved_ice","ice_cream","doughnut","cookie","birthday","cake","cupcake","pie","chocolate_bar","candy","lollipop","custard","honey_pot","baby_bottle","glass_of_milk","coffee","teapot","tea","sake","champagne","wine_glass","cocktail","tropical_drink","beer","beers","clinking_glasses","tumbler_glass","pouring_liquid","cup_with_straw","bubble_tea","beverage_box","mate_drink","ice_cube","chopsticks","knife_fork_plate","fork_and_knife","spoon","hocho","jar","amphora"]},{"id":"activity","emojis":["jack_o_lantern","christmas_tree","fireworks","sparkler","firecracker","sparkles","balloon","tada","confetti_ball","tanabata_tree","bamboo","dolls","flags","wind_chime","rice_scene","red_envelope","ribbon","gift","reminder_ribbon","admission_tickets","ticket","medal","trophy","sports_medal","first_place_medal","second_place_medal","third_place_medal","soccer","baseball","softball","basketball","volleyball","football","rugby_football","tennis","flying_disc","bowling","cricket_bat_and_ball","field_hockey_stick_and_ball","ice_hockey_stick_and_puck","lacrosse","table_tennis_paddle_and_ball","badminton_racquet_and_shuttlecock","boxing_glove","martial_arts_uniform","goal_net","golf","ice_skate","fishing_pole_and_fish","diving_mask","running_shirt_with_sash","ski","sled","curling_stone","dart","yo-yo","kite","gun","8ball","crystal_ball","magic_wand","video_game","joystick","slot_machine","game_die","jigsaw","teddy_bear","pinata","mirror_ball","nesting_dolls","spades","hearts","diamonds","clubs","chess_pawn","black_joker","mahjong","flower_playing_cards","performing_arts","frame_with_picture","art","thread","sewing_needle","yarn","knot"]},{"id":"places","emojis":["earth_africa","earth_americas","earth_asia","globe_with_meridians","world_map","japan","compass","snow_capped_mountain","mountain","volcano","mount_fuji","camping","beach_with_umbrella","desert","desert_island","national_park","stadium","classical_building","building_construction","bricks","rock","wood","hut","house_buildings","derelict_house_building","house","house_with_garden","office","post_office","european_post_office","hospital","bank","hotel","love_hotel","convenience_store","school","department_store","factory","japanese_castle","european_castle","wedding","tokyo_tower","statue_of_liberty","church","mosque","hindu_temple","synagogue","shinto_shrine","kaaba","fountain","tent","foggy","night_with_stars","cityscape","sunrise_over_mountains","sunrise","city_sunset","city_sunrise","bridge_at_night","hotsprings","carousel_horse","playground_slide","ferris_wheel","roller_coaster","barber","circus_tent","steam_locomotive","railway_car","bullettrain_side","bullettrain_front","train2","metro","light_rail","station","tram","monorail","mountain_railway","train","bus","oncoming_bus","trolleybus","minibus","ambulance","fire_engine","police_car","oncoming_police_car","taxi","oncoming_taxi","car","oncoming_automobile","blue_car","pickup_truck","truck","articulated_lorry","tractor","racing_car","racing_motorcycle","motor_scooter","manual_wheelchair","motorized_wheelchair","auto_rickshaw","bike","scooter","skateboard","roller_skate","busstop","motorway","railway_track","oil_drum","fuelpump","wheel","rotating_light","traffic_light","vertical_traffic_light","octagonal_sign","construction","anchor","ring_buoy","boat","canoe","speedboat","passenger_ship","ferry","motor_boat","ship","airplane","small_airplane","airplane_departure","airplane_arriving","parachute","seat","helicopter","suspension_railway","mountain_cableway","aerial_tramway","satellite","rocket","flying_saucer","bellhop_bell","luggage","hourglass","hourglass_flowing_sand","watch","alarm_clock","stopwatch","timer_clock","mantelpiece_clock","clock12","clock1230","clock1","clock130","clock2","clock230","clock3","clock330","clock4","clock430","clock5","clock530","clock6","clock630","clock7","clock730","clock8","clock830","clock9","clock930","clock10","clock1030","clock11","clock1130","new_moon","waxing_crescent_moon","first_quarter_moon","moon","full_moon","waning_gibbous_moon","last_quarter_moon","waning_crescent_moon","crescent_moon","new_moon_with_face","first_quarter_moon_with_face","last_quarter_moon_with_face","thermometer","sunny","full_moon_with_face","sun_with_face","ringed_planet","star","star2","stars","milky_way","cloud","partly_sunny","thunder_cloud_and_rain","mostly_sunny","barely_sunny","partly_sunny_rain","rain_cloud","snow_cloud","lightning","tornado","fog","wind_blowing_face","cyclone","rainbow","closed_umbrella","umbrella","umbrella_with_rain_drops","umbrella_on_ground","zap","snowflake","snowman","snowman_without_snow","comet","fire","droplet","ocean"]},{"id":"objects","emojis":["eyeglasses","dark_sunglasses","goggles","lab_coat","safety_vest","necktie","shirt","jeans","scarf","gloves","coat","socks","dress","kimono","sari","one-piece_swimsuit","briefs","shorts","bikini","womans_clothes","folding_hand_fan","purse","handbag","pouch","shopping_bags","school_satchel","thong_sandal","mans_shoe","athletic_shoe","hiking_boot","womans_flat_shoe","high_heel","sandal","ballet_shoes","boot","hair_pick","crown","womans_hat","tophat","mortar_board","billed_cap","military_helmet","helmet_with_white_cross","prayer_beads","lipstick","ring","gem","mute","speaker","sound","loud_sound","loudspeaker","mega","postal_horn","bell","no_bell","musical_score","musical_note","notes","studio_microphone","level_slider","control_knobs","microphone","headphones","radio","saxophone","accordion","guitar","musical_keyboard","trumpet","violin","banjo","drum_with_drumsticks","long_drum","maracas","flute","iphone","calling","phone","telephone_receiver","pager","fax","battery","low_battery","electric_plug","computer","desktop_computer","printer","keyboard","three_button_mouse","trackball","minidisc","floppy_disk","cd","dvd","abacus","movie_camera","film_frames","film_projector","clapper","tv","camera","camera_with_flash","video_camera","vhs","mag","mag_right","candle","bulb","flashlight","izakaya_lantern","diya_lamp","notebook_with_decorative_cover","closed_book","book","green_book","blue_book","orange_book","books","notebook","ledger","page_with_curl","scroll","page_facing_up","newspaper","rolled_up_newspaper","bookmark_tabs","bookmark","label","moneybag","coin","yen","dollar","euro","pound","money_with_wings","credit_card","receipt","chart","email","e-mail","incoming_envelope","envelope_with_arrow","outbox_tray","inbox_tray","package","mailbox","mailbox_closed","mailbox_with_mail","mailbox_with_no_mail","postbox","ballot_box_with_ballot","pencil2","black_nib","lower_left_fountain_pen","lower_left_ballpoint_pen","lower_left_paintbrush","lower_left_crayon","memo","briefcase","file_folder","open_file_folder","card_index_dividers","date","calendar","spiral_note_pad","spiral_calendar_pad","card_index","chart_with_upwards_trend","chart_with_downwards_trend","bar_chart","clipboard","pushpin","round_pushpin","paperclip","linked_paperclips","straight_ruler","triangular_ruler","scissors","card_file_box","file_cabinet","wastebasket","lock","unlock","lock_with_ink_pen","closed_lock_with_key","key","old_key","hammer","axe","pick","hammer_and_pick","hammer_and_wrench","dagger_knife","crossed_swords","bomb","boomerang","bow_and_arrow","shield","carpentry_saw","wrench","screwdriver","nut_and_bolt","gear","compression","scales","probing_cane","link","chains","hook","toolbox","magnet","ladder","alembic","test_tube","petri_dish","dna","microscope","telescope","satellite_antenna","syringe","drop_of_blood","pill","adhesive_bandage","crutch","stethoscope","x-ray","door","elevator","mirror","window","bed","couch_and_lamp","chair","toilet","plunger","shower","bathtub","mouse_trap","razor","lotion_bottle","safety_pin","broom","basket","roll_of_paper","bucket","soap","bubbles","toothbrush","sponge","fire_extinguisher","shopping_trolley","smoking","coffin","headstone","funeral_urn","nazar_amulet","hamsa","moyai","placard","identification_card"]},{"id":"symbols","emojis":["atm","put_litter_in_its_place","potable_water","wheelchair","mens","womens","restroom","baby_symbol","wc","passport_control","customs","baggage_claim","left_luggage","warning","children_crossing","no_entry","no_entry_sign","no_bicycles","no_smoking","do_not_litter","non-potable_water","no_pedestrians","no_mobile_phones","underage","radioactive_sign","biohazard_sign","arrow_up","arrow_upper_right","arrow_right","arrow_lower_right","arrow_down","arrow_lower_left","arrow_left","arrow_upper_left","arrow_up_down","left_right_arrow","leftwards_arrow_with_hook","arrow_right_hook","arrow_heading_up","arrow_heading_down","arrows_clockwise","arrows_counterclockwise","back","end","on","soon","top","place_of_worship","atom_symbol","om_symbol","star_of_david","wheel_of_dharma","yin_yang","latin_cross","orthodox_cross","star_and_crescent","peace_symbol","menorah_with_nine_branches","six_pointed_star","khanda","aries","taurus","gemini","cancer","leo","virgo","libra","scorpius","sagittarius","capricorn","aquarius","pisces","ophiuchus","twisted_rightwards_arrows","repeat","repeat_one","arrow_forward","fast_forward","black_right_pointing_double_triangle_with_vertical_bar","black_right_pointing_triangle_with_double_vertical_bar","arrow_backward","rewind","black_left_pointing_double_triangle_with_vertical_bar","arrow_up_small","arrow_double_up","arrow_down_small","arrow_double_down","double_vertical_bar","black_square_for_stop","black_circle_for_record","eject","cinema","low_brightness","high_brightness","signal_strength","wireless","vibration_mode","mobile_phone_off","female_sign","male_sign","transgender_symbol","heavy_multiplication_x","heavy_plus_sign","heavy_minus_sign","heavy_division_sign","heavy_equals_sign","infinity","bangbang","interrobang","question","grey_question","grey_exclamation","exclamation","wavy_dash","currency_exchange","heavy_dollar_sign","medical_symbol","recycle","fleur_de_lis","trident","name_badge","beginner","o","white_check_mark","ballot_box_with_check","heavy_check_mark","x","negative_squared_cross_mark","curly_loop","loop","part_alternation_mark","eight_spoked_asterisk","eight_pointed_black_star","sparkle","copyright","registered","tm","hash","keycap_star","zero","one","two","three","four","five","six","seven","eight","nine","keycap_ten","capital_abcd","abcd","1234","symbols","abc","a","ab","b","cl","cool","free","information_source","id","m","new","ng","o2","ok","parking","sos","up","vs","koko","sa","u6708","u6709","u6307","ideograph_advantage","u5272","u7121","u7981","accept","u7533","u5408","u7a7a","congratulations","secret","u55b6","u6e80","red_circle","large_orange_circle","large_yellow_circle","large_green_circle","large_blue_circle","large_purple_circle","large_brown_circle","black_circle","white_circle","large_red_square","large_orange_square","large_yellow_square","large_green_square","large_blue_square","large_purple_square","large_brown_square","black_large_square","white_large_square","black_medium_square","white_medium_square","black_medium_small_square","white_medium_small_square","black_small_square","white_small_square","large_orange_diamond","large_blue_diamond","small_orange_diamond","small_blue_diamond","small_red_triangle","small_red_triangle_down","diamond_shape_with_a_dot_inside","radio_button","white_square_button","black_square_button"]},{"id":"flags","emojis":["checkered_flag","cn","crossed_flags","de","es","flag-ac","flag-ad","flag-ae","flag-af","flag-ag","flag-ai","flag-al","flag-am","flag-ao","flag-aq","flag-ar","flag-as","flag-at","flag-au","flag-aw","flag-ax","flag-az","flag-ba","flag-bb","flag-bd","flag-be","flag-bf","flag-bg","flag-bh","flag-bi","flag-bj","flag-bl","flag-bm","flag-bn","flag-bo","flag-bq","flag-br","flag-bs","flag-bt","flag-bv","flag-bw","flag-by","flag-bz","flag-ca","flag-cc","flag-cd","flag-cf","flag-cg","flag-ch","flag-ci","flag-ck","flag-cl","flag-cm","flag-co","flag-cp","flag-cr","flag-cu","flag-cv","flag-cw","flag-cx","flag-cy","flag-cz","flag-dg","flag-dj","flag-dk","flag-dm","flag-do","flag-dz","flag-ea","flag-ec","flag-ee","flag-eg","flag-eh","flag-england","flag-er","flag-et","flag-eu","flag-fi","flag-fj","flag-fk","flag-fm","flag-fo","flag-ga","flag-gd","flag-ge","flag-gf","flag-gg","flag-gh","flag-gi","flag-gl","flag-gm","flag-gn","flag-gp","flag-gq","flag-gr","flag-gs","flag-gt","flag-gu","flag-gw","flag-gy","flag-hk","flag-hm","flag-hn","flag-hr","flag-ht","flag-hu","flag-ic","flag-id","flag-ie","flag-il","flag-im","flag-in","flag-io","flag-iq","flag-ir","flag-is","flag-je","flag-jm","flag-jo","flag-ke","flag-kg","flag-kh","flag-ki","flag-km","flag-kn","flag-kp","flag-kw","flag-ky","flag-kz","flag-la","flag-lb","flag-lc","flag-li","flag-lk","flag-lr","flag-ls","flag-lt","flag-lu","flag-lv","flag-ly","flag-ma","flag-mc","flag-md","flag-me","flag-mf","flag-mg","flag-mh","flag-mk","flag-ml","flag-mm","flag-mn","flag-mo","flag-mp","flag-mq","flag-mr","flag-ms","flag-mt","flag-mu","flag-mv","flag-mw","flag-mx","flag-my","flag-mz","flag-na","flag-nc","flag-ne","flag-nf","flag-ng","flag-ni","flag-nl","flag-no","flag-np","flag-nr","flag-nu","flag-nz","flag-om","flag-pa","flag-pe","flag-pf","flag-pg","flag-ph","flag-pk","flag-pl","flag-pm","flag-pn","flag-pr","flag-ps","flag-pt","flag-pw","flag-py","flag-qa","flag-re","flag-ro","flag-rs","flag-rw","flag-sa","flag-sb","flag-sc","flag-scotland","flag-sd","flag-se","flag-sg","flag-sh","flag-si","flag-sj","flag-sk","flag-sl","flag-sm","flag-sn","flag-so","flag-sr","flag-ss","flag-st","flag-sv","flag-sx","flag-sy","flag-sz","flag-ta","flag-tc","flag-td","flag-tf","flag-tg","flag-th","flag-tj","flag-tk","flag-tl","flag-tm","flag-tn","flag-to","flag-tr","flag-tt","flag-tv","flag-tw","flag-tz","flag-ua","flag-ug","flag-um","flag-un","flag-uy","flag-uz","flag-va","flag-vc","flag-ve","flag-vg","flag-vi","flag-vn","flag-vu","flag-wales","flag-wf","flag-ws","flag-xk","flag-ye","flag-yt","flag-za","flag-zm","flag-zw","fr","gb","it","jp","kr","pirate_flag","rainbow-flag","ru","transgender_flag","triangular_flag_on_post","us","waving_black_flag","waving_white_flag"]}]'),emojis:JSON.parse('{"100":{"id":"100","name":"Hundred Points","keywords":["100","score","perfect","numbers","century","exam","quiz","test","pass"],"skins":[{"unified":"1f4af","native":""}],"version":1},"1234":{"id":"1234","name":"Input Numbers","keywords":["1234","blue","square","1","2","3","4"],"skins":[{"unified":"1f522","native":""}],"version":1},"grinning":{"id":"grinning","name":"Grinning Face","emoticons":[":D"],"keywords":["smile","happy","joy",":D","grin"],"skins":[{"unified":"1f600","native":""}],"version":1},"smiley":{"id":"smiley","name":"Grinning Face with Big Eyes","emoticons":[":)","=)","=-)"],"keywords":["smiley","happy","joy","haha",":D",":)","smile","funny"],"skins":[{"unified":"1f603","native":""}],"version":1},"smile":{"id":"smile","name":"Grinning Face with Smiling Eyes","emoticons":[":)","C:","c:",":D",":-D"],"keywords":["smile","happy","joy","funny","haha","laugh","like",":D",":)"],"skins":[{"unified":"1f604","native":""}],"version":1},"grin":{"id":"grin","name":"Beaming Face with Smiling Eyes","keywords":["grin","happy","smile","joy","kawaii"],"skins":[{"unified":"1f601","native":""}],"version":1},"laughing":{"id":"laughing","name":"Grinning Squinting Face","emoticons":[":>",":->"],"keywords":["laughing","satisfied","happy","joy","lol","haha","glad","XD","laugh"],"skins":[{"unified":"1f606","native":""}],"version":1},"sweat_smile":{"id":"sweat_smile","name":"Grinning Face with Sweat","keywords":["smile","hot","happy","laugh","relief"],"skins":[{"unified":"1f605","native":""}],"version":1},"rolling_on_the_floor_laughing":{"id":"rolling_on_the_floor_laughing","name":"Rolling on the Floor Laughing","keywords":["face","lol","haha","rofl"],"skins":[{"unified":"1f923","native":""}],"version":3},"joy":{"id":"joy","name":"Face with Tears of Joy","keywords":["cry","weep","happy","happytears","haha"],"skins":[{"unified":"1f602","native":""}],"version":1},"slightly_smiling_face":{"id":"slightly_smiling_face","name":"Slightly Smiling Face","emoticons":[":)","(:",":-)"],"keywords":["smile"],"skins":[{"unified":"1f642","native":""}],"version":1},"upside_down_face":{"id":"upside_down_face","name":"Upside-Down Face","keywords":["upside","down","flipped","silly","smile"],"skins":[{"unified":"1f643","native":""}],"version":1},"melting_face":{"id":"melting_face","name":"Melting Face","keywords":["hot","heat"],"skins":[{"unified":"1fae0","native":""}],"version":14},"wink":{"id":"wink","name":"Winking Face","emoticons":[";)",";-)"],"keywords":["wink","happy","mischievous","secret",";)","smile","eye"],"skins":[{"unified":"1f609","native":""}],"version":1},"blush":{"id":"blush","name":"Smiling Face with Smiling Eyes","emoticons":[":)"],"keywords":["blush","smile","happy","flushed","crush","embarrassed","shy","joy"],"skins":[{"unified":"1f60a","native":""}],"version":1},"innocent":{"id":"innocent","name":"Smiling Face with Halo","keywords":["innocent","angel","heaven"],"skins":[{"unified":"1f607","native":""}],"version":1},"smiling_face_with_3_hearts":{"id":"smiling_face_with_3_hearts","name":"Smiling Face with Hearts","keywords":["3","love","like","affection","valentines","infatuation","crush","adore"],"skins":[{"unified":"1f970","native":""}],"version":11},"heart_eyes":{"id":"heart_eyes","name":"Smiling Face with Heart-Eyes","keywords":["heart","eyes","love","like","affection","valentines","infatuation","crush"],"skins":[{"unified":"1f60d","native":""}],"version":1},"star-struck":{"id":"star-struck","name":"Star-Struck","keywords":["star","struck","grinning","face","with","eyes","smile","starry"],"skins":[{"unified":"1f929","native":""}],"version":5},"kissing_heart":{"id":"kissing_heart","name":"Face Blowing a Kiss","emoticons":[":*",":-*"],"keywords":["kissing","heart","love","like","affection","valentines","infatuation"],"skins":[{"unified":"1f618","native":""}],"version":1},"kissing":{"id":"kissing","name":"Kissing Face","keywords":["love","like","3","valentines","infatuation","kiss"],"skins":[{"unified":"1f617","native":""}],"version":1},"relaxed":{"id":"relaxed","name":"Smiling Face","keywords":["relaxed","blush","massage","happiness"],"skins":[{"unified":"263a-fe0f","native":""}],"version":1},"kissing_closed_eyes":{"id":"kissing_closed_eyes","name":"Kissing Face with Closed Eyes","keywords":["love","like","affection","valentines","infatuation","kiss"],"skins":[{"unified":"1f61a","native":""}],"version":1},"kissing_smiling_eyes":{"id":"kissing_smiling_eyes","name":"Kissing Face with Smiling Eyes","keywords":["affection","valentines","infatuation","kiss"],"skins":[{"unified":"1f619","native":""}],"version":1},"smiling_face_with_tear":{"id":"smiling_face_with_tear","name":"Smiling Face with Tear","keywords":["sad","cry","pretend"],"skins":[{"unified":"1f972","native":""}],"version":13},"yum":{"id":"yum","name":"Face Savoring Food","keywords":["yum","happy","joy","tongue","smile","silly","yummy","nom","delicious","savouring"],"skins":[{"unified":"1f60b","native":""}],"version":1},"stuck_out_tongue":{"id":"stuck_out_tongue","name":"Face with Tongue","emoticons":[":p",":-p",":P",":-P",":b",":-b"],"keywords":["stuck","out","prank","childish","playful","mischievous","smile"],"skins":[{"unified":"1f61b","native":""}],"version":1},"stuck_out_tongue_winking_eye":{"id":"stuck_out_tongue_winking_eye","name":"Winking Face with Tongue","emoticons":[";p",";-p",";b",";-b",";P",";-P"],"keywords":["stuck","out","eye","prank","childish","playful","mischievous","smile","wink"],"skins":[{"unified":"1f61c","native":""}],"version":1},"zany_face":{"id":"zany_face","name":"Zany Face","keywords":["grinning","with","one","large","and","small","eye","goofy","crazy"],"skins":[{"unified":"1f92a","native":""}],"version":5},"stuck_out_tongue_closed_eyes":{"id":"stuck_out_tongue_closed_eyes","name":"Squinting Face with Tongue","keywords":["stuck","out","closed","eyes","prank","playful","mischievous","smile"],"skins":[{"unified":"1f61d","native":""}],"version":1},"money_mouth_face":{"id":"money_mouth_face","name":"Money-Mouth Face","keywords":["money","mouth","rich","dollar"],"skins":[{"unified":"1f911","native":""}],"version":1},"hugging_face":{"id":"hugging_face","name":"Hugging Face","keywords":["smile","hug"],"skins":[{"unified":"1f917","native":""}],"version":1},"face_with_hand_over_mouth":{"id":"face_with_hand_over_mouth","name":"Face with Hand over Mouth","keywords":["smiling","eyes","and","covering","whoops","shock","surprise"],"skins":[{"unified":"1f92d","native":""}],"version":5},"face_with_open_eyes_and_hand_over_mouth":{"id":"face_with_open_eyes_and_hand_over_mouth","name":"Face with Open Eyes and Hand over Mouth","keywords":["silence","secret","shock","surprise"],"skins":[{"unified":"1fae2","native":""}],"version":14},"face_with_peeking_eye":{"id":"face_with_peeking_eye","name":"Face with Peeking Eye","keywords":["scared","frightening","embarrassing","shy"],"skins":[{"unified":"1fae3","native":""}],"version":14},"shushing_face":{"id":"shushing_face","name":"Shushing Face","keywords":["with","finger","covering","closed","lips","quiet","shhh"],"skins":[{"unified":"1f92b","native":""}],"version":5},"thinking_face":{"id":"thinking_face","name":"Thinking Face","keywords":["hmmm","think","consider"],"skins":[{"unified":"1f914","native":""}],"version":1},"saluting_face":{"id":"saluting_face","name":"Saluting Face","keywords":["respect","salute"],"skins":[{"unified":"1fae1","native":""}],"version":14},"zipper_mouth_face":{"id":"zipper_mouth_face","name":"Zipper-Mouth Face","keywords":["zipper","mouth","sealed","secret"],"skins":[{"unified":"1f910","native":""}],"version":1},"face_with_raised_eyebrow":{"id":"face_with_raised_eyebrow","name":"Face with Raised Eyebrow","keywords":["one","distrust","scepticism","disapproval","disbelief","surprise"],"skins":[{"unified":"1f928","native":""}],"version":5},"neutral_face":{"id":"neutral_face","name":"Neutral Face","emoticons":[":|",":-|"],"keywords":["indifference","meh",":",""],"skins":[{"unified":"1f610","native":""}],"version":1},"expressionless":{"id":"expressionless","name":"Expressionless Face","emoticons":["-_-"],"keywords":["indifferent","-","","meh","deadpan"],"skins":[{"unified":"1f611","native":""}],"version":1},"no_mouth":{"id":"no_mouth","name":"Face Without Mouth","keywords":["no","hellokitty"],"skins":[{"unified":"1f636","native":""}],"version":1},"dotted_line_face":{"id":"dotted_line_face","name":"Dotted Line Face","keywords":["invisible","lonely","isolation","depression"],"skins":[{"unified":"1fae5","native":""}],"version":14},"face_in_clouds":{"id":"face_in_clouds","name":"Face in Clouds","keywords":["shower","steam","dream"],"skins":[{"unified":"1f636-200d-1f32b-fe0f","native":""}],"version":13.1},"smirk":{"id":"smirk","name":"Smirking Face","keywords":["smirk","smile","mean","prank","smug","sarcasm"],"skins":[{"unified":"1f60f","native":""}],"version":1},"unamused":{"id":"unamused","name":"Unamused Face","emoticons":[":("],"keywords":["indifference","bored","straight","serious","sarcasm","unimpressed","skeptical","dubious","side","eye"],"skins":[{"unified":"1f612","native":""}],"version":1},"face_with_rolling_eyes":{"id":"face_with_rolling_eyes","name":"Face with Rolling Eyes","keywords":["eyeroll","frustrated"],"skins":[{"unified":"1f644","native":""}],"version":1},"grimacing":{"id":"grimacing","name":"Grimacing Face","keywords":["grimace","teeth"],"skins":[{"unified":"1f62c","native":""}],"version":1},"face_exhaling":{"id":"face_exhaling","name":"Face Exhaling","keywords":["relieve","relief","tired","sigh"],"skins":[{"unified":"1f62e-200d-1f4a8","native":""}],"version":13.1},"lying_face":{"id":"lying_face","name":"Lying Face","keywords":["lie","pinocchio"],"skins":[{"unified":"1f925","native":""}],"version":3},"shaking_face":{"id":"shaking_face","name":"Shaking Face","keywords":["dizzy","shock","blurry","earthquake"],"skins":[{"unified":"1fae8","native":""}],"version":15},"relieved":{"id":"relieved","name":"Relieved Face","keywords":["relaxed","phew","massage","happiness"],"skins":[{"unified":"1f60c","native":""}],"version":1},"pensive":{"id":"pensive","name":"Pensive Face","keywords":["sad","depressed","upset"],"skins":[{"unified":"1f614","native":""}],"version":1},"sleepy":{"id":"sleepy","name":"Sleepy Face","keywords":["tired","rest","nap"],"skins":[{"unified":"1f62a","native":""}],"version":1},"drooling_face":{"id":"drooling_face","name":"Drooling Face","keywords":[],"skins":[{"unified":"1f924","native":""}],"version":3},"sleeping":{"id":"sleeping","name":"Sleeping Face","keywords":["tired","sleepy","night","zzz"],"skins":[{"unified":"1f634","native":""}],"version":1},"mask":{"id":"mask","name":"Face with Medical Mask","keywords":["sick","ill","disease","covid"],"skins":[{"unified":"1f637","native":""}],"version":1},"face_with_thermometer":{"id":"face_with_thermometer","name":"Face with Thermometer","keywords":["sick","temperature","cold","fever","covid"],"skins":[{"unified":"1f912","native":""}],"version":1},"face_with_head_bandage":{"id":"face_with_head_bandage","name":"Face with Head-Bandage","keywords":["head","bandage","injured","clumsy","hurt"],"skins":[{"unified":"1f915","native":""}],"version":1},"nauseated_face":{"id":"nauseated_face","name":"Nauseated Face","keywords":["vomit","gross","green","sick","throw","up","ill"],"skins":[{"unified":"1f922","native":""}],"version":3},"face_vomiting":{"id":"face_vomiting","name":"Face Vomiting","keywords":["with","open","mouth","sick"],"skins":[{"unified":"1f92e","native":""}],"version":5},"sneezing_face":{"id":"sneezing_face","name":"Sneezing Face","keywords":["gesundheit","sneeze","sick","allergy"],"skins":[{"unified":"1f927","native":""}],"version":3},"hot_face":{"id":"hot_face","name":"Hot Face","keywords":["feverish","heat","red","sweating"],"skins":[{"unified":"1f975","native":""}],"version":11},"cold_face":{"id":"cold_face","name":"Cold Face","keywords":["blue","freezing","frozen","frostbite","icicles"],"skins":[{"unified":"1f976","native":""}],"version":11},"woozy_face":{"id":"woozy_face","name":"Woozy Face","keywords":["dizzy","intoxicated","tipsy","wavy"],"skins":[{"unified":"1f974","native":""}],"version":11},"dizzy_face":{"id":"dizzy_face","name":"Dizzy Face","keywords":["spent","unconscious","xox"],"skins":[{"unified":"1f635","native":""}],"version":1},"face_with_spiral_eyes":{"id":"face_with_spiral_eyes","name":"Face with Spiral Eyes","keywords":["sick","ill","confused","nauseous","nausea"],"skins":[{"unified":"1f635-200d-1f4ab","native":""}],"version":13.1},"exploding_head":{"id":"exploding_head","name":"Exploding Head","keywords":["shocked","face","with","mind","blown"],"skins":[{"unified":"1f92f","native":""}],"version":5},"face_with_cowboy_hat":{"id":"face_with_cowboy_hat","name":"Cowboy Hat Face","keywords":["with","cowgirl"],"skins":[{"unified":"1f920","native":""}],"version":3},"partying_face":{"id":"partying_face","name":"Partying Face","keywords":["celebration","woohoo"],"skins":[{"unified":"1f973","native":""}],"version":11},"disguised_face":{"id":"disguised_face","name":"Disguised Face","keywords":["pretent","brows","glasses","moustache"],"skins":[{"unified":"1f978","native":""}],"version":13},"sunglasses":{"id":"sunglasses","name":"Smiling Face with Sunglasses","emoticons":["8)"],"keywords":["cool","smile","summer","beach","sunglass"],"skins":[{"unified":"1f60e","native":""}],"version":1},"nerd_face":{"id":"nerd_face","name":"Nerd Face","keywords":["nerdy","geek","dork"],"skins":[{"unified":"1f913","native":""}],"version":1},"face_with_monocle":{"id":"face_with_monocle","name":"Face with Monocle","keywords":["stuffy","wealthy"],"skins":[{"unified":"1f9d0","native":""}],"version":5},"confused":{"id":"confused","name":"Confused Face","emoticons":[":\\\\",":-\\\\",":/",":-/"],"keywords":["indifference","huh","weird","hmmm",":/"],"skins":[{"unified":"1f615","native":""}],"version":1},"face_with_diagonal_mouth":{"id":"face_with_diagonal_mouth","name":"Face with Diagonal Mouth","keywords":["skeptic","confuse","frustrated","indifferent"],"skins":[{"unified":"1fae4","native":""}],"version":14},"worried":{"id":"worried","name":"Worried Face","keywords":["concern","nervous",":("],"skins":[{"unified":"1f61f","native":""}],"version":1},"slightly_frowning_face":{"id":"slightly_frowning_face","name":"Slightly Frowning Face","keywords":["disappointed","sad","upset"],"skins":[{"unified":"1f641","native":""}],"version":1},"white_frowning_face":{"id":"white_frowning_face","name":"Frowning Face","keywords":["white","sad","upset","frown"],"skins":[{"unified":"2639-fe0f","native":""}],"version":1},"open_mouth":{"id":"open_mouth","name":"Face with Open Mouth","emoticons":[":o",":-o",":O",":-O"],"keywords":["surprise","impressed","wow","whoa",":O"],"skins":[{"unified":"1f62e","native":""}],"version":1},"hushed":{"id":"hushed","name":"Hushed Face","keywords":["woo","shh"],"skins":[{"unified":"1f62f","native":""}],"version":1},"astonished":{"id":"astonished","name":"Astonished Face","keywords":["xox","surprised","poisoned"],"skins":[{"unified":"1f632","native":""}],"version":1},"flushed":{"id":"flushed","name":"Flushed Face","keywords":["blush","shy","flattered"],"skins":[{"unified":"1f633","native":""}],"version":1},"pleading_face":{"id":"pleading_face","name":"Pleading Face","keywords":["begging","mercy","cry","tears","sad","grievance"],"skins":[{"unified":"1f97a","native":""}],"version":11},"face_holding_back_tears":{"id":"face_holding_back_tears","name":"Face Holding Back Tears","keywords":["touched","gratitude","cry"],"skins":[{"unified":"1f979","native":""}],"version":14},"frowning":{"id":"frowning","name":"Frowning Face with Open Mouth","keywords":["aw","what"],"skins":[{"unified":"1f626","native":""}],"version":1},"anguished":{"id":"anguished","name":"Anguished Face","emoticons":["D:"],"keywords":["stunned","nervous"],"skins":[{"unified":"1f627","native":""}],"version":1},"fearful":{"id":"fearful","name":"Fearful Face","keywords":["scared","terrified","nervous"],"skins":[{"unified":"1f628","native":""}],"version":1},"cold_sweat":{"id":"cold_sweat","name":"Anxious Face with Sweat","keywords":["cold","nervous"],"skins":[{"unified":"1f630","native":""}],"version":1},"disappointed_relieved":{"id":"disappointed_relieved","name":"Sad but Relieved Face","keywords":["disappointed","phew","sweat","nervous"],"skins":[{"unified":"1f625","native":""}],"version":1},"cry":{"id":"cry","name":"Crying Face","emoticons":[":\'("],"keywords":["cry","tears","sad","depressed","upset",":\'("],"skins":[{"unified":"1f622","native":""}],"version":1},"sob":{"id":"sob","name":"Loudly Crying Face","emoticons":[":\'("],"keywords":["sob","cry","tears","sad","upset","depressed"],"skins":[{"unified":"1f62d","native":""}],"version":1},"scream":{"id":"scream","name":"Face Screaming in Fear","keywords":["scream","munch","scared","omg"],"skins":[{"unified":"1f631","native":""}],"version":1},"confounded":{"id":"confounded","name":"Confounded Face","keywords":["confused","sick","unwell","oops",":S"],"skins":[{"unified":"1f616","native":""}],"version":1},"persevere":{"id":"persevere","name":"Persevering Face","keywords":["persevere","sick","no","upset","oops"],"skins":[{"unified":"1f623","native":""}],"version":1},"disappointed":{"id":"disappointed","name":"Disappointed Face","emoticons":["):",":(",":-("],"keywords":["sad","upset","depressed",":("],"skins":[{"unified":"1f61e","native":""}],"version":1},"sweat":{"id":"sweat","name":"Face with Cold Sweat","keywords":["downcast","hot","sad","tired","exercise"],"skins":[{"unified":"1f613","native":""}],"version":1},"weary":{"id":"weary","name":"Weary Face","keywords":["tired","sleepy","sad","frustrated","upset"],"skins":[{"unified":"1f629","native":""}],"version":1},"tired_face":{"id":"tired_face","name":"Tired Face","keywords":["sick","whine","upset","frustrated"],"skins":[{"unified":"1f62b","native":""}],"version":1},"yawning_face":{"id":"yawning_face","name":"Yawning Face","keywords":["tired","sleepy"],"skins":[{"unified":"1f971","native":""}],"version":12},"triumph":{"id":"triumph","name":"Face with Look of Triumph","keywords":["steam","from","nose","gas","phew","proud","pride"],"skins":[{"unified":"1f624","native":""}],"version":1},"rage":{"id":"rage","name":"Pouting Face","keywords":["rage","angry","mad","hate","despise"],"skins":[{"unified":"1f621","native":""}],"version":1},"angry":{"id":"angry","name":"Angry Face","emoticons":[">:(",">:-("],"keywords":["mad","annoyed","frustrated"],"skins":[{"unified":"1f620","native":""}],"version":1},"face_with_symbols_on_mouth":{"id":"face_with_symbols_on_mouth","name":"Face with Symbols on Mouth","keywords":["serious","covering","swearing","cursing","cussing","profanity","expletive"],"skins":[{"unified":"1f92c","native":""}],"version":5},"smiling_imp":{"id":"smiling_imp","name":"Smiling Face with Horns","keywords":["imp","devil"],"skins":[{"unified":"1f608","native":""}],"version":1},"imp":{"id":"imp","name":"Imp","keywords":["angry","face","with","horns","devil"],"skins":[{"unified":"1f47f","native":""}],"version":1},"skull":{"id":"skull","name":"Skull","keywords":["dead","skeleton","creepy","death"],"skins":[{"unified":"1f480","native":""}],"version":1},"skull_and_crossbones":{"id":"skull_and_crossbones","name":"Skull and Crossbones","keywords":["poison","danger","deadly","scary","death","pirate","evil"],"skins":[{"unified":"2620-fe0f","native":""}],"version":1},"hankey":{"id":"hankey","name":"Pile of Poo","keywords":["hankey","poop","shit","shitface","fail","turd"],"skins":[{"unified":"1f4a9","native":""}],"version":1},"clown_face":{"id":"clown_face","name":"Clown Face","keywords":[],"skins":[{"unified":"1f921","native":""}],"version":3},"japanese_ogre":{"id":"japanese_ogre","name":"Ogre","keywords":["japanese","monster","red","mask","halloween","scary","creepy","devil","demon"],"skins":[{"unified":"1f479","native":""}],"version":1},"japanese_goblin":{"id":"japanese_goblin","name":"Goblin","keywords":["japanese","red","evil","mask","monster","scary","creepy"],"skins":[{"unified":"1f47a","native":""}],"version":1},"ghost":{"id":"ghost","name":"Ghost","keywords":["halloween","spooky","scary"],"skins":[{"unified":"1f47b","native":""}],"version":1},"alien":{"id":"alien","name":"Alien","keywords":["UFO","paul","weird","outer","space"],"skins":[{"unified":"1f47d","native":""}],"version":1},"space_invader":{"id":"space_invader","name":"Alien Monster","keywords":["space","invader","game","arcade","play"],"skins":[{"unified":"1f47e","native":""}],"version":1},"robot_face":{"id":"robot_face","name":"Robot","keywords":["face","computer","machine","bot"],"skins":[{"unified":"1f916","native":""}],"version":1},"smiley_cat":{"id":"smiley_cat","name":"Grinning Cat","keywords":["smiley","animal","cats","happy","smile"],"skins":[{"unified":"1f63a","native":""}],"version":1},"smile_cat":{"id":"smile_cat","name":"Grinning Cat with Smiling Eyes","keywords":["smile","animal","cats"],"skins":[{"unified":"1f638","native":""}],"version":1},"joy_cat":{"id":"joy_cat","name":"Cat with Tears of Joy","keywords":["animal","cats","haha","happy"],"skins":[{"unified":"1f639","native":""}],"version":1},"heart_eyes_cat":{"id":"heart_eyes_cat","name":"Smiling Cat with Heart-Eyes","keywords":["heart","eyes","animal","love","like","affection","cats","valentines"],"skins":[{"unified":"1f63b","native":""}],"version":1},"smirk_cat":{"id":"smirk_cat","name":"Cat with Wry Smile","keywords":["smirk","animal","cats"],"skins":[{"unified":"1f63c","native":""}],"version":1},"kissing_cat":{"id":"kissing_cat","name":"Kissing Cat","keywords":["animal","cats","kiss"],"skins":[{"unified":"1f63d","native":""}],"version":1},"scream_cat":{"id":"scream_cat","name":"Weary Cat","keywords":["scream","animal","cats","munch","scared"],"skins":[{"unified":"1f640","native":""}],"version":1},"crying_cat_face":{"id":"crying_cat_face","name":"Crying Cat","keywords":["face","animal","tears","weep","sad","cats","upset","cry"],"skins":[{"unified":"1f63f","native":""}],"version":1},"pouting_cat":{"id":"pouting_cat","name":"Pouting Cat","keywords":["animal","cats"],"skins":[{"unified":"1f63e","native":""}],"version":1},"see_no_evil":{"id":"see_no_evil","name":"See-No-Evil Monkey","keywords":["see","no","evil","animal","nature","haha"],"skins":[{"unified":"1f648","native":""}],"version":1},"hear_no_evil":{"id":"hear_no_evil","name":"Hear-No-Evil Monkey","keywords":["hear","no","evil","animal","nature"],"skins":[{"unified":"1f649","native":""}],"version":1},"speak_no_evil":{"id":"speak_no_evil","name":"Speak-No-Evil Monkey","keywords":["speak","no","evil","animal","nature","omg"],"skins":[{"unified":"1f64a","native":""}],"version":1},"love_letter":{"id":"love_letter","name":"Love Letter","keywords":["email","like","affection","envelope","valentines"],"skins":[{"unified":"1f48c","native":""}],"version":1},"cupid":{"id":"cupid","name":"Heart with Arrow","keywords":["cupid","love","like","affection","valentines"],"skins":[{"unified":"1f498","native":""}],"version":1},"gift_heart":{"id":"gift_heart","name":"Heart with Ribbon","keywords":["gift","love","valentines"],"skins":[{"unified":"1f49d","native":""}],"version":1},"sparkling_heart":{"id":"sparkling_heart","name":"Sparkling Heart","keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f496","native":""}],"version":1},"heartpulse":{"id":"heartpulse","name":"Growing Heart","keywords":["heartpulse","like","love","affection","valentines","pink"],"skins":[{"unified":"1f497","native":""}],"version":1},"heartbeat":{"id":"heartbeat","name":"Beating Heart","keywords":["heartbeat","love","like","affection","valentines","pink"],"skins":[{"unified":"1f493","native":""}],"version":1},"revolving_hearts":{"id":"revolving_hearts","name":"Revolving Hearts","keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f49e","native":""}],"version":1},"two_hearts":{"id":"two_hearts","name":"Two Hearts","keywords":["love","like","affection","valentines","heart"],"skins":[{"unified":"1f495","native":""}],"version":1},"heart_decoration":{"id":"heart_decoration","name":"Heart Decoration","keywords":["purple","square","love","like"],"skins":[{"unified":"1f49f","native":""}],"version":1},"heavy_heart_exclamation_mark_ornament":{"id":"heavy_heart_exclamation_mark_ornament","name":"Heart Exclamation","keywords":["heavy","mark","ornament","decoration","love"],"skins":[{"unified":"2763-fe0f","native":""}],"version":1},"broken_heart":{"id":"broken_heart","name":"Broken Heart","emoticons":["</3"],"keywords":["sad","sorry","break","heartbreak"],"skins":[{"unified":"1f494","native":""}],"version":1},"heart_on_fire":{"id":"heart_on_fire","name":"Heart on Fire","keywords":["passionate","enthusiastic"],"skins":[{"unified":"2764-fe0f-200d-1f525","native":""}],"version":13.1},"mending_heart":{"id":"mending_heart","name":"Mending Heart","keywords":["broken","bandage","wounded"],"skins":[{"unified":"2764-fe0f-200d-1fa79","native":""}],"version":13.1},"heart":{"id":"heart","name":"Red Heart","emoticons":["<3"],"keywords":["love","like","valentines"],"skins":[{"unified":"2764-fe0f","native":""}],"version":1},"pink_heart":{"id":"pink_heart","name":"Pink Heart","keywords":["valentines"],"skins":[{"unified":"1fa77","native":""}],"version":15},"orange_heart":{"id":"orange_heart","name":"Orange Heart","keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f9e1","native":""}],"version":5},"yellow_heart":{"id":"yellow_heart","name":"Yellow Heart","emoticons":["<3"],"keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f49b","native":""}],"version":1},"green_heart":{"id":"green_heart","name":"Green Heart","emoticons":["<3"],"keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f49a","native":""}],"version":1},"blue_heart":{"id":"blue_heart","name":"Blue Heart","emoticons":["<3"],"keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f499","native":""}],"version":1},"light_blue_heart":{"id":"light_blue_heart","name":"Light Blue Heart","keywords":["ice","baby"],"skins":[{"unified":"1fa75","native":""}],"version":15},"purple_heart":{"id":"purple_heart","name":"Purple Heart","emoticons":["<3"],"keywords":["love","like","affection","valentines"],"skins":[{"unified":"1f49c","native":""}],"version":1},"brown_heart":{"id":"brown_heart","name":"Brown Heart","keywords":["coffee"],"skins":[{"unified":"1f90e","native":""}],"version":12},"black_heart":{"id":"black_heart","name":"Black Heart","keywords":["evil"],"skins":[{"unified":"1f5a4","native":""}],"version":3},"grey_heart":{"id":"grey_heart","name":"Grey Heart","keywords":["silver","monochrome"],"skins":[{"unified":"1fa76","native":""}],"version":15},"white_heart":{"id":"white_heart","name":"White Heart","keywords":["pure"],"skins":[{"unified":"1f90d","native":""}],"version":12},"kiss":{"id":"kiss","name":"Kiss Mark","keywords":["face","lips","love","like","affection","valentines"],"skins":[{"unified":"1f48b","native":""}],"version":1},"anger":{"id":"anger","name":"Anger Symbol","keywords":["angry","mad"],"skins":[{"unified":"1f4a2","native":""}],"version":1},"boom":{"id":"boom","name":"Collision","keywords":["boom","bomb","explode","explosion","blown"],"skins":[{"unified":"1f4a5","native":""}],"version":1},"dizzy":{"id":"dizzy","name":"Dizzy","keywords":["star","sparkle","shoot","magic"],"skins":[{"unified":"1f4ab","native":""}],"version":1},"sweat_drops":{"id":"sweat_drops","name":"Sweat Droplets","keywords":["drops","water","drip","oops"],"skins":[{"unified":"1f4a6","native":""}],"version":1},"dash":{"id":"dash","name":"Dash Symbol","keywords":["dashing","away","wind","air","fast","shoo","fart","smoke","puff"],"skins":[{"unified":"1f4a8","native":""}],"version":1},"hole":{"id":"hole","name":"Hole","keywords":["embarrassing"],"skins":[{"unified":"1f573-fe0f","native":""}],"version":1},"speech_balloon":{"id":"speech_balloon","name":"Speech Balloon","keywords":["bubble","words","message","talk","chatting"],"skins":[{"unified":"1f4ac","native":""}],"version":1},"eye-in-speech-bubble":{"id":"eye-in-speech-bubble","name":"Eye in Speech Bubble","keywords":["in-speech-bubble","info"],"skins":[{"unified":"1f441-fe0f-200d-1f5e8-fe0f","native":""}],"version":2},"left_speech_bubble":{"id":"left_speech_bubble","name":"Left Speech Bubble","keywords":["words","message","talk","chatting"],"skins":[{"unified":"1f5e8-fe0f","native":""}],"version":2},"right_anger_bubble":{"id":"right_anger_bubble","name":"Right Anger Bubble","keywords":["caption","speech","thinking","mad"],"skins":[{"unified":"1f5ef-fe0f","native":""}],"version":1},"thought_balloon":{"id":"thought_balloon","name":"Thought Balloon","keywords":["bubble","cloud","speech","thinking","dream"],"skins":[{"unified":"1f4ad","native":""}],"version":1},"zzz":{"id":"zzz","name":"Zzz","keywords":["sleepy","tired","dream"],"skins":[{"unified":"1f4a4","native":""}],"version":1},"wave":{"id":"wave","name":"Waving Hand","keywords":["wave","hands","gesture","goodbye","solong","farewell","hello","hi","palm"],"skins":[{"unified":"1f44b","native":""},{"unified":"1f44b-1f3fb","native":""},{"unified":"1f44b-1f3fc","native":""},{"unified":"1f44b-1f3fd","native":""},{"unified":"1f44b-1f3fe","native":""},{"unified":"1f44b-1f3ff","native":""}],"version":1},"raised_back_of_hand":{"id":"raised_back_of_hand","name":"Raised Back of Hand","keywords":["fingers","backhand"],"skins":[{"unified":"1f91a","native":""},{"unified":"1f91a-1f3fb","native":""},{"unified":"1f91a-1f3fc","native":""},{"unified":"1f91a-1f3fd","native":""},{"unified":"1f91a-1f3fe","native":""},{"unified":"1f91a-1f3ff","native":""}],"version":3},"raised_hand_with_fingers_splayed":{"id":"raised_hand_with_fingers_splayed","name":"Hand with Fingers Splayed","keywords":["raised","palm"],"skins":[{"unified":"1f590-fe0f","native":""},{"unified":"1f590-1f3fb","native":""},{"unified":"1f590-1f3fc","native":""},{"unified":"1f590-1f3fd","native":""},{"unified":"1f590-1f3fe","native":""},{"unified":"1f590-1f3ff","native":""}],"version":1},"hand":{"id":"hand","name":"Raised Hand","keywords":["fingers","stop","highfive","high","five","palm","ban"],"skins":[{"unified":"270b","native":""},{"unified":"270b-1f3fb","native":""},{"unified":"270b-1f3fc","native":""},{"unified":"270b-1f3fd","native":""},{"unified":"270b-1f3fe","native":""},{"unified":"270b-1f3ff","native":""}],"version":1},"spock-hand":{"id":"spock-hand","name":"Vulcan Salute","keywords":["spock","hand","fingers","star","trek"],"skins":[{"unified":"1f596","native":""},{"unified":"1f596-1f3fb","native":""},{"unified":"1f596-1f3fc","native":""},{"unified":"1f596-1f3fd","native":""},{"unified":"1f596-1f3fe","native":""},{"unified":"1f596-1f3ff","native":""}],"version":1},"rightwards_hand":{"id":"rightwards_hand","name":"Rightwards Hand","keywords":["palm","offer"],"skins":[{"unified":"1faf1","native":""},{"unified":"1faf1-1f3fb","native":""},{"unified":"1faf1-1f3fc","native":""},{"unified":"1faf1-1f3fd","native":""},{"unified":"1faf1-1f3fe","native":""},{"unified":"1faf1-1f3ff","native":""}],"version":14},"leftwards_hand":{"id":"leftwards_hand","name":"Leftwards Hand","keywords":["palm","offer"],"skins":[{"unified":"1faf2","native":""},{"unified":"1faf2-1f3fb","native":""},{"unified":"1faf2-1f3fc","native":""},{"unified":"1faf2-1f3fd","native":""},{"unified":"1faf2-1f3fe","native":""},{"unified":"1faf2-1f3ff","native":""}],"version":14},"palm_down_hand":{"id":"palm_down_hand","name":"Palm Down Hand","keywords":["drop"],"skins":[{"unified":"1faf3","native":""},{"unified":"1faf3-1f3fb","native":""},{"unified":"1faf3-1f3fc","native":""},{"unified":"1faf3-1f3fd","native":""},{"unified":"1faf3-1f3fe","native":""},{"unified":"1faf3-1f3ff","native":""}],"version":14},"palm_up_hand":{"id":"palm_up_hand","name":"Palm Up Hand","keywords":["lift","offer","demand"],"skins":[{"unified":"1faf4","native":""},{"unified":"1faf4-1f3fb","native":""},{"unified":"1faf4-1f3fc","native":""},{"unified":"1faf4-1f3fd","native":""},{"unified":"1faf4-1f3fe","native":""},{"unified":"1faf4-1f3ff","native":""}],"version":14},"leftwards_pushing_hand":{"id":"leftwards_pushing_hand","name":"Leftwards Pushing Hand","keywords":["highfive","high","five","pressing","stop"],"skins":[{"unified":"1faf7","native":""},{"unified":"1faf7-1f3fb","native":""},{"unified":"1faf7-1f3fc","native":""},{"unified":"1faf7-1f3fd","native":""},{"unified":"1faf7-1f3fe","native":""},{"unified":"1faf7-1f3ff","native":""}],"version":15},"rightwards_pushing_hand":{"id":"rightwards_pushing_hand","name":"Rightwards Pushing Hand","keywords":["highfive","high","five","pressing","stop"],"skins":[{"unified":"1faf8","native":""},{"unified":"1faf8-1f3fb","native":""},{"unified":"1faf8-1f3fc","native":""},{"unified":"1faf8-1f3fd","native":""},{"unified":"1faf8-1f3fe","native":""},{"unified":"1faf8-1f3ff","native":""}],"version":15},"ok_hand":{"id":"ok_hand","name":"Ok Hand","keywords":["fingers","limbs","perfect","okay"],"skins":[{"unified":"1f44c","native":""},{"unified":"1f44c-1f3fb","native":""},{"unified":"1f44c-1f3fc","native":""},{"unified":"1f44c-1f3fd","native":""},{"unified":"1f44c-1f3fe","native":""},{"unified":"1f44c-1f3ff","native":""}],"version":1},"pinched_fingers":{"id":"pinched_fingers","name":"Pinched Fingers","keywords":["size","tiny","small"],"skins":[{"unified":"1f90c","native":""},{"unified":"1f90c-1f3fb","native":""},{"unified":"1f90c-1f3fc","native":""},{"unified":"1f90c-1f3fd","native":""},{"unified":"1f90c-1f3fe","native":""},{"unified":"1f90c-1f3ff","native":""}],"version":13},"pinching_hand":{"id":"pinching_hand","name":"Pinching Hand","keywords":["tiny","small","size"],"skins":[{"unified":"1f90f","native":""},{"unified":"1f90f-1f3fb","native":""},{"unified":"1f90f-1f3fc","native":""},{"unified":"1f90f-1f3fd","native":""},{"unified":"1f90f-1f3fe","native":""},{"unified":"1f90f-1f3ff","native":""}],"version":12},"v":{"id":"v","name":"Victory Hand","keywords":["v","fingers","ohyeah","peace","two"],"skins":[{"unified":"270c-fe0f","native":""},{"unified":"270c-1f3fb","native":""},{"unified":"270c-1f3fc","native":""},{"unified":"270c-1f3fd","native":""},{"unified":"270c-1f3fe","native":""},{"unified":"270c-1f3ff","native":""}],"version":1},"crossed_fingers":{"id":"crossed_fingers","name":"Crossed Fingers","keywords":["hand","with","index","and","middle","good","lucky"],"skins":[{"unified":"1f91e","native":""},{"unified":"1f91e-1f3fb","native":""},{"unified":"1f91e-1f3fc","native":""},{"unified":"1f91e-1f3fd","native":""},{"unified":"1f91e-1f3fe","native":""},{"unified":"1f91e-1f3ff","native":""}],"version":3},"hand_with_index_finger_and_thumb_crossed":{"id":"hand_with_index_finger_and_thumb_crossed","name":"Hand with Index Finger and Thumb Crossed","keywords":["heart","love","money","expensive"],"skins":[{"unified":"1faf0","native":""},{"unified":"1faf0-1f3fb","native":""},{"unified":"1faf0-1f3fc","native":""},{"unified":"1faf0-1f3fd","native":""},{"unified":"1faf0-1f3fe","native":""},{"unified":"1faf0-1f3ff","native":""}],"version":14},"i_love_you_hand_sign":{"id":"i_love_you_hand_sign","name":"Love-You Gesture","keywords":["i","love","you","hand","sign","fingers"],"skins":[{"unified":"1f91f","native":""},{"unified":"1f91f-1f3fb","native":""},{"unified":"1f91f-1f3fc","native":""},{"unified":"1f91f-1f3fd","native":""},{"unified":"1f91f-1f3fe","native":""},{"unified":"1f91f-1f3ff","native":""}],"version":5},"the_horns":{"id":"the_horns","name":"Sign of the Horns","keywords":["hand","fingers","evil","eye","rock","on"],"skins":[{"unified":"1f918","native":""},{"unified":"1f918-1f3fb","native":""},{"unified":"1f918-1f3fc","native":""},{"unified":"1f918-1f3fd","native":""},{"unified":"1f918-1f3fe","native":""},{"unified":"1f918-1f3ff","native":""}],"version":1},"call_me_hand":{"id":"call_me_hand","name":"Call Me Hand","keywords":["hands","gesture","shaka"],"skins":[{"unified":"1f919","native":""},{"unified":"1f919-1f3fb","native":""},{"unified":"1f919-1f3fc","native":""},{"unified":"1f919-1f3fd","native":""},{"unified":"1f919-1f3fe","native":""},{"unified":"1f919-1f3ff","native":""}],"version":3},"point_left":{"id":"point_left","name":"Backhand Index Pointing Left","keywords":["point","direction","fingers","hand"],"skins":[{"unified":"1f448","native":""},{"unified":"1f448-1f3fb","native":""},{"unified":"1f448-1f3fc","native":""},{"unified":"1f448-1f3fd","native":""},{"unified":"1f448-1f3fe","native":""},{"unified":"1f448-1f3ff","native":""}],"version":1},"point_right":{"id":"point_right","name":"Backhand Index Pointing Right","keywords":["point","fingers","hand","direction"],"skins":[{"unified":"1f449","native":""},{"unified":"1f449-1f3fb","native":""},{"unified":"1f449-1f3fc","native":""},{"unified":"1f449-1f3fd","native":""},{"unified":"1f449-1f3fe","native":""},{"unified":"1f449-1f3ff","native":""}],"version":1},"point_up_2":{"id":"point_up_2","name":"Backhand Index Pointing Up","keywords":["point","2","fingers","hand","direction"],"skins":[{"unified":"1f446","native":""},{"unified":"1f446-1f3fb","native":""},{"unified":"1f446-1f3fc","native":""},{"unified":"1f446-1f3fd","native":""},{"unified":"1f446-1f3fe","native":""},{"unified":"1f446-1f3ff","native":""}],"version":1},"middle_finger":{"id":"middle_finger","name":"Middle Finger","keywords":["reversed","hand","with","extended","fingers","rude","flipping"],"skins":[{"unified":"1f595","native":""},{"unified":"1f595-1f3fb","native":""},{"unified":"1f595-1f3fc","native":""},{"unified":"1f595-1f3fd","native":""},{"unified":"1f595-1f3fe","native":""},{"unified":"1f595-1f3ff","native":""}],"version":1},"point_down":{"id":"point_down","name":"Backhand Index Pointing Down","keywords":["point","fingers","hand","direction"],"skins":[{"unified":"1f447","native":""},{"unified":"1f447-1f3fb","native":""},{"unified":"1f447-1f3fc","native":""},{"unified":"1f447-1f3fd","native":""},{"unified":"1f447-1f3fe","native":""},{"unified":"1f447-1f3ff","native":""}],"version":1},"point_up":{"id":"point_up","name":"Index Pointing Up","keywords":["point","hand","fingers","direction"],"skins":[{"unified":"261d-fe0f","native":""},{"unified":"261d-1f3fb","native":""},{"unified":"261d-1f3fc","native":""},{"unified":"261d-1f3fd","native":""},{"unified":"261d-1f3fe","native":""},{"unified":"261d-1f3ff","native":""}],"version":1},"index_pointing_at_the_viewer":{"id":"index_pointing_at_the_viewer","name":"Index Pointing at the Viewer","keywords":["you","recruit"],"skins":[{"unified":"1faf5","native":""},{"unified":"1faf5-1f3fb","native":""},{"unified":"1faf5-1f3fc","native":""},{"unified":"1faf5-1f3fd","native":""},{"unified":"1faf5-1f3fe","native":""},{"unified":"1faf5-1f3ff","native":""}],"version":14},"+1":{"id":"+1","name":"Thumbs Up","keywords":["+1","thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],"skins":[{"unified":"1f44d","native":""},{"unified":"1f44d-1f3fb","native":""},{"unified":"1f44d-1f3fc","native":""},{"unified":"1f44d-1f3fd","native":""},{"unified":"1f44d-1f3fe","native":""},{"unified":"1f44d-1f3ff","native":""}],"version":1},"-1":{"id":"-1","name":"Thumbs Down","keywords":["-1","thumbsdown","no","dislike","hand"],"skins":[{"unified":"1f44e","native":""},{"unified":"1f44e-1f3fb","native":""},{"unified":"1f44e-1f3fc","native":""},{"unified":"1f44e-1f3fd","native":""},{"unified":"1f44e-1f3fe","native":""},{"unified":"1f44e-1f3ff","native":""}],"version":1},"fist":{"id":"fist","name":"Raised Fist","keywords":["fingers","hand","grasp"],"skins":[{"unified":"270a","native":""},{"unified":"270a-1f3fb","native":""},{"unified":"270a-1f3fc","native":""},{"unified":"270a-1f3fd","native":""},{"unified":"270a-1f3fe","native":""},{"unified":"270a-1f3ff","native":""}],"version":1},"facepunch":{"id":"facepunch","name":"Oncoming Fist","keywords":["facepunch","punch","angry","violence","hit","attack","hand"],"skins":[{"unified":"1f44a","native":""},{"unified":"1f44a-1f3fb","native":""},{"unified":"1f44a-1f3fc","native":""},{"unified":"1f44a-1f3fd","native":""},{"unified":"1f44a-1f3fe","native":""},{"unified":"1f44a-1f3ff","native":""}],"version":1},"left-facing_fist":{"id":"left-facing_fist","name":"Left-Facing Fist","keywords":["left","facing","hand","fistbump"],"skins":[{"unified":"1f91b","native":""},{"unified":"1f91b-1f3fb","native":""},{"unified":"1f91b-1f3fc","native":""},{"unified":"1f91b-1f3fd","native":""},{"unified":"1f91b-1f3fe","native":""},{"unified":"1f91b-1f3ff","native":""}],"version":3},"right-facing_fist":{"id":"right-facing_fist","name":"Right-Facing Fist","keywords":["right","facing","hand","fistbump"],"skins":[{"unified":"1f91c","native":""},{"unified":"1f91c-1f3fb","native":""},{"unified":"1f91c-1f3fc","native":""},{"unified":"1f91c-1f3fd","native":""},{"unified":"1f91c-1f3fe","native":""},{"unified":"1f91c-1f3ff","native":""}],"version":3},"clap":{"id":"clap","name":"Clapping Hands","keywords":["clap","praise","applause","congrats","yay"],"skins":[{"unified":"1f44f","native":""},{"unified":"1f44f-1f3fb","native":""},{"unified":"1f44f-1f3fc","native":""},{"unified":"1f44f-1f3fd","native":""},{"unified":"1f44f-1f3fe","native":""},{"unified":"1f44f-1f3ff","native":""}],"version":1},"raised_hands":{"id":"raised_hands","name":"Raising Hands","keywords":["raised","gesture","hooray","yea","celebration"],"skins":[{"unified":"1f64c","native":""},{"unified":"1f64c-1f3fb","native":""},{"unified":"1f64c-1f3fc","native":""},{"unified":"1f64c-1f3fd","native":""},{"unified":"1f64c-1f3fe","native":""},{"unified":"1f64c-1f3ff","native":""}],"version":1},"heart_hands":{"id":"heart_hands","name":"Heart Hands","keywords":["love","appreciation","support"],"skins":[{"unified":"1faf6","native":""},{"unified":"1faf6-1f3fb","native":""},{"unified":"1faf6-1f3fc","native":""},{"unified":"1faf6-1f3fd","native":""},{"unified":"1faf6-1f3fe","native":""},{"unified":"1faf6-1f3ff","native":""}],"version":14},"open_hands":{"id":"open_hands","name":"Open Hands","keywords":["fingers","butterfly"],"skins":[{"unified":"1f450","native":""},{"unified":"1f450-1f3fb","native":""},{"unified":"1f450-1f3fc","native":""},{"unified":"1f450-1f3fd","native":""},{"unified":"1f450-1f3fe","native":""},{"unified":"1f450-1f3ff","native":""}],"version":1},"palms_up_together":{"id":"palms_up_together","name":"Palms Up Together","keywords":["hands","gesture","cupped","prayer"],"skins":[{"unified":"1f932","native":""},{"unified":"1f932-1f3fb","native":""},{"unified":"1f932-1f3fc","native":""},{"unified":"1f932-1f3fd","native":""},{"unified":"1f932-1f3fe","native":""},{"unified":"1f932-1f3ff","native":""}],"version":5},"handshake":{"id":"handshake","name":"Handshake","keywords":["agreement","shake"],"skins":[{"unified":"1f91d","native":""},{"unified":"1f91d-1f3fb","native":""},{"unified":"1f91d-1f3fc","native":""},{"unified":"1f91d-1f3fd","native":""},{"unified":"1f91d-1f3fe","native":""},{"unified":"1f91d-1f3ff","native":""}],"version":3},"pray":{"id":"pray","name":"Folded Hands","keywords":["pray","please","hope","wish","namaste","highfive","high","five","thank","you","thanks","appreciate"],"skins":[{"unified":"1f64f","native":""},{"unified":"1f64f-1f3fb","native":""},{"unified":"1f64f-1f3fc","native":""},{"unified":"1f64f-1f3fd","native":""},{"unified":"1f64f-1f3fe","native":""},{"unified":"1f64f-1f3ff","native":""}],"version":1},"writing_hand":{"id":"writing_hand","name":"Writing Hand","keywords":["lower","left","ballpoint","pen","stationery","write","compose"],"skins":[{"unified":"270d-fe0f","native":""},{"unified":"270d-1f3fb","native":""},{"unified":"270d-1f3fc","native":""},{"unified":"270d-1f3fd","native":""},{"unified":"270d-1f3fe","native":""},{"unified":"270d-1f3ff","native":""}],"version":1},"nail_care":{"id":"nail_care","name":"Nail Polish","keywords":["care","beauty","manicure","finger","fashion"],"skins":[{"unified":"1f485","native":""},{"unified":"1f485-1f3fb","native":""},{"unified":"1f485-1f3fc","native":""},{"unified":"1f485-1f3fd","native":""},{"unified":"1f485-1f3fe","native":""},{"unified":"1f485-1f3ff","native":""}],"version":1},"selfie":{"id":"selfie","name":"Selfie","keywords":["camera","phone"],"skins":[{"unified":"1f933","native":""},{"unified":"1f933-1f3fb","native":""},{"unified":"1f933-1f3fc","native":""},{"unified":"1f933-1f3fd","native":""},{"unified":"1f933-1f3fe","native":""},{"unified":"1f933-1f3ff","native":""}],"version":3},"muscle":{"id":"muscle","name":"Flexed Biceps","keywords":["muscle","arm","flex","hand","summer","strong"],"skins":[{"unified":"1f4aa","native":""},{"unified":"1f4aa-1f3fb","native":""},{"unified":"1f4aa-1f3fc","native":""},{"unified":"1f4aa-1f3fd","native":""},{"unified":"1f4aa-1f3fe","native":""},{"unified":"1f4aa-1f3ff","native":""}],"version":1},"mechanical_arm":{"id":"mechanical_arm","name":"Mechanical Arm","keywords":["accessibility"],"skins":[{"unified":"1f9be","native":""}],"version":12},"mechanical_leg":{"id":"mechanical_leg","name":"Mechanical Leg","keywords":["accessibility"],"skins":[{"unified":"1f9bf","native":""}],"version":12},"leg":{"id":"leg","name":"Leg","keywords":["kick","limb"],"skins":[{"unified":"1f9b5","native":""},{"unified":"1f9b5-1f3fb","native":""},{"unified":"1f9b5-1f3fc","native":""},{"unified":"1f9b5-1f3fd","native":""},{"unified":"1f9b5-1f3fe","native":""},{"unified":"1f9b5-1f3ff","native":""}],"version":11},"foot":{"id":"foot","name":"Foot","keywords":["kick","stomp"],"skins":[{"unified":"1f9b6","native":""},{"unified":"1f9b6-1f3fb","native":""},{"unified":"1f9b6-1f3fc","native":""},{"unified":"1f9b6-1f3fd","native":""},{"unified":"1f9b6-1f3fe","native":""},{"unified":"1f9b6-1f3ff","native":""}],"version":11},"ear":{"id":"ear","name":"Ear","keywords":["face","hear","sound","listen"],"skins":[{"unified":"1f442","native":""},{"unified":"1f442-1f3fb","native":""},{"unified":"1f442-1f3fc","native":""},{"unified":"1f442-1f3fd","native":""},{"unified":"1f442-1f3fe","native":""},{"unified":"1f442-1f3ff","native":""}],"version":1},"ear_with_hearing_aid":{"id":"ear_with_hearing_aid","name":"Ear with Hearing Aid","keywords":["accessibility"],"skins":[{"unified":"1f9bb","native":""},{"unified":"1f9bb-1f3fb","native":""},{"unified":"1f9bb-1f3fc","native":""},{"unified":"1f9bb-1f3fd","native":""},{"unified":"1f9bb-1f3fe","native":""},{"unified":"1f9bb-1f3ff","native":""}],"version":12},"nose":{"id":"nose","name":"Nose","keywords":["smell","sniff"],"skins":[{"unified":"1f443","native":""},{"unified":"1f443-1f3fb","native":""},{"unified":"1f443-1f3fc","native":""},{"unified":"1f443-1f3fd","native":""},{"unified":"1f443-1f3fe","native":""},{"unified":"1f443-1f3ff","native":""}],"version":1},"brain":{"id":"brain","name":"Brain","keywords":["smart","intelligent"],"skins":[{"unified":"1f9e0","native":""}],"version":5},"anatomical_heart":{"id":"anatomical_heart","name":"Anatomical Heart","keywords":["health","heartbeat"],"skins":[{"unified":"1fac0","native":""}],"version":13},"lungs":{"id":"lungs","name":"Lungs","keywords":["breathe"],"skins":[{"unified":"1fac1","native":""}],"version":13},"tooth":{"id":"tooth","name":"Tooth","keywords":["teeth","dentist"],"skins":[{"unified":"1f9b7","native":""}],"version":11},"bone":{"id":"bone","name":"Bone","keywords":["skeleton"],"skins":[{"unified":"1f9b4","native":""}],"version":11},"eyes":{"id":"eyes","name":"Eyes","keywords":["look","watch","stalk","peek","see"],"skins":[{"unified":"1f440","native":""}],"version":1},"eye":{"id":"eye","name":"Eye","keywords":["face","look","see","watch","stare"],"skins":[{"unified":"1f441-fe0f","native":""}],"version":1},"tongue":{"id":"tongue","name":"Tongue","keywords":["mouth","playful"],"skins":[{"unified":"1f445","native":""}],"version":1},"lips":{"id":"lips","name":"Mouth","keywords":["lips","kiss"],"skins":[{"unified":"1f444","native":""}],"version":1},"biting_lip":{"id":"biting_lip","name":"Biting Lip","keywords":["flirt","sexy","pain","worry"],"skins":[{"unified":"1fae6","native":""}],"version":14},"baby":{"id":"baby","name":"Baby","keywords":["child","boy","girl","toddler"],"skins":[{"unified":"1f476","native":""},{"unified":"1f476-1f3fb","native":""},{"unified":"1f476-1f3fc","native":""},{"unified":"1f476-1f3fd","native":""},{"unified":"1f476-1f3fe","native":""},{"unified":"1f476-1f3ff","native":""}],"version":1},"child":{"id":"child","name":"Child","keywords":["gender","neutral","young"],"skins":[{"unified":"1f9d2","native":""},{"unified":"1f9d2-1f3fb","native":""},{"unified":"1f9d2-1f3fc","native":""},{"unified":"1f9d2-1f3fd","native":""},{"unified":"1f9d2-1f3fe","native":""},{"unified":"1f9d2-1f3ff","native":""}],"version":5},"boy":{"id":"boy","name":"Boy","keywords":["man","male","guy","teenager"],"skins":[{"unified":"1f466","native":""},{"unified":"1f466-1f3fb","native":""},{"unified":"1f466-1f3fc","native":""},{"unified":"1f466-1f3fd","native":""},{"unified":"1f466-1f3fe","native":""},{"unified":"1f466-1f3ff","native":""}],"version":1},"girl":{"id":"girl","name":"Girl","keywords":["female","woman","teenager"],"skins":[{"unified":"1f467","native":""},{"unified":"1f467-1f3fb","native":""},{"unified":"1f467-1f3fc","native":""},{"unified":"1f467-1f3fd","native":""},{"unified":"1f467-1f3fe","native":""},{"unified":"1f467-1f3ff","native":""}],"version":1},"adult":{"id":"adult","name":"Adult","keywords":["person","gender","neutral"],"skins":[{"unified":"1f9d1","native":""},{"unified":"1f9d1-1f3fb","native":""},{"unified":"1f9d1-1f3fc","native":""},{"unified":"1f9d1-1f3fd","native":""},{"unified":"1f9d1-1f3fe","native":""},{"unified":"1f9d1-1f3ff","native":""}],"version":5},"person_with_blond_hair":{"id":"person_with_blond_hair","name":"Person Blond Hair","keywords":["with","hairstyle"],"skins":[{"unified":"1f471","native":""},{"unified":"1f471-1f3fb","native":""},{"unified":"1f471-1f3fc","native":""},{"unified":"1f471-1f3fd","native":""},{"unified":"1f471-1f3fe","native":""},{"unified":"1f471-1f3ff","native":""}],"version":1},"man":{"id":"man","name":"Man","keywords":["mustache","father","dad","guy","classy","sir","moustache"],"skins":[{"unified":"1f468","native":""},{"unified":"1f468-1f3fb","native":""},{"unified":"1f468-1f3fc","native":""},{"unified":"1f468-1f3fd","native":""},{"unified":"1f468-1f3fe","native":""},{"unified":"1f468-1f3ff","native":""}],"version":1},"bearded_person":{"id":"bearded_person","name":"Person Beard","keywords":["bearded","man","bewhiskered"],"skins":[{"unified":"1f9d4","native":""},{"unified":"1f9d4-1f3fb","native":""},{"unified":"1f9d4-1f3fc","native":""},{"unified":"1f9d4-1f3fd","native":""},{"unified":"1f9d4-1f3fe","native":""},{"unified":"1f9d4-1f3ff","native":""}],"version":5},"man_with_beard":{"id":"man_with_beard","name":"Man: Beard","keywords":["man","with","facial","hair"],"skins":[{"unified":"1f9d4-200d-2642-fe0f","native":""},{"unified":"1f9d4-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9d4-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9d4-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9d4-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9d4-1f3ff-200d-2642-fe0f","native":""}],"version":13.1},"woman_with_beard":{"id":"woman_with_beard","name":"Woman: Beard","keywords":["woman","with","facial","hair"],"skins":[{"unified":"1f9d4-200d-2640-fe0f","native":""},{"unified":"1f9d4-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9d4-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9d4-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9d4-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9d4-1f3ff-200d-2640-fe0f","native":""}],"version":13.1},"red_haired_man":{"id":"red_haired_man","name":"Man: Red Hair","keywords":["haired","man","hairstyle"],"skins":[{"unified":"1f468-200d-1f9b0","native":""},{"unified":"1f468-1f3fb-200d-1f9b0","native":""},{"unified":"1f468-1f3fc-200d-1f9b0","native":""},{"unified":"1f468-1f3fd-200d-1f9b0","native":""},{"unified":"1f468-1f3fe-200d-1f9b0","native":""},{"unified":"1f468-1f3ff-200d-1f9b0","native":""}],"version":11},"curly_haired_man":{"id":"curly_haired_man","name":"Man: Curly Hair","keywords":["haired","man","hairstyle"],"skins":[{"unified":"1f468-200d-1f9b1","native":""},{"unified":"1f468-1f3fb-200d-1f9b1","native":""},{"unified":"1f468-1f3fc-200d-1f9b1","native":""},{"unified":"1f468-1f3fd-200d-1f9b1","native":""},{"unified":"1f468-1f3fe-200d-1f9b1","native":""},{"unified":"1f468-1f3ff-200d-1f9b1","native":""}],"version":11},"white_haired_man":{"id":"white_haired_man","name":"Man: White Hair","keywords":["haired","man","old","elder"],"skins":[{"unified":"1f468-200d-1f9b3","native":""},{"unified":"1f468-1f3fb-200d-1f9b3","native":""},{"unified":"1f468-1f3fc-200d-1f9b3","native":""},{"unified":"1f468-1f3fd-200d-1f9b3","native":""},{"unified":"1f468-1f3fe-200d-1f9b3","native":""},{"unified":"1f468-1f3ff-200d-1f9b3","native":""}],"version":11},"bald_man":{"id":"bald_man","name":"Man: Bald","keywords":["man","hairless"],"skins":[{"unified":"1f468-200d-1f9b2","native":""},{"unified":"1f468-1f3fb-200d-1f9b2","native":""},{"unified":"1f468-1f3fc-200d-1f9b2","native":""},{"unified":"1f468-1f3fd-200d-1f9b2","native":""},{"unified":"1f468-1f3fe-200d-1f9b2","native":""},{"unified":"1f468-1f3ff-200d-1f9b2","native":""}],"version":11},"woman":{"id":"woman","name":"Woman","keywords":["female","girls","lady"],"skins":[{"unified":"1f469","native":""},{"unified":"1f469-1f3fb","native":""},{"unified":"1f469-1f3fc","native":""},{"unified":"1f469-1f3fd","native":""},{"unified":"1f469-1f3fe","native":""},{"unified":"1f469-1f3ff","native":""}],"version":1},"red_haired_woman":{"id":"red_haired_woman","name":"Woman: Red Hair","keywords":["haired","woman","hairstyle"],"skins":[{"unified":"1f469-200d-1f9b0","native":""},{"unified":"1f469-1f3fb-200d-1f9b0","native":""},{"unified":"1f469-1f3fc-200d-1f9b0","native":""},{"unified":"1f469-1f3fd-200d-1f9b0","native":""},{"unified":"1f469-1f3fe-200d-1f9b0","native":""},{"unified":"1f469-1f3ff-200d-1f9b0","native":""}],"version":11},"red_haired_person":{"id":"red_haired_person","name":"Person: Red Hair","keywords":["haired","person","hairstyle"],"skins":[{"unified":"1f9d1-200d-1f9b0","native":""},{"unified":"1f9d1-1f3fb-200d-1f9b0","native":""},{"unified":"1f9d1-1f3fc-200d-1f9b0","native":""},{"unified":"1f9d1-1f3fd-200d-1f9b0","native":""},{"unified":"1f9d1-1f3fe-200d-1f9b0","native":""},{"unified":"1f9d1-1f3ff-200d-1f9b0","native":""}],"version":12.1},"curly_haired_woman":{"id":"curly_haired_woman","name":"Woman: Curly Hair","keywords":["haired","woman","hairstyle"],"skins":[{"unified":"1f469-200d-1f9b1","native":""},{"unified":"1f469-1f3fb-200d-1f9b1","native":""},{"unified":"1f469-1f3fc-200d-1f9b1","native":""},{"unified":"1f469-1f3fd-200d-1f9b1","native":""},{"unified":"1f469-1f3fe-200d-1f9b1","native":""},{"unified":"1f469-1f3ff-200d-1f9b1","native":""}],"version":11},"curly_haired_person":{"id":"curly_haired_person","name":"Person: Curly Hair","keywords":["haired","person","hairstyle"],"skins":[{"unified":"1f9d1-200d-1f9b1","native":""},{"unified":"1f9d1-1f3fb-200d-1f9b1","native":""},{"unified":"1f9d1-1f3fc-200d-1f9b1","native":""},{"unified":"1f9d1-1f3fd-200d-1f9b1","native":""},{"unified":"1f9d1-1f3fe-200d-1f9b1","native":""},{"unified":"1f9d1-1f3ff-200d-1f9b1","native":""}],"version":12.1},"white_haired_woman":{"id":"white_haired_woman","name":"Woman: White Hair","keywords":["haired","woman","old","elder"],"skins":[{"unified":"1f469-200d-1f9b3","native":""},{"unified":"1f469-1f3fb-200d-1f9b3","native":""},{"unified":"1f469-1f3fc-200d-1f9b3","native":""},{"unified":"1f469-1f3fd-200d-1f9b3","native":""},{"unified":"1f469-1f3fe-200d-1f9b3","native":""},{"unified":"1f469-1f3ff-200d-1f9b3","native":""}],"version":11},"white_haired_person":{"id":"white_haired_person","name":"Person: White Hair","keywords":["haired","person","elder","old"],"skins":[{"unified":"1f9d1-200d-1f9b3","native":""},{"unified":"1f9d1-1f3fb-200d-1f9b3","native":""},{"unified":"1f9d1-1f3fc-200d-1f9b3","native":""},{"unified":"1f9d1-1f3fd-200d-1f9b3","native":""},{"unified":"1f9d1-1f3fe-200d-1f9b3","native":""},{"unified":"1f9d1-1f3ff-200d-1f9b3","native":""}],"version":12.1},"bald_woman":{"id":"bald_woman","name":"Woman: Bald","keywords":["woman","hairless"],"skins":[{"unified":"1f469-200d-1f9b2","native":""},{"unified":"1f469-1f3fb-200d-1f9b2","native":""},{"unified":"1f469-1f3fc-200d-1f9b2","native":""},{"unified":"1f469-1f3fd-200d-1f9b2","native":""},{"unified":"1f469-1f3fe-200d-1f9b2","native":""},{"unified":"1f469-1f3ff-200d-1f9b2","native":""}],"version":11},"bald_person":{"id":"bald_person","name":"Person: Bald","keywords":["person","hairless"],"skins":[{"unified":"1f9d1-200d-1f9b2","native":""},{"unified":"1f9d1-1f3fb-200d-1f9b2","native":""},{"unified":"1f9d1-1f3fc-200d-1f9b2","native":""},{"unified":"1f9d1-1f3fd-200d-1f9b2","native":""},{"unified":"1f9d1-1f3fe-200d-1f9b2","native":""},{"unified":"1f9d1-1f3ff-200d-1f9b2","native":""}],"version":12.1},"blond-haired-woman":{"id":"blond-haired-woman","name":"Woman: Blond Hair","keywords":["haired-woman","woman","female","girl","blonde","person"],"skins":[{"unified":"1f471-200d-2640-fe0f","native":""},{"unified":"1f471-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f471-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f471-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f471-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f471-1f3ff-200d-2640-fe0f","native":""}],"version":4},"blond-haired-man":{"id":"blond-haired-man","name":"Man: Blond Hair","keywords":["haired-man","man","male","boy","blonde","guy","person"],"skins":[{"unified":"1f471-200d-2642-fe0f","native":""},{"unified":"1f471-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f471-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f471-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f471-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f471-1f3ff-200d-2642-fe0f","native":""}],"version":4},"older_adult":{"id":"older_adult","name":"Older Adult","keywords":["person","human","elder","senior","gender","neutral"],"skins":[{"unified":"1f9d3","native":""},{"unified":"1f9d3-1f3fb","native":""},{"unified":"1f9d3-1f3fc","native":""},{"unified":"1f9d3-1f3fd","native":""},{"unified":"1f9d3-1f3fe","native":""},{"unified":"1f9d3-1f3ff","native":""}],"version":5},"older_man":{"id":"older_man","name":"Old Man","keywords":["older","human","male","men","elder","senior"],"skins":[{"unified":"1f474","native":""},{"unified":"1f474-1f3fb","native":""},{"unified":"1f474-1f3fc","native":""},{"unified":"1f474-1f3fd","native":""},{"unified":"1f474-1f3fe","native":""},{"unified":"1f474-1f3ff","native":""}],"version":1},"older_woman":{"id":"older_woman","name":"Old Woman","keywords":["older","human","female","women","lady","elder","senior"],"skins":[{"unified":"1f475","native":""},{"unified":"1f475-1f3fb","native":""},{"unified":"1f475-1f3fc","native":""},{"unified":"1f475-1f3fd","native":""},{"unified":"1f475-1f3fe","native":""},{"unified":"1f475-1f3ff","native":""}],"version":1},"person_frowning":{"id":"person_frowning","name":"Person Frowning","keywords":["worried"],"skins":[{"unified":"1f64d","native":""},{"unified":"1f64d-1f3fb","native":""},{"unified":"1f64d-1f3fc","native":""},{"unified":"1f64d-1f3fd","native":""},{"unified":"1f64d-1f3fe","native":""},{"unified":"1f64d-1f3ff","native":""}],"version":1},"man-frowning":{"id":"man-frowning","name":"Man Frowning","keywords":["male","boy","sad","depressed","discouraged","unhappy"],"skins":[{"unified":"1f64d-200d-2642-fe0f","native":""},{"unified":"1f64d-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f64d-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f64d-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f64d-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f64d-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-frowning":{"id":"woman-frowning","name":"Woman Frowning","keywords":["female","girl","sad","depressed","discouraged","unhappy"],"skins":[{"unified":"1f64d-200d-2640-fe0f","native":""},{"unified":"1f64d-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f64d-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f64d-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f64d-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f64d-1f3ff-200d-2640-fe0f","native":""}],"version":4},"person_with_pouting_face":{"id":"person_with_pouting_face","name":"Person Pouting","keywords":["with","face","upset"],"skins":[{"unified":"1f64e","native":""},{"unified":"1f64e-1f3fb","native":""},{"unified":"1f64e-1f3fc","native":""},{"unified":"1f64e-1f3fd","native":""},{"unified":"1f64e-1f3fe","native":""},{"unified":"1f64e-1f3ff","native":""}],"version":1},"man-pouting":{"id":"man-pouting","name":"Man Pouting","keywords":["male","boy"],"skins":[{"unified":"1f64e-200d-2642-fe0f","native":""},{"unified":"1f64e-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f64e-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f64e-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f64e-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f64e-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-pouting":{"id":"woman-pouting","name":"Woman Pouting","keywords":["female","girl"],"skins":[{"unified":"1f64e-200d-2640-fe0f","native":""},{"unified":"1f64e-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f64e-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f64e-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f64e-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f64e-1f3ff-200d-2640-fe0f","native":""}],"version":4},"no_good":{"id":"no_good","name":"Person Gesturing No","keywords":["good","decline"],"skins":[{"unified":"1f645","native":""},{"unified":"1f645-1f3fb","native":""},{"unified":"1f645-1f3fc","native":""},{"unified":"1f645-1f3fd","native":""},{"unified":"1f645-1f3fe","native":""},{"unified":"1f645-1f3ff","native":""}],"version":1},"man-gesturing-no":{"id":"man-gesturing-no","name":"Man Gesturing No","keywords":["gesturing-no","male","boy","nope"],"skins":[{"unified":"1f645-200d-2642-fe0f","native":""},{"unified":"1f645-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f645-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f645-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f645-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f645-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-gesturing-no":{"id":"woman-gesturing-no","name":"Woman Gesturing No","keywords":["gesturing-no","female","girl","nope"],"skins":[{"unified":"1f645-200d-2640-fe0f","native":""},{"unified":"1f645-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f645-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f645-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f645-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f645-1f3ff-200d-2640-fe0f","native":""}],"version":4},"ok_woman":{"id":"ok_woman","name":"Person Gesturing Ok","keywords":["woman","agree"],"skins":[{"unified":"1f646","native":""},{"unified":"1f646-1f3fb","native":""},{"unified":"1f646-1f3fc","native":""},{"unified":"1f646-1f3fd","native":""},{"unified":"1f646-1f3fe","native":""},{"unified":"1f646-1f3ff","native":""}],"version":1},"man-gesturing-ok":{"id":"man-gesturing-ok","name":"Man Gesturing Ok","keywords":["gesturing-ok","men","boy","male","blue","human"],"skins":[{"unified":"1f646-200d-2642-fe0f","native":""},{"unified":"1f646-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f646-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f646-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f646-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f646-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-gesturing-ok":{"id":"woman-gesturing-ok","name":"Woman Gesturing Ok","keywords":["gesturing-ok","women","girl","female","pink","human"],"skins":[{"unified":"1f646-200d-2640-fe0f","native":""},{"unified":"1f646-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f646-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f646-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f646-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f646-1f3ff-200d-2640-fe0f","native":""}],"version":4},"information_desk_person":{"id":"information_desk_person","name":"Person Tipping Hand","keywords":["information","desk"],"skins":[{"unified":"1f481","native":""},{"unified":"1f481-1f3fb","native":""},{"unified":"1f481-1f3fc","native":""},{"unified":"1f481-1f3fd","native":""},{"unified":"1f481-1f3fe","native":""},{"unified":"1f481-1f3ff","native":""}],"version":1},"man-tipping-hand":{"id":"man-tipping-hand","name":"Man Tipping Hand","keywords":["tipping-hand","male","boy","human","information"],"skins":[{"unified":"1f481-200d-2642-fe0f","native":""},{"unified":"1f481-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f481-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f481-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f481-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f481-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-tipping-hand":{"id":"woman-tipping-hand","name":"Woman Tipping Hand","keywords":["tipping-hand","female","girl","human","information"],"skins":[{"unified":"1f481-200d-2640-fe0f","native":""},{"unified":"1f481-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f481-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f481-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f481-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f481-1f3ff-200d-2640-fe0f","native":""}],"version":4},"raising_hand":{"id":"raising_hand","name":"Person Raising Hand","keywords":["question"],"skins":[{"unified":"1f64b","native":""},{"unified":"1f64b-1f3fb","native":""},{"unified":"1f64b-1f3fc","native":""},{"unified":"1f64b-1f3fd","native":""},{"unified":"1f64b-1f3fe","native":""},{"unified":"1f64b-1f3ff","native":""}],"version":1},"man-raising-hand":{"id":"man-raising-hand","name":"Man Raising Hand","keywords":["raising-hand","male","boy"],"skins":[{"unified":"1f64b-200d-2642-fe0f","native":""},{"unified":"1f64b-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f64b-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f64b-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f64b-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f64b-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-raising-hand":{"id":"woman-raising-hand","name":"Woman Raising Hand","keywords":["raising-hand","female","girl"],"skins":[{"unified":"1f64b-200d-2640-fe0f","native":""},{"unified":"1f64b-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f64b-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f64b-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f64b-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f64b-1f3ff-200d-2640-fe0f","native":""}],"version":4},"deaf_person":{"id":"deaf_person","name":"Deaf Person","keywords":["accessibility"],"skins":[{"unified":"1f9cf","native":""},{"unified":"1f9cf-1f3fb","native":""},{"unified":"1f9cf-1f3fc","native":""},{"unified":"1f9cf-1f3fd","native":""},{"unified":"1f9cf-1f3fe","native":""},{"unified":"1f9cf-1f3ff","native":""}],"version":12},"deaf_man":{"id":"deaf_man","name":"Deaf Man","keywords":["accessibility"],"skins":[{"unified":"1f9cf-200d-2642-fe0f","native":""},{"unified":"1f9cf-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9cf-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9cf-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9cf-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9cf-1f3ff-200d-2642-fe0f","native":""}],"version":12},"deaf_woman":{"id":"deaf_woman","name":"Deaf Woman","keywords":["accessibility"],"skins":[{"unified":"1f9cf-200d-2640-fe0f","native":""},{"unified":"1f9cf-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9cf-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9cf-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9cf-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9cf-1f3ff-200d-2640-fe0f","native":""}],"version":12},"bow":{"id":"bow","name":"Person Bowing","keywords":["bow","respectiful"],"skins":[{"unified":"1f647","native":""},{"unified":"1f647-1f3fb","native":""},{"unified":"1f647-1f3fc","native":""},{"unified":"1f647-1f3fd","native":""},{"unified":"1f647-1f3fe","native":""},{"unified":"1f647-1f3ff","native":""}],"version":1},"man-bowing":{"id":"man-bowing","name":"Man Bowing","keywords":["male","boy"],"skins":[{"unified":"1f647-200d-2642-fe0f","native":""},{"unified":"1f647-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f647-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f647-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f647-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f647-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-bowing":{"id":"woman-bowing","name":"Woman Bowing","keywords":["female","girl"],"skins":[{"unified":"1f647-200d-2640-fe0f","native":""},{"unified":"1f647-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f647-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f647-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f647-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f647-1f3ff-200d-2640-fe0f","native":""}],"version":4},"face_palm":{"id":"face_palm","name":"Face Palm","keywords":["person","facepalming","disappointed"],"skins":[{"unified":"1f926","native":""},{"unified":"1f926-1f3fb","native":""},{"unified":"1f926-1f3fc","native":""},{"unified":"1f926-1f3fd","native":""},{"unified":"1f926-1f3fe","native":""},{"unified":"1f926-1f3ff","native":""}],"version":3},"man-facepalming":{"id":"man-facepalming","name":"Man Facepalming","keywords":["male","boy","disbelief"],"skins":[{"unified":"1f926-200d-2642-fe0f","native":""},{"unified":"1f926-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f926-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f926-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f926-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f926-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-facepalming":{"id":"woman-facepalming","name":"Woman Facepalming","keywords":["female","girl","disbelief"],"skins":[{"unified":"1f926-200d-2640-fe0f","native":""},{"unified":"1f926-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f926-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f926-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f926-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f926-1f3ff-200d-2640-fe0f","native":""}],"version":4},"shrug":{"id":"shrug","name":"Shrug","keywords":["person","shrugging","regardless"],"skins":[{"unified":"1f937","native":""},{"unified":"1f937-1f3fb","native":""},{"unified":"1f937-1f3fc","native":""},{"unified":"1f937-1f3fd","native":""},{"unified":"1f937-1f3fe","native":""},{"unified":"1f937-1f3ff","native":""}],"version":3},"man-shrugging":{"id":"man-shrugging","name":"Man Shrugging","keywords":["male","boy","confused","indifferent","doubt"],"skins":[{"unified":"1f937-200d-2642-fe0f","native":""},{"unified":"1f937-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f937-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f937-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f937-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f937-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-shrugging":{"id":"woman-shrugging","name":"Woman Shrugging","keywords":["female","girl","confused","indifferent","doubt"],"skins":[{"unified":"1f937-200d-2640-fe0f","native":""},{"unified":"1f937-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f937-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f937-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f937-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f937-1f3ff-200d-2640-fe0f","native":""}],"version":4},"health_worker":{"id":"health_worker","name":"Health Worker","keywords":["hospital"],"skins":[{"unified":"1f9d1-200d-2695-fe0f","native":""},{"unified":"1f9d1-1f3fb-200d-2695-fe0f","native":""},{"unified":"1f9d1-1f3fc-200d-2695-fe0f","native":""},{"unified":"1f9d1-1f3fd-200d-2695-fe0f","native":""},{"unified":"1f9d1-1f3fe-200d-2695-fe0f","native":""},{"unified":"1f9d1-1f3ff-200d-2695-fe0f","native":""}],"version":12.1},"male-doctor":{"id":"male-doctor","name":"Man Health Worker","keywords":["male","doctor","nurse","therapist","healthcare","human"],"skins":[{"unified":"1f468-200d-2695-fe0f","native":""},{"unified":"1f468-1f3fb-200d-2695-fe0f","native":""},{"unified":"1f468-1f3fc-200d-2695-fe0f","native":""},{"unified":"1f468-1f3fd-200d-2695-fe0f","native":""},{"unified":"1f468-1f3fe-200d-2695-fe0f","native":""},{"unified":"1f468-1f3ff-200d-2695-fe0f","native":""}],"version":4},"female-doctor":{"id":"female-doctor","name":"Woman Health Worker","keywords":["female","doctor","nurse","therapist","healthcare","human"],"skins":[{"unified":"1f469-200d-2695-fe0f","native":""},{"unified":"1f469-1f3fb-200d-2695-fe0f","native":""},{"unified":"1f469-1f3fc-200d-2695-fe0f","native":""},{"unified":"1f469-1f3fd-200d-2695-fe0f","native":""},{"unified":"1f469-1f3fe-200d-2695-fe0f","native":""},{"unified":"1f469-1f3ff-200d-2695-fe0f","native":""}],"version":4},"student":{"id":"student","name":"Student","keywords":["learn"],"skins":[{"unified":"1f9d1-200d-1f393","native":""},{"unified":"1f9d1-1f3fb-200d-1f393","native":""},{"unified":"1f9d1-1f3fc-200d-1f393","native":""},{"unified":"1f9d1-1f3fd-200d-1f393","native":""},{"unified":"1f9d1-1f3fe-200d-1f393","native":""},{"unified":"1f9d1-1f3ff-200d-1f393","native":""}],"version":12.1},"male-student":{"id":"male-student","name":"Man Student","keywords":["male","graduate","human"],"skins":[{"unified":"1f468-200d-1f393","native":""},{"unified":"1f468-1f3fb-200d-1f393","native":""},{"unified":"1f468-1f3fc-200d-1f393","native":""},{"unified":"1f468-1f3fd-200d-1f393","native":""},{"unified":"1f468-1f3fe-200d-1f393","native":""},{"unified":"1f468-1f3ff-200d-1f393","native":""}],"version":4},"female-student":{"id":"female-student","name":"Woman Student","keywords":["female","graduate","human"],"skins":[{"unified":"1f469-200d-1f393","native":""},{"unified":"1f469-1f3fb-200d-1f393","native":""},{"unified":"1f469-1f3fc-200d-1f393","native":""},{"unified":"1f469-1f3fd-200d-1f393","native":""},{"unified":"1f469-1f3fe-200d-1f393","native":""},{"unified":"1f469-1f3ff-200d-1f393","native":""}],"version":4},"teacher":{"id":"teacher","name":"Teacher","keywords":["professor"],"skins":[{"unified":"1f9d1-200d-1f3eb","native":""},{"unified":"1f9d1-1f3fb-200d-1f3eb","native":""},{"unified":"1f9d1-1f3fc-200d-1f3eb","native":""},{"unified":"1f9d1-1f3fd-200d-1f3eb","native":""},{"unified":"1f9d1-1f3fe-200d-1f3eb","native":""},{"unified":"1f9d1-1f3ff-200d-1f3eb","native":""}],"version":12.1},"male-teacher":{"id":"male-teacher","name":"Man Teacher","keywords":["male","instructor","professor","human"],"skins":[{"unified":"1f468-200d-1f3eb","native":""},{"unified":"1f468-1f3fb-200d-1f3eb","native":""},{"unified":"1f468-1f3fc-200d-1f3eb","native":""},{"unified":"1f468-1f3fd-200d-1f3eb","native":""},{"unified":"1f468-1f3fe-200d-1f3eb","native":""},{"unified":"1f468-1f3ff-200d-1f3eb","native":""}],"version":4},"female-teacher":{"id":"female-teacher","name":"Woman Teacher","keywords":["female","instructor","professor","human"],"skins":[{"unified":"1f469-200d-1f3eb","native":""},{"unified":"1f469-1f3fb-200d-1f3eb","native":""},{"unified":"1f469-1f3fc-200d-1f3eb","native":""},{"unified":"1f469-1f3fd-200d-1f3eb","native":""},{"unified":"1f469-1f3fe-200d-1f3eb","native":""},{"unified":"1f469-1f3ff-200d-1f3eb","native":""}],"version":4},"judge":{"id":"judge","name":"Judge","keywords":["law"],"skins":[{"unified":"1f9d1-200d-2696-fe0f","native":""},{"unified":"1f9d1-1f3fb-200d-2696-fe0f","native":""},{"unified":"1f9d1-1f3fc-200d-2696-fe0f","native":""},{"unified":"1f9d1-1f3fd-200d-2696-fe0f","native":""},{"unified":"1f9d1-1f3fe-200d-2696-fe0f","native":""},{"unified":"1f9d1-1f3ff-200d-2696-fe0f","native":""}],"version":12.1},"male-judge":{"id":"male-judge","name":"Man Judge","keywords":["male","justice","court","human"],"skins":[{"unified":"1f468-200d-2696-fe0f","native":""},{"unified":"1f468-1f3fb-200d-2696-fe0f","native":""},{"unified":"1f468-1f3fc-200d-2696-fe0f","native":""},{"unified":"1f468-1f3fd-200d-2696-fe0f","native":""},{"unified":"1f468-1f3fe-200d-2696-fe0f","native":""},{"unified":"1f468-1f3ff-200d-2696-fe0f","native":""}],"version":4},"female-judge":{"id":"female-judge","name":"Woman Judge","keywords":["female","justice","court","human"],"skins":[{"unified":"1f469-200d-2696-fe0f","native":""},{"unified":"1f469-1f3fb-200d-2696-fe0f","native":""},{"unified":"1f469-1f3fc-200d-2696-fe0f","native":""},{"unified":"1f469-1f3fd-200d-2696-fe0f","native":""},{"unified":"1f469-1f3fe-200d-2696-fe0f","native":""},{"unified":"1f469-1f3ff-200d-2696-fe0f","native":""}],"version":4},"farmer":{"id":"farmer","name":"Farmer","keywords":["crops"],"skins":[{"unified":"1f9d1-200d-1f33e","native":""},{"unified":"1f9d1-1f3fb-200d-1f33e","native":""},{"unified":"1f9d1-1f3fc-200d-1f33e","native":""},{"unified":"1f9d1-1f3fd-200d-1f33e","native":""},{"unified":"1f9d1-1f3fe-200d-1f33e","native":""},{"unified":"1f9d1-1f3ff-200d-1f33e","native":""}],"version":12.1},"male-farmer":{"id":"male-farmer","name":"Man Farmer","keywords":["male","rancher","gardener","human"],"skins":[{"unified":"1f468-200d-1f33e","native":""},{"unified":"1f468-1f3fb-200d-1f33e","native":""},{"unified":"1f468-1f3fc-200d-1f33e","native":""},{"unified":"1f468-1f3fd-200d-1f33e","native":""},{"unified":"1f468-1f3fe-200d-1f33e","native":""},{"unified":"1f468-1f3ff-200d-1f33e","native":""}],"version":4},"female-farmer":{"id":"female-farmer","name":"Woman Farmer","keywords":["female","rancher","gardener","human"],"skins":[{"unified":"1f469-200d-1f33e","native":""},{"unified":"1f469-1f3fb-200d-1f33e","native":""},{"unified":"1f469-1f3fc-200d-1f33e","native":""},{"unified":"1f469-1f3fd-200d-1f33e","native":""},{"unified":"1f469-1f3fe-200d-1f33e","native":""},{"unified":"1f469-1f3ff-200d-1f33e","native":""}],"version":4},"cook":{"id":"cook","name":"Cook","keywords":["food","kitchen","culinary"],"skins":[{"unified":"1f9d1-200d-1f373","native":""},{"unified":"1f9d1-1f3fb-200d-1f373","native":""},{"unified":"1f9d1-1f3fc-200d-1f373","native":""},{"unified":"1f9d1-1f3fd-200d-1f373","native":""},{"unified":"1f9d1-1f3fe-200d-1f373","native":""},{"unified":"1f9d1-1f3ff-200d-1f373","native":""}],"version":12.1},"male-cook":{"id":"male-cook","name":"Man Cook","keywords":["male","chef","human"],"skins":[{"unified":"1f468-200d-1f373","native":""},{"unified":"1f468-1f3fb-200d-1f373","native":""},{"unified":"1f468-1f3fc-200d-1f373","native":""},{"unified":"1f468-1f3fd-200d-1f373","native":""},{"unified":"1f468-1f3fe-200d-1f373","native":""},{"unified":"1f468-1f3ff-200d-1f373","native":""}],"version":4},"female-cook":{"id":"female-cook","name":"Woman Cook","keywords":["female","chef","human"],"skins":[{"unified":"1f469-200d-1f373","native":""},{"unified":"1f469-1f3fb-200d-1f373","native":""},{"unified":"1f469-1f3fc-200d-1f373","native":""},{"unified":"1f469-1f3fd-200d-1f373","native":""},{"unified":"1f469-1f3fe-200d-1f373","native":""},{"unified":"1f469-1f3ff-200d-1f373","native":""}],"version":4},"mechanic":{"id":"mechanic","name":"Mechanic","keywords":["worker","technician"],"skins":[{"unified":"1f9d1-200d-1f527","native":""},{"unified":"1f9d1-1f3fb-200d-1f527","native":""},{"unified":"1f9d1-1f3fc-200d-1f527","native":""},{"unified":"1f9d1-1f3fd-200d-1f527","native":""},{"unified":"1f9d1-1f3fe-200d-1f527","native":""},{"unified":"1f9d1-1f3ff-200d-1f527","native":""}],"version":12.1},"male-mechanic":{"id":"male-mechanic","name":"Man Mechanic","keywords":["male","plumber","human","wrench"],"skins":[{"unified":"1f468-200d-1f527","native":""},{"unified":"1f468-1f3fb-200d-1f527","native":""},{"unified":"1f468-1f3fc-200d-1f527","native":""},{"unified":"1f468-1f3fd-200d-1f527","native":""},{"unified":"1f468-1f3fe-200d-1f527","native":""},{"unified":"1f468-1f3ff-200d-1f527","native":""}],"version":4},"female-mechanic":{"id":"female-mechanic","name":"Woman Mechanic","keywords":["female","plumber","human","wrench"],"skins":[{"unified":"1f469-200d-1f527","native":""},{"unified":"1f469-1f3fb-200d-1f527","native":""},{"unified":"1f469-1f3fc-200d-1f527","native":""},{"unified":"1f469-1f3fd-200d-1f527","native":""},{"unified":"1f469-1f3fe-200d-1f527","native":""},{"unified":"1f469-1f3ff-200d-1f527","native":""}],"version":4},"factory_worker":{"id":"factory_worker","name":"Factory Worker","keywords":["labor"],"skins":[{"unified":"1f9d1-200d-1f3ed","native":""},{"unified":"1f9d1-1f3fb-200d-1f3ed","native":""},{"unified":"1f9d1-1f3fc-200d-1f3ed","native":""},{"unified":"1f9d1-1f3fd-200d-1f3ed","native":""},{"unified":"1f9d1-1f3fe-200d-1f3ed","native":""},{"unified":"1f9d1-1f3ff-200d-1f3ed","native":""}],"version":12.1},"male-factory-worker":{"id":"male-factory-worker","name":"Man Factory Worker","keywords":["male","factory-worker","assembly","industrial","human"],"skins":[{"unified":"1f468-200d-1f3ed","native":""},{"unified":"1f468-1f3fb-200d-1f3ed","native":""},{"unified":"1f468-1f3fc-200d-1f3ed","native":""},{"unified":"1f468-1f3fd-200d-1f3ed","native":""},{"unified":"1f468-1f3fe-200d-1f3ed","native":""},{"unified":"1f468-1f3ff-200d-1f3ed","native":""}],"version":4},"female-factory-worker":{"id":"female-factory-worker","name":"Woman Factory Worker","keywords":["female","factory-worker","assembly","industrial","human"],"skins":[{"unified":"1f469-200d-1f3ed","native":""},{"unified":"1f469-1f3fb-200d-1f3ed","native":""},{"unified":"1f469-1f3fc-200d-1f3ed","native":""},{"unified":"1f469-1f3fd-200d-1f3ed","native":""},{"unified":"1f469-1f3fe-200d-1f3ed","native":""},{"unified":"1f469-1f3ff-200d-1f3ed","native":""}],"version":4},"office_worker":{"id":"office_worker","name":"Office Worker","keywords":["business"],"skins":[{"unified":"1f9d1-200d-1f4bc","native":""},{"unified":"1f9d1-1f3fb-200d-1f4bc","native":""},{"unified":"1f9d1-1f3fc-200d-1f4bc","native":""},{"unified":"1f9d1-1f3fd-200d-1f4bc","native":""},{"unified":"1f9d1-1f3fe-200d-1f4bc","native":""},{"unified":"1f9d1-1f3ff-200d-1f4bc","native":""}],"version":12.1},"male-office-worker":{"id":"male-office-worker","name":"Man Office Worker","keywords":["male","office-worker","business","manager","human"],"skins":[{"unified":"1f468-200d-1f4bc","native":""},{"unified":"1f468-1f3fb-200d-1f4bc","native":""},{"unified":"1f468-1f3fc-200d-1f4bc","native":""},{"unified":"1f468-1f3fd-200d-1f4bc","native":""},{"unified":"1f468-1f3fe-200d-1f4bc","native":""},{"unified":"1f468-1f3ff-200d-1f4bc","native":""}],"version":4},"female-office-worker":{"id":"female-office-worker","name":"Woman Office Worker","keywords":["female","office-worker","business","manager","human"],"skins":[{"unified":"1f469-200d-1f4bc","native":""},{"unified":"1f469-1f3fb-200d-1f4bc","native":""},{"unified":"1f469-1f3fc-200d-1f4bc","native":""},{"unified":"1f469-1f3fd-200d-1f4bc","native":""},{"unified":"1f469-1f3fe-200d-1f4bc","native":""},{"unified":"1f469-1f3ff-200d-1f4bc","native":""}],"version":4},"scientist":{"id":"scientist","name":"Scientist","keywords":["chemistry"],"skins":[{"unified":"1f9d1-200d-1f52c","native":""},{"unified":"1f9d1-1f3fb-200d-1f52c","native":""},{"unified":"1f9d1-1f3fc-200d-1f52c","native":""},{"unified":"1f9d1-1f3fd-200d-1f52c","native":""},{"unified":"1f9d1-1f3fe-200d-1f52c","native":""},{"unified":"1f9d1-1f3ff-200d-1f52c","native":""}],"version":12.1},"male-scientist":{"id":"male-scientist","name":"Man Scientist","keywords":["male","biologist","chemist","engineer","physicist","human"],"skins":[{"unified":"1f468-200d-1f52c","native":""},{"unified":"1f468-1f3fb-200d-1f52c","native":""},{"unified":"1f468-1f3fc-200d-1f52c","native":""},{"unified":"1f468-1f3fd-200d-1f52c","native":""},{"unified":"1f468-1f3fe-200d-1f52c","native":""},{"unified":"1f468-1f3ff-200d-1f52c","native":""}],"version":4},"female-scientist":{"id":"female-scientist","name":"Woman Scientist","keywords":["female","biologist","chemist","engineer","physicist","human"],"skins":[{"unified":"1f469-200d-1f52c","native":""},{"unified":"1f469-1f3fb-200d-1f52c","native":""},{"unified":"1f469-1f3fc-200d-1f52c","native":""},{"unified":"1f469-1f3fd-200d-1f52c","native":""},{"unified":"1f469-1f3fe-200d-1f52c","native":""},{"unified":"1f469-1f3ff-200d-1f52c","native":""}],"version":4},"technologist":{"id":"technologist","name":"Technologist","keywords":["computer"],"skins":[{"unified":"1f9d1-200d-1f4bb","native":""},{"unified":"1f9d1-1f3fb-200d-1f4bb","native":""},{"unified":"1f9d1-1f3fc-200d-1f4bb","native":""},{"unified":"1f9d1-1f3fd-200d-1f4bb","native":""},{"unified":"1f9d1-1f3fe-200d-1f4bb","native":""},{"unified":"1f9d1-1f3ff-200d-1f4bb","native":""}],"version":12.1},"male-technologist":{"id":"male-technologist","name":"Man Technologist","keywords":["male","coder","developer","engineer","programmer","software","human","laptop","computer"],"skins":[{"unified":"1f468-200d-1f4bb","native":""},{"unified":"1f468-1f3fb-200d-1f4bb","native":""},{"unified":"1f468-1f3fc-200d-1f4bb","native":""},{"unified":"1f468-1f3fd-200d-1f4bb","native":""},{"unified":"1f468-1f3fe-200d-1f4bb","native":""},{"unified":"1f468-1f3ff-200d-1f4bb","native":""}],"version":4},"female-technologist":{"id":"female-technologist","name":"Woman Technologist","keywords":["female","coder","developer","engineer","programmer","software","human","laptop","computer"],"skins":[{"unified":"1f469-200d-1f4bb","native":""},{"unified":"1f469-1f3fb-200d-1f4bb","native":""},{"unified":"1f469-1f3fc-200d-1f4bb","native":""},{"unified":"1f469-1f3fd-200d-1f4bb","native":""},{"unified":"1f469-1f3fe-200d-1f4bb","native":""},{"unified":"1f469-1f3ff-200d-1f4bb","native":""}],"version":4},"singer":{"id":"singer","name":"Singer","keywords":["song","artist","performer"],"skins":[{"unified":"1f9d1-200d-1f3a4","native":""},{"unified":"1f9d1-1f3fb-200d-1f3a4","native":""},{"unified":"1f9d1-1f3fc-200d-1f3a4","native":""},{"unified":"1f9d1-1f3fd-200d-1f3a4","native":""},{"unified":"1f9d1-1f3fe-200d-1f3a4","native":""},{"unified":"1f9d1-1f3ff-200d-1f3a4","native":""}],"version":12.1},"male-singer":{"id":"male-singer","name":"Man Singer","keywords":["male","rockstar","entertainer","human"],"skins":[{"unified":"1f468-200d-1f3a4","native":""},{"unified":"1f468-1f3fb-200d-1f3a4","native":""},{"unified":"1f468-1f3fc-200d-1f3a4","native":""},{"unified":"1f468-1f3fd-200d-1f3a4","native":""},{"unified":"1f468-1f3fe-200d-1f3a4","native":""},{"unified":"1f468-1f3ff-200d-1f3a4","native":""}],"version":4},"female-singer":{"id":"female-singer","name":"Woman Singer","keywords":["female","rockstar","entertainer","human"],"skins":[{"unified":"1f469-200d-1f3a4","native":""},{"unified":"1f469-1f3fb-200d-1f3a4","native":""},{"unified":"1f469-1f3fc-200d-1f3a4","native":""},{"unified":"1f469-1f3fd-200d-1f3a4","native":""},{"unified":"1f469-1f3fe-200d-1f3a4","native":""},{"unified":"1f469-1f3ff-200d-1f3a4","native":""}],"version":4},"artist":{"id":"artist","name":"Artist","keywords":["painting","draw","creativity"],"skins":[{"unified":"1f9d1-200d-1f3a8","native":""},{"unified":"1f9d1-1f3fb-200d-1f3a8","native":""},{"unified":"1f9d1-1f3fc-200d-1f3a8","native":""},{"unified":"1f9d1-1f3fd-200d-1f3a8","native":""},{"unified":"1f9d1-1f3fe-200d-1f3a8","native":""},{"unified":"1f9d1-1f3ff-200d-1f3a8","native":""}],"version":12.1},"male-artist":{"id":"male-artist","name":"Man Artist","keywords":["male","painter","human"],"skins":[{"unified":"1f468-200d-1f3a8","native":""},{"unified":"1f468-1f3fb-200d-1f3a8","native":""},{"unified":"1f468-1f3fc-200d-1f3a8","native":""},{"unified":"1f468-1f3fd-200d-1f3a8","native":""},{"unified":"1f468-1f3fe-200d-1f3a8","native":""},{"unified":"1f468-1f3ff-200d-1f3a8","native":""}],"version":4},"female-artist":{"id":"female-artist","name":"Woman Artist","keywords":["female","painter","human"],"skins":[{"unified":"1f469-200d-1f3a8","native":""},{"unified":"1f469-1f3fb-200d-1f3a8","native":""},{"unified":"1f469-1f3fc-200d-1f3a8","native":""},{"unified":"1f469-1f3fd-200d-1f3a8","native":""},{"unified":"1f469-1f3fe-200d-1f3a8","native":""},{"unified":"1f469-1f3ff-200d-1f3a8","native":""}],"version":4},"pilot":{"id":"pilot","name":"Pilot","keywords":["fly","plane","airplane"],"skins":[{"unified":"1f9d1-200d-2708-fe0f","native":""},{"unified":"1f9d1-1f3fb-200d-2708-fe0f","native":""},{"unified":"1f9d1-1f3fc-200d-2708-fe0f","native":""},{"unified":"1f9d1-1f3fd-200d-2708-fe0f","native":""},{"unified":"1f9d1-1f3fe-200d-2708-fe0f","native":""},{"unified":"1f9d1-1f3ff-200d-2708-fe0f","native":""}],"version":12.1},"male-pilot":{"id":"male-pilot","name":"Man Pilot","keywords":["male","aviator","plane","human"],"skins":[{"unified":"1f468-200d-2708-fe0f","native":""},{"unified":"1f468-1f3fb-200d-2708-fe0f","native":""},{"unified":"1f468-1f3fc-200d-2708-fe0f","native":""},{"unified":"1f468-1f3fd-200d-2708-fe0f","native":""},{"unified":"1f468-1f3fe-200d-2708-fe0f","native":""},{"unified":"1f468-1f3ff-200d-2708-fe0f","native":""}],"version":4},"female-pilot":{"id":"female-pilot","name":"Woman Pilot","keywords":["female","aviator","plane","human"],"skins":[{"unified":"1f469-200d-2708-fe0f","native":""},{"unified":"1f469-1f3fb-200d-2708-fe0f","native":""},{"unified":"1f469-1f3fc-200d-2708-fe0f","native":""},{"unified":"1f469-1f3fd-200d-2708-fe0f","native":""},{"unified":"1f469-1f3fe-200d-2708-fe0f","native":""},{"unified":"1f469-1f3ff-200d-2708-fe0f","native":""}],"version":4},"astronaut":{"id":"astronaut","name":"Astronaut","keywords":["outerspace"],"skins":[{"unified":"1f9d1-200d-1f680","native":""},{"unified":"1f9d1-1f3fb-200d-1f680","native":""},{"unified":"1f9d1-1f3fc-200d-1f680","native":""},{"unified":"1f9d1-1f3fd-200d-1f680","native":""},{"unified":"1f9d1-1f3fe-200d-1f680","native":""},{"unified":"1f9d1-1f3ff-200d-1f680","native":""}],"version":12.1},"male-astronaut":{"id":"male-astronaut","name":"Man Astronaut","keywords":["male","space","rocket","human"],"skins":[{"unified":"1f468-200d-1f680","native":""},{"unified":"1f468-1f3fb-200d-1f680","native":""},{"unified":"1f468-1f3fc-200d-1f680","native":""},{"unified":"1f468-1f3fd-200d-1f680","native":""},{"unified":"1f468-1f3fe-200d-1f680","native":""},{"unified":"1f468-1f3ff-200d-1f680","native":""}],"version":4},"female-astronaut":{"id":"female-astronaut","name":"Woman Astronaut","keywords":["female","space","rocket","human"],"skins":[{"unified":"1f469-200d-1f680","native":""},{"unified":"1f469-1f3fb-200d-1f680","native":""},{"unified":"1f469-1f3fc-200d-1f680","native":""},{"unified":"1f469-1f3fd-200d-1f680","native":""},{"unified":"1f469-1f3fe-200d-1f680","native":""},{"unified":"1f469-1f3ff-200d-1f680","native":""}],"version":4},"firefighter":{"id":"firefighter","name":"Firefighter","keywords":["fire"],"skins":[{"unified":"1f9d1-200d-1f692","native":""},{"unified":"1f9d1-1f3fb-200d-1f692","native":""},{"unified":"1f9d1-1f3fc-200d-1f692","native":""},{"unified":"1f9d1-1f3fd-200d-1f692","native":""},{"unified":"1f9d1-1f3fe-200d-1f692","native":""},{"unified":"1f9d1-1f3ff-200d-1f692","native":""}],"version":12.1},"male-firefighter":{"id":"male-firefighter","name":"Man Firefighter","keywords":["male","fireman","human"],"skins":[{"unified":"1f468-200d-1f692","native":""},{"unified":"1f468-1f3fb-200d-1f692","native":""},{"unified":"1f468-1f3fc-200d-1f692","native":""},{"unified":"1f468-1f3fd-200d-1f692","native":""},{"unified":"1f468-1f3fe-200d-1f692","native":""},{"unified":"1f468-1f3ff-200d-1f692","native":""}],"version":4},"female-firefighter":{"id":"female-firefighter","name":"Woman Firefighter","keywords":["female","fireman","human"],"skins":[{"unified":"1f469-200d-1f692","native":""},{"unified":"1f469-1f3fb-200d-1f692","native":""},{"unified":"1f469-1f3fc-200d-1f692","native":""},{"unified":"1f469-1f3fd-200d-1f692","native":""},{"unified":"1f469-1f3fe-200d-1f692","native":""},{"unified":"1f469-1f3ff-200d-1f692","native":""}],"version":4},"cop":{"id":"cop","name":"Police Officer","keywords":["cop"],"skins":[{"unified":"1f46e","native":""},{"unified":"1f46e-1f3fb","native":""},{"unified":"1f46e-1f3fc","native":""},{"unified":"1f46e-1f3fd","native":""},{"unified":"1f46e-1f3fe","native":""},{"unified":"1f46e-1f3ff","native":""}],"version":1},"male-police-officer":{"id":"male-police-officer","name":"Man Police Officer","keywords":["male","police-officer","law","legal","enforcement","arrest","911"],"skins":[{"unified":"1f46e-200d-2642-fe0f","native":""},{"unified":"1f46e-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f46e-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f46e-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f46e-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f46e-1f3ff-200d-2642-fe0f","native":""}],"version":4},"female-police-officer":{"id":"female-police-officer","name":"Woman Police Officer","keywords":["female","police-officer","law","legal","enforcement","arrest","911"],"skins":[{"unified":"1f46e-200d-2640-fe0f","native":""},{"unified":"1f46e-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f46e-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f46e-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f46e-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f46e-1f3ff-200d-2640-fe0f","native":""}],"version":4},"sleuth_or_spy":{"id":"sleuth_or_spy","name":"Detective","keywords":["sleuth","or","spy","human"],"skins":[{"unified":"1f575-fe0f","native":""},{"unified":"1f575-1f3fb","native":""},{"unified":"1f575-1f3fc","native":""},{"unified":"1f575-1f3fd","native":""},{"unified":"1f575-1f3fe","native":""},{"unified":"1f575-1f3ff","native":""}],"version":1},"male-detective":{"id":"male-detective","name":"Man Detective","keywords":["male","crime"],"skins":[{"unified":"1f575-fe0f-200d-2642-fe0f","native":""},{"unified":"1f575-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f575-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f575-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f575-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f575-1f3ff-200d-2642-fe0f","native":""}],"version":4},"female-detective":{"id":"female-detective","name":"Woman Detective","keywords":["female","human","spy"],"skins":[{"unified":"1f575-fe0f-200d-2640-fe0f","native":""},{"unified":"1f575-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f575-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f575-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f575-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f575-1f3ff-200d-2640-fe0f","native":""}],"version":4},"guardsman":{"id":"guardsman","name":"Guard","keywords":["guardsman","protect"],"skins":[{"unified":"1f482","native":""},{"unified":"1f482-1f3fb","native":""},{"unified":"1f482-1f3fc","native":""},{"unified":"1f482-1f3fd","native":""},{"unified":"1f482-1f3fe","native":""},{"unified":"1f482-1f3ff","native":""}],"version":1},"male-guard":{"id":"male-guard","name":"Man Guard","keywords":["male","uk","gb","british","guy","royal"],"skins":[{"unified":"1f482-200d-2642-fe0f","native":""},{"unified":"1f482-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f482-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f482-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f482-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f482-1f3ff-200d-2642-fe0f","native":""}],"version":4},"female-guard":{"id":"female-guard","name":"Woman Guard","keywords":["female","uk","gb","british","royal"],"skins":[{"unified":"1f482-200d-2640-fe0f","native":""},{"unified":"1f482-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f482-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f482-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f482-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f482-1f3ff-200d-2640-fe0f","native":""}],"version":4},"ninja":{"id":"ninja","name":"Ninja","keywords":["ninjutsu","skills","japanese"],"skins":[{"unified":"1f977","native":""},{"unified":"1f977-1f3fb","native":""},{"unified":"1f977-1f3fc","native":""},{"unified":"1f977-1f3fd","native":""},{"unified":"1f977-1f3fe","native":""},{"unified":"1f977-1f3ff","native":""}],"version":13},"construction_worker":{"id":"construction_worker","name":"Construction Worker","keywords":["labor","build"],"skins":[{"unified":"1f477","native":""},{"unified":"1f477-1f3fb","native":""},{"unified":"1f477-1f3fc","native":""},{"unified":"1f477-1f3fd","native":""},{"unified":"1f477-1f3fe","native":""},{"unified":"1f477-1f3ff","native":""}],"version":1},"male-construction-worker":{"id":"male-construction-worker","name":"Man Construction Worker","keywords":["male","construction-worker","human","wip","guy","build","labor"],"skins":[{"unified":"1f477-200d-2642-fe0f","native":""},{"unified":"1f477-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f477-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f477-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f477-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f477-1f3ff-200d-2642-fe0f","native":""}],"version":4},"female-construction-worker":{"id":"female-construction-worker","name":"Woman Construction Worker","keywords":["female","construction-worker","human","wip","build","labor"],"skins":[{"unified":"1f477-200d-2640-fe0f","native":""},{"unified":"1f477-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f477-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f477-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f477-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f477-1f3ff-200d-2640-fe0f","native":""}],"version":4},"person_with_crown":{"id":"person_with_crown","name":"Person with Crown","keywords":["royalty","power"],"skins":[{"unified":"1fac5","native":""},{"unified":"1fac5-1f3fb","native":""},{"unified":"1fac5-1f3fc","native":""},{"unified":"1fac5-1f3fd","native":""},{"unified":"1fac5-1f3fe","native":""},{"unified":"1fac5-1f3ff","native":""}],"version":14},"prince":{"id":"prince","name":"Prince","keywords":["boy","man","male","crown","royal","king"],"skins":[{"unified":"1f934","native":""},{"unified":"1f934-1f3fb","native":""},{"unified":"1f934-1f3fc","native":""},{"unified":"1f934-1f3fd","native":""},{"unified":"1f934-1f3fe","native":""},{"unified":"1f934-1f3ff","native":""}],"version":3},"princess":{"id":"princess","name":"Princess","keywords":["girl","woman","female","blond","crown","royal","queen"],"skins":[{"unified":"1f478","native":""},{"unified":"1f478-1f3fb","native":""},{"unified":"1f478-1f3fc","native":""},{"unified":"1f478-1f3fd","native":""},{"unified":"1f478-1f3fe","native":""},{"unified":"1f478-1f3ff","native":""}],"version":1},"man_with_turban":{"id":"man_with_turban","name":"Man with Turban","keywords":["person","wearing","headdress"],"skins":[{"unified":"1f473","native":""},{"unified":"1f473-1f3fb","native":""},{"unified":"1f473-1f3fc","native":""},{"unified":"1f473-1f3fd","native":""},{"unified":"1f473-1f3fe","native":""},{"unified":"1f473-1f3ff","native":""}],"version":1},"man-wearing-turban":{"id":"man-wearing-turban","name":"Man Wearing Turban","keywords":["wearing-turban","male","indian","hinduism","arabs"],"skins":[{"unified":"1f473-200d-2642-fe0f","native":""},{"unified":"1f473-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f473-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f473-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f473-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f473-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-wearing-turban":{"id":"woman-wearing-turban","name":"Woman Wearing Turban","keywords":["wearing-turban","female","indian","hinduism","arabs"],"skins":[{"unified":"1f473-200d-2640-fe0f","native":""},{"unified":"1f473-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f473-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f473-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f473-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f473-1f3ff-200d-2640-fe0f","native":""}],"version":4},"man_with_gua_pi_mao":{"id":"man_with_gua_pi_mao","name":"Man with Gua Pi Mao","keywords":["skullcap","male","boy","chinese"],"skins":[{"unified":"1f472","native":""},{"unified":"1f472-1f3fb","native":""},{"unified":"1f472-1f3fc","native":""},{"unified":"1f472-1f3fd","native":""},{"unified":"1f472-1f3fe","native":""},{"unified":"1f472-1f3ff","native":""}],"version":1},"person_with_headscarf":{"id":"person_with_headscarf","name":"Woman with Headscarf","keywords":["person","female","hijab","mantilla","tichel"],"skins":[{"unified":"1f9d5","native":""},{"unified":"1f9d5-1f3fb","native":""},{"unified":"1f9d5-1f3fc","native":""},{"unified":"1f9d5-1f3fd","native":""},{"unified":"1f9d5-1f3fe","native":""},{"unified":"1f9d5-1f3ff","native":""}],"version":5},"person_in_tuxedo":{"id":"person_in_tuxedo","name":"Man in Tuxedo","keywords":["person","couple","marriage","wedding","groom"],"skins":[{"unified":"1f935","native":""},{"unified":"1f935-1f3fb","native":""},{"unified":"1f935-1f3fc","native":""},{"unified":"1f935-1f3fd","native":""},{"unified":"1f935-1f3fe","native":""},{"unified":"1f935-1f3ff","native":""}],"version":3},"man_in_tuxedo":{"id":"man_in_tuxedo","name":"Man in Tuxedo","keywords":["formal","fashion"],"skins":[{"unified":"1f935-200d-2642-fe0f","native":""},{"unified":"1f935-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f935-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f935-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f935-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f935-1f3ff-200d-2642-fe0f","native":""}],"version":13},"woman_in_tuxedo":{"id":"woman_in_tuxedo","name":"Woman in Tuxedo","keywords":["formal","fashion"],"skins":[{"unified":"1f935-200d-2640-fe0f","native":""},{"unified":"1f935-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f935-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f935-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f935-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f935-1f3ff-200d-2640-fe0f","native":""}],"version":13},"bride_with_veil":{"id":"bride_with_veil","name":"Bride with Veil","keywords":["couple","marriage","wedding","woman"],"skins":[{"unified":"1f470","native":""},{"unified":"1f470-1f3fb","native":""},{"unified":"1f470-1f3fc","native":""},{"unified":"1f470-1f3fd","native":""},{"unified":"1f470-1f3fe","native":""},{"unified":"1f470-1f3ff","native":""}],"version":1},"man_with_veil":{"id":"man_with_veil","name":"Man with Veil","keywords":["wedding","marriage"],"skins":[{"unified":"1f470-200d-2642-fe0f","native":""},{"unified":"1f470-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f470-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f470-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f470-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f470-1f3ff-200d-2642-fe0f","native":""}],"version":13},"woman_with_veil":{"id":"woman_with_veil","name":"Woman with Veil","keywords":["wedding","marriage"],"skins":[{"unified":"1f470-200d-2640-fe0f","native":""},{"unified":"1f470-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f470-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f470-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f470-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f470-1f3ff-200d-2640-fe0f","native":""}],"version":13},"pregnant_woman":{"id":"pregnant_woman","name":"Pregnant Woman","keywords":["baby"],"skins":[{"unified":"1f930","native":""},{"unified":"1f930-1f3fb","native":""},{"unified":"1f930-1f3fc","native":""},{"unified":"1f930-1f3fd","native":""},{"unified":"1f930-1f3fe","native":""},{"unified":"1f930-1f3ff","native":""}],"version":3},"pregnant_man":{"id":"pregnant_man","name":"Pregnant Man","keywords":["baby","belly"],"skins":[{"unified":"1fac3","native":""},{"unified":"1fac3-1f3fb","native":""},{"unified":"1fac3-1f3fc","native":""},{"unified":"1fac3-1f3fd","native":""},{"unified":"1fac3-1f3fe","native":""},{"unified":"1fac3-1f3ff","native":""}],"version":14},"pregnant_person":{"id":"pregnant_person","name":"Pregnant Person","keywords":["baby","belly"],"skins":[{"unified":"1fac4","native":""},{"unified":"1fac4-1f3fb","native":""},{"unified":"1fac4-1f3fc","native":""},{"unified":"1fac4-1f3fd","native":""},{"unified":"1fac4-1f3fe","native":""},{"unified":"1fac4-1f3ff","native":""}],"version":14},"breast-feeding":{"id":"breast-feeding","name":"Breast-Feeding","keywords":["breast","feeding","nursing","baby"],"skins":[{"unified":"1f931","native":""},{"unified":"1f931-1f3fb","native":""},{"unified":"1f931-1f3fc","native":""},{"unified":"1f931-1f3fd","native":""},{"unified":"1f931-1f3fe","native":""},{"unified":"1f931-1f3ff","native":""}],"version":5},"woman_feeding_baby":{"id":"woman_feeding_baby","name":"Woman Feeding Baby","keywords":["birth","food"],"skins":[{"unified":"1f469-200d-1f37c","native":""},{"unified":"1f469-1f3fb-200d-1f37c","native":""},{"unified":"1f469-1f3fc-200d-1f37c","native":""},{"unified":"1f469-1f3fd-200d-1f37c","native":""},{"unified":"1f469-1f3fe-200d-1f37c","native":""},{"unified":"1f469-1f3ff-200d-1f37c","native":""}],"version":13},"man_feeding_baby":{"id":"man_feeding_baby","name":"Man Feeding Baby","keywords":["birth","food"],"skins":[{"unified":"1f468-200d-1f37c","native":""},{"unified":"1f468-1f3fb-200d-1f37c","native":""},{"unified":"1f468-1f3fc-200d-1f37c","native":""},{"unified":"1f468-1f3fd-200d-1f37c","native":""},{"unified":"1f468-1f3fe-200d-1f37c","native":""},{"unified":"1f468-1f3ff-200d-1f37c","native":""}],"version":13},"person_feeding_baby":{"id":"person_feeding_baby","name":"Person Feeding Baby","keywords":["birth","food"],"skins":[{"unified":"1f9d1-200d-1f37c","native":""},{"unified":"1f9d1-1f3fb-200d-1f37c","native":""},{"unified":"1f9d1-1f3fc-200d-1f37c","native":""},{"unified":"1f9d1-1f3fd-200d-1f37c","native":""},{"unified":"1f9d1-1f3fe-200d-1f37c","native":""},{"unified":"1f9d1-1f3ff-200d-1f37c","native":""}],"version":13},"angel":{"id":"angel","name":"Baby Angel","keywords":["heaven","wings","halo"],"skins":[{"unified":"1f47c","native":""},{"unified":"1f47c-1f3fb","native":""},{"unified":"1f47c-1f3fc","native":""},{"unified":"1f47c-1f3fd","native":""},{"unified":"1f47c-1f3fe","native":""},{"unified":"1f47c-1f3ff","native":""}],"version":1},"santa":{"id":"santa","name":"Santa Claus","keywords":["festival","man","male","xmas","father","christmas"],"skins":[{"unified":"1f385","native":""},{"unified":"1f385-1f3fb","native":""},{"unified":"1f385-1f3fc","native":""},{"unified":"1f385-1f3fd","native":""},{"unified":"1f385-1f3fe","native":""},{"unified":"1f385-1f3ff","native":""}],"version":1},"mrs_claus":{"id":"mrs_claus","name":"Mrs. Claus","keywords":["mrs","mother","christmas","woman","female","xmas"],"skins":[{"unified":"1f936","native":""},{"unified":"1f936-1f3fb","native":""},{"unified":"1f936-1f3fc","native":""},{"unified":"1f936-1f3fd","native":""},{"unified":"1f936-1f3fe","native":""},{"unified":"1f936-1f3ff","native":""}],"version":3},"mx_claus":{"id":"mx_claus","name":"Mx Claus","keywords":["christmas"],"skins":[{"unified":"1f9d1-200d-1f384","native":""},{"unified":"1f9d1-1f3fb-200d-1f384","native":""},{"unified":"1f9d1-1f3fc-200d-1f384","native":""},{"unified":"1f9d1-1f3fd-200d-1f384","native":""},{"unified":"1f9d1-1f3fe-200d-1f384","native":""},{"unified":"1f9d1-1f3ff-200d-1f384","native":""}],"version":13},"superhero":{"id":"superhero","name":"Superhero","keywords":["marvel"],"skins":[{"unified":"1f9b8","native":""},{"unified":"1f9b8-1f3fb","native":""},{"unified":"1f9b8-1f3fc","native":""},{"unified":"1f9b8-1f3fd","native":""},{"unified":"1f9b8-1f3fe","native":""},{"unified":"1f9b8-1f3ff","native":""}],"version":11},"male_superhero":{"id":"male_superhero","name":"Man Superhero","keywords":["male","good","hero","superpowers"],"skins":[{"unified":"1f9b8-200d-2642-fe0f","native":""},{"unified":"1f9b8-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9b8-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9b8-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9b8-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9b8-1f3ff-200d-2642-fe0f","native":""}],"version":11},"female_superhero":{"id":"female_superhero","name":"Woman Superhero","keywords":["female","good","heroine","superpowers"],"skins":[{"unified":"1f9b8-200d-2640-fe0f","native":""},{"unified":"1f9b8-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9b8-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9b8-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9b8-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9b8-1f3ff-200d-2640-fe0f","native":""}],"version":11},"supervillain":{"id":"supervillain","name":"Supervillain","keywords":["marvel"],"skins":[{"unified":"1f9b9","native":""},{"unified":"1f9b9-1f3fb","native":""},{"unified":"1f9b9-1f3fc","native":""},{"unified":"1f9b9-1f3fd","native":""},{"unified":"1f9b9-1f3fe","native":""},{"unified":"1f9b9-1f3ff","native":""}],"version":11},"male_supervillain":{"id":"male_supervillain","name":"Man Supervillain","keywords":["male","evil","bad","criminal","hero","superpowers"],"skins":[{"unified":"1f9b9-200d-2642-fe0f","native":""},{"unified":"1f9b9-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9b9-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9b9-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9b9-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9b9-1f3ff-200d-2642-fe0f","native":""}],"version":11},"female_supervillain":{"id":"female_supervillain","name":"Woman Supervillain","keywords":["female","evil","bad","criminal","heroine","superpowers"],"skins":[{"unified":"1f9b9-200d-2640-fe0f","native":""},{"unified":"1f9b9-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9b9-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9b9-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9b9-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9b9-1f3ff-200d-2640-fe0f","native":""}],"version":11},"mage":{"id":"mage","name":"Mage","keywords":["magic"],"skins":[{"unified":"1f9d9","native":""},{"unified":"1f9d9-1f3fb","native":""},{"unified":"1f9d9-1f3fc","native":""},{"unified":"1f9d9-1f3fd","native":""},{"unified":"1f9d9-1f3fe","native":""},{"unified":"1f9d9-1f3ff","native":""}],"version":5},"male_mage":{"id":"male_mage","name":"Man Mage","keywords":["male","sorcerer"],"skins":[{"unified":"1f9d9-200d-2642-fe0f","native":""},{"unified":"1f9d9-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9d9-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9d9-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9d9-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9d9-1f3ff-200d-2642-fe0f","native":""}],"version":5},"female_mage":{"id":"female_mage","name":"Woman Mage","keywords":["female","witch"],"skins":[{"unified":"1f9d9-200d-2640-fe0f","native":""},{"unified":"1f9d9-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9d9-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9d9-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9d9-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9d9-1f3ff-200d-2640-fe0f","native":""}],"version":5},"fairy":{"id":"fairy","name":"Fairy","keywords":["wings","magical"],"skins":[{"unified":"1f9da","native":""},{"unified":"1f9da-1f3fb","native":""},{"unified":"1f9da-1f3fc","native":""},{"unified":"1f9da-1f3fd","native":""},{"unified":"1f9da-1f3fe","native":""},{"unified":"1f9da-1f3ff","native":""}],"version":5},"male_fairy":{"id":"male_fairy","name":"Man Fairy","keywords":["male"],"skins":[{"unified":"1f9da-200d-2642-fe0f","native":""},{"unified":"1f9da-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9da-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9da-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9da-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9da-1f3ff-200d-2642-fe0f","native":""}],"version":5},"female_fairy":{"id":"female_fairy","name":"Woman Fairy","keywords":["female"],"skins":[{"unified":"1f9da-200d-2640-fe0f","native":""},{"unified":"1f9da-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9da-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9da-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9da-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9da-1f3ff-200d-2640-fe0f","native":""}],"version":5},"vampire":{"id":"vampire","name":"Vampire","keywords":["blood","twilight"],"skins":[{"unified":"1f9db","native":""},{"unified":"1f9db-1f3fb","native":""},{"unified":"1f9db-1f3fc","native":""},{"unified":"1f9db-1f3fd","native":""},{"unified":"1f9db-1f3fe","native":""},{"unified":"1f9db-1f3ff","native":""}],"version":5},"male_vampire":{"id":"male_vampire","name":"Man Vampire","keywords":["male","dracula"],"skins":[{"unified":"1f9db-200d-2642-fe0f","native":""},{"unified":"1f9db-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9db-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9db-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9db-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9db-1f3ff-200d-2642-fe0f","native":""}],"version":5},"female_vampire":{"id":"female_vampire","name":"Woman Vampire","keywords":["female"],"skins":[{"unified":"1f9db-200d-2640-fe0f","native":""},{"unified":"1f9db-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9db-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9db-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9db-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9db-1f3ff-200d-2640-fe0f","native":""}],"version":5},"merperson":{"id":"merperson","name":"Merperson","keywords":["sea"],"skins":[{"unified":"1f9dc","native":""},{"unified":"1f9dc-1f3fb","native":""},{"unified":"1f9dc-1f3fc","native":""},{"unified":"1f9dc-1f3fd","native":""},{"unified":"1f9dc-1f3fe","native":""},{"unified":"1f9dc-1f3ff","native":""}],"version":5},"merman":{"id":"merman","name":"Merman","keywords":["man","male","triton"],"skins":[{"unified":"1f9dc-200d-2642-fe0f","native":""},{"unified":"1f9dc-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9dc-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9dc-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9dc-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9dc-1f3ff-200d-2642-fe0f","native":""}],"version":5},"mermaid":{"id":"mermaid","name":"Mermaid","keywords":["woman","female","merwoman","ariel"],"skins":[{"unified":"1f9dc-200d-2640-fe0f","native":""},{"unified":"1f9dc-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9dc-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9dc-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9dc-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9dc-1f3ff-200d-2640-fe0f","native":""}],"version":5},"elf":{"id":"elf","name":"Elf","keywords":["magical"],"skins":[{"unified":"1f9dd","native":""},{"unified":"1f9dd-1f3fb","native":""},{"unified":"1f9dd-1f3fc","native":""},{"unified":"1f9dd-1f3fd","native":""},{"unified":"1f9dd-1f3fe","native":""},{"unified":"1f9dd-1f3ff","native":""}],"version":5},"male_elf":{"id":"male_elf","name":"Man Elf","keywords":["male"],"skins":[{"unified":"1f9dd-200d-2642-fe0f","native":""},{"unified":"1f9dd-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9dd-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9dd-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9dd-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9dd-1f3ff-200d-2642-fe0f","native":""}],"version":5},"female_elf":{"id":"female_elf","name":"Woman Elf","keywords":["female"],"skins":[{"unified":"1f9dd-200d-2640-fe0f","native":""},{"unified":"1f9dd-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9dd-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9dd-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9dd-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9dd-1f3ff-200d-2640-fe0f","native":""}],"version":5},"genie":{"id":"genie","name":"Genie","keywords":["magical","wishes"],"skins":[{"unified":"1f9de","native":""}],"version":5},"male_genie":{"id":"male_genie","name":"Man Genie","keywords":["male"],"skins":[{"unified":"1f9de-200d-2642-fe0f","native":""}],"version":5},"female_genie":{"id":"female_genie","name":"Woman Genie","keywords":["female"],"skins":[{"unified":"1f9de-200d-2640-fe0f","native":""}],"version":5},"zombie":{"id":"zombie","name":"Zombie","keywords":["dead"],"skins":[{"unified":"1f9df","native":""}],"version":5},"male_zombie":{"id":"male_zombie","name":"Man Zombie","keywords":["male","dracula","undead","walking","dead"],"skins":[{"unified":"1f9df-200d-2642-fe0f","native":""}],"version":5},"female_zombie":{"id":"female_zombie","name":"Woman Zombie","keywords":["female","undead","walking","dead"],"skins":[{"unified":"1f9df-200d-2640-fe0f","native":""}],"version":5},"troll":{"id":"troll","name":"Troll","keywords":["mystical","monster"],"skins":[{"unified":"1f9cc","native":""}],"version":14},"massage":{"id":"massage","name":"Face Massage","keywords":["person","getting","relax"],"skins":[{"unified":"1f486","native":""},{"unified":"1f486-1f3fb","native":""},{"unified":"1f486-1f3fc","native":""},{"unified":"1f486-1f3fd","native":""},{"unified":"1f486-1f3fe","native":""},{"unified":"1f486-1f3ff","native":""}],"version":1},"man-getting-massage":{"id":"man-getting-massage","name":"Man Getting Massage","keywords":["getting-massage","male","boy","head"],"skins":[{"unified":"1f486-200d-2642-fe0f","native":""},{"unified":"1f486-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f486-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f486-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f486-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f486-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-getting-massage":{"id":"woman-getting-massage","name":"Woman Getting Massage","keywords":["getting-massage","female","girl","head"],"skins":[{"unified":"1f486-200d-2640-fe0f","native":""},{"unified":"1f486-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f486-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f486-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f486-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f486-1f3ff-200d-2640-fe0f","native":""}],"version":4},"haircut":{"id":"haircut","name":"Haircut","keywords":["person","getting","hairstyle"],"skins":[{"unified":"1f487","native":""},{"unified":"1f487-1f3fb","native":""},{"unified":"1f487-1f3fc","native":""},{"unified":"1f487-1f3fd","native":""},{"unified":"1f487-1f3fe","native":""},{"unified":"1f487-1f3ff","native":""}],"version":1},"man-getting-haircut":{"id":"man-getting-haircut","name":"Man Getting Haircut","keywords":["getting-haircut","male","boy"],"skins":[{"unified":"1f487-200d-2642-fe0f","native":""},{"unified":"1f487-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f487-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f487-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f487-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f487-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-getting-haircut":{"id":"woman-getting-haircut","name":"Woman Getting Haircut","keywords":["getting-haircut","female","girl"],"skins":[{"unified":"1f487-200d-2640-fe0f","native":""},{"unified":"1f487-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f487-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f487-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f487-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f487-1f3ff-200d-2640-fe0f","native":""}],"version":4},"walking":{"id":"walking","name":"Pedestrian","keywords":["walking","person","move"],"skins":[{"unified":"1f6b6","native":""},{"unified":"1f6b6-1f3fb","native":""},{"unified":"1f6b6-1f3fc","native":""},{"unified":"1f6b6-1f3fd","native":""},{"unified":"1f6b6-1f3fe","native":""},{"unified":"1f6b6-1f3ff","native":""}],"version":1},"man-walking":{"id":"man-walking","name":"Man Walking","keywords":["human","feet","steps"],"skins":[{"unified":"1f6b6-200d-2642-fe0f","native":""},{"unified":"1f6b6-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f6b6-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f6b6-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f6b6-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f6b6-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-walking":{"id":"woman-walking","name":"Woman Walking","keywords":["human","feet","steps","female"],"skins":[{"unified":"1f6b6-200d-2640-fe0f","native":""},{"unified":"1f6b6-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f6b6-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f6b6-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f6b6-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f6b6-1f3ff-200d-2640-fe0f","native":""}],"version":4},"standing_person":{"id":"standing_person","name":"Standing Person","keywords":["still"],"skins":[{"unified":"1f9cd","native":""},{"unified":"1f9cd-1f3fb","native":""},{"unified":"1f9cd-1f3fc","native":""},{"unified":"1f9cd-1f3fd","native":""},{"unified":"1f9cd-1f3fe","native":""},{"unified":"1f9cd-1f3ff","native":""}],"version":12},"man_standing":{"id":"man_standing","name":"Man Standing","keywords":["still"],"skins":[{"unified":"1f9cd-200d-2642-fe0f","native":""},{"unified":"1f9cd-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9cd-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9cd-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9cd-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9cd-1f3ff-200d-2642-fe0f","native":""}],"version":12},"woman_standing":{"id":"woman_standing","name":"Woman Standing","keywords":["still"],"skins":[{"unified":"1f9cd-200d-2640-fe0f","native":""},{"unified":"1f9cd-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9cd-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9cd-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9cd-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9cd-1f3ff-200d-2640-fe0f","native":""}],"version":12},"kneeling_person":{"id":"kneeling_person","name":"Kneeling Person","keywords":["pray","respectful"],"skins":[{"unified":"1f9ce","native":""},{"unified":"1f9ce-1f3fb","native":""},{"unified":"1f9ce-1f3fc","native":""},{"unified":"1f9ce-1f3fd","native":""},{"unified":"1f9ce-1f3fe","native":""},{"unified":"1f9ce-1f3ff","native":""}],"version":12},"man_kneeling":{"id":"man_kneeling","name":"Man Kneeling","keywords":["pray","respectful"],"skins":[{"unified":"1f9ce-200d-2642-fe0f","native":""},{"unified":"1f9ce-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9ce-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9ce-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9ce-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9ce-1f3ff-200d-2642-fe0f","native":""}],"version":12},"woman_kneeling":{"id":"woman_kneeling","name":"Woman Kneeling","keywords":["respectful","pray"],"skins":[{"unified":"1f9ce-200d-2640-fe0f","native":""},{"unified":"1f9ce-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9ce-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9ce-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9ce-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9ce-1f3ff-200d-2640-fe0f","native":""}],"version":12},"person_with_probing_cane":{"id":"person_with_probing_cane","name":"Person with White Cane","keywords":["probing","blind"],"skins":[{"unified":"1f9d1-200d-1f9af","native":""},{"unified":"1f9d1-1f3fb-200d-1f9af","native":""},{"unified":"1f9d1-1f3fc-200d-1f9af","native":""},{"unified":"1f9d1-1f3fd-200d-1f9af","native":""},{"unified":"1f9d1-1f3fe-200d-1f9af","native":""},{"unified":"1f9d1-1f3ff-200d-1f9af","native":""}],"version":12.1},"man_with_probing_cane":{"id":"man_with_probing_cane","name":"Man with White Cane","keywords":["probing","blind"],"skins":[{"unified":"1f468-200d-1f9af","native":""},{"unified":"1f468-1f3fb-200d-1f9af","native":""},{"unified":"1f468-1f3fc-200d-1f9af","native":""},{"unified":"1f468-1f3fd-200d-1f9af","native":""},{"unified":"1f468-1f3fe-200d-1f9af","native":""},{"unified":"1f468-1f3ff-200d-1f9af","native":""}],"version":12},"woman_with_probing_cane":{"id":"woman_with_probing_cane","name":"Woman with White Cane","keywords":["probing","blind"],"skins":[{"unified":"1f469-200d-1f9af","native":""},{"unified":"1f469-1f3fb-200d-1f9af","native":""},{"unified":"1f469-1f3fc-200d-1f9af","native":""},{"unified":"1f469-1f3fd-200d-1f9af","native":""},{"unified":"1f469-1f3fe-200d-1f9af","native":""},{"unified":"1f469-1f3ff-200d-1f9af","native":""}],"version":12},"person_in_motorized_wheelchair":{"id":"person_in_motorized_wheelchair","name":"Person in Motorized Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f9d1-200d-1f9bc","native":""},{"unified":"1f9d1-1f3fb-200d-1f9bc","native":""},{"unified":"1f9d1-1f3fc-200d-1f9bc","native":""},{"unified":"1f9d1-1f3fd-200d-1f9bc","native":""},{"unified":"1f9d1-1f3fe-200d-1f9bc","native":""},{"unified":"1f9d1-1f3ff-200d-1f9bc","native":""}],"version":12.1},"man_in_motorized_wheelchair":{"id":"man_in_motorized_wheelchair","name":"Man in Motorized Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f468-200d-1f9bc","native":""},{"unified":"1f468-1f3fb-200d-1f9bc","native":""},{"unified":"1f468-1f3fc-200d-1f9bc","native":""},{"unified":"1f468-1f3fd-200d-1f9bc","native":""},{"unified":"1f468-1f3fe-200d-1f9bc","native":""},{"unified":"1f468-1f3ff-200d-1f9bc","native":""}],"version":12},"woman_in_motorized_wheelchair":{"id":"woman_in_motorized_wheelchair","name":"Woman in Motorized Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f469-200d-1f9bc","native":""},{"unified":"1f469-1f3fb-200d-1f9bc","native":""},{"unified":"1f469-1f3fc-200d-1f9bc","native":""},{"unified":"1f469-1f3fd-200d-1f9bc","native":""},{"unified":"1f469-1f3fe-200d-1f9bc","native":""},{"unified":"1f469-1f3ff-200d-1f9bc","native":""}],"version":12},"person_in_manual_wheelchair":{"id":"person_in_manual_wheelchair","name":"Person in Manual Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f9d1-200d-1f9bd","native":""},{"unified":"1f9d1-1f3fb-200d-1f9bd","native":""},{"unified":"1f9d1-1f3fc-200d-1f9bd","native":""},{"unified":"1f9d1-1f3fd-200d-1f9bd","native":""},{"unified":"1f9d1-1f3fe-200d-1f9bd","native":""},{"unified":"1f9d1-1f3ff-200d-1f9bd","native":""}],"version":12.1},"man_in_manual_wheelchair":{"id":"man_in_manual_wheelchair","name":"Man in Manual Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f468-200d-1f9bd","native":""},{"unified":"1f468-1f3fb-200d-1f9bd","native":""},{"unified":"1f468-1f3fc-200d-1f9bd","native":""},{"unified":"1f468-1f3fd-200d-1f9bd","native":""},{"unified":"1f468-1f3fe-200d-1f9bd","native":""},{"unified":"1f468-1f3ff-200d-1f9bd","native":""}],"version":12},"woman_in_manual_wheelchair":{"id":"woman_in_manual_wheelchair","name":"Woman in Manual Wheelchair","keywords":["disability","accessibility"],"skins":[{"unified":"1f469-200d-1f9bd","native":""},{"unified":"1f469-1f3fb-200d-1f9bd","native":""},{"unified":"1f469-1f3fc-200d-1f9bd","native":""},{"unified":"1f469-1f3fd-200d-1f9bd","native":""},{"unified":"1f469-1f3fe-200d-1f9bd","native":""},{"unified":"1f469-1f3ff-200d-1f9bd","native":""}],"version":12},"runner":{"id":"runner","name":"Runner","keywords":["running","person","move"],"skins":[{"unified":"1f3c3","native":""},{"unified":"1f3c3-1f3fb","native":""},{"unified":"1f3c3-1f3fc","native":""},{"unified":"1f3c3-1f3fd","native":""},{"unified":"1f3c3-1f3fe","native":""},{"unified":"1f3c3-1f3ff","native":""}],"version":1},"man-running":{"id":"man-running","name":"Man Running","keywords":["walking","exercise","race"],"skins":[{"unified":"1f3c3-200d-2642-fe0f","native":""},{"unified":"1f3c3-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f3c3-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f3c3-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f3c3-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f3c3-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-running":{"id":"woman-running","name":"Woman Running","keywords":["walking","exercise","race","female"],"skins":[{"unified":"1f3c3-200d-2640-fe0f","native":""},{"unified":"1f3c3-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f3c3-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f3c3-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f3c3-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f3c3-1f3ff-200d-2640-fe0f","native":""}],"version":4},"dancer":{"id":"dancer","name":"Dancer","keywords":["woman","dancing","female","girl","fun"],"skins":[{"unified":"1f483","native":""},{"unified":"1f483-1f3fb","native":""},{"unified":"1f483-1f3fc","native":""},{"unified":"1f483-1f3fd","native":""},{"unified":"1f483-1f3fe","native":""},{"unified":"1f483-1f3ff","native":""}],"version":1},"man_dancing":{"id":"man_dancing","name":"Man Dancing","keywords":["male","boy","fun","dancer"],"skins":[{"unified":"1f57a","native":""},{"unified":"1f57a-1f3fb","native":""},{"unified":"1f57a-1f3fc","native":""},{"unified":"1f57a-1f3fd","native":""},{"unified":"1f57a-1f3fe","native":""},{"unified":"1f57a-1f3ff","native":""}],"version":3},"man_in_business_suit_levitating":{"id":"man_in_business_suit_levitating","name":"Person in Suit Levitating","keywords":["man","business","levitate","hover","jump"],"skins":[{"unified":"1f574-fe0f","native":""},{"unified":"1f574-1f3fb","native":""},{"unified":"1f574-1f3fc","native":""},{"unified":"1f574-1f3fd","native":""},{"unified":"1f574-1f3fe","native":""},{"unified":"1f574-1f3ff","native":""}],"version":1},"dancers":{"id":"dancers","name":"Woman with Bunny Ears","keywords":["dancers","people","perform","costume"],"skins":[{"unified":"1f46f","native":""}],"version":1},"men-with-bunny-ears-partying":{"id":"men-with-bunny-ears-partying","name":"Men with Bunny Ears","keywords":["with-bunny-ears-partying","man","male","boys"],"skins":[{"unified":"1f46f-200d-2642-fe0f","native":""}],"version":4},"women-with-bunny-ears-partying":{"id":"women-with-bunny-ears-partying","name":"Women with Bunny Ears","keywords":["with-bunny-ears-partying","woman","female","girls"],"skins":[{"unified":"1f46f-200d-2640-fe0f","native":""}],"version":4},"person_in_steamy_room":{"id":"person_in_steamy_room","name":"Person in Steamy Room","keywords":["relax","spa"],"skins":[{"unified":"1f9d6","native":""},{"unified":"1f9d6-1f3fb","native":""},{"unified":"1f9d6-1f3fc","native":""},{"unified":"1f9d6-1f3fd","native":""},{"unified":"1f9d6-1f3fe","native":""},{"unified":"1f9d6-1f3ff","native":""}],"version":5},"man_in_steamy_room":{"id":"man_in_steamy_room","name":"Man in Steamy Room","keywords":["male","spa","steamroom","sauna"],"skins":[{"unified":"1f9d6-200d-2642-fe0f","native":""},{"unified":"1f9d6-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9d6-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9d6-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9d6-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9d6-1f3ff-200d-2642-fe0f","native":""}],"version":5},"woman_in_steamy_room":{"id":"woman_in_steamy_room","name":"Woman in Steamy Room","keywords":["female","spa","steamroom","sauna"],"skins":[{"unified":"1f9d6-200d-2640-fe0f","native":""},{"unified":"1f9d6-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9d6-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9d6-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9d6-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9d6-1f3ff-200d-2640-fe0f","native":""}],"version":5},"person_climbing":{"id":"person_climbing","name":"Person Climbing","keywords":["sport"],"skins":[{"unified":"1f9d7","native":""},{"unified":"1f9d7-1f3fb","native":""},{"unified":"1f9d7-1f3fc","native":""},{"unified":"1f9d7-1f3fd","native":""},{"unified":"1f9d7-1f3fe","native":""},{"unified":"1f9d7-1f3ff","native":""}],"version":5},"man_climbing":{"id":"man_climbing","name":"Man Climbing","keywords":["sports","hobby","male","rock"],"skins":[{"unified":"1f9d7-200d-2642-fe0f","native":""},{"unified":"1f9d7-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9d7-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9d7-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9d7-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9d7-1f3ff-200d-2642-fe0f","native":""}],"version":5},"woman_climbing":{"id":"woman_climbing","name":"Woman Climbing","keywords":["sports","hobby","female","rock"],"skins":[{"unified":"1f9d7-200d-2640-fe0f","native":""},{"unified":"1f9d7-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9d7-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9d7-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9d7-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9d7-1f3ff-200d-2640-fe0f","native":""}],"version":5},"fencer":{"id":"fencer","name":"Fencer","keywords":["person","fencing","sports","sword"],"skins":[{"unified":"1f93a","native":""}],"version":3},"horse_racing":{"id":"horse_racing","name":"Horse Racing","keywords":["animal","betting","competition","gambling","luck"],"skins":[{"unified":"1f3c7","native":""},{"unified":"1f3c7-1f3fb","native":""},{"unified":"1f3c7-1f3fc","native":""},{"unified":"1f3c7-1f3fd","native":""},{"unified":"1f3c7-1f3fe","native":""},{"unified":"1f3c7-1f3ff","native":""}],"version":1},"skier":{"id":"skier","name":"Skier","keywords":["sports","winter","snow"],"skins":[{"unified":"26f7-fe0f","native":""}],"version":1},"snowboarder":{"id":"snowboarder","name":"Snowboarder","keywords":["sports","winter"],"skins":[{"unified":"1f3c2","native":""},{"unified":"1f3c2-1f3fb","native":""},{"unified":"1f3c2-1f3fc","native":""},{"unified":"1f3c2-1f3fd","native":""},{"unified":"1f3c2-1f3fe","native":""},{"unified":"1f3c2-1f3ff","native":""}],"version":1},"golfer":{"id":"golfer","name":"Person Golfing","keywords":["golfer","sports","business"],"skins":[{"unified":"1f3cc-fe0f","native":""},{"unified":"1f3cc-1f3fb","native":""},{"unified":"1f3cc-1f3fc","native":""},{"unified":"1f3cc-1f3fd","native":""},{"unified":"1f3cc-1f3fe","native":""},{"unified":"1f3cc-1f3ff","native":""}],"version":1},"man-golfing":{"id":"man-golfing","name":"Man Golfing","keywords":["sport"],"skins":[{"unified":"1f3cc-fe0f-200d-2642-fe0f","native":""},{"unified":"1f3cc-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f3cc-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f3cc-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f3cc-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f3cc-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-golfing":{"id":"woman-golfing","name":"Woman Golfing","keywords":["sports","business","female"],"skins":[{"unified":"1f3cc-fe0f-200d-2640-fe0f","native":""},{"unified":"1f3cc-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f3cc-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f3cc-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f3cc-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f3cc-1f3ff-200d-2640-fe0f","native":""}],"version":4},"surfer":{"id":"surfer","name":"Surfer","keywords":["person","surfing","sport","sea"],"skins":[{"unified":"1f3c4","native":""},{"unified":"1f3c4-1f3fb","native":""},{"unified":"1f3c4-1f3fc","native":""},{"unified":"1f3c4-1f3fd","native":""},{"unified":"1f3c4-1f3fe","native":""},{"unified":"1f3c4-1f3ff","native":""}],"version":1},"man-surfing":{"id":"man-surfing","name":"Man Surfing","keywords":["sports","ocean","sea","summer","beach"],"skins":[{"unified":"1f3c4-200d-2642-fe0f","native":""},{"unified":"1f3c4-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f3c4-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f3c4-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f3c4-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f3c4-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-surfing":{"id":"woman-surfing","name":"Woman Surfing","keywords":["sports","ocean","sea","summer","beach","female"],"skins":[{"unified":"1f3c4-200d-2640-fe0f","native":""},{"unified":"1f3c4-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f3c4-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f3c4-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f3c4-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f3c4-1f3ff-200d-2640-fe0f","native":""}],"version":4},"rowboat":{"id":"rowboat","name":"Rowboat","keywords":["person","rowing","boat","sport","move"],"skins":[{"unified":"1f6a3","native":""},{"unified":"1f6a3-1f3fb","native":""},{"unified":"1f6a3-1f3fc","native":""},{"unified":"1f6a3-1f3fd","native":""},{"unified":"1f6a3-1f3fe","native":""},{"unified":"1f6a3-1f3ff","native":""}],"version":1},"man-rowing-boat":{"id":"man-rowing-boat","name":"Man Rowing Boat","keywords":["rowing-boat","sports","hobby","water","ship"],"skins":[{"unified":"1f6a3-200d-2642-fe0f","native":""},{"unified":"1f6a3-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f6a3-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f6a3-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f6a3-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f6a3-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-rowing-boat":{"id":"woman-rowing-boat","name":"Woman Rowing Boat","keywords":["rowing-boat","sports","hobby","water","ship","female"],"skins":[{"unified":"1f6a3-200d-2640-fe0f","native":""},{"unified":"1f6a3-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f6a3-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f6a3-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f6a3-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f6a3-1f3ff-200d-2640-fe0f","native":""}],"version":4},"swimmer":{"id":"swimmer","name":"Swimmer","keywords":["person","swimming","sport","pool"],"skins":[{"unified":"1f3ca","native":""},{"unified":"1f3ca-1f3fb","native":""},{"unified":"1f3ca-1f3fc","native":""},{"unified":"1f3ca-1f3fd","native":""},{"unified":"1f3ca-1f3fe","native":""},{"unified":"1f3ca-1f3ff","native":""}],"version":1},"man-swimming":{"id":"man-swimming","name":"Man Swimming","keywords":["sports","exercise","human","athlete","water","summer"],"skins":[{"unified":"1f3ca-200d-2642-fe0f","native":""},{"unified":"1f3ca-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f3ca-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f3ca-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f3ca-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f3ca-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-swimming":{"id":"woman-swimming","name":"Woman Swimming","keywords":["sports","exercise","human","athlete","water","summer","female"],"skins":[{"unified":"1f3ca-200d-2640-fe0f","native":""},{"unified":"1f3ca-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f3ca-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f3ca-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f3ca-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f3ca-1f3ff-200d-2640-fe0f","native":""}],"version":4},"person_with_ball":{"id":"person_with_ball","name":"Person Bouncing Ball","keywords":["with","sports","human"],"skins":[{"unified":"26f9-fe0f","native":""},{"unified":"26f9-1f3fb","native":""},{"unified":"26f9-1f3fc","native":""},{"unified":"26f9-1f3fd","native":""},{"unified":"26f9-1f3fe","native":""},{"unified":"26f9-1f3ff","native":""}],"version":1},"man-bouncing-ball":{"id":"man-bouncing-ball","name":"Man Bouncing Ball","keywords":["bouncing-ball","sport"],"skins":[{"unified":"26f9-fe0f-200d-2642-fe0f","native":""},{"unified":"26f9-1f3fb-200d-2642-fe0f","native":""},{"unified":"26f9-1f3fc-200d-2642-fe0f","native":""},{"unified":"26f9-1f3fd-200d-2642-fe0f","native":""},{"unified":"26f9-1f3fe-200d-2642-fe0f","native":""},{"unified":"26f9-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-bouncing-ball":{"id":"woman-bouncing-ball","name":"Woman Bouncing Ball","keywords":["bouncing-ball","sports","human","female"],"skins":[{"unified":"26f9-fe0f-200d-2640-fe0f","native":""},{"unified":"26f9-1f3fb-200d-2640-fe0f","native":""},{"unified":"26f9-1f3fc-200d-2640-fe0f","native":""},{"unified":"26f9-1f3fd-200d-2640-fe0f","native":""},{"unified":"26f9-1f3fe-200d-2640-fe0f","native":""},{"unified":"26f9-1f3ff-200d-2640-fe0f","native":""}],"version":4},"weight_lifter":{"id":"weight_lifter","name":"Person Lifting Weights","keywords":["weight","lifter","sports","training","exercise"],"skins":[{"unified":"1f3cb-fe0f","native":""},{"unified":"1f3cb-1f3fb","native":""},{"unified":"1f3cb-1f3fc","native":""},{"unified":"1f3cb-1f3fd","native":""},{"unified":"1f3cb-1f3fe","native":""},{"unified":"1f3cb-1f3ff","native":""}],"version":1},"man-lifting-weights":{"id":"man-lifting-weights","name":"Man Lifting Weights","keywords":["lifting-weights","sport"],"skins":[{"unified":"1f3cb-fe0f-200d-2642-fe0f","native":""},{"unified":"1f3cb-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f3cb-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f3cb-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f3cb-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f3cb-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-lifting-weights":{"id":"woman-lifting-weights","name":"Woman Lifting Weights","keywords":["lifting-weights","sports","training","exercise","female"],"skins":[{"unified":"1f3cb-fe0f-200d-2640-fe0f","native":""},{"unified":"1f3cb-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f3cb-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f3cb-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f3cb-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f3cb-1f3ff-200d-2640-fe0f","native":""}],"version":4},"bicyclist":{"id":"bicyclist","name":"Bicyclist","keywords":["person","biking","sport","move"],"skins":[{"unified":"1f6b4","native":""},{"unified":"1f6b4-1f3fb","native":""},{"unified":"1f6b4-1f3fc","native":""},{"unified":"1f6b4-1f3fd","native":""},{"unified":"1f6b4-1f3fe","native":""},{"unified":"1f6b4-1f3ff","native":""}],"version":1},"man-biking":{"id":"man-biking","name":"Man Biking","keywords":["sports","bike","exercise","hipster"],"skins":[{"unified":"1f6b4-200d-2642-fe0f","native":""},{"unified":"1f6b4-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f6b4-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f6b4-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f6b4-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f6b4-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-biking":{"id":"woman-biking","name":"Woman Biking","keywords":["sports","bike","exercise","hipster","female"],"skins":[{"unified":"1f6b4-200d-2640-fe0f","native":""},{"unified":"1f6b4-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f6b4-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f6b4-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f6b4-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f6b4-1f3ff-200d-2640-fe0f","native":""}],"version":4},"mountain_bicyclist":{"id":"mountain_bicyclist","name":"Mountain Bicyclist","keywords":["person","biking","sport","move"],"skins":[{"unified":"1f6b5","native":""},{"unified":"1f6b5-1f3fb","native":""},{"unified":"1f6b5-1f3fc","native":""},{"unified":"1f6b5-1f3fd","native":""},{"unified":"1f6b5-1f3fe","native":""},{"unified":"1f6b5-1f3ff","native":""}],"version":1},"man-mountain-biking":{"id":"man-mountain-biking","name":"Man Mountain Biking","keywords":["mountain-biking","transportation","sports","human","race","bike"],"skins":[{"unified":"1f6b5-200d-2642-fe0f","native":""},{"unified":"1f6b5-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f6b5-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f6b5-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f6b5-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f6b5-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-mountain-biking":{"id":"woman-mountain-biking","name":"Woman Mountain Biking","keywords":["mountain-biking","transportation","sports","human","race","bike","female"],"skins":[{"unified":"1f6b5-200d-2640-fe0f","native":""},{"unified":"1f6b5-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f6b5-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f6b5-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f6b5-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f6b5-1f3ff-200d-2640-fe0f","native":""}],"version":4},"person_doing_cartwheel":{"id":"person_doing_cartwheel","name":"Person Cartwheeling","keywords":["doing","cartwheel","sport","gymnastic"],"skins":[{"unified":"1f938","native":""},{"unified":"1f938-1f3fb","native":""},{"unified":"1f938-1f3fc","native":""},{"unified":"1f938-1f3fd","native":""},{"unified":"1f938-1f3fe","native":""},{"unified":"1f938-1f3ff","native":""}],"version":3},"man-cartwheeling":{"id":"man-cartwheeling","name":"Man Cartwheeling","keywords":["gymnastics"],"skins":[{"unified":"1f938-200d-2642-fe0f","native":""},{"unified":"1f938-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f938-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f938-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f938-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f938-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-cartwheeling":{"id":"woman-cartwheeling","name":"Woman Cartwheeling","keywords":["gymnastics"],"skins":[{"unified":"1f938-200d-2640-fe0f","native":""},{"unified":"1f938-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f938-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f938-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f938-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f938-1f3ff-200d-2640-fe0f","native":""}],"version":4},"wrestlers":{"id":"wrestlers","name":"Wrestlers","keywords":["people","wrestling","sport"],"skins":[{"unified":"1f93c","native":""}],"version":3},"man-wrestling":{"id":"man-wrestling","name":"Men Wrestling","keywords":["man","sports","wrestlers"],"skins":[{"unified":"1f93c-200d-2642-fe0f","native":""}],"version":4},"woman-wrestling":{"id":"woman-wrestling","name":"Women Wrestling","keywords":["woman","sports","wrestlers"],"skins":[{"unified":"1f93c-200d-2640-fe0f","native":""}],"version":4},"water_polo":{"id":"water_polo","name":"Water Polo","keywords":["person","playing","sport"],"skins":[{"unified":"1f93d","native":""},{"unified":"1f93d-1f3fb","native":""},{"unified":"1f93d-1f3fc","native":""},{"unified":"1f93d-1f3fd","native":""},{"unified":"1f93d-1f3fe","native":""},{"unified":"1f93d-1f3ff","native":""}],"version":3},"man-playing-water-polo":{"id":"man-playing-water-polo","name":"Man Playing Water Polo","keywords":["playing-water-polo","sports","pool"],"skins":[{"unified":"1f93d-200d-2642-fe0f","native":""},{"unified":"1f93d-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f93d-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f93d-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f93d-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f93d-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-playing-water-polo":{"id":"woman-playing-water-polo","name":"Woman Playing Water Polo","keywords":["playing-water-polo","sports","pool"],"skins":[{"unified":"1f93d-200d-2640-fe0f","native":""},{"unified":"1f93d-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f93d-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f93d-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f93d-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f93d-1f3ff-200d-2640-fe0f","native":""}],"version":4},"handball":{"id":"handball","name":"Handball","keywords":["person","playing","sport"],"skins":[{"unified":"1f93e","native":""},{"unified":"1f93e-1f3fb","native":""},{"unified":"1f93e-1f3fc","native":""},{"unified":"1f93e-1f3fd","native":""},{"unified":"1f93e-1f3fe","native":""},{"unified":"1f93e-1f3ff","native":""}],"version":3},"man-playing-handball":{"id":"man-playing-handball","name":"Man Playing Handball","keywords":["playing-handball","sports"],"skins":[{"unified":"1f93e-200d-2642-fe0f","native":""},{"unified":"1f93e-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f93e-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f93e-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f93e-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f93e-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-playing-handball":{"id":"woman-playing-handball","name":"Woman Playing Handball","keywords":["playing-handball","sports"],"skins":[{"unified":"1f93e-200d-2640-fe0f","native":""},{"unified":"1f93e-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f93e-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f93e-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f93e-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f93e-1f3ff-200d-2640-fe0f","native":""}],"version":4},"juggling":{"id":"juggling","name":"Juggling","keywords":["person","performance","balance"],"skins":[{"unified":"1f939","native":""},{"unified":"1f939-1f3fb","native":""},{"unified":"1f939-1f3fc","native":""},{"unified":"1f939-1f3fd","native":""},{"unified":"1f939-1f3fe","native":""},{"unified":"1f939-1f3ff","native":""}],"version":3},"man-juggling":{"id":"man-juggling","name":"Man Juggling","keywords":["juggle","balance","skill","multitask"],"skins":[{"unified":"1f939-200d-2642-fe0f","native":""},{"unified":"1f939-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f939-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f939-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f939-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f939-1f3ff-200d-2642-fe0f","native":""}],"version":4},"woman-juggling":{"id":"woman-juggling","name":"Woman Juggling","keywords":["juggle","balance","skill","multitask"],"skins":[{"unified":"1f939-200d-2640-fe0f","native":""},{"unified":"1f939-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f939-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f939-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f939-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f939-1f3ff-200d-2640-fe0f","native":""}],"version":4},"person_in_lotus_position":{"id":"person_in_lotus_position","name":"Person in Lotus Position","keywords":["meditate"],"skins":[{"unified":"1f9d8","native":""},{"unified":"1f9d8-1f3fb","native":""},{"unified":"1f9d8-1f3fc","native":""},{"unified":"1f9d8-1f3fd","native":""},{"unified":"1f9d8-1f3fe","native":""},{"unified":"1f9d8-1f3ff","native":""}],"version":5},"man_in_lotus_position":{"id":"man_in_lotus_position","name":"Man in Lotus Position","keywords":["male","meditation","yoga","serenity","zen","mindfulness"],"skins":[{"unified":"1f9d8-200d-2642-fe0f","native":""},{"unified":"1f9d8-1f3fb-200d-2642-fe0f","native":""},{"unified":"1f9d8-1f3fc-200d-2642-fe0f","native":""},{"unified":"1f9d8-1f3fd-200d-2642-fe0f","native":""},{"unified":"1f9d8-1f3fe-200d-2642-fe0f","native":""},{"unified":"1f9d8-1f3ff-200d-2642-fe0f","native":""}],"version":5},"woman_in_lotus_position":{"id":"woman_in_lotus_position","name":"Woman in Lotus Position","keywords":["female","meditation","yoga","serenity","zen","mindfulness"],"skins":[{"unified":"1f9d8-200d-2640-fe0f","native":""},{"unified":"1f9d8-1f3fb-200d-2640-fe0f","native":""},{"unified":"1f9d8-1f3fc-200d-2640-fe0f","native":""},{"unified":"1f9d8-1f3fd-200d-2640-fe0f","native":""},{"unified":"1f9d8-1f3fe-200d-2640-fe0f","native":""},{"unified":"1f9d8-1f3ff-200d-2640-fe0f","native":""}],"version":5},"bath":{"id":"bath","name":"Bath","keywords":["person","taking","clean","shower","bathroom"],"skins":[{"unified":"1f6c0","native":""},{"unified":"1f6c0-1f3fb","native":""},{"unified":"1f6c0-1f3fc","native":""},{"unified":"1f6c0-1f3fd","native":""},{"unified":"1f6c0-1f3fe","native":""},{"unified":"1f6c0-1f3ff","native":""}],"version":1},"sleeping_accommodation":{"id":"sleeping_accommodation","name":"Person in Bed","keywords":["sleeping","accommodation","rest"],"skins":[{"unified":"1f6cc","native":""},{"unified":"1f6cc-1f3fb","native":""},{"unified":"1f6cc-1f3fc","native":""},{"unified":"1f6cc-1f3fd","native":""},{"unified":"1f6cc-1f3fe","native":""},{"unified":"1f6cc-1f3ff","native":""}],"version":1},"people_holding_hands":{"id":"people_holding_hands","name":"People Holding Hands","keywords":["friendship"],"skins":[{"unified":"1f9d1-200d-1f91d-200d-1f9d1","native":""},{"unified":"1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","native":""},{"unified":"1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","native":""},{"unified":"1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","native":""},{"unified":"1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","native":""},{"unified":"1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff","native":""}],"version":12},"two_women_holding_hands":{"id":"two_women_holding_hands","name":"Women Holding Hands","keywords":["two","pair","friendship","couple","love","like","female","people","human"],"skins":[{"unified":"1f46d","native":""},{"unified":"1f46d-1f3fb","native":""},{"unified":"1f46d-1f3fc","native":""},{"unified":"1f46d-1f3fd","native":""},{"unified":"1f46d-1f3fe","native":""},{"unified":"1f46d-1f3ff","native":""}],"version":1},"man_and_woman_holding_hands":{"id":"man_and_woman_holding_hands","name":"Man and Woman Holding Hands","keywords":["couple","pair","people","human","love","date","dating","like","affection","valentines","marriage"],"skins":[{"unified":"1f46b","native":""},{"unified":"1f46b-1f3fb","native":""},{"unified":"1f46b-1f3fc","native":""},{"unified":"1f46b-1f3fd","native":""},{"unified":"1f46b-1f3fe","native":""},{"unified":"1f46b-1f3ff","native":""}],"version":1},"two_men_holding_hands":{"id":"two_men_holding_hands","name":"Men Holding Hands","keywords":["two","pair","couple","love","like","bromance","friendship","people","human"],"skins":[{"unified":"1f46c","native":""},{"unified":"1f46c-1f3fb","native":""},{"unified":"1f46c-1f3fc","native":""},{"unified":"1f46c-1f3fd","native":""},{"unified":"1f46c-1f3fe","native":""},{"unified":"1f46c-1f3ff","native":""}],"version":1},"couplekiss":{"id":"couplekiss","name":"Kiss","keywords":["couplekiss","pair","valentines","love","like","dating","marriage"],"skins":[{"unified":"1f48f","native":""},{"unified":"1f48f-1f3fb","native":""},{"unified":"1f48f-1f3fc","native":""},{"unified":"1f48f-1f3fd","native":""},{"unified":"1f48f-1f3fe","native":""},{"unified":"1f48f-1f3ff","native":""}],"version":1},"woman-kiss-man":{"id":"woman-kiss-man","name":"Kiss: Woman, Man","keywords":["woman","kiss-man","kiss","love"],"skins":[{"unified":"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468","native":""},{"unified":"1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","native":""},{"unified":"1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","native":""},{"unified":"1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","native":""},{"unified":"1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","native":""},{"unified":"1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","native":""}],"version":2},"man-kiss-man":{"id":"man-kiss-man","name":"Kiss: Man, Man","keywords":["kiss-man","kiss","pair","valentines","love","like","dating","marriage"],"skins":[{"unified":"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468","native":""},{"unified":"1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","native":""},{"unified":"1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","native":""},{"unified":"1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","native":""},{"unified":"1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","native":""},{"unified":"1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","native":""}],"version":2},"woman-kiss-woman":{"id":"woman-kiss-woman","name":"Kiss: Woman, Woman","keywords":["kiss-woman","kiss","pair","valentines","love","like","dating","marriage"],"skins":[{"unified":"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469","native":""},{"unified":"1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","native":""},{"unified":"1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","native":""},{"unified":"1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","native":""},{"unified":"1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","native":""},{"unified":"1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","native":""}],"version":2},"couple_with_heart":{"id":"couple_with_heart","name":"Couple with Heart","keywords":["pair","love","like","affection","human","dating","valentines","marriage"],"skins":[{"unified":"1f491","native":""},{"unified":"1f491-1f3fb","native":""},{"unified":"1f491-1f3fc","native":""},{"unified":"1f491-1f3fd","native":""},{"unified":"1f491-1f3fe","native":""},{"unified":"1f491-1f3ff","native":""}],"version":1},"woman-heart-man":{"id":"woman-heart-man","name":"Couple with Heart: Woman, Man","keywords":["woman","heart-man","heart","love"],"skins":[{"unified":"1f469-200d-2764-fe0f-200d-1f468","native":""},{"unified":"1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","native":""},{"unified":"1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","native":""},{"unified":"1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","native":""},{"unified":"1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","native":""},{"unified":"1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff","native":""}],"version":2},"man-heart-man":{"id":"man-heart-man","name":"Couple with Heart: Man, Man","keywords":["heart-man","heart","pair","love","like","affection","human","dating","valentines","marriage"],"skins":[{"unified":"1f468-200d-2764-fe0f-200d-1f468","native":""},{"unified":"1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","native":""},{"unified":"1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","native":""},{"unified":"1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","native":""},{"unified":"1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","native":""},{"unified":"1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff","native":""}],"version":2},"woman-heart-woman":{"id":"woman-heart-woman","name":"Couple with Heart: Woman, Woman","keywords":["heart-woman","heart","pair","love","like","affection","human","dating","valentines","marriage"],"skins":[{"unified":"1f469-200d-2764-fe0f-200d-1f469","native":""},{"unified":"1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","native":""},{"unified":"1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","native":""},{"unified":"1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","native":""},{"unified":"1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","native":""},{"unified":"1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff","native":""}],"version":2},"family":{"id":"family","name":"Family","keywords":["home","parents","child","mom","dad","father","mother","people","human"],"skins":[{"unified":"1f46a","native":""}],"version":1},"man-woman-boy":{"id":"man-woman-boy","name":"Family: Man, Woman, Boy","keywords":["man","woman-boy","family","woman","love"],"skins":[{"unified":"1f468-200d-1f469-200d-1f466","native":""}],"version":2},"man-woman-girl":{"id":"man-woman-girl","name":"Family: Man, Woman, Girl","keywords":["man","woman-girl","family","woman","home","parents","people","human","child"],"skins":[{"unified":"1f468-200d-1f469-200d-1f467","native":""}],"version":2},"man-woman-girl-boy":{"id":"man-woman-girl-boy","name":"Family: Man, Woman, Girl, Boy","keywords":["man","woman-girl-boy","family","woman","girl","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f469-200d-1f467-200d-1f466","native":""}],"version":2},"man-woman-boy-boy":{"id":"man-woman-boy-boy","name":"Family: Man, Woman, Boy, Boy","keywords":["man","woman-boy-boy","family","woman","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f469-200d-1f466-200d-1f466","native":""}],"version":2},"man-woman-girl-girl":{"id":"man-woman-girl-girl","name":"Family: Man, Woman, Girl, Girl","keywords":["man","woman-girl-girl","family","woman","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f469-200d-1f467-200d-1f467","native":""}],"version":2},"man-man-boy":{"id":"man-man-boy","name":"Family: Man, Man, Boy","keywords":["man","man-boy","family","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f466","native":""}],"version":2},"man-man-girl":{"id":"man-man-girl","name":"Family: Man, Man, Girl","keywords":["man","man-girl","family","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f467","native":""}],"version":2},"man-man-girl-boy":{"id":"man-man-girl-boy","name":"Family: Man, Man, Girl, Boy","keywords":["man","man-girl-boy","family","girl","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f467-200d-1f466","native":""}],"version":2},"man-man-boy-boy":{"id":"man-man-boy-boy","name":"Family: Man, Man, Boy, Boy","keywords":["man","man-boy-boy","family","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f466-200d-1f466","native":""}],"version":2},"man-man-girl-girl":{"id":"man-man-girl-girl","name":"Family: Man, Man, Girl, Girl","keywords":["man","man-girl-girl","family","home","parents","people","human","children"],"skins":[{"unified":"1f468-200d-1f468-200d-1f467-200d-1f467","native":""}],"version":2},"woman-woman-boy":{"id":"woman-woman-boy","name":"Family: Woman, Woman, Boy","keywords":["woman","woman-boy","family","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f466","native":""}],"version":2},"woman-woman-girl":{"id":"woman-woman-girl","name":"Family: Woman, Woman, Girl","keywords":["woman","woman-girl","family","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f467","native":""}],"version":2},"woman-woman-girl-boy":{"id":"woman-woman-girl-boy","name":"Family: Woman, Woman, Girl, Boy","keywords":["woman","woman-girl-boy","family","girl","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f467-200d-1f466","native":""}],"version":2},"woman-woman-boy-boy":{"id":"woman-woman-boy-boy","name":"Family: Woman, Woman, Boy, Boy","keywords":["woman","woman-boy-boy","family","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f466-200d-1f466","native":""}],"version":2},"woman-woman-girl-girl":{"id":"woman-woman-girl-girl","name":"Family: Woman, Woman, Girl, Girl","keywords":["woman","woman-girl-girl","family","home","parents","people","human","children"],"skins":[{"unified":"1f469-200d-1f469-200d-1f467-200d-1f467","native":""}],"version":2},"man-boy":{"id":"man-boy","name":"Family: Man, Boy","keywords":["man","family","home","parent","people","human","child"],"skins":[{"unified":"1f468-200d-1f466","native":""}],"version":4},"man-boy-boy":{"id":"man-boy-boy","name":"Family: Man, Boy, Boy","keywords":["man","boy-boy","family","home","parent","people","human","children"],"skins":[{"unified":"1f468-200d-1f466-200d-1f466","native":""}],"version":4},"man-girl":{"id":"man-girl","name":"Family: Man, Girl","keywords":["man","family","home","parent","people","human","child"],"skins":[{"unified":"1f468-200d-1f467","native":""}],"version":4},"man-girl-boy":{"id":"man-girl-boy","name":"Family: Man, Girl, Boy","keywords":["man","girl-boy","family","girl","home","parent","people","human","children"],"skins":[{"unified":"1f468-200d-1f467-200d-1f466","native":""}],"version":4},"man-girl-girl":{"id":"man-girl-girl","name":"Family: Man, Girl, Girl","keywords":["man","girl-girl","family","home","parent","people","human","children"],"skins":[{"unified":"1f468-200d-1f467-200d-1f467","native":""}],"version":4},"woman-boy":{"id":"woman-boy","name":"Family: Woman, Boy","keywords":["woman","family","home","parent","people","human","child"],"skins":[{"unified":"1f469-200d-1f466","native":""}],"version":4},"woman-boy-boy":{"id":"woman-boy-boy","name":"Family: Woman, Boy, Boy","keywords":["woman","boy-boy","family","home","parent","people","human","children"],"skins":[{"unified":"1f469-200d-1f466-200d-1f466","native":""}],"version":4},"woman-girl":{"id":"woman-girl","name":"Family: Woman, Girl","keywords":["woman","family","home","parent","people","human","child"],"skins":[{"unified":"1f469-200d-1f467","native":""}],"version":4},"woman-girl-boy":{"id":"woman-girl-boy","name":"Family: Woman, Girl, Boy","keywords":["woman","girl-boy","family","girl","home","parent","people","human","children"],"skins":[{"unified":"1f469-200d-1f467-200d-1f466","native":""}],"version":4},"woman-girl-girl":{"id":"woman-girl-girl","name":"Family: Woman, Girl, Girl","keywords":["woman","girl-girl","family","home","parent","people","human","children"],"skins":[{"unified":"1f469-200d-1f467-200d-1f467","native":""}],"version":4},"speaking_head_in_silhouette":{"id":"speaking_head_in_silhouette","name":"Speaking Head","keywords":["in","silhouette","user","person","human","sing","say","talk"],"skins":[{"unified":"1f5e3-fe0f","native":""}],"version":1},"bust_in_silhouette":{"id":"bust_in_silhouette","name":"Bust in Silhouette","keywords":["user","person","human"],"skins":[{"unified":"1f464","native":""}],"version":1},"busts_in_silhouette":{"id":"busts_in_silhouette","name":"Busts in Silhouette","keywords":["user","person","human","group","team"],"skins":[{"unified":"1f465","native":""}],"version":1},"people_hugging":{"id":"people_hugging","name":"People Hugging","keywords":["care"],"skins":[{"unified":"1fac2","native":""}],"version":13},"footprints":{"id":"footprints","name":"Footprints","keywords":["feet","tracking","walking","beach"],"skins":[{"unified":"1f463","native":""}],"version":1},"monkey_face":{"id":"monkey_face","name":"Monkey Face","emoticons":[":o)"],"keywords":["animal","nature","circus"],"skins":[{"unified":"1f435","native":""}],"version":1},"monkey":{"id":"monkey","name":"Monkey","keywords":["animal","nature","banana","circus"],"skins":[{"unified":"1f412","native":""}],"version":1},"gorilla":{"id":"gorilla","name":"Gorilla","keywords":["animal","nature","circus"],"skins":[{"unified":"1f98d","native":""}],"version":3},"orangutan":{"id":"orangutan","name":"Orangutan","keywords":["animal"],"skins":[{"unified":"1f9a7","native":""}],"version":12},"dog":{"id":"dog","name":"Dog Face","keywords":["animal","friend","nature","woof","puppy","pet","faithful"],"skins":[{"unified":"1f436","native":""}],"version":1},"dog2":{"id":"dog2","name":"Dog","keywords":["dog2","animal","nature","friend","doge","pet","faithful"],"skins":[{"unified":"1f415","native":""}],"version":1},"guide_dog":{"id":"guide_dog","name":"Guide Dog","keywords":["animal","blind"],"skins":[{"unified":"1f9ae","native":""}],"version":12},"service_dog":{"id":"service_dog","name":"Service Dog","keywords":["blind","animal"],"skins":[{"unified":"1f415-200d-1f9ba","native":""}],"version":12},"poodle":{"id":"poodle","name":"Poodle","keywords":["dog","animal","101","nature","pet"],"skins":[{"unified":"1f429","native":""}],"version":1},"wolf":{"id":"wolf","name":"Wolf","keywords":["animal","nature","wild"],"skins":[{"unified":"1f43a","native":""}],"version":1},"fox_face":{"id":"fox_face","name":"Fox","keywords":["face","animal","nature"],"skins":[{"unified":"1f98a","native":""}],"version":3},"raccoon":{"id":"raccoon","name":"Raccoon","keywords":["animal","nature"],"skins":[{"unified":"1f99d","native":""}],"version":11},"cat":{"id":"cat","name":"Cat Face","keywords":["animal","meow","nature","pet","kitten"],"skins":[{"unified":"1f431","native":""}],"version":1},"cat2":{"id":"cat2","name":"Cat","keywords":["cat2","animal","meow","pet","cats"],"skins":[{"unified":"1f408","native":""}],"version":1},"black_cat":{"id":"black_cat","name":"Black Cat","keywords":["superstition","luck"],"skins":[{"unified":"1f408-200d-2b1b","native":""}],"version":13},"lion_face":{"id":"lion_face","name":"Lion","keywords":["face","animal","nature"],"skins":[{"unified":"1f981","native":""}],"version":1},"tiger":{"id":"tiger","name":"Tiger Face","keywords":["animal","cat","danger","wild","nature","roar"],"skins":[{"unified":"1f42f","native":""}],"version":1},"tiger2":{"id":"tiger2","name":"Tiger","keywords":["tiger2","animal","nature","roar"],"skins":[{"unified":"1f405","native":""}],"version":1},"leopard":{"id":"leopard","name":"Leopard","keywords":["animal","nature"],"skins":[{"unified":"1f406","native":""}],"version":1},"horse":{"id":"horse","name":"Horse Face","keywords":["animal","brown","nature"],"skins":[{"unified":"1f434","native":""}],"version":1},"moose":{"id":"moose","name":"Moose","keywords":["shrek","canada","sweden","sven","cool"],"skins":[{"unified":"1face","native":""}],"version":15},"donkey":{"id":"donkey","name":"Donkey","keywords":["eeyore","mule"],"skins":[{"unified":"1facf","native":""}],"version":15},"racehorse":{"id":"racehorse","name":"Horse","keywords":["racehorse","animal","gamble","luck"],"skins":[{"unified":"1f40e","native":""}],"version":1},"unicorn_face":{"id":"unicorn_face","name":"Unicorn","keywords":["face","animal","nature","mystical"],"skins":[{"unified":"1f984","native":""}],"version":1},"zebra_face":{"id":"zebra_face","name":"Zebra","keywords":["face","animal","nature","stripes","safari"],"skins":[{"unified":"1f993","native":""}],"version":5},"deer":{"id":"deer","name":"Deer","keywords":["animal","nature","horns","venison"],"skins":[{"unified":"1f98c","native":""}],"version":3},"bison":{"id":"bison","name":"Bison","keywords":["ox"],"skins":[{"unified":"1f9ac","native":""}],"version":13},"cow":{"id":"cow","name":"Cow Face","keywords":["beef","ox","animal","nature","moo","milk"],"skins":[{"unified":"1f42e","native":""}],"version":1},"ox":{"id":"ox","name":"Ox","keywords":["animal","cow","beef"],"skins":[{"unified":"1f402","native":""}],"version":1},"water_buffalo":{"id":"water_buffalo","name":"Water Buffalo","keywords":["animal","nature","ox","cow"],"skins":[{"unified":"1f403","native":""}],"version":1},"cow2":{"id":"cow2","name":"Cow","keywords":["cow2","beef","ox","animal","nature","moo","milk"],"skins":[{"unified":"1f404","native":""}],"version":1},"pig":{"id":"pig","name":"Pig Face","keywords":["animal","oink","nature"],"skins":[{"unified":"1f437","native":""}],"version":1},"pig2":{"id":"pig2","name":"Pig","keywords":["pig2","animal","nature"],"skins":[{"unified":"1f416","native":""}],"version":1},"boar":{"id":"boar","name":"Boar","keywords":["animal","nature"],"skins":[{"unified":"1f417","native":""}],"version":1},"pig_nose":{"id":"pig_nose","name":"Pig Nose","keywords":["animal","oink"],"skins":[{"unified":"1f43d","native":""}],"version":1},"ram":{"id":"ram","name":"Ram","keywords":["animal","sheep","nature"],"skins":[{"unified":"1f40f","native":""}],"version":1},"sheep":{"id":"sheep","name":"Ewe","keywords":["sheep","animal","nature","wool","shipit"],"skins":[{"unified":"1f411","native":""}],"version":1},"goat":{"id":"goat","name":"Goat","keywords":["animal","nature"],"skins":[{"unified":"1f410","native":""}],"version":1},"dromedary_camel":{"id":"dromedary_camel","name":"Camel","keywords":["dromedary","animal","hot","desert","hump"],"skins":[{"unified":"1f42a","native":""}],"version":1},"camel":{"id":"camel","name":"Bactrian Camel","keywords":["two","hump","animal","nature","hot","desert"],"skins":[{"unified":"1f42b","native":""}],"version":1},"llama":{"id":"llama","name":"Llama","keywords":["animal","nature","alpaca"],"skins":[{"unified":"1f999","native":""}],"version":11},"giraffe_face":{"id":"giraffe_face","name":"Giraffe","keywords":["face","animal","nature","spots","safari"],"skins":[{"unified":"1f992","native":""}],"version":5},"elephant":{"id":"elephant","name":"Elephant","keywords":["animal","nature","nose","th","circus"],"skins":[{"unified":"1f418","native":""}],"version":1},"mammoth":{"id":"mammoth","name":"Mammoth","keywords":["elephant","tusks"],"skins":[{"unified":"1f9a3","native":""}],"version":13},"rhinoceros":{"id":"rhinoceros","name":"Rhinoceros","keywords":["animal","nature","horn"],"skins":[{"unified":"1f98f","native":""}],"version":3},"hippopotamus":{"id":"hippopotamus","name":"Hippopotamus","keywords":["animal","nature"],"skins":[{"unified":"1f99b","native":""}],"version":11},"mouse":{"id":"mouse","name":"Mouse Face","keywords":["animal","nature","cheese","wedge","rodent"],"skins":[{"unified":"1f42d","native":""}],"version":1},"mouse2":{"id":"mouse2","name":"Mouse","keywords":["mouse2","animal","nature","rodent"],"skins":[{"unified":"1f401","native":""}],"version":1},"rat":{"id":"rat","name":"Rat","keywords":["animal","mouse","rodent"],"skins":[{"unified":"1f400","native":""}],"version":1},"hamster":{"id":"hamster","name":"Hamster","keywords":["animal","nature"],"skins":[{"unified":"1f439","native":""}],"version":1},"rabbit":{"id":"rabbit","name":"Rabbit Face","keywords":["animal","nature","pet","spring","magic","bunny"],"skins":[{"unified":"1f430","native":""}],"version":1},"rabbit2":{"id":"rabbit2","name":"Rabbit","keywords":["rabbit2","animal","nature","pet","magic","spring"],"skins":[{"unified":"1f407","native":""}],"version":1},"chipmunk":{"id":"chipmunk","name":"Chipmunk","keywords":["animal","nature","rodent","squirrel"],"skins":[{"unified":"1f43f-fe0f","native":""}],"version":1},"beaver":{"id":"beaver","name":"Beaver","keywords":["animal","rodent"],"skins":[{"unified":"1f9ab","native":""}],"version":13},"hedgehog":{"id":"hedgehog","name":"Hedgehog","keywords":["animal","nature","spiny"],"skins":[{"unified":"1f994","native":""}],"version":5},"bat":{"id":"bat","name":"Bat","keywords":["animal","nature","blind","vampire"],"skins":[{"unified":"1f987","native":""}],"version":3},"bear":{"id":"bear","name":"Bear","keywords":["animal","nature","wild"],"skins":[{"unified":"1f43b","native":""}],"version":1},"polar_bear":{"id":"polar_bear","name":"Polar Bear","keywords":["animal","arctic"],"skins":[{"unified":"1f43b-200d-2744-fe0f","native":""}],"version":13},"koala":{"id":"koala","name":"Koala","keywords":["animal","nature"],"skins":[{"unified":"1f428","native":""}],"version":1},"panda_face":{"id":"panda_face","name":"Panda","keywords":["face","animal","nature"],"skins":[{"unified":"1f43c","native":""}],"version":1},"sloth":{"id":"sloth","name":"Sloth","keywords":["animal"],"skins":[{"unified":"1f9a5","native":""}],"version":12},"otter":{"id":"otter","name":"Otter","keywords":["animal"],"skins":[{"unified":"1f9a6","native":""}],"version":12},"skunk":{"id":"skunk","name":"Skunk","keywords":["animal"],"skins":[{"unified":"1f9a8","native":""}],"version":12},"kangaroo":{"id":"kangaroo","name":"Kangaroo","keywords":["animal","nature","australia","joey","hop","marsupial"],"skins":[{"unified":"1f998","native":""}],"version":11},"badger":{"id":"badger","name":"Badger","keywords":["animal","nature","honey"],"skins":[{"unified":"1f9a1","native":""}],"version":11},"feet":{"id":"feet","name":"Paw Prints","keywords":["feet","animal","tracking","footprints","dog","cat","pet"],"skins":[{"unified":"1f43e","native":""}],"version":1},"turkey":{"id":"turkey","name":"Turkey","keywords":["animal","bird"],"skins":[{"unified":"1f983","native":""}],"version":1},"chicken":{"id":"chicken","name":"Chicken","keywords":["animal","cluck","nature","bird"],"skins":[{"unified":"1f414","native":""}],"version":1},"rooster":{"id":"rooster","name":"Rooster","keywords":["animal","nature","chicken"],"skins":[{"unified":"1f413","native":""}],"version":1},"hatching_chick":{"id":"hatching_chick","name":"Hatching Chick","keywords":["animal","chicken","egg","born","baby","bird"],"skins":[{"unified":"1f423","native":""}],"version":1},"baby_chick":{"id":"baby_chick","name":"Baby Chick","keywords":["animal","chicken","bird"],"skins":[{"unified":"1f424","native":""}],"version":1},"hatched_chick":{"id":"hatched_chick","name":"Front-Facing Baby Chick","keywords":["hatched","front","facing","animal","chicken","bird"],"skins":[{"unified":"1f425","native":""}],"version":1},"bird":{"id":"bird","name":"Bird","keywords":["animal","nature","fly","tweet","spring"],"skins":[{"unified":"1f426","native":""}],"version":1},"penguin":{"id":"penguin","name":"Penguin","keywords":["animal","nature"],"skins":[{"unified":"1f427","native":""}],"version":1},"dove_of_peace":{"id":"dove_of_peace","name":"Dove","keywords":["of","peace","animal","bird"],"skins":[{"unified":"1f54a-fe0f","native":""}],"version":1},"eagle":{"id":"eagle","name":"Eagle","keywords":["animal","nature","bird"],"skins":[{"unified":"1f985","native":""}],"version":3},"duck":{"id":"duck","name":"Duck","keywords":["animal","nature","bird","mallard"],"skins":[{"unified":"1f986","native":""}],"version":3},"swan":{"id":"swan","name":"Swan","keywords":["animal","nature","bird"],"skins":[{"unified":"1f9a2","native":""}],"version":11},"owl":{"id":"owl","name":"Owl","keywords":["animal","nature","bird","hoot"],"skins":[{"unified":"1f989","native":""}],"version":3},"dodo":{"id":"dodo","name":"Dodo","keywords":["animal","bird"],"skins":[{"unified":"1f9a4","native":""}],"version":13},"feather":{"id":"feather","name":"Feather","keywords":["bird","fly"],"skins":[{"unified":"1fab6","native":""}],"version":13},"flamingo":{"id":"flamingo","name":"Flamingo","keywords":["animal"],"skins":[{"unified":"1f9a9","native":""}],"version":12},"peacock":{"id":"peacock","name":"Peacock","keywords":["animal","nature","peahen","bird"],"skins":[{"unified":"1f99a","native":""}],"version":11},"parrot":{"id":"parrot","name":"Parrot","keywords":["animal","nature","bird","pirate","talk"],"skins":[{"unified":"1f99c","native":""}],"version":11},"wing":{"id":"wing","name":"Wing","keywords":["angel","birds","flying"],"skins":[{"unified":"1fabd","native":""}],"version":15},"black_bird":{"id":"black_bird","name":"Black Bird","keywords":["crow"],"skins":[{"unified":"1f426-200d-2b1b","native":""}],"version":15},"goose":{"id":"goose","name":"Goose","keywords":["silly","jemima","goosebumps"],"skins":[{"unified":"1fabf","native":""}],"version":15},"frog":{"id":"frog","name":"Frog","keywords":["animal","nature","croak","toad"],"skins":[{"unified":"1f438","native":""}],"version":1},"crocodile":{"id":"crocodile","name":"Crocodile","keywords":["animal","nature","reptile","lizard","alligator"],"skins":[{"unified":"1f40a","native":""}],"version":1},"turtle":{"id":"turtle","name":"Turtle","keywords":["animal","slow","nature","tortoise"],"skins":[{"unified":"1f422","native":""}],"version":1},"lizard":{"id":"lizard","name":"Lizard","keywords":["animal","nature","reptile"],"skins":[{"unified":"1f98e","native":""}],"version":3},"snake":{"id":"snake","name":"Snake","keywords":["animal","evil","nature","hiss","python"],"skins":[{"unified":"1f40d","native":""}],"version":1},"dragon_face":{"id":"dragon_face","name":"Dragon Face","keywords":["animal","myth","nature","chinese","green"],"skins":[{"unified":"1f432","native":""}],"version":1},"dragon":{"id":"dragon","name":"Dragon","keywords":["animal","myth","nature","chinese","green"],"skins":[{"unified":"1f409","native":""}],"version":1},"sauropod":{"id":"sauropod","name":"Sauropod","keywords":["animal","nature","dinosaur","brachiosaurus","brontosaurus","diplodocus","extinct"],"skins":[{"unified":"1f995","native":""}],"version":5},"t-rex":{"id":"t-rex","name":"T-Rex","keywords":["t","rex","animal","nature","dinosaur","tyrannosaurus","extinct"],"skins":[{"unified":"1f996","native":""}],"version":5},"whale":{"id":"whale","name":"Spouting Whale","keywords":["animal","nature","sea","ocean"],"skins":[{"unified":"1f433","native":""}],"version":1},"whale2":{"id":"whale2","name":"Whale","keywords":["whale2","animal","nature","sea","ocean"],"skins":[{"unified":"1f40b","native":""}],"version":1},"dolphin":{"id":"dolphin","name":"Dolphin","keywords":["flipper","animal","nature","fish","sea","ocean","fins","beach"],"skins":[{"unified":"1f42c","native":""}],"version":1},"seal":{"id":"seal","name":"Seal","keywords":["animal","creature","sea"],"skins":[{"unified":"1f9ad","native":""}],"version":13},"fish":{"id":"fish","name":"Fish","keywords":["animal","food","nature"],"skins":[{"unified":"1f41f","native":""}],"version":1},"tropical_fish":{"id":"tropical_fish","name":"Tropical Fish","keywords":["animal","swim","ocean","beach","nemo"],"skins":[{"unified":"1f420","native":""}],"version":1},"blowfish":{"id":"blowfish","name":"Blowfish","keywords":["animal","nature","food","sea","ocean"],"skins":[{"unified":"1f421","native":""}],"version":1},"shark":{"id":"shark","name":"Shark","keywords":["animal","nature","fish","sea","ocean","jaws","fins","beach"],"skins":[{"unified":"1f988","native":""}],"version":3},"octopus":{"id":"octopus","name":"Octopus","keywords":["animal","creature","ocean","sea","nature","beach"],"skins":[{"unified":"1f419","native":""}],"version":1},"shell":{"id":"shell","name":"Spiral Shell","keywords":["nature","sea","beach"],"skins":[{"unified":"1f41a","native":""}],"version":1},"coral":{"id":"coral","name":"Coral","keywords":["ocean","sea","reef"],"skins":[{"unified":"1fab8","native":""}],"version":14},"jellyfish":{"id":"jellyfish","name":"Jellyfish","keywords":["sting","tentacles"],"skins":[{"unified":"1fabc","native":""}],"version":15},"snail":{"id":"snail","name":"Snail","keywords":["slow","animal","shell"],"skins":[{"unified":"1f40c","native":""}],"version":1},"butterfly":{"id":"butterfly","name":"Butterfly","keywords":["animal","insect","nature","caterpillar"],"skins":[{"unified":"1f98b","native":""}],"version":3},"bug":{"id":"bug","name":"Bug","keywords":["animal","insect","nature","worm"],"skins":[{"unified":"1f41b","native":""}],"version":1},"ant":{"id":"ant","name":"Ant","keywords":["animal","insect","nature","bug"],"skins":[{"unified":"1f41c","native":""}],"version":1},"bee":{"id":"bee","name":"Honeybee","keywords":["bee","animal","insect","nature","bug","spring","honey"],"skins":[{"unified":"1f41d","native":""}],"version":1},"beetle":{"id":"beetle","name":"Beetle","keywords":["insect"],"skins":[{"unified":"1fab2","native":""}],"version":13},"ladybug":{"id":"ladybug","name":"Lady Beetle","keywords":["ladybug","animal","insect","nature"],"skins":[{"unified":"1f41e","native":""}],"version":1},"cricket":{"id":"cricket","name":"Cricket","keywords":["animal","chirp"],"skins":[{"unified":"1f997","native":""}],"version":5},"cockroach":{"id":"cockroach","name":"Cockroach","keywords":["insect","pests"],"skins":[{"unified":"1fab3","native":""}],"version":13},"spider":{"id":"spider","name":"Spider","keywords":["animal","arachnid"],"skins":[{"unified":"1f577-fe0f","native":""}],"version":1},"spider_web":{"id":"spider_web","name":"Spider Web","keywords":["animal","insect","arachnid","silk"],"skins":[{"unified":"1f578-fe0f","native":""}],"version":1},"scorpion":{"id":"scorpion","name":"Scorpion","keywords":["animal","arachnid"],"skins":[{"unified":"1f982","native":""}],"version":1},"mosquito":{"id":"mosquito","name":"Mosquito","keywords":["animal","nature","insect","malaria"],"skins":[{"unified":"1f99f","native":""}],"version":11},"fly":{"id":"fly","name":"Fly","keywords":["insect"],"skins":[{"unified":"1fab0","native":""}],"version":13},"worm":{"id":"worm","name":"Worm","keywords":["animal"],"skins":[{"unified":"1fab1","native":""}],"version":13},"microbe":{"id":"microbe","name":"Microbe","keywords":["amoeba","bacteria","germs","virus","covid"],"skins":[{"unified":"1f9a0","native":""}],"version":11},"bouquet":{"id":"bouquet","name":"Bouquet","keywords":["flowers","nature","spring"],"skins":[{"unified":"1f490","native":""}],"version":1},"cherry_blossom":{"id":"cherry_blossom","name":"Cherry Blossom","keywords":["nature","plant","spring","flower"],"skins":[{"unified":"1f338","native":""}],"version":1},"white_flower":{"id":"white_flower","name":"White Flower","keywords":["japanese","spring"],"skins":[{"unified":"1f4ae","native":""}],"version":1},"lotus":{"id":"lotus","name":"Lotus","keywords":["flower","calm","meditation"],"skins":[{"unified":"1fab7","native":""}],"version":14},"rosette":{"id":"rosette","name":"Rosette","keywords":["flower","decoration","military"],"skins":[{"unified":"1f3f5-fe0f","native":""}],"version":1},"rose":{"id":"rose","name":"Rose","keywords":["flowers","valentines","love","spring"],"skins":[{"unified":"1f339","native":""}],"version":1},"wilted_flower":{"id":"wilted_flower","name":"Wilted Flower","keywords":["plant","nature","rose"],"skins":[{"unified":"1f940","native":""}],"version":3},"hibiscus":{"id":"hibiscus","name":"Hibiscus","keywords":["plant","vegetable","flowers","beach"],"skins":[{"unified":"1f33a","native":""}],"version":1},"sunflower":{"id":"sunflower","name":"Sunflower","keywords":["nature","plant","fall"],"skins":[{"unified":"1f33b","native":""}],"version":1},"blossom":{"id":"blossom","name":"Blossom","keywords":["nature","flowers","yellow"],"skins":[{"unified":"1f33c","native":""}],"version":1},"tulip":{"id":"tulip","name":"Tulip","keywords":["flowers","plant","nature","summer","spring"],"skins":[{"unified":"1f337","native":""}],"version":1},"hyacinth":{"id":"hyacinth","name":"Hyacinth","keywords":["flower","lavender"],"skins":[{"unified":"1fabb","native":""}],"version":15},"seedling":{"id":"seedling","name":"Seedling","keywords":["plant","nature","grass","lawn","spring"],"skins":[{"unified":"1f331","native":""}],"version":1},"potted_plant":{"id":"potted_plant","name":"Potted Plant","keywords":["greenery","house"],"skins":[{"unified":"1fab4","native":""}],"version":13},"evergreen_tree":{"id":"evergreen_tree","name":"Evergreen Tree","keywords":["plant","nature"],"skins":[{"unified":"1f332","native":""}],"version":1},"deciduous_tree":{"id":"deciduous_tree","name":"Deciduous Tree","keywords":["plant","nature"],"skins":[{"unified":"1f333","native":""}],"version":1},"palm_tree":{"id":"palm_tree","name":"Palm Tree","keywords":["plant","vegetable","nature","summer","beach","mojito","tropical"],"skins":[{"unified":"1f334","native":""}],"version":1},"cactus":{"id":"cactus","name":"Cactus","keywords":["vegetable","plant","nature"],"skins":[{"unified":"1f335","native":""}],"version":1},"ear_of_rice":{"id":"ear_of_rice","name":"Ear of Rice","keywords":["sheaf","nature","plant"],"skins":[{"unified":"1f33e","native":""}],"version":1},"herb":{"id":"herb","name":"Herb","keywords":["vegetable","plant","medicine","weed","grass","lawn"],"skins":[{"unified":"1f33f","native":""}],"version":1},"shamrock":{"id":"shamrock","name":"Shamrock","keywords":["vegetable","plant","nature","irish","clover"],"skins":[{"unified":"2618-fe0f","native":""}],"version":1},"four_leaf_clover":{"id":"four_leaf_clover","name":"Four Leaf Clover","keywords":["vegetable","plant","nature","lucky","irish"],"skins":[{"unified":"1f340","native":""}],"version":1},"maple_leaf":{"id":"maple_leaf","name":"Maple Leaf","keywords":["nature","plant","vegetable","ca","fall"],"skins":[{"unified":"1f341","native":""}],"version":1},"fallen_leaf":{"id":"fallen_leaf","name":"Fallen Leaf","keywords":["nature","plant","vegetable","leaves"],"skins":[{"unified":"1f342","native":""}],"version":1},"leaves":{"id":"leaves","name":"Leaf Fluttering in Wind","keywords":["leaves","nature","plant","tree","vegetable","grass","lawn","spring"],"skins":[{"unified":"1f343","native":""}],"version":1},"empty_nest":{"id":"empty_nest","name":"Empty Nest","keywords":["bird"],"skins":[{"unified":"1fab9","native":""}],"version":14},"nest_with_eggs":{"id":"nest_with_eggs","name":"Nest with Eggs","keywords":["bird"],"skins":[{"unified":"1faba","native":""}],"version":14},"mushroom":{"id":"mushroom","name":"Mushroom","keywords":["plant","vegetable"],"skins":[{"unified":"1f344","native":""}],"version":1},"grapes":{"id":"grapes","name":"Grapes","keywords":["fruit","food","wine"],"skins":[{"unified":"1f347","native":""}],"version":1},"melon":{"id":"melon","name":"Melon","keywords":["fruit","nature","food"],"skins":[{"unified":"1f348","native":""}],"version":1},"watermelon":{"id":"watermelon","name":"Watermelon","keywords":["fruit","food","picnic","summer"],"skins":[{"unified":"1f349","native":""}],"version":1},"tangerine":{"id":"tangerine","name":"Tangerine","keywords":["food","fruit","nature","orange"],"skins":[{"unified":"1f34a","native":""}],"version":1},"lemon":{"id":"lemon","name":"Lemon","keywords":["fruit","nature"],"skins":[{"unified":"1f34b","native":""}],"version":1},"banana":{"id":"banana","name":"Banana","keywords":["fruit","food","monkey"],"skins":[{"unified":"1f34c","native":""}],"version":1},"pineapple":{"id":"pineapple","name":"Pineapple","keywords":["fruit","nature","food"],"skins":[{"unified":"1f34d","native":""}],"version":1},"mango":{"id":"mango","name":"Mango","keywords":["fruit","food","tropical"],"skins":[{"unified":"1f96d","native":""}],"version":11},"apple":{"id":"apple","name":"Red Apple","keywords":["fruit","mac","school"],"skins":[{"unified":"1f34e","native":""}],"version":1},"green_apple":{"id":"green_apple","name":"Green Apple","keywords":["fruit","nature"],"skins":[{"unified":"1f34f","native":""}],"version":1},"pear":{"id":"pear","name":"Pear","keywords":["fruit","nature","food"],"skins":[{"unified":"1f350","native":""}],"version":1},"peach":{"id":"peach","name":"Peach","keywords":["fruit","nature","food"],"skins":[{"unified":"1f351","native":""}],"version":1},"cherries":{"id":"cherries","name":"Cherries","keywords":["food","fruit"],"skins":[{"unified":"1f352","native":""}],"version":1},"strawberry":{"id":"strawberry","name":"Strawberry","keywords":["fruit","food","nature"],"skins":[{"unified":"1f353","native":""}],"version":1},"blueberries":{"id":"blueberries","name":"Blueberries","keywords":["fruit"],"skins":[{"unified":"1fad0","native":""}],"version":13},"kiwifruit":{"id":"kiwifruit","name":"Kiwifruit","keywords":["kiwi","fruit","food"],"skins":[{"unified":"1f95d","native":""}],"version":3},"tomato":{"id":"tomato","name":"Tomato","keywords":["fruit","vegetable","nature","food"],"skins":[{"unified":"1f345","native":""}],"version":1},"olive":{"id":"olive","name":"Olive","keywords":["fruit"],"skins":[{"unified":"1fad2","native":""}],"version":13},"coconut":{"id":"coconut","name":"Coconut","keywords":["fruit","nature","food","palm"],"skins":[{"unified":"1f965","native":""}],"version":5},"avocado":{"id":"avocado","name":"Avocado","keywords":["fruit","food"],"skins":[{"unified":"1f951","native":""}],"version":3},"eggplant":{"id":"eggplant","name":"Eggplant","keywords":["vegetable","nature","food","aubergine"],"skins":[{"unified":"1f346","native":""}],"version":1},"potato":{"id":"potato","name":"Potato","keywords":["food","tuber","vegatable","starch"],"skins":[{"unified":"1f954","native":""}],"version":3},"carrot":{"id":"carrot","name":"Carrot","keywords":["vegetable","food","orange"],"skins":[{"unified":"1f955","native":""}],"version":3},"corn":{"id":"corn","name":"Ear of Corn","keywords":["food","vegetable","plant"],"skins":[{"unified":"1f33d","native":""}],"version":1},"hot_pepper":{"id":"hot_pepper","name":"Hot Pepper","keywords":["food","spicy","chilli","chili"],"skins":[{"unified":"1f336-fe0f","native":""}],"version":1},"bell_pepper":{"id":"bell_pepper","name":"Bell Pepper","keywords":["fruit","plant"],"skins":[{"unified":"1fad1","native":""}],"version":13},"cucumber":{"id":"cucumber","name":"Cucumber","keywords":["fruit","food","pickle"],"skins":[{"unified":"1f952","native":""}],"version":3},"leafy_green":{"id":"leafy_green","name":"Leafy Green","keywords":["food","vegetable","plant","bok","choy","cabbage","kale","lettuce"],"skins":[{"unified":"1f96c","native":""}],"version":11},"broccoli":{"id":"broccoli","name":"Broccoli","keywords":["fruit","food","vegetable"],"skins":[{"unified":"1f966","native":""}],"version":5},"garlic":{"id":"garlic","name":"Garlic","keywords":["food","spice","cook"],"skins":[{"unified":"1f9c4","native":""}],"version":12},"onion":{"id":"onion","name":"Onion","keywords":["cook","food","spice"],"skins":[{"unified":"1f9c5","native":""}],"version":12},"peanuts":{"id":"peanuts","name":"Peanuts","keywords":["food","nut"],"skins":[{"unified":"1f95c","native":""}],"version":3},"beans":{"id":"beans","name":"Beans","keywords":["food"],"skins":[{"unified":"1fad8","native":""}],"version":14},"chestnut":{"id":"chestnut","name":"Chestnut","keywords":["food","squirrel"],"skins":[{"unified":"1f330","native":""}],"version":1},"ginger_root":{"id":"ginger_root","name":"Ginger Root","keywords":["spice","yellow","cooking","gingerbread"],"skins":[{"unified":"1fada","native":""}],"version":15},"pea_pod":{"id":"pea_pod","name":"Pea Pod","keywords":["cozy","green"],"skins":[{"unified":"1fadb","native":""}],"version":15},"bread":{"id":"bread","name":"Bread","keywords":["food","wheat","breakfast","toast"],"skins":[{"unified":"1f35e","native":""}],"version":1},"croissant":{"id":"croissant","name":"Croissant","keywords":["food","bread","french"],"skins":[{"unified":"1f950","native":""}],"version":3},"baguette_bread":{"id":"baguette_bread","name":"Baguette Bread","keywords":["food","french","france","bakery"],"skins":[{"unified":"1f956","native":""}],"version":3},"flatbread":{"id":"flatbread","name":"Flatbread","keywords":["flour","food","bakery"],"skins":[{"unified":"1fad3","native":""}],"version":13},"pretzel":{"id":"pretzel","name":"Pretzel","keywords":["food","bread","twisted","germany","bakery"],"skins":[{"unified":"1f968","native":""}],"version":5},"bagel":{"id":"bagel","name":"Bagel","keywords":["food","bread","bakery","schmear","jewish"],"skins":[{"unified":"1f96f","native":""}],"version":11},"pancakes":{"id":"pancakes","name":"Pancakes","keywords":["food","breakfast","flapjacks","hotcakes","brunch"],"skins":[{"unified":"1f95e","native":""}],"version":3},"waffle":{"id":"waffle","name":"Waffle","keywords":["food","breakfast","brunch"],"skins":[{"unified":"1f9c7","native":""}],"version":12},"cheese_wedge":{"id":"cheese_wedge","name":"Cheese Wedge","keywords":["food","chadder","swiss"],"skins":[{"unified":"1f9c0","native":""}],"version":1},"meat_on_bone":{"id":"meat_on_bone","name":"Meat on Bone","keywords":["good","food","drumstick"],"skins":[{"unified":"1f356","native":""}],"version":1},"poultry_leg":{"id":"poultry_leg","name":"Poultry Leg","keywords":["food","meat","drumstick","bird","chicken","turkey"],"skins":[{"unified":"1f357","native":""}],"version":1},"cut_of_meat":{"id":"cut_of_meat","name":"Cut of Meat","keywords":["food","cow","chop","lambchop","porkchop"],"skins":[{"unified":"1f969","native":""}],"version":5},"bacon":{"id":"bacon","name":"Bacon","keywords":["food","breakfast","pork","pig","meat","brunch"],"skins":[{"unified":"1f953","native":""}],"version":3},"hamburger":{"id":"hamburger","name":"Hamburger","keywords":["meat","fast","food","beef","cheeseburger","mcdonalds","burger","king"],"skins":[{"unified":"1f354","native":""}],"version":1},"fries":{"id":"fries","name":"French Fries","keywords":["chips","snack","fast","food","potato"],"skins":[{"unified":"1f35f","native":""}],"version":1},"pizza":{"id":"pizza","name":"Pizza","keywords":["food","party","italy"],"skins":[{"unified":"1f355","native":""}],"version":1},"hotdog":{"id":"hotdog","name":"Hot Dog","keywords":["hotdog","food","frankfurter","america"],"skins":[{"unified":"1f32d","native":""}],"version":1},"sandwich":{"id":"sandwich","name":"Sandwich","keywords":["food","lunch","bread","toast","bakery"],"skins":[{"unified":"1f96a","native":""}],"version":5},"taco":{"id":"taco","name":"Taco","keywords":["food","mexican"],"skins":[{"unified":"1f32e","native":""}],"version":1},"burrito":{"id":"burrito","name":"Burrito","keywords":["food","mexican"],"skins":[{"unified":"1f32f","native":""}],"version":1},"tamale":{"id":"tamale","name":"Tamale","keywords":["food","masa"],"skins":[{"unified":"1fad4","native":""}],"version":13},"stuffed_flatbread":{"id":"stuffed_flatbread","name":"Stuffed Flatbread","keywords":["food","gyro","mediterranean"],"skins":[{"unified":"1f959","native":""}],"version":3},"falafel":{"id":"falafel","name":"Falafel","keywords":["food","mediterranean"],"skins":[{"unified":"1f9c6","native":""}],"version":12},"egg":{"id":"egg","name":"Egg","keywords":["food","chicken","breakfast"],"skins":[{"unified":"1f95a","native":""}],"version":3},"fried_egg":{"id":"fried_egg","name":"Cooking","keywords":["fried","egg","food","breakfast","kitchen","skillet"],"skins":[{"unified":"1f373","native":""}],"version":1},"shallow_pan_of_food":{"id":"shallow_pan_of_food","name":"Shallow Pan of Food","keywords":["cooking","casserole","paella","skillet"],"skins":[{"unified":"1f958","native":""}],"version":3},"stew":{"id":"stew","name":"Pot of Food","keywords":["stew","meat","soup","hot"],"skins":[{"unified":"1f372","native":""}],"version":1},"fondue":{"id":"fondue","name":"Fondue","keywords":["cheese","pot","food"],"skins":[{"unified":"1fad5","native":""}],"version":13},"bowl_with_spoon":{"id":"bowl_with_spoon","name":"Bowl with Spoon","keywords":["food","breakfast","cereal","oatmeal","porridge"],"skins":[{"unified":"1f963","native":""}],"version":5},"green_salad":{"id":"green_salad","name":"Green Salad","keywords":["food","healthy","lettuce","vegetable"],"skins":[{"unified":"1f957","native":""}],"version":3},"popcorn":{"id":"popcorn","name":"Popcorn","keywords":["food","movie","theater","films","snack","drama"],"skins":[{"unified":"1f37f","native":""}],"version":1},"butter":{"id":"butter","name":"Butter","keywords":["food","cook"],"skins":[{"unified":"1f9c8","native":""}],"version":12},"salt":{"id":"salt","name":"Salt","keywords":["condiment","shaker"],"skins":[{"unified":"1f9c2","native":""}],"version":11},"canned_food":{"id":"canned_food","name":"Canned Food","keywords":["soup","tomatoes"],"skins":[{"unified":"1f96b","native":""}],"version":5},"bento":{"id":"bento","name":"Bento Box","keywords":["food","japanese","lunch"],"skins":[{"unified":"1f371","native":""}],"version":1},"rice_cracker":{"id":"rice_cracker","name":"Rice Cracker","keywords":["food","japanese","snack"],"skins":[{"unified":"1f358","native":""}],"version":1},"rice_ball":{"id":"rice_ball","name":"Rice Ball","keywords":["food","japanese"],"skins":[{"unified":"1f359","native":""}],"version":1},"rice":{"id":"rice","name":"Cooked Rice","keywords":["food","asian"],"skins":[{"unified":"1f35a","native":""}],"version":1},"curry":{"id":"curry","name":"Curry Rice","keywords":["food","spicy","hot","indian"],"skins":[{"unified":"1f35b","native":""}],"version":1},"ramen":{"id":"ramen","name":"Steaming Bowl","keywords":["ramen","food","japanese","noodle","chopsticks"],"skins":[{"unified":"1f35c","native":""}],"version":1},"spaghetti":{"id":"spaghetti","name":"Spaghetti","keywords":["food","italian","pasta","noodle"],"skins":[{"unified":"1f35d","native":""}],"version":1},"sweet_potato":{"id":"sweet_potato","name":"Roasted Sweet Potato","keywords":["food","nature","plant"],"skins":[{"unified":"1f360","native":""}],"version":1},"oden":{"id":"oden","name":"Oden","keywords":["food","japanese"],"skins":[{"unified":"1f362","native":""}],"version":1},"sushi":{"id":"sushi","name":"Sushi","keywords":["food","fish","japanese","rice"],"skins":[{"unified":"1f363","native":""}],"version":1},"fried_shrimp":{"id":"fried_shrimp","name":"Fried Shrimp","keywords":["food","animal","appetizer","summer"],"skins":[{"unified":"1f364","native":""}],"version":1},"fish_cake":{"id":"fish_cake","name":"Fish Cake with Swirl","keywords":["food","japan","sea","beach","narutomaki","pink","kamaboko","surimi","ramen"],"skins":[{"unified":"1f365","native":""}],"version":1},"moon_cake":{"id":"moon_cake","name":"Moon Cake","keywords":["food","autumn","dessert"],"skins":[{"unified":"1f96e","native":""}],"version":11},"dango":{"id":"dango","name":"Dango","keywords":["food","dessert","sweet","japanese","barbecue","meat"],"skins":[{"unified":"1f361","native":""}],"version":1},"dumpling":{"id":"dumpling","name":"Dumpling","keywords":["food","empanada","pierogi","potsticker","gyoza"],"skins":[{"unified":"1f95f","native":""}],"version":5},"fortune_cookie":{"id":"fortune_cookie","name":"Fortune Cookie","keywords":["food","prophecy","dessert"],"skins":[{"unified":"1f960","native":""}],"version":5},"takeout_box":{"id":"takeout_box","name":"Takeout Box","keywords":["food","leftovers"],"skins":[{"unified":"1f961","native":""}],"version":5},"crab":{"id":"crab","name":"Crab","keywords":["animal","crustacean"],"skins":[{"unified":"1f980","native":""}],"version":1},"lobster":{"id":"lobster","name":"Lobster","keywords":["animal","nature","bisque","claws","seafood"],"skins":[{"unified":"1f99e","native":""}],"version":11},"shrimp":{"id":"shrimp","name":"Shrimp","keywords":["animal","ocean","nature","seafood"],"skins":[{"unified":"1f990","native":""}],"version":3},"squid":{"id":"squid","name":"Squid","keywords":["animal","nature","ocean","sea"],"skins":[{"unified":"1f991","native":""}],"version":3},"oyster":{"id":"oyster","name":"Oyster","keywords":["food"],"skins":[{"unified":"1f9aa","native":""}],"version":12},"icecream":{"id":"icecream","name":"Soft Ice Cream","keywords":["icecream","food","hot","dessert","summer"],"skins":[{"unified":"1f366","native":""}],"version":1},"shaved_ice":{"id":"shaved_ice","name":"Shaved Ice","keywords":["hot","dessert","summer"],"skins":[{"unified":"1f367","native":""}],"version":1},"ice_cream":{"id":"ice_cream","name":"Ice Cream","keywords":["food","hot","dessert"],"skins":[{"unified":"1f368","native":""}],"version":1},"doughnut":{"id":"doughnut","name":"Doughnut","keywords":["food","dessert","snack","sweet","donut"],"skins":[{"unified":"1f369","native":""}],"version":1},"cookie":{"id":"cookie","name":"Cookie","keywords":["food","snack","oreo","chocolate","sweet","dessert"],"skins":[{"unified":"1f36a","native":""}],"version":1},"birthday":{"id":"birthday","name":"Birthday Cake","keywords":["food","dessert"],"skins":[{"unified":"1f382","native":""}],"version":1},"cake":{"id":"cake","name":"Shortcake","keywords":["cake","food","dessert"],"skins":[{"unified":"1f370","native":""}],"version":1},"cupcake":{"id":"cupcake","name":"Cupcake","keywords":["food","dessert","bakery","sweet"],"skins":[{"unified":"1f9c1","native":""}],"version":11},"pie":{"id":"pie","name":"Pie","keywords":["food","dessert","pastry"],"skins":[{"unified":"1f967","native":""}],"version":5},"chocolate_bar":{"id":"chocolate_bar","name":"Chocolate Bar","keywords":["food","snack","dessert","sweet"],"skins":[{"unified":"1f36b","native":""}],"version":1},"candy":{"id":"candy","name":"Candy","keywords":["snack","dessert","sweet","lolly"],"skins":[{"unified":"1f36c","native":""}],"version":1},"lollipop":{"id":"lollipop","name":"Lollipop","keywords":["food","snack","candy","sweet"],"skins":[{"unified":"1f36d","native":""}],"version":1},"custard":{"id":"custard","name":"Custard","keywords":["dessert","food"],"skins":[{"unified":"1f36e","native":""}],"version":1},"honey_pot":{"id":"honey_pot","name":"Honey Pot","keywords":["bees","sweet","kitchen"],"skins":[{"unified":"1f36f","native":""}],"version":1},"baby_bottle":{"id":"baby_bottle","name":"Baby Bottle","keywords":["food","container","milk"],"skins":[{"unified":"1f37c","native":""}],"version":1},"glass_of_milk":{"id":"glass_of_milk","name":"Glass of Milk","keywords":["beverage","drink","cow"],"skins":[{"unified":"1f95b","native":""}],"version":3},"coffee":{"id":"coffee","name":"Hot Beverage","keywords":["coffee","caffeine","latte","espresso","mug"],"skins":[{"unified":"2615","native":""}],"version":1},"teapot":{"id":"teapot","name":"Teapot","keywords":["drink","hot"],"skins":[{"unified":"1fad6","native":""}],"version":13},"tea":{"id":"tea","name":"Teacup Without Handle","keywords":["tea","drink","bowl","breakfast","green","british"],"skins":[{"unified":"1f375","native":""}],"version":1},"sake":{"id":"sake","name":"Sake","keywords":["wine","drink","drunk","beverage","japanese","alcohol","booze"],"skins":[{"unified":"1f376","native":""}],"version":1},"champagne":{"id":"champagne","name":"Bottle with Popping Cork","keywords":["champagne","drink","wine","celebration"],"skins":[{"unified":"1f37e","native":""}],"version":1},"wine_glass":{"id":"wine_glass","name":"Wine Glass","keywords":["drink","beverage","drunk","alcohol","booze"],"skins":[{"unified":"1f377","native":""}],"version":1},"cocktail":{"id":"cocktail","name":"Cocktail Glass","keywords":["drink","drunk","alcohol","beverage","booze","mojito"],"skins":[{"unified":"1f378","native":""}],"version":1},"tropical_drink":{"id":"tropical_drink","name":"Tropical Drink","keywords":["beverage","cocktail","summer","beach","alcohol","booze","mojito"],"skins":[{"unified":"1f379","native":""}],"version":1},"beer":{"id":"beer","name":"Beer Mug","keywords":["relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"skins":[{"unified":"1f37a","native":""}],"version":1},"beers":{"id":"beers","name":"Clinking Beer Mugs","keywords":["beers","relax","beverage","drink","drunk","party","pub","summer","alcohol","booze"],"skins":[{"unified":"1f37b","native":""}],"version":1},"clinking_glasses":{"id":"clinking_glasses","name":"Clinking Glasses","keywords":["beverage","drink","party","alcohol","celebrate","cheers","wine","champagne","toast"],"skins":[{"unified":"1f942","native":""}],"version":3},"tumbler_glass":{"id":"tumbler_glass","name":"Tumbler Glass","keywords":["drink","beverage","drunk","alcohol","liquor","booze","bourbon","scotch","whisky","shot"],"skins":[{"unified":"1f943","native":""}],"version":3},"pouring_liquid":{"id":"pouring_liquid","name":"Pouring Liquid","keywords":["cup","water"],"skins":[{"unified":"1fad7","native":""}],"version":14},"cup_with_straw":{"id":"cup_with_straw","name":"Cup with Straw","keywords":["drink","soda"],"skins":[{"unified":"1f964","native":""}],"version":5},"bubble_tea":{"id":"bubble_tea","name":"Bubble Tea","keywords":["taiwan","boba","milk","straw"],"skins":[{"unified":"1f9cb","native":""}],"version":13},"beverage_box":{"id":"beverage_box","name":"Beverage Box","keywords":["drink"],"skins":[{"unified":"1f9c3","native":""}],"version":12},"mate_drink":{"id":"mate_drink","name":"Mate","keywords":["drink","tea","beverage"],"skins":[{"unified":"1f9c9","native":""}],"version":12},"ice_cube":{"id":"ice_cube","name":"Ice","keywords":["cube","water","cold"],"skins":[{"unified":"1f9ca","native":""}],"version":12},"chopsticks":{"id":"chopsticks","name":"Chopsticks","keywords":["food"],"skins":[{"unified":"1f962","native":""}],"version":5},"knife_fork_plate":{"id":"knife_fork_plate","name":"Fork and Knife with Plate","keywords":["food","eat","meal","lunch","dinner","restaurant"],"skins":[{"unified":"1f37d-fe0f","native":""}],"version":1},"fork_and_knife":{"id":"fork_and_knife","name":"Fork and Knife","keywords":["cutlery","kitchen"],"skins":[{"unified":"1f374","native":""}],"version":1},"spoon":{"id":"spoon","name":"Spoon","keywords":["cutlery","kitchen","tableware"],"skins":[{"unified":"1f944","native":""}],"version":3},"hocho":{"id":"hocho","name":"Hocho","keywords":["knife","kitchen","blade","cutlery","weapon"],"skins":[{"unified":"1f52a","native":""}],"version":1},"jar":{"id":"jar","name":"Jar","keywords":["container","sauce"],"skins":[{"unified":"1fad9","native":""}],"version":14},"amphora":{"id":"amphora","name":"Amphora","keywords":["vase","jar"],"skins":[{"unified":"1f3fa","native":""}],"version":1},"earth_africa":{"id":"earth_africa","name":"Earth Globe Europe-Africa","keywords":["africa","showing","europe","world","international"],"skins":[{"unified":"1f30d","native":""}],"version":1},"earth_americas":{"id":"earth_americas","name":"Earth Globe Americas","keywords":["showing","world","USA","international"],"skins":[{"unified":"1f30e","native":""}],"version":1},"earth_asia":{"id":"earth_asia","name":"Earth Globe Asia-Australia","keywords":["asia","showing","australia","world","east","international"],"skins":[{"unified":"1f30f","native":""}],"version":1},"globe_with_meridians":{"id":"globe_with_meridians","name":"Globe with Meridians","keywords":["earth","international","world","internet","interweb","i18n"],"skins":[{"unified":"1f310","native":""}],"version":1},"world_map":{"id":"world_map","name":"World Map","keywords":["location","direction"],"skins":[{"unified":"1f5fa-fe0f","native":""}],"version":1},"japan":{"id":"japan","name":"Map of Japan","keywords":["nation","country","japanese","asia"],"skins":[{"unified":"1f5fe","native":""}],"version":1},"compass":{"id":"compass","name":"Compass","keywords":["magnetic","navigation","orienteering"],"skins":[{"unified":"1f9ed","native":""}],"version":11},"snow_capped_mountain":{"id":"snow_capped_mountain","name":"Snow-Capped Mountain","keywords":["snow","capped","photo","nature","environment","winter","cold"],"skins":[{"unified":"1f3d4-fe0f","native":""}],"version":1},"mountain":{"id":"mountain","name":"Mountain","keywords":["photo","nature","environment"],"skins":[{"unified":"26f0-fe0f","native":""}],"version":1},"volcano":{"id":"volcano","name":"Volcano","keywords":["photo","nature","disaster"],"skins":[{"unified":"1f30b","native":""}],"version":1},"mount_fuji":{"id":"mount_fuji","name":"Mount Fuji","keywords":["photo","mountain","nature","japanese"],"skins":[{"unified":"1f5fb","native":""}],"version":1},"camping":{"id":"camping","name":"Camping","keywords":["photo","outdoors","tent"],"skins":[{"unified":"1f3d5-fe0f","native":""}],"version":1},"beach_with_umbrella":{"id":"beach_with_umbrella","name":"Beach with Umbrella","keywords":["weather","summer","sunny","sand","mojito"],"skins":[{"unified":"1f3d6-fe0f","native":""}],"version":1},"desert":{"id":"desert","name":"Desert","keywords":["photo","warm","saharah"],"skins":[{"unified":"1f3dc-fe0f","native":""}],"version":1},"desert_island":{"id":"desert_island","name":"Desert Island","keywords":["photo","tropical","mojito"],"skins":[{"unified":"1f3dd-fe0f","native":""}],"version":1},"national_park":{"id":"national_park","name":"National Park","keywords":["photo","environment","nature"],"skins":[{"unified":"1f3de-fe0f","native":""}],"version":1},"stadium":{"id":"stadium","name":"Stadium","keywords":["photo","place","sports","concert","venue"],"skins":[{"unified":"1f3df-fe0f","native":""}],"version":1},"classical_building":{"id":"classical_building","name":"Classical Building","keywords":["art","culture","history"],"skins":[{"unified":"1f3db-fe0f","native":""}],"version":1},"building_construction":{"id":"building_construction","name":"Building Construction","keywords":["wip","working","progress"],"skins":[{"unified":"1f3d7-fe0f","native":""}],"version":1},"bricks":{"id":"bricks","name":"Brick","keywords":["bricks"],"skins":[{"unified":"1f9f1","native":""}],"version":11},"rock":{"id":"rock","name":"Rock","keywords":["stone"],"skins":[{"unified":"1faa8","native":""}],"version":13},"wood":{"id":"wood","name":"Wood","keywords":["nature","timber","trunk"],"skins":[{"unified":"1fab5","native":""}],"version":13},"hut":{"id":"hut","name":"Hut","keywords":["house","structure"],"skins":[{"unified":"1f6d6","native":""}],"version":13},"house_buildings":{"id":"house_buildings","name":"Houses","keywords":["house","buildings","photo"],"skins":[{"unified":"1f3d8-fe0f","native":""}],"version":1},"derelict_house_building":{"id":"derelict_house_building","name":"Derelict House","keywords":["building","abandon","evict","broken"],"skins":[{"unified":"1f3da-fe0f","native":""}],"version":1},"house":{"id":"house","name":"House","keywords":["building","home"],"skins":[{"unified":"1f3e0","native":""}],"version":1},"house_with_garden":{"id":"house_with_garden","name":"House with Garden","keywords":["home","plant","nature"],"skins":[{"unified":"1f3e1","native":""}],"version":1},"office":{"id":"office","name":"Office Building","keywords":["bureau","work"],"skins":[{"unified":"1f3e2","native":""}],"version":1},"post_office":{"id":"post_office","name":"Japanese Post Office","keywords":["building","envelope","communication"],"skins":[{"unified":"1f3e3","native":""}],"version":1},"european_post_office":{"id":"european_post_office","name":"Post Office","keywords":["european","building","email"],"skins":[{"unified":"1f3e4","native":""}],"version":1},"hospital":{"id":"hospital","name":"Hospital","keywords":["building","health","surgery","doctor"],"skins":[{"unified":"1f3e5","native":""}],"version":1},"bank":{"id":"bank","name":"Bank","keywords":["building","money","sales","cash","business","enterprise"],"skins":[{"unified":"1f3e6","native":""}],"version":1},"hotel":{"id":"hotel","name":"Hotel","keywords":["building","accomodation","checkin"],"skins":[{"unified":"1f3e8","native":""}],"version":1},"love_hotel":{"id":"love_hotel","name":"Love Hotel","keywords":["like","affection","dating"],"skins":[{"unified":"1f3e9","native":""}],"version":1},"convenience_store":{"id":"convenience_store","name":"Convenience Store","keywords":["building","shopping","groceries"],"skins":[{"unified":"1f3ea","native":""}],"version":1},"school":{"id":"school","name":"School","keywords":["building","student","education","learn","teach"],"skins":[{"unified":"1f3eb","native":""}],"version":1},"department_store":{"id":"department_store","name":"Department Store","keywords":["building","shopping","mall"],"skins":[{"unified":"1f3ec","native":""}],"version":1},"factory":{"id":"factory","name":"Factory","keywords":["building","industry","pollution","smoke"],"skins":[{"unified":"1f3ed","native":""}],"version":1},"japanese_castle":{"id":"japanese_castle","name":"Japanese Castle","keywords":["photo","building"],"skins":[{"unified":"1f3ef","native":""}],"version":1},"european_castle":{"id":"european_castle","name":"Castle","keywords":["european","building","royalty","history"],"skins":[{"unified":"1f3f0","native":""}],"version":1},"wedding":{"id":"wedding","name":"Wedding","keywords":["love","like","affection","couple","marriage","bride","groom"],"skins":[{"unified":"1f492","native":""}],"version":1},"tokyo_tower":{"id":"tokyo_tower","name":"Tokyo Tower","keywords":["photo","japanese"],"skins":[{"unified":"1f5fc","native":""}],"version":1},"statue_of_liberty":{"id":"statue_of_liberty","name":"Statue of Liberty","keywords":["american","newyork"],"skins":[{"unified":"1f5fd","native":""}],"version":1},"church":{"id":"church","name":"Church","keywords":["building","religion","christ"],"skins":[{"unified":"26ea","native":""}],"version":1},"mosque":{"id":"mosque","name":"Mosque","keywords":["islam","worship","minaret"],"skins":[{"unified":"1f54c","native":""}],"version":1},"hindu_temple":{"id":"hindu_temple","name":"Hindu Temple","keywords":["religion"],"skins":[{"unified":"1f6d5","native":""}],"version":12},"synagogue":{"id":"synagogue","name":"Synagogue","keywords":["judaism","worship","temple","jewish"],"skins":[{"unified":"1f54d","native":""}],"version":1},"shinto_shrine":{"id":"shinto_shrine","name":"Shinto Shrine","keywords":["temple","japan","kyoto"],"skins":[{"unified":"26e9-fe0f","native":""}],"version":1},"kaaba":{"id":"kaaba","name":"Kaaba","keywords":["mecca","mosque","islam"],"skins":[{"unified":"1f54b","native":""}],"version":1},"fountain":{"id":"fountain","name":"Fountain","keywords":["photo","summer","water","fresh"],"skins":[{"unified":"26f2","native":""}],"version":1},"tent":{"id":"tent","name":"Tent","keywords":["photo","camping","outdoors"],"skins":[{"unified":"26fa","native":""}],"version":1},"foggy":{"id":"foggy","name":"Foggy","keywords":["photo","mountain"],"skins":[{"unified":"1f301","native":""}],"version":1},"night_with_stars":{"id":"night_with_stars","name":"Night with Stars","keywords":["evening","city","downtown"],"skins":[{"unified":"1f303","native":""}],"version":1},"cityscape":{"id":"cityscape","name":"Cityscape","keywords":["photo","night","life","urban"],"skins":[{"unified":"1f3d9-fe0f","native":""}],"version":1},"sunrise_over_mountains":{"id":"sunrise_over_mountains","name":"Sunrise over Mountains","keywords":["view","vacation","photo"],"skins":[{"unified":"1f304","native":""}],"version":1},"sunrise":{"id":"sunrise","name":"Sunrise","keywords":["morning","view","vacation","photo"],"skins":[{"unified":"1f305","native":""}],"version":1},"city_sunset":{"id":"city_sunset","name":"Cityscape at Dusk","keywords":["city","sunset","photo","evening","sky","buildings"],"skins":[{"unified":"1f306","native":""}],"version":1},"city_sunrise":{"id":"city_sunrise","name":"Sunset","keywords":["city","sunrise","photo","good","morning","dawn"],"skins":[{"unified":"1f307","native":""}],"version":1},"bridge_at_night":{"id":"bridge_at_night","name":"Bridge at Night","keywords":["photo","sanfrancisco"],"skins":[{"unified":"1f309","native":""}],"version":1},"hotsprings":{"id":"hotsprings","name":"Hot Springs","keywords":["hotsprings","bath","warm","relax"],"skins":[{"unified":"2668-fe0f","native":""}],"version":1},"carousel_horse":{"id":"carousel_horse","name":"Carousel Horse","keywords":["photo","carnival"],"skins":[{"unified":"1f3a0","native":""}],"version":1},"playground_slide":{"id":"playground_slide","name":"Playground Slide","keywords":["fun","park"],"skins":[{"unified":"1f6dd","native":""}],"version":14},"ferris_wheel":{"id":"ferris_wheel","name":"Ferris Wheel","keywords":["photo","carnival","londoneye"],"skins":[{"unified":"1f3a1","native":""}],"version":1},"roller_coaster":{"id":"roller_coaster","name":"Roller Coaster","keywords":["carnival","playground","photo","fun"],"skins":[{"unified":"1f3a2","native":""}],"version":1},"barber":{"id":"barber","name":"Barber Pole","keywords":["hair","salon","style"],"skins":[{"unified":"1f488","native":""}],"version":1},"circus_tent":{"id":"circus_tent","name":"Circus Tent","keywords":["festival","carnival","party"],"skins":[{"unified":"1f3aa","native":""}],"version":1},"steam_locomotive":{"id":"steam_locomotive","name":"Locomotive","keywords":["steam","transportation","vehicle","train"],"skins":[{"unified":"1f682","native":""}],"version":1},"railway_car":{"id":"railway_car","name":"Railway Car","keywords":["transportation","vehicle"],"skins":[{"unified":"1f683","native":""}],"version":1},"bullettrain_side":{"id":"bullettrain_side","name":"High-Speed Train","keywords":["bullettrain","side","high","speed","transportation","vehicle"],"skins":[{"unified":"1f684","native":""}],"version":1},"bullettrain_front":{"id":"bullettrain_front","name":"Bullet Train","keywords":["bullettrain","front","transportation","vehicle","speed","fast","public","travel"],"skins":[{"unified":"1f685","native":""}],"version":1},"train2":{"id":"train2","name":"Train","keywords":["train2","transportation","vehicle"],"skins":[{"unified":"1f686","native":""}],"version":1},"metro":{"id":"metro","name":"Metro","keywords":["transportation","blue","square","mrt","underground","tube"],"skins":[{"unified":"1f687","native":""}],"version":1},"light_rail":{"id":"light_rail","name":"Light Rail","keywords":["transportation","vehicle"],"skins":[{"unified":"1f688","native":""}],"version":1},"station":{"id":"station","name":"Station","keywords":["transportation","vehicle","public"],"skins":[{"unified":"1f689","native":""}],"version":1},"tram":{"id":"tram","name":"Tram","keywords":["transportation","vehicle"],"skins":[{"unified":"1f68a","native":""}],"version":1},"monorail":{"id":"monorail","name":"Monorail","keywords":["transportation","vehicle"],"skins":[{"unified":"1f69d","native":""}],"version":1},"mountain_railway":{"id":"mountain_railway","name":"Mountain Railway","keywords":["transportation","vehicle"],"skins":[{"unified":"1f69e","native":""}],"version":1},"train":{"id":"train","name":"Tram Car","keywords":["train","transportation","vehicle","carriage","public","travel"],"skins":[{"unified":"1f68b","native":""}],"version":1},"bus":{"id":"bus","name":"Bus","keywords":["car","vehicle","transportation"],"skins":[{"unified":"1f68c","native":""}],"version":1},"oncoming_bus":{"id":"oncoming_bus","name":"Oncoming Bus","keywords":["vehicle","transportation"],"skins":[{"unified":"1f68d","native":""}],"version":1},"trolleybus":{"id":"trolleybus","name":"Trolleybus","keywords":["bart","transportation","vehicle"],"skins":[{"unified":"1f68e","native":""}],"version":1},"minibus":{"id":"minibus","name":"Minibus","keywords":["vehicle","car","transportation"],"skins":[{"unified":"1f690","native":""}],"version":1},"ambulance":{"id":"ambulance","name":"Ambulance","keywords":["health","911","hospital"],"skins":[{"unified":"1f691","native":""}],"version":1},"fire_engine":{"id":"fire_engine","name":"Fire Engine","keywords":["transportation","cars","vehicle"],"skins":[{"unified":"1f692","native":""}],"version":1},"police_car":{"id":"police_car","name":"Police Car","keywords":["vehicle","cars","transportation","law","legal","enforcement"],"skins":[{"unified":"1f693","native":""}],"version":1},"oncoming_police_car":{"id":"oncoming_police_car","name":"Oncoming Police Car","keywords":["vehicle","law","legal","enforcement","911"],"skins":[{"unified":"1f694","native":""}],"version":1},"taxi":{"id":"taxi","name":"Taxi","keywords":["uber","vehicle","cars","transportation"],"skins":[{"unified":"1f695","native":""}],"version":1},"oncoming_taxi":{"id":"oncoming_taxi","name":"Oncoming Taxi","keywords":["vehicle","cars","uber"],"skins":[{"unified":"1f696","native":""}],"version":1},"car":{"id":"car","name":"Automobile","keywords":["car","red","transportation","vehicle"],"skins":[{"unified":"1f697","native":""}],"version":1},"oncoming_automobile":{"id":"oncoming_automobile","name":"Oncoming Automobile","keywords":["car","vehicle","transportation"],"skins":[{"unified":"1f698","native":""}],"version":1},"blue_car":{"id":"blue_car","name":"Recreational Vehicle","keywords":["blue","car","sport","utility","transportation"],"skins":[{"unified":"1f699","native":""}],"version":1},"pickup_truck":{"id":"pickup_truck","name":"Pickup Truck","keywords":["car","transportation"],"skins":[{"unified":"1f6fb","native":""}],"version":13},"truck":{"id":"truck","name":"Delivery Truck","keywords":["cars","transportation"],"skins":[{"unified":"1f69a","native":""}],"version":1},"articulated_lorry":{"id":"articulated_lorry","name":"Articulated Lorry","keywords":["vehicle","cars","transportation","express"],"skins":[{"unified":"1f69b","native":""}],"version":1},"tractor":{"id":"tractor","name":"Tractor","keywords":["vehicle","car","farming","agriculture"],"skins":[{"unified":"1f69c","native":""}],"version":1},"racing_car":{"id":"racing_car","name":"Racing Car","keywords":["sports","race","fast","formula","f1"],"skins":[{"unified":"1f3ce-fe0f","native":""}],"version":1},"racing_motorcycle":{"id":"racing_motorcycle","name":"Motorcycle","keywords":["racing","race","sports","fast"],"skins":[{"unified":"1f3cd-fe0f","native":""}],"version":1},"motor_scooter":{"id":"motor_scooter","name":"Motor Scooter","keywords":["vehicle","vespa","sasha"],"skins":[{"unified":"1f6f5","native":""}],"version":3},"manual_wheelchair":{"id":"manual_wheelchair","name":"Manual Wheelchair","keywords":["accessibility"],"skins":[{"unified":"1f9bd","native":""}],"version":12},"motorized_wheelchair":{"id":"motorized_wheelchair","name":"Motorized Wheelchair","keywords":["accessibility"],"skins":[{"unified":"1f9bc","native":""}],"version":12},"auto_rickshaw":{"id":"auto_rickshaw","name":"Auto Rickshaw","keywords":["move","transportation"],"skins":[{"unified":"1f6fa","native":""}],"version":12},"bike":{"id":"bike","name":"Bicycle","keywords":["bike","sports","exercise","hipster"],"skins":[{"unified":"1f6b2","native":""}],"version":1},"scooter":{"id":"scooter","name":"Scooter","keywords":["kick","vehicle","razor"],"skins":[{"unified":"1f6f4","native":""}],"version":3},"skateboard":{"id":"skateboard","name":"Skateboard","keywords":["board"],"skins":[{"unified":"1f6f9","native":""}],"version":11},"roller_skate":{"id":"roller_skate","name":"Roller Skate","keywords":["footwear","sports"],"skins":[{"unified":"1f6fc","native":""}],"version":13},"busstop":{"id":"busstop","name":"Bus Stop","keywords":["busstop","transportation","wait"],"skins":[{"unified":"1f68f","native":""}],"version":1},"motorway":{"id":"motorway","name":"Motorway","keywords":["road","cupertino","interstate","highway"],"skins":[{"unified":"1f6e3-fe0f","native":""}],"version":1},"railway_track":{"id":"railway_track","name":"Railway Track","keywords":["train","transportation"],"skins":[{"unified":"1f6e4-fe0f","native":""}],"version":1},"oil_drum":{"id":"oil_drum","name":"Oil Drum","keywords":["barrell"],"skins":[{"unified":"1f6e2-fe0f","native":""}],"version":1},"fuelpump":{"id":"fuelpump","name":"Fuel Pump","keywords":["fuelpump","gas","station","petroleum"],"skins":[{"unified":"26fd","native":""}],"version":1},"wheel":{"id":"wheel","name":"Wheel","keywords":["car","transport"],"skins":[{"unified":"1f6de","native":""}],"version":14},"rotating_light":{"id":"rotating_light","name":"Police Car Light","keywords":["rotating","ambulance","911","emergency","alert","error","pinged","law","legal"],"skins":[{"unified":"1f6a8","native":""}],"version":1},"traffic_light":{"id":"traffic_light","name":"Horizontal Traffic Light","keywords":["transportation","signal"],"skins":[{"unified":"1f6a5","native":""}],"version":1},"vertical_traffic_light":{"id":"vertical_traffic_light","name":"Vertical Traffic Light","keywords":["transportation","driving"],"skins":[{"unified":"1f6a6","native":""}],"version":1},"octagonal_sign":{"id":"octagonal_sign","name":"Stop Sign","keywords":["octagonal"],"skins":[{"unified":"1f6d1","native":""}],"version":3},"construction":{"id":"construction","name":"Construction","keywords":["wip","progress","caution","warning"],"skins":[{"unified":"1f6a7","native":""}],"version":1},"anchor":{"id":"anchor","name":"Anchor","keywords":["ship","ferry","sea","boat"],"skins":[{"unified":"2693","native":""}],"version":1},"ring_buoy":{"id":"ring_buoy","name":"Ring Buoy","keywords":["life","saver","preserver"],"skins":[{"unified":"1f6df","native":""}],"version":14},"boat":{"id":"boat","name":"Sailboat","keywords":["boat","ship","summer","transportation","water","sailing"],"skins":[{"unified":"26f5","native":""}],"version":1},"canoe":{"id":"canoe","name":"Canoe","keywords":["boat","paddle","water","ship"],"skins":[{"unified":"1f6f6","native":""}],"version":3},"speedboat":{"id":"speedboat","name":"Speedboat","keywords":["ship","transportation","vehicle","summer"],"skins":[{"unified":"1f6a4","native":""}],"version":1},"passenger_ship":{"id":"passenger_ship","name":"Passenger Ship","keywords":["yacht","cruise","ferry"],"skins":[{"unified":"1f6f3-fe0f","native":""}],"version":1},"ferry":{"id":"ferry","name":"Ferry","keywords":["boat","ship","yacht"],"skins":[{"unified":"26f4-fe0f","native":""}],"version":1},"motor_boat":{"id":"motor_boat","name":"Motor Boat","keywords":["ship"],"skins":[{"unified":"1f6e5-fe0f","native":""}],"version":1},"ship":{"id":"ship","name":"Ship","keywords":["transportation","titanic","deploy"],"skins":[{"unified":"1f6a2","native":""}],"version":1},"airplane":{"id":"airplane","name":"Airplane","keywords":["vehicle","transportation","flight","fly"],"skins":[{"unified":"2708-fe0f","native":""}],"version":1},"small_airplane":{"id":"small_airplane","name":"Small Airplane","keywords":["flight","transportation","fly","vehicle"],"skins":[{"unified":"1f6e9-fe0f","native":""}],"version":1},"airplane_departure":{"id":"airplane_departure","name":"Airplane Departure","keywords":["airport","flight","landing"],"skins":[{"unified":"1f6eb","native":""}],"version":1},"airplane_arriving":{"id":"airplane_arriving","name":"Airplane Arrival","keywords":["arriving","airport","flight","boarding"],"skins":[{"unified":"1f6ec","native":""}],"version":1},"parachute":{"id":"parachute","name":"Parachute","keywords":["fly","glide"],"skins":[{"unified":"1fa82","native":""}],"version":12},"seat":{"id":"seat","name":"Seat","keywords":["sit","airplane","transport","bus","flight","fly"],"skins":[{"unified":"1f4ba","native":""}],"version":1},"helicopter":{"id":"helicopter","name":"Helicopter","keywords":["transportation","vehicle","fly"],"skins":[{"unified":"1f681","native":""}],"version":1},"suspension_railway":{"id":"suspension_railway","name":"Suspension Railway","keywords":["vehicle","transportation"],"skins":[{"unified":"1f69f","native":""}],"version":1},"mountain_cableway":{"id":"mountain_cableway","name":"Mountain Cableway","keywords":["transportation","vehicle","ski"],"skins":[{"unified":"1f6a0","native":""}],"version":1},"aerial_tramway":{"id":"aerial_tramway","name":"Aerial Tramway","keywords":["transportation","vehicle","ski"],"skins":[{"unified":"1f6a1","native":""}],"version":1},"satellite":{"id":"satellite","name":"Satellite","keywords":["communication","gps","orbit","spaceflight","NASA","ISS"],"skins":[{"unified":"1f6f0-fe0f","native":""}],"version":1},"rocket":{"id":"rocket","name":"Rocket","keywords":["launch","ship","staffmode","NASA","outer","space","fly"],"skins":[{"unified":"1f680","native":""}],"version":1},"flying_saucer":{"id":"flying_saucer","name":"Flying Saucer","keywords":["transportation","vehicle","ufo"],"skins":[{"unified":"1f6f8","native":""}],"version":5},"bellhop_bell":{"id":"bellhop_bell","name":"Bellhop Bell","keywords":["service"],"skins":[{"unified":"1f6ce-fe0f","native":""}],"version":1},"luggage":{"id":"luggage","name":"Luggage","keywords":["packing","travel"],"skins":[{"unified":"1f9f3","native":""}],"version":11},"hourglass":{"id":"hourglass","name":"Hourglass","keywords":["done","time","clock","oldschool","limit","exam","quiz","test"],"skins":[{"unified":"231b","native":""}],"version":1},"hourglass_flowing_sand":{"id":"hourglass_flowing_sand","name":"Hourglass Not Done","keywords":["flowing","sand","oldschool","time","countdown"],"skins":[{"unified":"23f3","native":""}],"version":1},"watch":{"id":"watch","name":"Watch","keywords":["time","accessories"],"skins":[{"unified":"231a","native":""}],"version":1},"alarm_clock":{"id":"alarm_clock","name":"Alarm Clock","keywords":["time","wake"],"skins":[{"unified":"23f0","native":""}],"version":1},"stopwatch":{"id":"stopwatch","name":"Stopwatch","keywords":["time","deadline"],"skins":[{"unified":"23f1-fe0f","native":""}],"version":1},"timer_clock":{"id":"timer_clock","name":"Timer Clock","keywords":["alarm"],"skins":[{"unified":"23f2-fe0f","native":""}],"version":1},"mantelpiece_clock":{"id":"mantelpiece_clock","name":"Mantelpiece Clock","keywords":["time"],"skins":[{"unified":"1f570-fe0f","native":""}],"version":1},"clock12":{"id":"clock12","name":"Twelve Oclock","keywords":["clock12","o","clock","12","00:00","0000","12:00","1200","time","noon","midnight","midday","late","early","schedule"],"skins":[{"unified":"1f55b","native":""}],"version":1},"clock1230":{"id":"clock1230","name":"Twelve-Thirty","keywords":["clock1230","twelve","thirty","00:30","0030","12:30","1230","time","late","early","schedule"],"skins":[{"unified":"1f567","native":""}],"version":1},"clock1":{"id":"clock1","name":"One Oclock","keywords":["clock1","o","clock","1","1:00","100","13:00","1300","time","late","early","schedule"],"skins":[{"unified":"1f550","native":""}],"version":1},"clock130":{"id":"clock130","name":"One-Thirty","keywords":["clock130","one","thirty","1:30","130","13:30","1330","time","late","early","schedule"],"skins":[{"unified":"1f55c","native":""}],"version":1},"clock2":{"id":"clock2","name":"Two Oclock","keywords":["clock2","o","clock","2","2:00","200","14:00","1400","time","late","early","schedule"],"skins":[{"unified":"1f551","native":""}],"version":1},"clock230":{"id":"clock230","name":"Two-Thirty","keywords":["clock230","two","thirty","2:30","230","14:30","1430","time","late","early","schedule"],"skins":[{"unified":"1f55d","native":""}],"version":1},"clock3":{"id":"clock3","name":"Three Oclock","keywords":["clock3","o","clock","3","3:00","300","15:00","1500","time","late","early","schedule"],"skins":[{"unified":"1f552","native":""}],"version":1},"clock330":{"id":"clock330","name":"Three-Thirty","keywords":["clock330","three","thirty","3:30","330","15:30","1530","time","late","early","schedule"],"skins":[{"unified":"1f55e","native":""}],"version":1},"clock4":{"id":"clock4","name":"Four Oclock","keywords":["clock4","o","clock","4","4:00","400","16:00","1600","time","late","early","schedule"],"skins":[{"unified":"1f553","native":""}],"version":1},"clock430":{"id":"clock430","name":"Four-Thirty","keywords":["clock430","four","thirty","4:30","430","16:30","1630","time","late","early","schedule"],"skins":[{"unified":"1f55f","native":""}],"version":1},"clock5":{"id":"clock5","name":"Five Oclock","keywords":["clock5","o","clock","5","5:00","500","17:00","1700","time","late","early","schedule"],"skins":[{"unified":"1f554","native":""}],"version":1},"clock530":{"id":"clock530","name":"Five-Thirty","keywords":["clock530","five","thirty","5:30","530","17:30","1730","time","late","early","schedule"],"skins":[{"unified":"1f560","native":""}],"version":1},"clock6":{"id":"clock6","name":"Six Oclock","keywords":["clock6","o","clock","6","6:00","600","18:00","1800","time","late","early","schedule","dawn","dusk"],"skins":[{"unified":"1f555","native":""}],"version":1},"clock630":{"id":"clock630","name":"Six-Thirty","keywords":["clock630","six","thirty","6:30","630","18:30","1830","time","late","early","schedule"],"skins":[{"unified":"1f561","native":""}],"version":1},"clock7":{"id":"clock7","name":"Seven Oclock","keywords":["clock7","o","clock","7","7:00","700","19:00","1900","time","late","early","schedule"],"skins":[{"unified":"1f556","native":""}],"version":1},"clock730":{"id":"clock730","name":"Seven-Thirty","keywords":["clock730","seven","thirty","7:30","730","19:30","1930","time","late","early","schedule"],"skins":[{"unified":"1f562","native":""}],"version":1},"clock8":{"id":"clock8","name":"Eight Oclock","keywords":["clock8","o","clock","8","8:00","800","20:00","2000","time","late","early","schedule"],"skins":[{"unified":"1f557","native":""}],"version":1},"clock830":{"id":"clock830","name":"Eight-Thirty","keywords":["clock830","eight","thirty","8:30","830","20:30","2030","time","late","early","schedule"],"skins":[{"unified":"1f563","native":""}],"version":1},"clock9":{"id":"clock9","name":"Nine Oclock","keywords":["clock9","o","clock","9","9:00","900","21:00","2100","time","late","early","schedule"],"skins":[{"unified":"1f558","native":""}],"version":1},"clock930":{"id":"clock930","name":"Nine-Thirty","keywords":["clock930","nine","thirty","9:30","930","21:30","2130","time","late","early","schedule"],"skins":[{"unified":"1f564","native":""}],"version":1},"clock10":{"id":"clock10","name":"Ten Oclock","keywords":["clock10","o","clock","10","10:00","1000","22:00","2200","time","late","early","schedule"],"skins":[{"unified":"1f559","native":""}],"version":1},"clock1030":{"id":"clock1030","name":"Ten-Thirty","keywords":["clock1030","ten","thirty","10:30","1030","22:30","2230","time","late","early","schedule"],"skins":[{"unified":"1f565","native":""}],"version":1},"clock11":{"id":"clock11","name":"Eleven Oclock","keywords":["clock11","o","clock","11","11:00","1100","23:00","2300","time","late","early","schedule"],"skins":[{"unified":"1f55a","native":""}],"version":1},"clock1130":{"id":"clock1130","name":"Eleven-Thirty","keywords":["clock1130","eleven","thirty","11:30","1130","23:30","2330","time","late","early","schedule"],"skins":[{"unified":"1f566","native":""}],"version":1},"new_moon":{"id":"new_moon","name":"New Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f311","native":""}],"version":1},"waxing_crescent_moon":{"id":"waxing_crescent_moon","name":"Waxing Crescent Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f312","native":""}],"version":1},"first_quarter_moon":{"id":"first_quarter_moon","name":"First Quarter Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f313","native":""}],"version":1},"moon":{"id":"moon","name":"Waxing Gibbous Moon","keywords":["nature","night","sky","gray","twilight","planet","space","evening","sleep"],"skins":[{"unified":"1f314","native":""}],"version":1},"full_moon":{"id":"full_moon","name":"Full Moon","keywords":["nature","yellow","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f315","native":""}],"version":1},"waning_gibbous_moon":{"id":"waning_gibbous_moon","name":"Waning Gibbous Moon","keywords":["nature","twilight","planet","space","night","evening","sleep","waxing"],"skins":[{"unified":"1f316","native":""}],"version":1},"last_quarter_moon":{"id":"last_quarter_moon","name":"Last Quarter Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f317","native":""}],"version":1},"waning_crescent_moon":{"id":"waning_crescent_moon","name":"Waning Crescent Moon","keywords":["nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f318","native":""}],"version":1},"crescent_moon":{"id":"crescent_moon","name":"Crescent Moon","keywords":["night","sleep","sky","evening","magic"],"skins":[{"unified":"1f319","native":""}],"version":1},"new_moon_with_face":{"id":"new_moon_with_face","name":"New Moon Face","keywords":["with","nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f31a","native":""}],"version":1},"first_quarter_moon_with_face":{"id":"first_quarter_moon_with_face","name":"First Quarter Moon Face","keywords":["with","nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f31b","native":""}],"version":1},"last_quarter_moon_with_face":{"id":"last_quarter_moon_with_face","name":"Last Quarter Moon Face","keywords":["with","nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f31c","native":""}],"version":1},"thermometer":{"id":"thermometer","name":"Thermometer","keywords":["weather","temperature","hot","cold"],"skins":[{"unified":"1f321-fe0f","native":""}],"version":1},"sunny":{"id":"sunny","name":"Sun","keywords":["sunny","weather","nature","brightness","summer","beach","spring"],"skins":[{"unified":"2600-fe0f","native":""}],"version":1},"full_moon_with_face":{"id":"full_moon_with_face","name":"Full Moon Face","keywords":["with","nature","twilight","planet","space","night","evening","sleep"],"skins":[{"unified":"1f31d","native":""}],"version":1},"sun_with_face":{"id":"sun_with_face","name":"Sun with Face","keywords":["nature","morning","sky"],"skins":[{"unified":"1f31e","native":""}],"version":1},"ringed_planet":{"id":"ringed_planet","name":"Ringed Planet","keywords":["outerspace"],"skins":[{"unified":"1fa90","native":""}],"version":12},"star":{"id":"star","name":"Star","keywords":["night","yellow"],"skins":[{"unified":"2b50","native":""}],"version":1},"star2":{"id":"star2","name":"Glowing Star","keywords":["star2","night","sparkle","awesome","good","magic"],"skins":[{"unified":"1f31f","native":""}],"version":1},"stars":{"id":"stars","name":"Shooting Star","keywords":["stars","night","photo"],"skins":[{"unified":"1f320","native":""}],"version":1},"milky_way":{"id":"milky_way","name":"Milky Way","keywords":["photo","space","stars"],"skins":[{"unified":"1f30c","native":""}],"version":1},"cloud":{"id":"cloud","name":"Cloud","keywords":["weather","sky"],"skins":[{"unified":"2601-fe0f","native":""}],"version":1},"partly_sunny":{"id":"partly_sunny","name":"Sun Behind Cloud","keywords":["partly","sunny","weather","nature","cloudy","morning","fall","spring"],"skins":[{"unified":"26c5","native":""}],"version":1},"thunder_cloud_and_rain":{"id":"thunder_cloud_and_rain","name":"Cloud with Lightning and Rain","keywords":["thunder","weather"],"skins":[{"unified":"26c8-fe0f","native":""}],"version":1},"mostly_sunny":{"id":"mostly_sunny","name":"Sun Behind Small Cloud","keywords":["mostly","sunny","weather"],"skins":[{"unified":"1f324-fe0f","native":""}],"version":1},"barely_sunny":{"id":"barely_sunny","name":"Sun Behind Large Cloud","keywords":["barely","sunny","weather"],"skins":[{"unified":"1f325-fe0f","native":""}],"version":1},"partly_sunny_rain":{"id":"partly_sunny_rain","name":"Sun Behind Rain Cloud","keywords":["partly","sunny","weather"],"skins":[{"unified":"1f326-fe0f","native":""}],"version":1},"rain_cloud":{"id":"rain_cloud","name":"Cloud with Rain","keywords":["weather"],"skins":[{"unified":"1f327-fe0f","native":""}],"version":1},"snow_cloud":{"id":"snow_cloud","name":"Cloud with Snow","keywords":["weather"],"skins":[{"unified":"1f328-fe0f","native":""}],"version":1},"lightning":{"id":"lightning","name":"Cloud with Lightning","keywords":["weather","thunder"],"skins":[{"unified":"1f329-fe0f","native":""}],"version":1},"tornado":{"id":"tornado","name":"Tornado","keywords":["cloud","weather","cyclone","twister"],"skins":[{"unified":"1f32a-fe0f","native":""}],"version":1},"fog":{"id":"fog","name":"Fog","keywords":["weather"],"skins":[{"unified":"1f32b-fe0f","native":""}],"version":1},"wind_blowing_face":{"id":"wind_blowing_face","name":"Wind Face","keywords":["blowing","gust","air"],"skins":[{"unified":"1f32c-fe0f","native":""}],"version":1},"cyclone":{"id":"cyclone","name":"Cyclone","keywords":["weather","swirl","blue","cloud","vortex","spiral","whirlpool","spin","tornado","hurricane","typhoon"],"skins":[{"unified":"1f300","native":""}],"version":1},"rainbow":{"id":"rainbow","name":"Rainbow","keywords":["nature","happy","unicorn","face","photo","sky","spring"],"skins":[{"unified":"1f308","native":""}],"version":1},"closed_umbrella":{"id":"closed_umbrella","name":"Closed Umbrella","keywords":["weather","rain","drizzle"],"skins":[{"unified":"1f302","native":""}],"version":1},"umbrella":{"id":"umbrella","name":"Umbrella","keywords":["weather","spring"],"skins":[{"unified":"2602-fe0f","native":""}],"version":1},"umbrella_with_rain_drops":{"id":"umbrella_with_rain_drops","name":"Umbrella with Rain Drops","keywords":["rainy","weather","spring"],"skins":[{"unified":"2614","native":""}],"version":1},"umbrella_on_ground":{"id":"umbrella_on_ground","name":"Umbrella on Ground","keywords":["weather","summer"],"skins":[{"unified":"26f1-fe0f","native":""}],"version":1},"zap":{"id":"zap","name":"High Voltage","keywords":["zap","thunder","weather","lightning","bolt","fast"],"skins":[{"unified":"26a1","native":""}],"version":1},"snowflake":{"id":"snowflake","name":"Snowflake","keywords":["winter","season","cold","weather","christmas","xmas"],"skins":[{"unified":"2744-fe0f","native":""}],"version":1},"snowman":{"id":"snowman","name":"Snowman","keywords":["winter","season","cold","weather","christmas","xmas","frozen"],"skins":[{"unified":"2603-fe0f","native":""}],"version":1},"snowman_without_snow":{"id":"snowman_without_snow","name":"Snowman Without Snow","keywords":["winter","season","cold","weather","christmas","xmas","frozen"],"skins":[{"unified":"26c4","native":""}],"version":1},"comet":{"id":"comet","name":"Comet","keywords":["space"],"skins":[{"unified":"2604-fe0f","native":""}],"version":1},"fire":{"id":"fire","name":"Fire","keywords":["hot","cook","flame"],"skins":[{"unified":"1f525","native":""}],"version":1},"droplet":{"id":"droplet","name":"Droplet","keywords":["water","drip","faucet","spring"],"skins":[{"unified":"1f4a7","native":""}],"version":1},"ocean":{"id":"ocean","name":"Water Wave","keywords":["ocean","sea","nature","tsunami","disaster"],"skins":[{"unified":"1f30a","native":""}],"version":1},"jack_o_lantern":{"id":"jack_o_lantern","name":"Jack-O-Lantern","keywords":["jack","o","lantern","halloween","light","pumpkin","creepy","fall"],"skins":[{"unified":"1f383","native":""}],"version":1},"christmas_tree":{"id":"christmas_tree","name":"Christmas Tree","keywords":["festival","vacation","december","xmas","celebration"],"skins":[{"unified":"1f384","native":""}],"version":1},"fireworks":{"id":"fireworks","name":"Fireworks","keywords":["photo","festival","carnival","congratulations"],"skins":[{"unified":"1f386","native":""}],"version":1},"sparkler":{"id":"sparkler","name":"Sparkler","keywords":["stars","night","shine"],"skins":[{"unified":"1f387","native":""}],"version":1},"firecracker":{"id":"firecracker","name":"Firecracker","keywords":["dynamite","boom","explode","explosion","explosive"],"skins":[{"unified":"1f9e8","native":""}],"version":11},"sparkles":{"id":"sparkles","name":"Sparkles","keywords":["stars","shine","shiny","cool","awesome","good","magic"],"skins":[{"unified":"2728","native":""}],"version":1},"balloon":{"id":"balloon","name":"Balloon","keywords":["party","celebration","birthday","circus"],"skins":[{"unified":"1f388","native":""}],"version":1},"tada":{"id":"tada","name":"Party Popper","keywords":["tada","congratulations","birthday","magic","circus","celebration"],"skins":[{"unified":"1f389","native":""}],"version":1},"confetti_ball":{"id":"confetti_ball","name":"Confetti Ball","keywords":["festival","party","birthday","circus"],"skins":[{"unified":"1f38a","native":""}],"version":1},"tanabata_tree":{"id":"tanabata_tree","name":"Tanabata Tree","keywords":["plant","nature","branch","summer","bamboo","wish","star","festival","tanzaku"],"skins":[{"unified":"1f38b","native":""}],"version":1},"bamboo":{"id":"bamboo","name":"Pine Decoration","keywords":["bamboo","japanese","plant","nature","vegetable","panda","new","years"],"skins":[{"unified":"1f38d","native":""}],"version":1},"dolls":{"id":"dolls","name":"Japanese Dolls","keywords":["toy","kimono"],"skins":[{"unified":"1f38e","native":""}],"version":1},"flags":{"id":"flags","name":"Carp Streamer","keywords":["flags","fish","japanese","koinobori","banner"],"skins":[{"unified":"1f38f","native":""}],"version":1},"wind_chime":{"id":"wind_chime","name":"Wind Chime","keywords":["nature","ding","spring","bell"],"skins":[{"unified":"1f390","native":""}],"version":1},"rice_scene":{"id":"rice_scene","name":"Moon Viewing Ceremony","keywords":["rice","scene","photo","japan","asia","tsukimi"],"skins":[{"unified":"1f391","native":""}],"version":1},"red_envelope":{"id":"red_envelope","name":"Red Envelope","keywords":["gift"],"skins":[{"unified":"1f9e7","native":""}],"version":11},"ribbon":{"id":"ribbon","name":"Ribbon","keywords":["decoration","pink","girl","bowtie"],"skins":[{"unified":"1f380","native":""}],"version":1},"gift":{"id":"gift","name":"Wrapped Gift","keywords":["present","birthday","christmas","xmas"],"skins":[{"unified":"1f381","native":""}],"version":1},"reminder_ribbon":{"id":"reminder_ribbon","name":"Reminder Ribbon","keywords":["sports","cause","support","awareness"],"skins":[{"unified":"1f397-fe0f","native":""}],"version":1},"admission_tickets":{"id":"admission_tickets","name":"Admission Tickets","keywords":["sports","concert","entrance"],"skins":[{"unified":"1f39f-fe0f","native":""}],"version":1},"ticket":{"id":"ticket","name":"Ticket","keywords":["event","concert","pass"],"skins":[{"unified":"1f3ab","native":""}],"version":1},"medal":{"id":"medal","name":"Military Medal","keywords":["award","winning","army"],"skins":[{"unified":"1f396-fe0f","native":""}],"version":1},"trophy":{"id":"trophy","name":"Trophy","keywords":["win","award","contest","place","ftw","ceremony"],"skins":[{"unified":"1f3c6","native":""}],"version":1},"sports_medal":{"id":"sports_medal","name":"Sports Medal","keywords":["award","winning"],"skins":[{"unified":"1f3c5","native":""}],"version":1},"first_place_medal":{"id":"first_place_medal","name":"1st Place Medal","keywords":["first","award","winning"],"skins":[{"unified":"1f947","native":""}],"version":3},"second_place_medal":{"id":"second_place_medal","name":"2nd Place Medal","keywords":["second","award"],"skins":[{"unified":"1f948","native":""}],"version":3},"third_place_medal":{"id":"third_place_medal","name":"3rd Place Medal","keywords":["third","award"],"skins":[{"unified":"1f949","native":""}],"version":3},"soccer":{"id":"soccer","name":"Soccer Ball","keywords":["sports","football"],"skins":[{"unified":"26bd","native":""}],"version":1},"baseball":{"id":"baseball","name":"Baseball","keywords":["sports","balls"],"skins":[{"unified":"26be","native":""}],"version":1},"softball":{"id":"softball","name":"Softball","keywords":["sports","balls"],"skins":[{"unified":"1f94e","native":""}],"version":11},"basketball":{"id":"basketball","name":"Basketball","keywords":["sports","balls","NBA"],"skins":[{"unified":"1f3c0","native":""}],"version":1},"volleyball":{"id":"volleyball","name":"Volleyball","keywords":["sports","balls"],"skins":[{"unified":"1f3d0","native":""}],"version":1},"football":{"id":"football","name":"American Football","keywords":["sports","balls","NFL"],"skins":[{"unified":"1f3c8","native":""}],"version":1},"rugby_football":{"id":"rugby_football","name":"Rugby Football","keywords":["sports","team"],"skins":[{"unified":"1f3c9","native":""}],"version":1},"tennis":{"id":"tennis","name":"Tennis","keywords":["sports","balls","green"],"skins":[{"unified":"1f3be","native":""}],"version":1},"flying_disc":{"id":"flying_disc","name":"Flying Disc","keywords":["sports","frisbee","ultimate"],"skins":[{"unified":"1f94f","native":""}],"version":11},"bowling":{"id":"bowling","name":"Bowling","keywords":["sports","fun","play"],"skins":[{"unified":"1f3b3","native":""}],"version":1},"cricket_bat_and_ball":{"id":"cricket_bat_and_ball","name":"Cricket Game","keywords":["bat","and","ball","sports"],"skins":[{"unified":"1f3cf","native":""}],"version":1},"field_hockey_stick_and_ball":{"id":"field_hockey_stick_and_ball","name":"Field Hockey","keywords":["stick","and","ball","sports"],"skins":[{"unified":"1f3d1","native":""}],"version":1},"ice_hockey_stick_and_puck":{"id":"ice_hockey_stick_and_puck","name":"Ice Hockey","keywords":["stick","and","puck","sports"],"skins":[{"unified":"1f3d2","native":""}],"version":1},"lacrosse":{"id":"lacrosse","name":"Lacrosse","keywords":["sports","ball","stick"],"skins":[{"unified":"1f94d","native":""}],"version":11},"table_tennis_paddle_and_ball":{"id":"table_tennis_paddle_and_ball","name":"Ping Pong","keywords":["table","tennis","paddle","and","ball","sports","pingpong"],"skins":[{"unified":"1f3d3","native":""}],"version":1},"badminton_racquet_and_shuttlecock":{"id":"badminton_racquet_and_shuttlecock","name":"Badminton","keywords":["racquet","and","shuttlecock","sports"],"skins":[{"unified":"1f3f8","native":""}],"version":1},"boxing_glove":{"id":"boxing_glove","name":"Boxing Glove","keywords":["sports","fighting"],"skins":[{"unified":"1f94a","native":""}],"version":3},"martial_arts_uniform":{"id":"martial_arts_uniform","name":"Martial Arts Uniform","keywords":["judo","karate","taekwondo"],"skins":[{"unified":"1f94b","native":""}],"version":3},"goal_net":{"id":"goal_net","name":"Goal Net","keywords":["sports"],"skins":[{"unified":"1f945","native":""}],"version":3},"golf":{"id":"golf","name":"Flag in Hole","keywords":["golf","sports","business","summer"],"skins":[{"unified":"26f3","native":""}],"version":1},"ice_skate":{"id":"ice_skate","name":"Ice Skate","keywords":["sports"],"skins":[{"unified":"26f8-fe0f","native":""}],"version":1},"fishing_pole_and_fish":{"id":"fishing_pole_and_fish","name":"Fishing Pole","keywords":["and","fish","food","hobby","summer"],"skins":[{"unified":"1f3a3","native":""}],"version":1},"diving_mask":{"id":"diving_mask","name":"Diving Mask","keywords":["sport","ocean"],"skins":[{"unified":"1f93f","native":""}],"version":12},"running_shirt_with_sash":{"id":"running_shirt_with_sash","name":"Running Shirt","keywords":["with","sash","play","pageant"],"skins":[{"unified":"1f3bd","native":""}],"version":1},"ski":{"id":"ski","name":"Skis","keywords":["ski","sports","winter","cold","snow"],"skins":[{"unified":"1f3bf","native":""}],"version":1},"sled":{"id":"sled","name":"Sled","keywords":["sleigh","luge","toboggan"],"skins":[{"unified":"1f6f7","native":""}],"version":5},"curling_stone":{"id":"curling_stone","name":"Curling Stone","keywords":["sports"],"skins":[{"unified":"1f94c","native":""}],"version":5},"dart":{"id":"dart","name":"Bullseye","keywords":["dart","direct","hit","game","play","bar","target"],"skins":[{"unified":"1f3af","native":""}],"version":1},"yo-yo":{"id":"yo-yo","name":"Yo-Yo","keywords":["yo","toy"],"skins":[{"unified":"1fa80","native":""}],"version":12},"kite":{"id":"kite","name":"Kite","keywords":["wind","fly"],"skins":[{"unified":"1fa81","native":""}],"version":12},"gun":{"id":"gun","name":"Pistol","keywords":["gun","violence","weapon","revolver"],"skins":[{"unified":"1f52b","native":""}],"version":1},"8ball":{"id":"8ball","name":"Billiards","keywords":["8ball","pool","8","ball","hobby","game","luck","magic"],"skins":[{"unified":"1f3b1","native":""}],"version":1},"crystal_ball":{"id":"crystal_ball","name":"Crystal Ball","keywords":["disco","party","magic","circus","fortune","teller"],"skins":[{"unified":"1f52e","native":""}],"version":1},"magic_wand":{"id":"magic_wand","name":"Magic Wand","keywords":["supernature","power"],"skins":[{"unified":"1fa84","native":""}],"version":13},"video_game":{"id":"video_game","name":"Video Game","keywords":["play","console","PS4","controller"],"skins":[{"unified":"1f3ae","native":""}],"version":1},"joystick":{"id":"joystick","name":"Joystick","keywords":["game","play"],"skins":[{"unified":"1f579-fe0f","native":""}],"version":1},"slot_machine":{"id":"slot_machine","name":"Slot Machine","keywords":["bet","gamble","vegas","fruit","luck","casino"],"skins":[{"unified":"1f3b0","native":""}],"version":1},"game_die":{"id":"game_die","name":"Game Die","keywords":["dice","random","tabletop","play","luck"],"skins":[{"unified":"1f3b2","native":""}],"version":1},"jigsaw":{"id":"jigsaw","name":"Puzzle Piece","keywords":["jigsaw","interlocking"],"skins":[{"unified":"1f9e9","native":""}],"version":11},"teddy_bear":{"id":"teddy_bear","name":"Teddy Bear","keywords":["plush","stuffed"],"skins":[{"unified":"1f9f8","native":""}],"version":11},"pinata":{"id":"pinata","name":"Pinata","keywords":["mexico","candy","celebration"],"skins":[{"unified":"1fa85","native":""}],"version":13},"mirror_ball":{"id":"mirror_ball","name":"Mirror Ball","keywords":["disco","dance","party"],"skins":[{"unified":"1faa9","native":""}],"version":14},"nesting_dolls":{"id":"nesting_dolls","name":"Nesting Dolls","keywords":["matryoshka","toy"],"skins":[{"unified":"1fa86","native":""}],"version":13},"spades":{"id":"spades","name":"Spade Suit","keywords":["spades","poker","cards","suits","magic"],"skins":[{"unified":"2660-fe0f","native":""}],"version":1},"hearts":{"id":"hearts","name":"Heart Suit","keywords":["hearts","poker","cards","magic","suits"],"skins":[{"unified":"2665-fe0f","native":""}],"version":1},"diamonds":{"id":"diamonds","name":"Diamond Suit","keywords":["diamonds","poker","cards","magic","suits"],"skins":[{"unified":"2666-fe0f","native":""}],"version":1},"clubs":{"id":"clubs","name":"Club Suit","keywords":["clubs","poker","cards","magic","suits"],"skins":[{"unified":"2663-fe0f","native":""}],"version":1},"chess_pawn":{"id":"chess_pawn","name":"Chess Pawn","keywords":["expendable"],"skins":[{"unified":"265f-fe0f","native":""}],"version":11},"black_joker":{"id":"black_joker","name":"Joker","keywords":["black","poker","cards","game","play","magic"],"skins":[{"unified":"1f0cf","native":""}],"version":1},"mahjong":{"id":"mahjong","name":"Mahjong Red Dragon","keywords":["game","play","chinese","kanji"],"skins":[{"unified":"1f004","native":""}],"version":1},"flower_playing_cards":{"id":"flower_playing_cards","name":"Flower Playing Cards","keywords":["game","sunset","red"],"skins":[{"unified":"1f3b4","native":""}],"version":1},"performing_arts":{"id":"performing_arts","name":"Performing Arts","keywords":["acting","theater","drama"],"skins":[{"unified":"1f3ad","native":""}],"version":1},"frame_with_picture":{"id":"frame_with_picture","name":"Framed Picture","keywords":["frame","with","photography"],"skins":[{"unified":"1f5bc-fe0f","native":""}],"version":1},"art":{"id":"art","name":"Artist Palette","keywords":["art","design","paint","draw","colors"],"skins":[{"unified":"1f3a8","native":""}],"version":1},"thread":{"id":"thread","name":"Thread","keywords":["needle","sewing","spool","string"],"skins":[{"unified":"1f9f5","native":""}],"version":11},"sewing_needle":{"id":"sewing_needle","name":"Sewing Needle","keywords":["stitches"],"skins":[{"unified":"1faa1","native":""}],"version":13},"yarn":{"id":"yarn","name":"Yarn","keywords":["ball","crochet","knit"],"skins":[{"unified":"1f9f6","native":""}],"version":11},"knot":{"id":"knot","name":"Knot","keywords":["rope","scout"],"skins":[{"unified":"1faa2","native":""}],"version":13},"eyeglasses":{"id":"eyeglasses","name":"Glasses","keywords":["eyeglasses","fashion","accessories","eyesight","nerdy","dork","geek"],"skins":[{"unified":"1f453","native":""}],"version":1},"dark_sunglasses":{"id":"dark_sunglasses","name":"Sunglasses","keywords":["dark","face","cool","accessories"],"skins":[{"unified":"1f576-fe0f","native":""}],"version":1},"goggles":{"id":"goggles","name":"Goggles","keywords":["eyes","protection","safety"],"skins":[{"unified":"1f97d","native":""}],"version":11},"lab_coat":{"id":"lab_coat","name":"Lab Coat","keywords":["doctor","experiment","scientist","chemist"],"skins":[{"unified":"1f97c","native":""}],"version":11},"safety_vest":{"id":"safety_vest","name":"Safety Vest","keywords":["protection"],"skins":[{"unified":"1f9ba","native":""}],"version":12},"necktie":{"id":"necktie","name":"Necktie","keywords":["shirt","suitup","formal","fashion","cloth","business"],"skins":[{"unified":"1f454","native":""}],"version":1},"shirt":{"id":"shirt","name":"T-Shirt","keywords":["shirt","tshirt","t","fashion","cloth","casual","tee"],"skins":[{"unified":"1f455","native":""}],"version":1},"jeans":{"id":"jeans","name":"Jeans","keywords":["fashion","shopping"],"skins":[{"unified":"1f456","native":""}],"version":1},"scarf":{"id":"scarf","name":"Scarf","keywords":["neck","winter","clothes"],"skins":[{"unified":"1f9e3","native":""}],"version":5},"gloves":{"id":"gloves","name":"Gloves","keywords":["hands","winter","clothes"],"skins":[{"unified":"1f9e4","native":""}],"version":5},"coat":{"id":"coat","name":"Coat","keywords":["jacket"],"skins":[{"unified":"1f9e5","native":""}],"version":5},"socks":{"id":"socks","name":"Socks","keywords":["stockings","clothes"],"skins":[{"unified":"1f9e6","native":""}],"version":5},"dress":{"id":"dress","name":"Dress","keywords":["clothes","fashion","shopping"],"skins":[{"unified":"1f457","native":""}],"version":1},"kimono":{"id":"kimono","name":"Kimono","keywords":["dress","fashion","women","female","japanese"],"skins":[{"unified":"1f458","native":""}],"version":1},"sari":{"id":"sari","name":"Sari","keywords":["dress"],"skins":[{"unified":"1f97b","native":""}],"version":12},"one-piece_swimsuit":{"id":"one-piece_swimsuit","name":"One-Piece Swimsuit","keywords":["one","piece","fashion"],"skins":[{"unified":"1fa71","native":""}],"version":12},"briefs":{"id":"briefs","name":"Briefs","keywords":["clothing"],"skins":[{"unified":"1fa72","native":""}],"version":12},"shorts":{"id":"shorts","name":"Shorts","keywords":["clothing"],"skins":[{"unified":"1fa73","native":""}],"version":12},"bikini":{"id":"bikini","name":"Bikini","keywords":["swimming","female","woman","girl","fashion","beach","summer"],"skins":[{"unified":"1f459","native":""}],"version":1},"womans_clothes":{"id":"womans_clothes","name":"Womans Clothes","keywords":["woman","s","fashion","shopping","bags","female"],"skins":[{"unified":"1f45a","native":""}],"version":1},"folding_hand_fan":{"id":"folding_hand_fan","name":"Folding Hand Fan","keywords":["flamenco","hot"],"skins":[{"unified":"1faad","native":""}],"version":15},"purse":{"id":"purse","name":"Purse","keywords":["fashion","accessories","money","sales","shopping"],"skins":[{"unified":"1f45b","native":""}],"version":1},"handbag":{"id":"handbag","name":"Handbag","keywords":["fashion","accessory","accessories","shopping"],"skins":[{"unified":"1f45c","native":""}],"version":1},"pouch":{"id":"pouch","name":"Pouch","keywords":["clutch","bag","accessories","shopping"],"skins":[{"unified":"1f45d","native":""}],"version":1},"shopping_bags":{"id":"shopping_bags","name":"Shopping Bags","keywords":["mall","buy","purchase"],"skins":[{"unified":"1f6cd-fe0f","native":""}],"version":1},"school_satchel":{"id":"school_satchel","name":"Backpack","keywords":["school","satchel","student","education","bag"],"skins":[{"unified":"1f392","native":""}],"version":1},"thong_sandal":{"id":"thong_sandal","name":"Thong Sandal","keywords":["footwear","summer"],"skins":[{"unified":"1fa74","native":""}],"version":13},"mans_shoe":{"id":"mans_shoe","name":"Mans Shoe","keywords":["man","s","fashion","male"],"skins":[{"unified":"1f45e","native":""}],"version":1},"athletic_shoe":{"id":"athletic_shoe","name":"Running Shoe","keywords":["athletic","shoes","sports","sneakers"],"skins":[{"unified":"1f45f","native":""}],"version":1},"hiking_boot":{"id":"hiking_boot","name":"Hiking Boot","keywords":["backpacking","camping"],"skins":[{"unified":"1f97e","native":""}],"version":11},"womans_flat_shoe":{"id":"womans_flat_shoe","name":"Flat Shoe","keywords":["womans","ballet","slip","on","slipper"],"skins":[{"unified":"1f97f","native":""}],"version":11},"high_heel":{"id":"high_heel","name":"High-Heeled Shoe","keywords":["high","heel","heeled","fashion","shoes","female","pumps","stiletto"],"skins":[{"unified":"1f460","native":""}],"version":1},"sandal":{"id":"sandal","name":"Womans Sandal","keywords":["woman","s","shoes","fashion","flip","flops"],"skins":[{"unified":"1f461","native":""}],"version":1},"ballet_shoes":{"id":"ballet_shoes","name":"Ballet Shoes","keywords":["dance"],"skins":[{"unified":"1fa70","native":""}],"version":12},"boot":{"id":"boot","name":"Womans Boots","keywords":["boot","woman","s","shoes","fashion"],"skins":[{"unified":"1f462","native":""}],"version":1},"hair_pick":{"id":"hair_pick","name":"Hair Pick","keywords":["afro","comb"],"skins":[{"unified":"1faae","native":""}],"version":15},"crown":{"id":"crown","name":"Crown","keywords":["king","kod","leader","royalty","lord"],"skins":[{"unified":"1f451","native":""}],"version":1},"womans_hat":{"id":"womans_hat","name":"Womans Hat","keywords":["woman","s","fashion","accessories","female","lady","spring"],"skins":[{"unified":"1f452","native":""}],"version":1},"tophat":{"id":"tophat","name":"Top Hat","keywords":["tophat","magic","gentleman","classy","circus"],"skins":[{"unified":"1f3a9","native":""}],"version":1},"mortar_board":{"id":"mortar_board","name":"Graduation Cap","keywords":["mortar","board","school","college","degree","university","hat","legal","learn","education"],"skins":[{"unified":"1f393","native":""}],"version":1},"billed_cap":{"id":"billed_cap","name":"Billed Cap","keywords":["baseball"],"skins":[{"unified":"1f9e2","native":""}],"version":5},"military_helmet":{"id":"military_helmet","name":"Military Helmet","keywords":["army","protection"],"skins":[{"unified":"1fa96","native":""}],"version":13},"helmet_with_white_cross":{"id":"helmet_with_white_cross","name":"Rescue Workers Helmet","keywords":["with","white","cross","worker","s","construction","build"],"skins":[{"unified":"26d1-fe0f","native":""}],"version":1},"prayer_beads":{"id":"prayer_beads","name":"Prayer Beads","keywords":["dhikr","religious"],"skins":[{"unified":"1f4ff","native":""}],"version":1},"lipstick":{"id":"lipstick","name":"Lipstick","keywords":["female","girl","fashion","woman"],"skins":[{"unified":"1f484","native":""}],"version":1},"ring":{"id":"ring","name":"Ring","keywords":["wedding","propose","marriage","valentines","diamond","fashion","jewelry","gem","engagement"],"skins":[{"unified":"1f48d","native":""}],"version":1},"gem":{"id":"gem","name":"Gem Stone","keywords":["blue","ruby","diamond","jewelry"],"skins":[{"unified":"1f48e","native":""}],"version":1},"mute":{"id":"mute","name":"Muted Speaker","keywords":["mute","sound","volume","silence","quiet"],"skins":[{"unified":"1f507","native":""}],"version":1},"speaker":{"id":"speaker","name":"Speaker","keywords":["low","volume","sound","silence","broadcast"],"skins":[{"unified":"1f508","native":""}],"version":1},"sound":{"id":"sound","name":"Speaker Medium Volume","keywords":["sound","broadcast"],"skins":[{"unified":"1f509","native":""}],"version":1},"loud_sound":{"id":"loud_sound","name":"Speaker High Volume","keywords":["loud","sound","noise","noisy","broadcast"],"skins":[{"unified":"1f50a","native":""}],"version":1},"loudspeaker":{"id":"loudspeaker","name":"Loudspeaker","keywords":["volume","sound"],"skins":[{"unified":"1f4e2","native":""}],"version":1},"mega":{"id":"mega","name":"Megaphone","keywords":["mega","sound","speaker","volume"],"skins":[{"unified":"1f4e3","native":""}],"version":1},"postal_horn":{"id":"postal_horn","name":"Postal Horn","keywords":["instrument","music"],"skins":[{"unified":"1f4ef","native":""}],"version":1},"bell":{"id":"bell","name":"Bell","keywords":["sound","notification","christmas","xmas","chime"],"skins":[{"unified":"1f514","native":""}],"version":1},"no_bell":{"id":"no_bell","name":"Bell with Slash","keywords":["no","sound","volume","mute","quiet","silent"],"skins":[{"unified":"1f515","native":""}],"version":1},"musical_score":{"id":"musical_score","name":"Musical Score","keywords":["treble","clef","compose"],"skins":[{"unified":"1f3bc","native":""}],"version":1},"musical_note":{"id":"musical_note","name":"Musical Note","keywords":["score","tone","sound"],"skins":[{"unified":"1f3b5","native":""}],"version":1},"notes":{"id":"notes","name":"Musical Notes","keywords":["music","score"],"skins":[{"unified":"1f3b6","native":""}],"version":1},"studio_microphone":{"id":"studio_microphone","name":"Studio Microphone","keywords":["sing","recording","artist","talkshow"],"skins":[{"unified":"1f399-fe0f","native":""}],"version":1},"level_slider":{"id":"level_slider","name":"Level Slider","keywords":["scale"],"skins":[{"unified":"1f39a-fe0f","native":""}],"version":1},"control_knobs":{"id":"control_knobs","name":"Control Knobs","keywords":["dial"],"skins":[{"unified":"1f39b-fe0f","native":""}],"version":1},"microphone":{"id":"microphone","name":"Microphone","keywords":["sound","music","PA","sing","talkshow"],"skins":[{"unified":"1f3a4","native":""}],"version":1},"headphones":{"id":"headphones","name":"Headphone","keywords":["headphones","music","score","gadgets"],"skins":[{"unified":"1f3a7","native":""}],"version":1},"radio":{"id":"radio","name":"Radio","keywords":["communication","music","podcast","program"],"skins":[{"unified":"1f4fb","native":""}],"version":1},"saxophone":{"id":"saxophone","name":"Saxophone","keywords":["music","instrument","jazz","blues"],"skins":[{"unified":"1f3b7","native":""}],"version":1},"accordion":{"id":"accordion","name":"Accordion","keywords":["music"],"skins":[{"unified":"1fa97","native":""}],"version":13},"guitar":{"id":"guitar","name":"Guitar","keywords":["music","instrument"],"skins":[{"unified":"1f3b8","native":""}],"version":1},"musical_keyboard":{"id":"musical_keyboard","name":"Musical Keyboard","keywords":["piano","instrument","compose"],"skins":[{"unified":"1f3b9","native":""}],"version":1},"trumpet":{"id":"trumpet","name":"Trumpet","keywords":["music","brass"],"skins":[{"unified":"1f3ba","native":""}],"version":1},"violin":{"id":"violin","name":"Violin","keywords":["music","instrument","orchestra","symphony"],"skins":[{"unified":"1f3bb","native":""}],"version":1},"banjo":{"id":"banjo","name":"Banjo","keywords":["music","instructment"],"skins":[{"unified":"1fa95","native":""}],"version":12},"drum_with_drumsticks":{"id":"drum_with_drumsticks","name":"Drum","keywords":["with","drumsticks","music","instrument","snare"],"skins":[{"unified":"1f941","native":""}],"version":3},"long_drum":{"id":"long_drum","name":"Long Drum","keywords":["music"],"skins":[{"unified":"1fa98","native":""}],"version":13},"maracas":{"id":"maracas","name":"Maracas","keywords":["music","instrument","percussion"],"skins":[{"unified":"1fa87","native":""}],"version":15},"flute":{"id":"flute","name":"Flute","keywords":["bamboo","music","instrument","pied","piper"],"skins":[{"unified":"1fa88","native":""}],"version":15},"iphone":{"id":"iphone","name":"Mobile Phone","keywords":["iphone","technology","apple","gadgets","dial"],"skins":[{"unified":"1f4f1","native":""}],"version":1},"calling":{"id":"calling","name":"Mobile Phone with Arrow","keywords":["calling","iphone","incoming"],"skins":[{"unified":"1f4f2","native":""}],"version":1},"phone":{"id":"phone","name":"Telephone","keywords":["phone","technology","communication","dial"],"skins":[{"unified":"260e-fe0f","native":""}],"version":1},"telephone_receiver":{"id":"telephone_receiver","name":"Telephone Receiver","keywords":["technology","communication","dial"],"skins":[{"unified":"1f4de","native":""}],"version":1},"pager":{"id":"pager","name":"Pager","keywords":["bbcall","oldschool","90s"],"skins":[{"unified":"1f4df","native":""}],"version":1},"fax":{"id":"fax","name":"Fax Machine","keywords":["communication","technology"],"skins":[{"unified":"1f4e0","native":""}],"version":1},"battery":{"id":"battery","name":"Battery","keywords":["power","energy","sustain"],"skins":[{"unified":"1f50b","native":""}],"version":1},"low_battery":{"id":"low_battery","name":"Low Battery","keywords":["drained","dead"],"skins":[{"unified":"1faab","native":""}],"version":14},"electric_plug":{"id":"electric_plug","name":"Electric Plug","keywords":["charger","power"],"skins":[{"unified":"1f50c","native":""}],"version":1},"computer":{"id":"computer","name":"Laptop","keywords":["computer","technology","screen","display","monitor"],"skins":[{"unified":"1f4bb","native":""}],"version":1},"desktop_computer":{"id":"desktop_computer","name":"Desktop Computer","keywords":["technology","computing","screen"],"skins":[{"unified":"1f5a5-fe0f","native":""}],"version":1},"printer":{"id":"printer","name":"Printer","keywords":["paper","ink"],"skins":[{"unified":"1f5a8-fe0f","native":""}],"version":1},"keyboard":{"id":"keyboard","name":"Keyboard","keywords":["technology","computer","type","input","text"],"skins":[{"unified":"2328-fe0f","native":""}],"version":1},"three_button_mouse":{"id":"three_button_mouse","name":"Computer Mouse","keywords":["three","button","click"],"skins":[{"unified":"1f5b1-fe0f","native":""}],"version":1},"trackball":{"id":"trackball","name":"Trackball","keywords":["technology","trackpad"],"skins":[{"unified":"1f5b2-fe0f","native":""}],"version":1},"minidisc":{"id":"minidisc","name":"Minidisc","keywords":["computer","disk","technology","record","data","90s"],"skins":[{"unified":"1f4bd","native":""}],"version":1},"floppy_disk":{"id":"floppy_disk","name":"Floppy Disk","keywords":["oldschool","technology","save","90s","80s"],"skins":[{"unified":"1f4be","native":""}],"version":1},"cd":{"id":"cd","name":"Optical Disc","keywords":["cd","disk","technology","dvd","90s"],"skins":[{"unified":"1f4bf","native":""}],"version":1},"dvd":{"id":"dvd","name":"Dvd","keywords":["cd","disk","disc"],"skins":[{"unified":"1f4c0","native":""}],"version":1},"abacus":{"id":"abacus","name":"Abacus","keywords":["calculation"],"skins":[{"unified":"1f9ee","native":""}],"version":11},"movie_camera":{"id":"movie_camera","name":"Movie Camera","keywords":["film","record"],"skins":[{"unified":"1f3a5","native":""}],"version":1},"film_frames":{"id":"film_frames","name":"Film Frames","keywords":["movie"],"skins":[{"unified":"1f39e-fe0f","native":""}],"version":1},"film_projector":{"id":"film_projector","name":"Film Projector","keywords":["video","tape","record","movie"],"skins":[{"unified":"1f4fd-fe0f","native":""}],"version":1},"clapper":{"id":"clapper","name":"Clapper Board","keywords":["movie","film","record"],"skins":[{"unified":"1f3ac","native":""}],"version":1},"tv":{"id":"tv","name":"Television","keywords":["tv","technology","program","oldschool","show"],"skins":[{"unified":"1f4fa","native":""}],"version":1},"camera":{"id":"camera","name":"Camera","keywords":["gadgets","photography"],"skins":[{"unified":"1f4f7","native":""}],"version":1},"camera_with_flash":{"id":"camera_with_flash","name":"Camera with Flash","keywords":["photography","gadgets"],"skins":[{"unified":"1f4f8","native":""}],"version":1},"video_camera":{"id":"video_camera","name":"Video Camera","keywords":["film","record"],"skins":[{"unified":"1f4f9","native":""}],"version":1},"vhs":{"id":"vhs","name":"Videocassette","keywords":["vhs","record","video","oldschool","90s","80s"],"skins":[{"unified":"1f4fc","native":""}],"version":1},"mag":{"id":"mag","name":"Magnifying Glass Tilted Left","keywords":["mag","search","zoom","find","detective"],"skins":[{"unified":"1f50d","native":""}],"version":1},"mag_right":{"id":"mag_right","name":"Magnifying Glass Tilted Right","keywords":["mag","search","zoom","find","detective"],"skins":[{"unified":"1f50e","native":""}],"version":1},"candle":{"id":"candle","name":"Candle","keywords":["fire","wax"],"skins":[{"unified":"1f56f-fe0f","native":""}],"version":1},"bulb":{"id":"bulb","name":"Light Bulb","keywords":["electricity","idea"],"skins":[{"unified":"1f4a1","native":""}],"version":1},"flashlight":{"id":"flashlight","name":"Flashlight","keywords":["dark","camping","sight","night"],"skins":[{"unified":"1f526","native":""}],"version":1},"izakaya_lantern":{"id":"izakaya_lantern","name":"Izakaya Lantern","keywords":["red","paper","light","halloween","spooky"],"skins":[{"unified":"1f3ee","native":""}],"version":1},"diya_lamp":{"id":"diya_lamp","name":"Diya Lamp","keywords":["lighting"],"skins":[{"unified":"1fa94","native":""}],"version":12},"notebook_with_decorative_cover":{"id":"notebook_with_decorative_cover","name":"Notebook with Decorative Cover","keywords":["classroom","notes","record","paper","study"],"skins":[{"unified":"1f4d4","native":""}],"version":1},"closed_book":{"id":"closed_book","name":"Closed Book","keywords":["read","library","knowledge","textbook","learn"],"skins":[{"unified":"1f4d5","native":""}],"version":1},"book":{"id":"book","name":"Open Book","keywords":["read","library","knowledge","literature","learn","study"],"skins":[{"unified":"1f4d6","native":""}],"version":1},"green_book":{"id":"green_book","name":"Green Book","keywords":["read","library","knowledge","study"],"skins":[{"unified":"1f4d7","native":""}],"version":1},"blue_book":{"id":"blue_book","name":"Blue Book","keywords":["read","library","knowledge","learn","study"],"skins":[{"unified":"1f4d8","native":""}],"version":1},"orange_book":{"id":"orange_book","name":"Orange Book","keywords":["read","library","knowledge","textbook","study"],"skins":[{"unified":"1f4d9","native":""}],"version":1},"books":{"id":"books","name":"Books","keywords":["literature","library","study"],"skins":[{"unified":"1f4da","native":""}],"version":1},"notebook":{"id":"notebook","name":"Notebook","keywords":["stationery","record","notes","paper","study"],"skins":[{"unified":"1f4d3","native":""}],"version":1},"ledger":{"id":"ledger","name":"Ledger","keywords":["notes","paper"],"skins":[{"unified":"1f4d2","native":""}],"version":1},"page_with_curl":{"id":"page_with_curl","name":"Page with Curl","keywords":["documents","office","paper"],"skins":[{"unified":"1f4c3","native":""}],"version":1},"scroll":{"id":"scroll","name":"Scroll","keywords":["documents","ancient","history","paper"],"skins":[{"unified":"1f4dc","native":""}],"version":1},"page_facing_up":{"id":"page_facing_up","name":"Page Facing Up","keywords":["documents","office","paper","information"],"skins":[{"unified":"1f4c4","native":""}],"version":1},"newspaper":{"id":"newspaper","name":"Newspaper","keywords":["press","headline"],"skins":[{"unified":"1f4f0","native":""}],"version":1},"rolled_up_newspaper":{"id":"rolled_up_newspaper","name":"Rolled-Up Newspaper","keywords":["rolled","up","press","headline"],"skins":[{"unified":"1f5de-fe0f","native":""}],"version":1},"bookmark_tabs":{"id":"bookmark_tabs","name":"Bookmark Tabs","keywords":["favorite","save","order","tidy"],"skins":[{"unified":"1f4d1","native":""}],"version":1},"bookmark":{"id":"bookmark","name":"Bookmark","keywords":["favorite","label","save"],"skins":[{"unified":"1f516","native":""}],"version":1},"label":{"id":"label","name":"Label","keywords":["sale","tag"],"skins":[{"unified":"1f3f7-fe0f","native":""}],"version":1},"moneybag":{"id":"moneybag","name":"Money Bag","keywords":["moneybag","dollar","payment","coins","sale"],"skins":[{"unified":"1f4b0","native":""}],"version":1},"coin":{"id":"coin","name":"Coin","keywords":["money","currency"],"skins":[{"unified":"1fa99","native":""}],"version":13},"yen":{"id":"yen","name":"Yen Banknote","keywords":["money","sales","japanese","dollar","currency"],"skins":[{"unified":"1f4b4","native":""}],"version":1},"dollar":{"id":"dollar","name":"Dollar Banknote","keywords":["money","sales","bill","currency"],"skins":[{"unified":"1f4b5","native":""}],"version":1},"euro":{"id":"euro","name":"Euro Banknote","keywords":["money","sales","dollar","currency"],"skins":[{"unified":"1f4b6","native":""}],"version":1},"pound":{"id":"pound","name":"Pound Banknote","keywords":["british","sterling","money","sales","bills","uk","england","currency"],"skins":[{"unified":"1f4b7","native":""}],"version":1},"money_with_wings":{"id":"money_with_wings","name":"Money with Wings","keywords":["dollar","bills","payment","sale"],"skins":[{"unified":"1f4b8","native":""}],"version":1},"credit_card":{"id":"credit_card","name":"Credit Card","keywords":["money","sales","dollar","bill","payment","shopping"],"skins":[{"unified":"1f4b3","native":""}],"version":1},"receipt":{"id":"receipt","name":"Receipt","keywords":["accounting","expenses"],"skins":[{"unified":"1f9fe","native":""}],"version":11},"chart":{"id":"chart","name":"Chart Increasing with Yen","keywords":["green","square","graph","presentation","stats"],"skins":[{"unified":"1f4b9","native":""}],"version":1},"email":{"id":"email","name":"Envelope","keywords":["email","letter","postal","inbox","communication"],"skins":[{"unified":"2709-fe0f","native":""}],"version":1},"e-mail":{"id":"e-mail","name":"E-Mail","keywords":["e","mail","communication","inbox"],"skins":[{"unified":"1f4e7","native":""}],"version":1},"incoming_envelope":{"id":"incoming_envelope","name":"Incoming Envelope","keywords":["email","inbox"],"skins":[{"unified":"1f4e8","native":""}],"version":1},"envelope_with_arrow":{"id":"envelope_with_arrow","name":"Envelope with Arrow","keywords":["email","communication"],"skins":[{"unified":"1f4e9","native":""}],"version":1},"outbox_tray":{"id":"outbox_tray","name":"Outbox Tray","keywords":["inbox","email"],"skins":[{"unified":"1f4e4","native":""}],"version":1},"inbox_tray":{"id":"inbox_tray","name":"Inbox Tray","keywords":["email","documents"],"skins":[{"unified":"1f4e5","native":""}],"version":1},"package":{"id":"package","name":"Package","keywords":["mail","gift","cardboard","box","moving"],"skins":[{"unified":"1f4e6","native":""}],"version":1},"mailbox":{"id":"mailbox","name":"Closed Mailbox with Raised Flag","keywords":["email","inbox","communication"],"skins":[{"unified":"1f4eb","native":""}],"version":1},"mailbox_closed":{"id":"mailbox_closed","name":"Closed Mailbox with Lowered Flag","keywords":["email","communication","inbox"],"skins":[{"unified":"1f4ea","native":""}],"version":1},"mailbox_with_mail":{"id":"mailbox_with_mail","name":"Open Mailbox with Raised Flag","keywords":["mail","email","inbox","communication"],"skins":[{"unified":"1f4ec","native":""}],"version":1},"mailbox_with_no_mail":{"id":"mailbox_with_no_mail","name":"Open Mailbox with Lowered Flag","keywords":["no","mail","email","inbox"],"skins":[{"unified":"1f4ed","native":""}],"version":1},"postbox":{"id":"postbox","name":"Postbox","keywords":["email","letter","envelope"],"skins":[{"unified":"1f4ee","native":""}],"version":1},"ballot_box_with_ballot":{"id":"ballot_box_with_ballot","name":"Ballot Box with Ballot","keywords":["election","vote"],"skins":[{"unified":"1f5f3-fe0f","native":""}],"version":1},"pencil2":{"id":"pencil2","name":"Pencil","keywords":["pencil2","stationery","write","paper","writing","school","study"],"skins":[{"unified":"270f-fe0f","native":""}],"version":1},"black_nib":{"id":"black_nib","name":"Black Nib","keywords":["pen","stationery","writing","write"],"skins":[{"unified":"2712-fe0f","native":""}],"version":1},"lower_left_fountain_pen":{"id":"lower_left_fountain_pen","name":"Fountain Pen","keywords":["lower","left","stationery","writing","write"],"skins":[{"unified":"1f58b-fe0f","native":""}],"version":1},"lower_left_ballpoint_pen":{"id":"lower_left_ballpoint_pen","name":"Pen","keywords":["lower","left","ballpoint","stationery","writing","write"],"skins":[{"unified":"1f58a-fe0f","native":""}],"version":1},"lower_left_paintbrush":{"id":"lower_left_paintbrush","name":"Paintbrush","keywords":["lower","left","drawing","creativity","art"],"skins":[{"unified":"1f58c-fe0f","native":""}],"version":1},"lower_left_crayon":{"id":"lower_left_crayon","name":"Crayon","keywords":["lower","left","drawing","creativity"],"skins":[{"unified":"1f58d-fe0f","native":""}],"version":1},"memo":{"id":"memo","name":"Memo","keywords":["pencil","write","documents","stationery","paper","writing","legal","exam","quiz","test","study","compose"],"skins":[{"unified":"1f4dd","native":""}],"version":1},"briefcase":{"id":"briefcase","name":"Briefcase","keywords":["business","documents","work","law","legal","job","career"],"skins":[{"unified":"1f4bc","native":""}],"version":1},"file_folder":{"id":"file_folder","name":"File Folder","keywords":["documents","business","office"],"skins":[{"unified":"1f4c1","native":""}],"version":1},"open_file_folder":{"id":"open_file_folder","name":"Open File Folder","keywords":["documents","load"],"skins":[{"unified":"1f4c2","native":""}],"version":1},"card_index_dividers":{"id":"card_index_dividers","name":"Card Index Dividers","keywords":["organizing","business","stationery"],"skins":[{"unified":"1f5c2-fe0f","native":""}],"version":1},"date":{"id":"date","name":"Calendar","keywords":["date","schedule"],"skins":[{"unified":"1f4c5","native":""}],"version":1},"calendar":{"id":"calendar","name":"Tear-off Calendar","keywords":["tear","off","schedule","date","planning"],"skins":[{"unified":"1f4c6","native":""}],"version":1},"spiral_note_pad":{"id":"spiral_note_pad","name":"Spiral Notepad","keywords":["note","pad","memo","stationery"],"skins":[{"unified":"1f5d2-fe0f","native":""}],"version":1},"spiral_calendar_pad":{"id":"spiral_calendar_pad","name":"Spiral Calendar","keywords":["pad","date","schedule","planning"],"skins":[{"unified":"1f5d3-fe0f","native":""}],"version":1},"card_index":{"id":"card_index","name":"Card Index","keywords":["business","stationery"],"skins":[{"unified":"1f4c7","native":""}],"version":1},"chart_with_upwards_trend":{"id":"chart_with_upwards_trend","name":"Chart Increasing","keywords":["with","upwards","trend","graph","presentation","stats","recovery","business","economics","money","sales","good","success"],"skins":[{"unified":"1f4c8","native":""}],"version":1},"chart_with_downwards_trend":{"id":"chart_with_downwards_trend","name":"Chart Decreasing","keywords":["with","downwards","trend","graph","presentation","stats","recession","business","economics","money","sales","bad","failure"],"skins":[{"unified":"1f4c9","native":""}],"version":1},"bar_chart":{"id":"bar_chart","name":"Bar Chart","keywords":["graph","presentation","stats"],"skins":[{"unified":"1f4ca","native":""}],"version":1},"clipboard":{"id":"clipboard","name":"Clipboard","keywords":["stationery","documents"],"skins":[{"unified":"1f4cb","native":""}],"version":1},"pushpin":{"id":"pushpin","name":"Pushpin","keywords":["stationery","mark","here"],"skins":[{"unified":"1f4cc","native":""}],"version":1},"round_pushpin":{"id":"round_pushpin","name":"Round Pushpin","keywords":["stationery","location","map","here"],"skins":[{"unified":"1f4cd","native":""}],"version":1},"paperclip":{"id":"paperclip","name":"Paperclip","keywords":["documents","stationery"],"skins":[{"unified":"1f4ce","native":""}],"version":1},"linked_paperclips":{"id":"linked_paperclips","name":"Linked Paperclips","keywords":["documents","stationery"],"skins":[{"unified":"1f587-fe0f","native":""}],"version":1},"straight_ruler":{"id":"straight_ruler","name":"Straight Ruler","keywords":["stationery","calculate","length","math","school","drawing","architect","sketch"],"skins":[{"unified":"1f4cf","native":""}],"version":1},"triangular_ruler":{"id":"triangular_ruler","name":"Triangular Ruler","keywords":["stationery","math","architect","sketch"],"skins":[{"unified":"1f4d0","native":""}],"version":1},"scissors":{"id":"scissors","name":"Scissors","keywords":["stationery","cut"],"skins":[{"unified":"2702-fe0f","native":""}],"version":1},"card_file_box":{"id":"card_file_box","name":"Card File Box","keywords":["business","stationery"],"skins":[{"unified":"1f5c3-fe0f","native":""}],"version":1},"file_cabinet":{"id":"file_cabinet","name":"File Cabinet","keywords":["filing","organizing"],"skins":[{"unified":"1f5c4-fe0f","native":""}],"version":1},"wastebasket":{"id":"wastebasket","name":"Wastebasket","keywords":["bin","trash","rubbish","garbage","toss"],"skins":[{"unified":"1f5d1-fe0f","native":""}],"version":1},"lock":{"id":"lock","name":"Lock","keywords":["locked","security","password","padlock"],"skins":[{"unified":"1f512","native":""}],"version":1},"unlock":{"id":"unlock","name":"Unlocked","keywords":["unlock","privacy","security"],"skins":[{"unified":"1f513","native":""}],"version":1},"lock_with_ink_pen":{"id":"lock_with_ink_pen","name":"Locked with Pen","keywords":["lock","ink","security","secret"],"skins":[{"unified":"1f50f","native":""}],"version":1},"closed_lock_with_key":{"id":"closed_lock_with_key","name":"Locked with Key","keywords":["closed","lock","security","privacy"],"skins":[{"unified":"1f510","native":""}],"version":1},"key":{"id":"key","name":"Key","keywords":["lock","door","password"],"skins":[{"unified":"1f511","native":""}],"version":1},"old_key":{"id":"old_key","name":"Old Key","keywords":["lock","door","password"],"skins":[{"unified":"1f5dd-fe0f","native":""}],"version":1},"hammer":{"id":"hammer","name":"Hammer","keywords":["tools","build","create"],"skins":[{"unified":"1f528","native":""}],"version":1},"axe":{"id":"axe","name":"Axe","keywords":["tool","chop","cut"],"skins":[{"unified":"1fa93","native":""}],"version":12},"pick":{"id":"pick","name":"Pick","keywords":["tools","dig"],"skins":[{"unified":"26cf-fe0f","native":""}],"version":1},"hammer_and_pick":{"id":"hammer_and_pick","name":"Hammer and Pick","keywords":["tools","build","create"],"skins":[{"unified":"2692-fe0f","native":""}],"version":1},"hammer_and_wrench":{"id":"hammer_and_wrench","name":"Hammer and Wrench","keywords":["tools","build","create"],"skins":[{"unified":"1f6e0-fe0f","native":""}],"version":1},"dagger_knife":{"id":"dagger_knife","name":"Dagger","keywords":["knife","weapon"],"skins":[{"unified":"1f5e1-fe0f","native":""}],"version":1},"crossed_swords":{"id":"crossed_swords","name":"Crossed Swords","keywords":["weapon"],"skins":[{"unified":"2694-fe0f","native":""}],"version":1},"bomb":{"id":"bomb","name":"Bomb","keywords":["boom","explode","explosion","terrorism"],"skins":[{"unified":"1f4a3","native":""}],"version":1},"boomerang":{"id":"boomerang","name":"Boomerang","keywords":["weapon"],"skins":[{"unified":"1fa83","native":""}],"version":13},"bow_and_arrow":{"id":"bow_and_arrow","name":"Bow and Arrow","keywords":["sports"],"skins":[{"unified":"1f3f9","native":""}],"version":1},"shield":{"id":"shield","name":"Shield","keywords":["protection","security"],"skins":[{"unified":"1f6e1-fe0f","native":""}],"version":1},"carpentry_saw":{"id":"carpentry_saw","name":"Carpentry Saw","keywords":["cut","chop"],"skins":[{"unified":"1fa9a","native":""}],"version":13},"wrench":{"id":"wrench","name":"Wrench","keywords":["tools","diy","ikea","fix","maintainer"],"skins":[{"unified":"1f527","native":""}],"version":1},"screwdriver":{"id":"screwdriver","name":"Screwdriver","keywords":["tools"],"skins":[{"unified":"1fa9b","native":""}],"version":13},"nut_and_bolt":{"id":"nut_and_bolt","name":"Nut and Bolt","keywords":["handy","tools","fix"],"skins":[{"unified":"1f529","native":""}],"version":1},"gear":{"id":"gear","name":"Gear","keywords":["cog"],"skins":[{"unified":"2699-fe0f","native":""}],"version":1},"compression":{"id":"compression","name":"Clamp","keywords":["compression","tool"],"skins":[{"unified":"1f5dc-fe0f","native":""}],"version":1},"scales":{"id":"scales","name":"Balance Scale","keywords":["scales","law","fairness","weight"],"skins":[{"unified":"2696-fe0f","native":""}],"version":1},"probing_cane":{"id":"probing_cane","name":"White Cane","keywords":["probing","accessibility"],"skins":[{"unified":"1f9af","native":""}],"version":12},"link":{"id":"link","name":"Link","keywords":["rings","url"],"skins":[{"unified":"1f517","native":""}],"version":1},"chains":{"id":"chains","name":"Chains","keywords":["lock","arrest"],"skins":[{"unified":"26d3-fe0f","native":""}],"version":1},"hook":{"id":"hook","name":"Hook","keywords":["tools"],"skins":[{"unified":"1fa9d","native":""}],"version":13},"toolbox":{"id":"toolbox","name":"Toolbox","keywords":["tools","diy","fix","maintainer","mechanic"],"skins":[{"unified":"1f9f0","native":""}],"version":11},"magnet":{"id":"magnet","name":"Magnet","keywords":["attraction","magnetic"],"skins":[{"unified":"1f9f2","native":""}],"version":11},"ladder":{"id":"ladder","name":"Ladder","keywords":["tools"],"skins":[{"unified":"1fa9c","native":""}],"version":13},"alembic":{"id":"alembic","name":"Alembic","keywords":["distilling","science","experiment","chemistry"],"skins":[{"unified":"2697-fe0f","native":""}],"version":1},"test_tube":{"id":"test_tube","name":"Test Tube","keywords":["chemistry","experiment","lab","science"],"skins":[{"unified":"1f9ea","native":""}],"version":11},"petri_dish":{"id":"petri_dish","name":"Petri Dish","keywords":["bacteria","biology","culture","lab"],"skins":[{"unified":"1f9eb","native":""}],"version":11},"dna":{"id":"dna","name":"Dna","keywords":["biologist","genetics","life"],"skins":[{"unified":"1f9ec","native":""}],"version":11},"microscope":{"id":"microscope","name":"Microscope","keywords":["laboratory","experiment","zoomin","science","study"],"skins":[{"unified":"1f52c","native":""}],"version":1},"telescope":{"id":"telescope","name":"Telescope","keywords":["stars","space","zoom","science","astronomy"],"skins":[{"unified":"1f52d","native":""}],"version":1},"satellite_antenna":{"id":"satellite_antenna","name":"Satellite Antenna","keywords":["communication","future","radio","space"],"skins":[{"unified":"1f4e1","native":""}],"version":1},"syringe":{"id":"syringe","name":"Syringe","keywords":["health","hospital","drugs","blood","medicine","needle","doctor","nurse"],"skins":[{"unified":"1f489","native":""}],"version":1},"drop_of_blood":{"id":"drop_of_blood","name":"Drop of Blood","keywords":["period","hurt","harm","wound"],"skins":[{"unified":"1fa78","native":""}],"version":12},"pill":{"id":"pill","name":"Pill","keywords":["health","medicine","doctor","pharmacy","drug"],"skins":[{"unified":"1f48a","native":""}],"version":1},"adhesive_bandage":{"id":"adhesive_bandage","name":"Adhesive Bandage","keywords":["heal"],"skins":[{"unified":"1fa79","native":""}],"version":12},"crutch":{"id":"crutch","name":"Crutch","keywords":["accessibility","assist"],"skins":[{"unified":"1fa7c","native":""}],"version":14},"stethoscope":{"id":"stethoscope","name":"Stethoscope","keywords":["health"],"skins":[{"unified":"1fa7a","native":""}],"version":12},"x-ray":{"id":"x-ray","name":"X-Ray","keywords":["x","ray","skeleton","medicine"],"skins":[{"unified":"1fa7b","native":""}],"version":14},"door":{"id":"door","name":"Door","keywords":["house","entry","exit"],"skins":[{"unified":"1f6aa","native":""}],"version":1},"elevator":{"id":"elevator","name":"Elevator","keywords":["lift"],"skins":[{"unified":"1f6d7","native":""}],"version":13},"mirror":{"id":"mirror","name":"Mirror","keywords":["reflection"],"skins":[{"unified":"1fa9e","native":""}],"version":13},"window":{"id":"window","name":"Window","keywords":["scenery"],"skins":[{"unified":"1fa9f","native":""}],"version":13},"bed":{"id":"bed","name":"Bed","keywords":["sleep","rest"],"skins":[{"unified":"1f6cf-fe0f","native":""}],"version":1},"couch_and_lamp":{"id":"couch_and_lamp","name":"Couch and Lamp","keywords":["read","chill"],"skins":[{"unified":"1f6cb-fe0f","native":""}],"version":1},"chair":{"id":"chair","name":"Chair","keywords":["sit","furniture"],"skins":[{"unified":"1fa91","native":""}],"version":12},"toilet":{"id":"toilet","name":"Toilet","keywords":["restroom","wc","washroom","bathroom","potty"],"skins":[{"unified":"1f6bd","native":""}],"version":1},"plunger":{"id":"plunger","name":"Plunger","keywords":["toilet"],"skins":[{"unified":"1faa0","native":""}],"version":13},"shower":{"id":"shower","name":"Shower","keywords":["clean","water","bathroom"],"skins":[{"unified":"1f6bf","native":""}],"version":1},"bathtub":{"id":"bathtub","name":"Bathtub","keywords":["clean","shower","bathroom"],"skins":[{"unified":"1f6c1","native":""}],"version":1},"mouse_trap":{"id":"mouse_trap","name":"Mouse Trap","keywords":["cheese"],"skins":[{"unified":"1faa4","native":""}],"version":13},"razor":{"id":"razor","name":"Razor","keywords":["cut"],"skins":[{"unified":"1fa92","native":""}],"version":12},"lotion_bottle":{"id":"lotion_bottle","name":"Lotion Bottle","keywords":["moisturizer","sunscreen"],"skins":[{"unified":"1f9f4","native":""}],"version":11},"safety_pin":{"id":"safety_pin","name":"Safety Pin","keywords":["diaper"],"skins":[{"unified":"1f9f7","native":""}],"version":11},"broom":{"id":"broom","name":"Broom","keywords":["cleaning","sweeping","witch"],"skins":[{"unified":"1f9f9","native":""}],"version":11},"basket":{"id":"basket","name":"Basket","keywords":["laundry"],"skins":[{"unified":"1f9fa","native":""}],"version":11},"roll_of_paper":{"id":"roll_of_paper","name":"Roll of Paper","keywords":[],"skins":[{"unified":"1f9fb","native":""}],"version":11},"bucket":{"id":"bucket","name":"Bucket","keywords":["water","container"],"skins":[{"unified":"1faa3","native":""}],"version":13},"soap":{"id":"soap","name":"Soap","keywords":["bar","bathing","cleaning","lather"],"skins":[{"unified":"1f9fc","native":""}],"version":11},"bubbles":{"id":"bubbles","name":"Bubbles","keywords":["soap","fun","carbonation","sparkling"],"skins":[{"unified":"1fae7","native":""}],"version":14},"toothbrush":{"id":"toothbrush","name":"Toothbrush","keywords":["hygiene","dental"],"skins":[{"unified":"1faa5","native":""}],"version":13},"sponge":{"id":"sponge","name":"Sponge","keywords":["absorbing","cleaning","porous"],"skins":[{"unified":"1f9fd","native":""}],"version":11},"fire_extinguisher":{"id":"fire_extinguisher","name":"Fire Extinguisher","keywords":["quench"],"skins":[{"unified":"1f9ef","native":""}],"version":11},"shopping_trolley":{"id":"shopping_trolley","name":"Shopping Cart","keywords":["trolley"],"skins":[{"unified":"1f6d2","native":""}],"version":3},"smoking":{"id":"smoking","name":"Cigarette","keywords":["smoking","kills","tobacco","joint","smoke"],"skins":[{"unified":"1f6ac","native":""}],"version":1},"coffin":{"id":"coffin","name":"Coffin","keywords":["vampire","dead","die","death","rip","graveyard","cemetery","casket","funeral","box"],"skins":[{"unified":"26b0-fe0f","native":""}],"version":1},"headstone":{"id":"headstone","name":"Headstone","keywords":["death","rip","grave"],"skins":[{"unified":"1faa6","native":""}],"version":13},"funeral_urn":{"id":"funeral_urn","name":"Funeral Urn","keywords":["dead","die","death","rip","ashes"],"skins":[{"unified":"26b1-fe0f","native":""}],"version":1},"nazar_amulet":{"id":"nazar_amulet","name":"Nazar Amulet","keywords":["bead","charm"],"skins":[{"unified":"1f9ff","native":""}],"version":11},"hamsa":{"id":"hamsa","name":"Hamsa","keywords":["religion","protection"],"skins":[{"unified":"1faac","native":""}],"version":14},"moyai":{"id":"moyai","name":"Moai","keywords":["moyai","rock","easter","island"],"skins":[{"unified":"1f5ff","native":""}],"version":1},"placard":{"id":"placard","name":"Placard","keywords":["announcement"],"skins":[{"unified":"1faa7","native":""}],"version":13},"identification_card":{"id":"identification_card","name":"Identification Card","keywords":["document"],"skins":[{"unified":"1faaa","native":""}],"version":14},"atm":{"id":"atm","name":"Atm Sign","keywords":["money","sales","cash","blue","square","payment","bank"],"skins":[{"unified":"1f3e7","native":""}],"version":1},"put_litter_in_its_place":{"id":"put_litter_in_its_place","name":"Litter in Bin Sign","keywords":["put","its","place","blue","square","human","info"],"skins":[{"unified":"1f6ae","native":""}],"version":1},"potable_water":{"id":"potable_water","name":"Potable Water","keywords":["blue","square","liquid","restroom","cleaning","faucet"],"skins":[{"unified":"1f6b0","native":""}],"version":1},"wheelchair":{"id":"wheelchair","name":"Wheelchair Symbol","keywords":["blue","square","disabled","accessibility"],"skins":[{"unified":"267f","native":""}],"version":1},"mens":{"id":"mens","name":"Mens Room","keywords":["mens","men","s","toilet","restroom","wc","blue","square","gender","male"],"skins":[{"unified":"1f6b9","native":""}],"version":1},"womens":{"id":"womens","name":"Womens Room","keywords":["womens","women","s","purple","square","woman","female","toilet","loo","restroom","gender"],"skins":[{"unified":"1f6ba","native":""}],"version":1},"restroom":{"id":"restroom","name":"Restroom","keywords":["blue","square","toilet","refresh","wc","gender"],"skins":[{"unified":"1f6bb","native":""}],"version":1},"baby_symbol":{"id":"baby_symbol","name":"Baby Symbol","keywords":["orange","square","child"],"skins":[{"unified":"1f6bc","native":""}],"version":1},"wc":{"id":"wc","name":"Water Closet","keywords":["wc","toilet","restroom","blue","square"],"skins":[{"unified":"1f6be","native":""}],"version":1},"passport_control":{"id":"passport_control","name":"Passport Control","keywords":["custom","blue","square"],"skins":[{"unified":"1f6c2","native":""}],"version":1},"customs":{"id":"customs","name":"Customs","keywords":["passport","border","blue","square"],"skins":[{"unified":"1f6c3","native":""}],"version":1},"baggage_claim":{"id":"baggage_claim","name":"Baggage Claim","keywords":["blue","square","airport","transport"],"skins":[{"unified":"1f6c4","native":""}],"version":1},"left_luggage":{"id":"left_luggage","name":"Left Luggage","keywords":["blue","square","travel"],"skins":[{"unified":"1f6c5","native":""}],"version":1},"warning":{"id":"warning","name":"Warning","keywords":["exclamation","wip","alert","error","problem","issue"],"skins":[{"unified":"26a0-fe0f","native":""}],"version":1},"children_crossing":{"id":"children_crossing","name":"Children Crossing","keywords":["school","warning","danger","sign","driving","yellow","diamond"],"skins":[{"unified":"1f6b8","native":""}],"version":1},"no_entry":{"id":"no_entry","name":"No Entry","keywords":["limit","security","privacy","bad","denied","stop","circle"],"skins":[{"unified":"26d4","native":""}],"version":1},"no_entry_sign":{"id":"no_entry_sign","name":"Prohibited","keywords":["no","entry","sign","forbid","stop","limit","denied","disallow","circle"],"skins":[{"unified":"1f6ab","native":""}],"version":1},"no_bicycles":{"id":"no_bicycles","name":"No Bicycles","keywords":["cyclist","prohibited","circle"],"skins":[{"unified":"1f6b3","native":""}],"version":1},"no_smoking":{"id":"no_smoking","name":"No Smoking","keywords":["cigarette","blue","square","smell","smoke"],"skins":[{"unified":"1f6ad","native":""}],"version":1},"do_not_litter":{"id":"do_not_litter","name":"No Littering","keywords":["do","not","litter","trash","bin","garbage","circle"],"skins":[{"unified":"1f6af","native":""}],"version":1},"non-potable_water":{"id":"non-potable_water","name":"Non-Potable Water","keywords":["non","potable","drink","faucet","tap","circle"],"skins":[{"unified":"1f6b1","native":""}],"version":1},"no_pedestrians":{"id":"no_pedestrians","name":"No Pedestrians","keywords":["rules","crossing","walking","circle"],"skins":[{"unified":"1f6b7","native":""}],"version":1},"no_mobile_phones":{"id":"no_mobile_phones","name":"No Mobile Phones","keywords":["iphone","mute","circle"],"skins":[{"unified":"1f4f5","native":""}],"version":1},"underage":{"id":"underage","name":"No One Under Eighteen","keywords":["underage","18","drink","pub","night","minor","circle"],"skins":[{"unified":"1f51e","native":""}],"version":1},"radioactive_sign":{"id":"radioactive_sign","name":"Radioactive","keywords":["sign","nuclear","danger"],"skins":[{"unified":"2622-fe0f","native":""}],"version":1},"biohazard_sign":{"id":"biohazard_sign","name":"Biohazard","keywords":["sign","danger"],"skins":[{"unified":"2623-fe0f","native":""}],"version":1},"arrow_up":{"id":"arrow_up","name":"Up Arrow","keywords":["blue","square","continue","top","direction"],"skins":[{"unified":"2b06-fe0f","native":""}],"version":1},"arrow_upper_right":{"id":"arrow_upper_right","name":"Up-Right Arrow","keywords":["upper","right","up","blue","square","point","direction","diagonal","northeast"],"skins":[{"unified":"2197-fe0f","native":""}],"version":1},"arrow_right":{"id":"arrow_right","name":"Right Arrow","keywords":["blue","square","next"],"skins":[{"unified":"27a1-fe0f","native":""}],"version":1},"arrow_lower_right":{"id":"arrow_lower_right","name":"South East Arrow","keywords":["lower","right","down","blue","square","direction","diagonal","southeast"],"skins":[{"unified":"2198-fe0f","native":""}],"version":1},"arrow_down":{"id":"arrow_down","name":"Down Arrow","keywords":["blue","square","direction","bottom"],"skins":[{"unified":"2b07-fe0f","native":""}],"version":1},"arrow_lower_left":{"id":"arrow_lower_left","name":"Down-Left Arrow","keywords":["lower","left","down","blue","square","direction","diagonal","southwest"],"skins":[{"unified":"2199-fe0f","native":""}],"version":1},"arrow_left":{"id":"arrow_left","name":"Left Arrow","keywords":["blue","square","previous","back"],"skins":[{"unified":"2b05-fe0f","native":""}],"version":1},"arrow_upper_left":{"id":"arrow_upper_left","name":"Up-Left Arrow","keywords":["upper","left","up","blue","square","point","direction","diagonal","northwest"],"skins":[{"unified":"2196-fe0f","native":""}],"version":1},"arrow_up_down":{"id":"arrow_up_down","name":"Up Down Arrow","keywords":["blue","square","direction","way","vertical"],"skins":[{"unified":"2195-fe0f","native":""}],"version":1},"left_right_arrow":{"id":"left_right_arrow","name":"Left Right Arrow","keywords":["shape","direction","horizontal","sideways"],"skins":[{"unified":"2194-fe0f","native":""}],"version":1},"leftwards_arrow_with_hook":{"id":"leftwards_arrow_with_hook","name":"Right Arrow Curving Left","keywords":["leftwards","with","hook","back","return","blue","square","undo","enter"],"skins":[{"unified":"21a9-fe0f","native":""}],"version":1},"arrow_right_hook":{"id":"arrow_right_hook","name":"Left Arrow Curving Right","keywords":["hook","blue","square","return","rotate","direction"],"skins":[{"unified":"21aa-fe0f","native":""}],"version":1},"arrow_heading_up":{"id":"arrow_heading_up","name":"Right Arrow Curving Up","keywords":["heading","blue","square","direction","top"],"skins":[{"unified":"2934-fe0f","native":""}],"version":1},"arrow_heading_down":{"id":"arrow_heading_down","name":"Right Arrow Curving Down","keywords":["heading","blue","square","direction","bottom"],"skins":[{"unified":"2935-fe0f","native":""}],"version":1},"arrows_clockwise":{"id":"arrows_clockwise","name":"Clockwise Vertical Arrows","keywords":["sync","cycle","round","repeat"],"skins":[{"unified":"1f503","native":""}],"version":1},"arrows_counterclockwise":{"id":"arrows_counterclockwise","name":"Counterclockwise Arrows Button","keywords":["blue","square","sync","cycle"],"skins":[{"unified":"1f504","native":""}],"version":1},"back":{"id":"back","name":"Back Arrow","keywords":["words","return"],"skins":[{"unified":"1f519","native":""}],"version":1},"end":{"id":"end","name":"End Arrow","keywords":["words"],"skins":[{"unified":"1f51a","native":""}],"version":1},"on":{"id":"on","name":"On! Arrow","keywords":["on","words"],"skins":[{"unified":"1f51b","native":""}],"version":1},"soon":{"id":"soon","name":"Soon Arrow","keywords":["words"],"skins":[{"unified":"1f51c","native":""}],"version":1},"top":{"id":"top","name":"Top Arrow","keywords":["words","blue","square"],"skins":[{"unified":"1f51d","native":""}],"version":1},"place_of_worship":{"id":"place_of_worship","name":"Place of Worship","keywords":["religion","church","temple","prayer"],"skins":[{"unified":"1f6d0","native":""}],"version":1},"atom_symbol":{"id":"atom_symbol","name":"Atom Symbol","keywords":["science","physics","chemistry"],"skins":[{"unified":"269b-fe0f","native":""}],"version":1},"om_symbol":{"id":"om_symbol","name":"Om","keywords":["symbol","hinduism","buddhism","sikhism","jainism"],"skins":[{"unified":"1f549-fe0f","native":""}],"version":1},"star_of_david":{"id":"star_of_david","name":"Star of David","keywords":["judaism"],"skins":[{"unified":"2721-fe0f","native":""}],"version":1},"wheel_of_dharma":{"id":"wheel_of_dharma","name":"Wheel of Dharma","keywords":["hinduism","buddhism","sikhism","jainism"],"skins":[{"unified":"2638-fe0f","native":""}],"version":1},"yin_yang":{"id":"yin_yang","name":"Yin Yang","keywords":["balance"],"skins":[{"unified":"262f-fe0f","native":""}],"version":1},"latin_cross":{"id":"latin_cross","name":"Latin Cross","keywords":["christianity"],"skins":[{"unified":"271d-fe0f","native":""}],"version":1},"orthodox_cross":{"id":"orthodox_cross","name":"Orthodox Cross","keywords":["suppedaneum","religion"],"skins":[{"unified":"2626-fe0f","native":""}],"version":1},"star_and_crescent":{"id":"star_and_crescent","name":"Star and Crescent","keywords":["islam"],"skins":[{"unified":"262a-fe0f","native":""}],"version":1},"peace_symbol":{"id":"peace_symbol","name":"Peace Symbol","keywords":["hippie"],"skins":[{"unified":"262e-fe0f","native":""}],"version":1},"menorah_with_nine_branches":{"id":"menorah_with_nine_branches","name":"Menorah","keywords":["with","nine","branches","hanukkah","candles","jewish"],"skins":[{"unified":"1f54e","native":""}],"version":1},"six_pointed_star":{"id":"six_pointed_star","name":"Dotted Six-Pointed Star","keywords":["six","pointed","purple","square","religion","jewish","hexagram"],"skins":[{"unified":"1f52f","native":""}],"version":1},"khanda":{"id":"khanda","name":"Khanda","keywords":["Sikhism","religion"],"skins":[{"unified":"1faaf","native":""}],"version":15},"aries":{"id":"aries","name":"Aries","keywords":["sign","purple","square","zodiac","astrology"],"skins":[{"unified":"2648","native":""}],"version":1},"taurus":{"id":"taurus","name":"Taurus","keywords":["purple","square","sign","zodiac","astrology"],"skins":[{"unified":"2649","native":""}],"version":1},"gemini":{"id":"gemini","name":"Gemini","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"264a","native":""}],"version":1},"cancer":{"id":"cancer","name":"Cancer","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"264b","native":""}],"version":1},"leo":{"id":"leo","name":"Leo","keywords":["sign","purple","square","zodiac","astrology"],"skins":[{"unified":"264c","native":""}],"version":1},"virgo":{"id":"virgo","name":"Virgo","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"264d","native":""}],"version":1},"libra":{"id":"libra","name":"Libra","keywords":["sign","purple","square","zodiac","astrology"],"skins":[{"unified":"264e","native":""}],"version":1},"scorpius":{"id":"scorpius","name":"Scorpio","keywords":["scorpius","sign","zodiac","purple","square","astrology"],"skins":[{"unified":"264f","native":""}],"version":1},"sagittarius":{"id":"sagittarius","name":"Sagittarius","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"2650","native":""}],"version":1},"capricorn":{"id":"capricorn","name":"Capricorn","keywords":["sign","zodiac","purple","square","astrology"],"skins":[{"unified":"2651","native":""}],"version":1},"aquarius":{"id":"aquarius","name":"Aquarius","keywords":["sign","purple","square","zodiac","astrology"],"skins":[{"unified":"2652","native":""}],"version":1},"pisces":{"id":"pisces","name":"Pisces","keywords":["purple","square","sign","zodiac","astrology"],"skins":[{"unified":"2653","native":""}],"version":1},"ophiuchus":{"id":"ophiuchus","name":"Ophiuchus","keywords":["sign","purple","square","constellation","astrology"],"skins":[{"unified":"26ce","native":""}],"version":1},"twisted_rightwards_arrows":{"id":"twisted_rightwards_arrows","name":"Shuffle Tracks Button","keywords":["twisted","rightwards","arrows","blue","square","music","random"],"skins":[{"unified":"1f500","native":""}],"version":1},"repeat":{"id":"repeat","name":"Repeat Button","keywords":["loop","record"],"skins":[{"unified":"1f501","native":""}],"version":1},"repeat_one":{"id":"repeat_one","name":"Repeat Single Button","keywords":["one","blue","square","loop"],"skins":[{"unified":"1f502","native":""}],"version":1},"arrow_forward":{"id":"arrow_forward","name":"Play Button","keywords":["arrow","forward","blue","square","right","direction"],"skins":[{"unified":"25b6-fe0f","native":""}],"version":1},"fast_forward":{"id":"fast_forward","name":"Fast-Forward Button","keywords":["fast","forward","blue","square","play","speed","continue"],"skins":[{"unified":"23e9","native":""}],"version":1},"black_right_pointing_double_triangle_with_vertical_bar":{"id":"black_right_pointing_double_triangle_with_vertical_bar","name":"Next Track Button","keywords":["black","right","pointing","double","triangle","with","vertical","bar","forward","blue","square"],"skins":[{"unified":"23ed-fe0f","native":""}],"version":1},"black_right_pointing_triangle_with_double_vertical_bar":{"id":"black_right_pointing_triangle_with_double_vertical_bar","name":"Play or Pause Button","keywords":["black","right","pointing","triangle","with","double","vertical","bar","blue","square"],"skins":[{"unified":"23ef-fe0f","native":""}],"version":1},"arrow_backward":{"id":"arrow_backward","name":"Reverse Button","keywords":["arrow","backward","blue","square","left","direction"],"skins":[{"unified":"25c0-fe0f","native":""}],"version":1},"rewind":{"id":"rewind","name":"Fast Reverse Button","keywords":["rewind","play","blue","square"],"skins":[{"unified":"23ea","native":""}],"version":1},"black_left_pointing_double_triangle_with_vertical_bar":{"id":"black_left_pointing_double_triangle_with_vertical_bar","name":"Last Track Button","keywords":["black","left","pointing","double","triangle","with","vertical","bar","backward"],"skins":[{"unified":"23ee-fe0f","native":""}],"version":1},"arrow_up_small":{"id":"arrow_up_small","name":"Upwards Button","keywords":["arrow","up","small","blue","square","triangle","direction","point","forward","top"],"skins":[{"unified":"1f53c","native":""}],"version":1},"arrow_double_up":{"id":"arrow_double_up","name":"Fast Up Button","keywords":["arrow","double","blue","square","direction","top"],"skins":[{"unified":"23eb","native":""}],"version":1},"arrow_down_small":{"id":"arrow_down_small","name":"Downwards Button","keywords":["arrow","down","small","blue","square","direction","bottom"],"skins":[{"unified":"1f53d","native":""}],"version":1},"arrow_double_down":{"id":"arrow_double_down","name":"Fast Down Button","keywords":["arrow","double","blue","square","direction","bottom"],"skins":[{"unified":"23ec","native":""}],"version":1},"double_vertical_bar":{"id":"double_vertical_bar","name":"Pause Button","keywords":["double","vertical","bar","blue","square"],"skins":[{"unified":"23f8-fe0f","native":""}],"version":1},"black_square_for_stop":{"id":"black_square_for_stop","name":"Stop Button","keywords":["black","square","for","blue"],"skins":[{"unified":"23f9-fe0f","native":""}],"version":1},"black_circle_for_record":{"id":"black_circle_for_record","name":"Record Button","keywords":["black","circle","for","blue","square"],"skins":[{"unified":"23fa-fe0f","native":""}],"version":1},"eject":{"id":"eject","name":"Eject Button","keywords":["blue","square"],"skins":[{"unified":"23cf-fe0f","native":""}],"version":1},"cinema":{"id":"cinema","name":"Cinema","keywords":["blue","square","record","film","movie","curtain","stage","theater"],"skins":[{"unified":"1f3a6","native":""}],"version":1},"low_brightness":{"id":"low_brightness","name":"Dim Button","keywords":["low","brightness","sun","afternoon","warm","summer"],"skins":[{"unified":"1f505","native":""}],"version":1},"high_brightness":{"id":"high_brightness","name":"Bright Button","keywords":["high","brightness","sun","light"],"skins":[{"unified":"1f506","native":""}],"version":1},"signal_strength":{"id":"signal_strength","name":"Antenna Bars","keywords":["signal","strength","blue","square","reception","phone","internet","connection","wifi","bluetooth"],"skins":[{"unified":"1f4f6","native":""}],"version":1},"wireless":{"id":"wireless","name":"Wireless","keywords":["wifi","internet","contactless","signal"],"skins":[{"unified":"1f6dc","native":""}],"version":15},"vibration_mode":{"id":"vibration_mode","name":"Vibration Mode","keywords":["orange","square","phone"],"skins":[{"unified":"1f4f3","native":""}],"version":1},"mobile_phone_off":{"id":"mobile_phone_off","name":"Mobile Phone off","keywords":["mute","orange","square","silence","quiet"],"skins":[{"unified":"1f4f4","native":""}],"version":1},"female_sign":{"id":"female_sign","name":"Female Sign","keywords":["woman","women","lady","girl"],"skins":[{"unified":"2640-fe0f","native":""}],"version":4},"male_sign":{"id":"male_sign","name":"Male Sign","keywords":["man","boy","men"],"skins":[{"unified":"2642-fe0f","native":""}],"version":4},"transgender_symbol":{"id":"transgender_symbol","name":"Transgender Symbol","keywords":["lgbtq"],"skins":[{"unified":"26a7-fe0f","native":""}],"version":13},"heavy_multiplication_x":{"id":"heavy_multiplication_x","name":"Multiply","keywords":["heavy","multiplication","x","sign","math","calculation"],"skins":[{"unified":"2716-fe0f","native":""}],"version":1},"heavy_plus_sign":{"id":"heavy_plus_sign","name":"Plus","keywords":["heavy","sign","math","calculation","addition","more","increase"],"skins":[{"unified":"2795","native":""}],"version":1},"heavy_minus_sign":{"id":"heavy_minus_sign","name":"Minus","keywords":["heavy","sign","math","calculation","subtract","less"],"skins":[{"unified":"2796","native":""}],"version":1},"heavy_division_sign":{"id":"heavy_division_sign","name":"Divide","keywords":["heavy","division","sign","math","calculation"],"skins":[{"unified":"2797","native":""}],"version":1},"heavy_equals_sign":{"id":"heavy_equals_sign","name":"Heavy Equals Sign","keywords":["math"],"skins":[{"unified":"1f7f0","native":""}],"version":14},"infinity":{"id":"infinity","name":"Infinity","keywords":["forever"],"skins":[{"unified":"267e-fe0f","native":""}],"version":11},"bangbang":{"id":"bangbang","name":"Double Exclamation Mark","keywords":["bangbang","surprise"],"skins":[{"unified":"203c-fe0f","native":""}],"version":1},"interrobang":{"id":"interrobang","name":"Exclamation Question Mark","keywords":["interrobang","wat","punctuation","surprise"],"skins":[{"unified":"2049-fe0f","native":""}],"version":1},"question":{"id":"question","name":"Red Question Mark","keywords":["doubt","confused"],"skins":[{"unified":"2753","native":""}],"version":1},"grey_question":{"id":"grey_question","name":"White Question Mark","keywords":["grey","doubts","gray","huh","confused"],"skins":[{"unified":"2754","native":""}],"version":1},"grey_exclamation":{"id":"grey_exclamation","name":"White Exclamation Mark","keywords":["grey","surprise","punctuation","gray","wow","warning"],"skins":[{"unified":"2755","native":""}],"version":1},"exclamation":{"id":"exclamation","name":"Red Exclamation Mark","keywords":["heavy","danger","surprise","punctuation","wow","warning"],"skins":[{"unified":"2757","native":""}],"version":1},"wavy_dash":{"id":"wavy_dash","name":"Wavy Dash","keywords":["draw","line","moustache","mustache","squiggle","scribble"],"skins":[{"unified":"3030-fe0f","native":""}],"version":1},"currency_exchange":{"id":"currency_exchange","name":"Currency Exchange","keywords":["money","sales","dollar","travel"],"skins":[{"unified":"1f4b1","native":""}],"version":1},"heavy_dollar_sign":{"id":"heavy_dollar_sign","name":"Heavy Dollar Sign","keywords":["money","sales","payment","currency","buck"],"skins":[{"unified":"1f4b2","native":""}],"version":1},"medical_symbol":{"id":"medical_symbol","name":"Medical Symbol","keywords":["staff","of","aesculapius","health","hospital"],"skins":[{"unified":"2695-fe0f","native":""}],"version":4},"recycle":{"id":"recycle","name":"Recycling Symbol","keywords":["recycle","arrow","environment","garbage","trash"],"skins":[{"unified":"267b-fe0f","native":""}],"version":1},"fleur_de_lis":{"id":"fleur_de_lis","name":"Fleur-De-Lis","keywords":["fleur","de","lis","decorative","scout"],"skins":[{"unified":"269c-fe0f","native":""}],"version":1},"trident":{"id":"trident","name":"Trident Emblem","keywords":["weapon","spear"],"skins":[{"unified":"1f531","native":""}],"version":1},"name_badge":{"id":"name_badge","name":"Name Badge","keywords":["fire","forbid"],"skins":[{"unified":"1f4db","native":""}],"version":1},"beginner":{"id":"beginner","name":"Japanese Symbol for Beginner","keywords":["badge","shield"],"skins":[{"unified":"1f530","native":""}],"version":1},"o":{"id":"o","name":"Hollow Red Circle","keywords":["o","round"],"skins":[{"unified":"2b55","native":""}],"version":1},"white_check_mark":{"id":"white_check_mark","name":"Check Mark Button","keywords":["white","green","square","ok","agree","vote","election","answer","tick"],"skins":[{"unified":"2705","native":""}],"version":1},"ballot_box_with_check":{"id":"ballot_box_with_check","name":"Check Box with Check","keywords":["ballot","ok","agree","confirm","black","square","vote","election","yes","tick"],"skins":[{"unified":"2611-fe0f","native":""}],"version":1},"heavy_check_mark":{"id":"heavy_check_mark","name":"Check Mark","keywords":["heavy","ok","nike","answer","yes","tick"],"skins":[{"unified":"2714-fe0f","native":""}],"version":1},"x":{"id":"x","name":"Cross Mark","keywords":["x","no","delete","remove","cancel","red"],"skins":[{"unified":"274c","native":""}],"version":1},"negative_squared_cross_mark":{"id":"negative_squared_cross_mark","name":"Cross Mark Button","keywords":["negative","squared","x","green","square","no","deny"],"skins":[{"unified":"274e","native":""}],"version":1},"curly_loop":{"id":"curly_loop","name":"Curly Loop","keywords":["scribble","draw","shape","squiggle"],"skins":[{"unified":"27b0","native":""}],"version":1},"loop":{"id":"loop","name":"Double Curly Loop","keywords":["tape","cassette"],"skins":[{"unified":"27bf","native":""}],"version":1},"part_alternation_mark":{"id":"part_alternation_mark","name":"Part Alternation Mark","keywords":["graph","presentation","stats","business","economics","bad"],"skins":[{"unified":"303d-fe0f","native":""}],"version":1},"eight_spoked_asterisk":{"id":"eight_spoked_asterisk","name":"Eight Spoked Asterisk","keywords":["star","sparkle","green","square"],"skins":[{"unified":"2733-fe0f","native":""}],"version":1},"eight_pointed_black_star":{"id":"eight_pointed_black_star","name":"Eight-Pointed Star","keywords":["eight","pointed","black","orange","square","shape","polygon"],"skins":[{"unified":"2734-fe0f","native":""}],"version":1},"sparkle":{"id":"sparkle","name":"Sparkle","keywords":["stars","green","square","awesome","good","fireworks"],"skins":[{"unified":"2747-fe0f","native":""}],"version":1},"copyright":{"id":"copyright","name":"Copyright","keywords":["ip","license","circle","law","legal"],"skins":[{"unified":"00a9-fe0f","native":""}],"version":1},"registered":{"id":"registered","name":"Registered","keywords":["alphabet","circle"],"skins":[{"unified":"00ae-fe0f","native":""}],"version":1},"tm":{"id":"tm","name":"Trade Mark","keywords":["tm","trademark","brand","law","legal"],"skins":[{"unified":"2122-fe0f","native":""}],"version":1},"hash":{"id":"hash","name":"Hash Key","keywords":["keycap","","symbol","blue","square","twitter"],"skins":[{"unified":"0023-fe0f-20e3","native":"#"}],"version":1},"keycap_star":{"id":"keycap_star","name":"Keycap: *","keywords":["keycap","star",""],"skins":[{"unified":"002a-fe0f-20e3","native":"*"}],"version":2},"zero":{"id":"zero","name":"Keycap 0","keywords":["zero","numbers","blue","square","null"],"skins":[{"unified":"0030-fe0f-20e3","native":"0"}],"version":1},"one":{"id":"one","name":"Keycap 1","keywords":["one","blue","square","numbers"],"skins":[{"unified":"0031-fe0f-20e3","native":"1"}],"version":1},"two":{"id":"two","name":"Keycap 2","keywords":["two","numbers","prime","blue","square"],"skins":[{"unified":"0032-fe0f-20e3","native":"2"}],"version":1},"three":{"id":"three","name":"Keycap 3","keywords":["three","numbers","prime","blue","square"],"skins":[{"unified":"0033-fe0f-20e3","native":"3"}],"version":1},"four":{"id":"four","name":"Keycap 4","keywords":["four","numbers","blue","square"],"skins":[{"unified":"0034-fe0f-20e3","native":"4"}],"version":1},"five":{"id":"five","name":"Keycap 5","keywords":["five","numbers","blue","square","prime"],"skins":[{"unified":"0035-fe0f-20e3","native":"5"}],"version":1},"six":{"id":"six","name":"Keycap 6","keywords":["six","numbers","blue","square"],"skins":[{"unified":"0036-fe0f-20e3","native":"6"}],"version":1},"seven":{"id":"seven","name":"Keycap 7","keywords":["seven","numbers","blue","square","prime"],"skins":[{"unified":"0037-fe0f-20e3","native":"7"}],"version":1},"eight":{"id":"eight","name":"Keycap 8","keywords":["eight","blue","square","numbers"],"skins":[{"unified":"0038-fe0f-20e3","native":"8"}],"version":1},"nine":{"id":"nine","name":"Keycap 9","keywords":["nine","blue","square","numbers"],"skins":[{"unified":"0039-fe0f-20e3","native":"9"}],"version":1},"keycap_ten":{"id":"keycap_ten","name":"Keycap 10","keywords":["ten","numbers","blue","square"],"skins":[{"unified":"1f51f","native":""}],"version":1},"capital_abcd":{"id":"capital_abcd","name":"Input Latin Uppercase","keywords":["capital","abcd","alphabet","words","blue","square"],"skins":[{"unified":"1f520","native":""}],"version":1},"abcd":{"id":"abcd","name":"Input Latin Lowercase","keywords":["abcd","blue","square","alphabet"],"skins":[{"unified":"1f521","native":""}],"version":1},"symbols":{"id":"symbols","name":"Input Symbols","keywords":["blue","square","music","note","ampersand","percent","glyphs","characters"],"skins":[{"unified":"1f523","native":""}],"version":1},"abc":{"id":"abc","name":"Input Latin Letters","keywords":["abc","blue","square","alphabet"],"skins":[{"unified":"1f524","native":""}],"version":1},"a":{"id":"a","name":"A Button (blood Type)","keywords":["red","square","alphabet","letter"],"skins":[{"unified":"1f170-fe0f","native":""}],"version":1},"ab":{"id":"ab","name":"Negative Squared Ab","keywords":["button","red","square","alphabet"],"skins":[{"unified":"1f18e","native":""}],"version":1},"b":{"id":"b","name":"B Button (blood Type)","keywords":["red","square","alphabet","letter"],"skins":[{"unified":"1f171-fe0f","native":""}],"version":1},"cl":{"id":"cl","name":"Cl Button","keywords":["alphabet","words","red","square"],"skins":[{"unified":"1f191","native":""}],"version":1},"cool":{"id":"cool","name":"Cool Button","keywords":["words","blue","square"],"skins":[{"unified":"1f192","native":""}],"version":1},"free":{"id":"free","name":"Free Button","keywords":["blue","square","words"],"skins":[{"unified":"1f193","native":""}],"version":1},"information_source":{"id":"information_source","name":"Information","keywords":["source","blue","square","alphabet","letter"],"skins":[{"unified":"2139-fe0f","native":""}],"version":1},"id":{"id":"id","name":"Id Button","keywords":["purple","square","words"],"skins":[{"unified":"1f194","native":""}],"version":1},"m":{"id":"m","name":"Circled M","keywords":["alphabet","blue","circle","letter"],"skins":[{"unified":"24c2-fe0f","native":""}],"version":1},"new":{"id":"new","name":"New Button","keywords":["blue","square","words","start"],"skins":[{"unified":"1f195","native":""}],"version":1},"ng":{"id":"ng","name":"Ng Button","keywords":["blue","square","words","shape","icon"],"skins":[{"unified":"1f196","native":""}],"version":1},"o2":{"id":"o2","name":"O Button (blood Type)","keywords":["o2","alphabet","red","square","letter"],"skins":[{"unified":"1f17e-fe0f","native":""}],"version":1},"ok":{"id":"ok","name":"Ok Button","keywords":["good","agree","yes","blue","square"],"skins":[{"unified":"1f197","native":""}],"version":1},"parking":{"id":"parking","name":"P Button","keywords":["parking","cars","blue","square","alphabet","letter"],"skins":[{"unified":"1f17f-fe0f","native":""}],"version":1},"sos":{"id":"sos","name":"Sos Button","keywords":["help","red","square","words","emergency","911"],"skins":[{"unified":"1f198","native":""}],"version":1},"up":{"id":"up","name":"Up! Button","keywords":["up","blue","square","above","high"],"skins":[{"unified":"1f199","native":""}],"version":1},"vs":{"id":"vs","name":"Vs Button","keywords":["words","orange","square"],"skins":[{"unified":"1f19a","native":""}],"version":1},"koko":{"id":"koko","name":"Squared Katakana Koko","keywords":["japanese","here","button","blue","square","destination"],"skins":[{"unified":"1f201","native":""}],"version":1},"sa":{"id":"sa","name":"Squared Katakana Sa","keywords":["japanese","service","charge","button","blue","square"],"skins":[{"unified":"1f202-fe0f","native":""}],"version":1},"u6708":{"id":"u6708","name":"Japanese monthly Amount Button","keywords":["u6708","monthly","amount","chinese","month","moon","orange","square","kanji"],"skins":[{"unified":"1f237-fe0f","native":""}],"version":1},"u6709":{"id":"u6709","name":"Squared Cjk Unified Ideograph-6709","keywords":["u6709","japanese","not","free","of","charge","button","orange","square","chinese","have","kanji"],"skins":[{"unified":"1f236","native":""}],"version":1},"u6307":{"id":"u6307","name":"Japanese reserved Button","keywords":["u6307","reserved","chinese","point","green","square","kanji"],"skins":[{"unified":"1f22f","native":""}],"version":1},"ideograph_advantage":{"id":"ideograph_advantage","name":"Japanese bargain Button","keywords":["ideograph","advantage","bargain","chinese","kanji","obtain","get","circle"],"skins":[{"unified":"1f250","native":""}],"version":1},"u5272":{"id":"u5272","name":"Japanese discount Button","keywords":["u5272","discount","cut","divide","chinese","kanji","pink","square"],"skins":[{"unified":"1f239","native":""}],"version":1},"u7121":{"id":"u7121","name":"Japanese free of Charge Button","keywords":["u7121","free","charge","nothing","chinese","kanji","orange","square"],"skins":[{"unified":"1f21a","native":""}],"version":1},"u7981":{"id":"u7981","name":"Japanese prohibited Button","keywords":["u7981","prohibited","kanji","chinese","forbidden","limit","restricted","red","square"],"skins":[{"unified":"1f232","native":""}],"version":1},"accept":{"id":"accept","name":"Circled Ideograph Accept","keywords":["japanese","acceptable","button","ok","good","chinese","kanji","agree","yes","orange","circle"],"skins":[{"unified":"1f251","native":""}],"version":1},"u7533":{"id":"u7533","name":"Japanese application Button","keywords":["u7533","application","chinese","kanji","orange","square"],"skins":[{"unified":"1f238","native":""}],"version":1},"u5408":{"id":"u5408","name":"Japanese passing Grade Button","keywords":["u5408","passing","grade","chinese","join","kanji","red","square"],"skins":[{"unified":"1f234","native":""}],"version":1},"u7a7a":{"id":"u7a7a","name":"Japanese vacancy Button","keywords":["u7a7a","vacancy","kanji","chinese","empty","sky","blue","square"],"skins":[{"unified":"1f233","native":""}],"version":1},"congratulations":{"id":"congratulations","name":"Circled Ideograph Congratulation","keywords":["congratulations","japanese","button","chinese","kanji","red","circle"],"skins":[{"unified":"3297-fe0f","native":""}],"version":1},"secret":{"id":"secret","name":"Circled Ideograph Secret","keywords":["japanese","button","privacy","chinese","sshh","kanji","red","circle"],"skins":[{"unified":"3299-fe0f","native":""}],"version":1},"u55b6":{"id":"u55b6","name":"Squared Cjk Unified Ideograph-55b6","keywords":["u55b6","japanese","open","for","business","button","opening","hours","orange","square"],"skins":[{"unified":"1f23a","native":""}],"version":1},"u6e80":{"id":"u6e80","name":"Japanese no Vacancy Button","keywords":["u6e80","no","vacancy","full","chinese","red","square","kanji"],"skins":[{"unified":"1f235","native":""}],"version":1},"red_circle":{"id":"red_circle","name":"Red Circle","keywords":["shape","error","danger"],"skins":[{"unified":"1f534","native":""}],"version":1},"large_orange_circle":{"id":"large_orange_circle","name":"Orange Circle","keywords":["large","round"],"skins":[{"unified":"1f7e0","native":""}],"version":12},"large_yellow_circle":{"id":"large_yellow_circle","name":"Yellow Circle","keywords":["large","round"],"skins":[{"unified":"1f7e1","native":""}],"version":12},"large_green_circle":{"id":"large_green_circle","name":"Green Circle","keywords":["large","round"],"skins":[{"unified":"1f7e2","native":""}],"version":12},"large_blue_circle":{"id":"large_blue_circle","name":"Blue Circle","keywords":["large","shape","icon","button"],"skins":[{"unified":"1f535","native":""}],"version":1},"large_purple_circle":{"id":"large_purple_circle","name":"Purple Circle","keywords":["large","round"],"skins":[{"unified":"1f7e3","native":""}],"version":12},"large_brown_circle":{"id":"large_brown_circle","name":"Brown Circle","keywords":["large","round"],"skins":[{"unified":"1f7e4","native":""}],"version":12},"black_circle":{"id":"black_circle","name":"Black Circle","keywords":["shape","button","round"],"skins":[{"unified":"26ab","native":""}],"version":1},"white_circle":{"id":"white_circle","name":"White Circle","keywords":["shape","round"],"skins":[{"unified":"26aa","native":""}],"version":1},"large_red_square":{"id":"large_red_square","name":"Red Square","keywords":["large"],"skins":[{"unified":"1f7e5","native":""}],"version":12},"large_orange_square":{"id":"large_orange_square","name":"Orange Square","keywords":["large"],"skins":[{"unified":"1f7e7","native":""}],"version":12},"large_yellow_square":{"id":"large_yellow_square","name":"Yellow Square","keywords":["large"],"skins":[{"unified":"1f7e8","native":""}],"version":12},"large_green_square":{"id":"large_green_square","name":"Green Square","keywords":["large"],"skins":[{"unified":"1f7e9","native":""}],"version":12},"large_blue_square":{"id":"large_blue_square","name":"Blue Square","keywords":["large"],"skins":[{"unified":"1f7e6","native":""}],"version":12},"large_purple_square":{"id":"large_purple_square","name":"Purple Square","keywords":["large"],"skins":[{"unified":"1f7ea","native":""}],"version":12},"large_brown_square":{"id":"large_brown_square","name":"Brown Square","keywords":["large"],"skins":[{"unified":"1f7eb","native":""}],"version":12},"black_large_square":{"id":"black_large_square","name":"Black Large Square","keywords":["shape","icon","button"],"skins":[{"unified":"2b1b","native":""}],"version":1},"white_large_square":{"id":"white_large_square","name":"White Large Square","keywords":["shape","icon","stone","button"],"skins":[{"unified":"2b1c","native":""}],"version":1},"black_medium_square":{"id":"black_medium_square","name":"Black Medium Square","keywords":["shape","button","icon"],"skins":[{"unified":"25fc-fe0f","native":""}],"version":1},"white_medium_square":{"id":"white_medium_square","name":"White Medium Square","keywords":["shape","stone","icon"],"skins":[{"unified":"25fb-fe0f","native":""}],"version":1},"black_medium_small_square":{"id":"black_medium_small_square","name":"Black Medium Small Square","keywords":["icon","shape","button"],"skins":[{"unified":"25fe","native":""}],"version":1},"white_medium_small_square":{"id":"white_medium_small_square","name":"White Medium Small Square","keywords":["shape","stone","icon","button"],"skins":[{"unified":"25fd","native":""}],"version":1},"black_small_square":{"id":"black_small_square","name":"Black Small Square","keywords":["shape","icon"],"skins":[{"unified":"25aa-fe0f","native":""}],"version":1},"white_small_square":{"id":"white_small_square","name":"White Small Square","keywords":["shape","icon"],"skins":[{"unified":"25ab-fe0f","native":""}],"version":1},"large_orange_diamond":{"id":"large_orange_diamond","name":"Large Orange Diamond","keywords":["shape","jewel","gem"],"skins":[{"unified":"1f536","native":""}],"version":1},"large_blue_diamond":{"id":"large_blue_diamond","name":"Large Blue Diamond","keywords":["shape","jewel","gem"],"skins":[{"unified":"1f537","native":""}],"version":1},"small_orange_diamond":{"id":"small_orange_diamond","name":"Small Orange Diamond","keywords":["shape","jewel","gem"],"skins":[{"unified":"1f538","native":""}],"version":1},"small_blue_diamond":{"id":"small_blue_diamond","name":"Small Blue Diamond","keywords":["shape","jewel","gem"],"skins":[{"unified":"1f539","native":""}],"version":1},"small_red_triangle":{"id":"small_red_triangle","name":"Red Triangle Pointed Up","keywords":["small","shape","direction","top"],"skins":[{"unified":"1f53a","native":""}],"version":1},"small_red_triangle_down":{"id":"small_red_triangle_down","name":"Red Triangle Pointed Down","keywords":["small","shape","direction","bottom"],"skins":[{"unified":"1f53b","native":""}],"version":1},"diamond_shape_with_a_dot_inside":{"id":"diamond_shape_with_a_dot_inside","name":"Diamond with a Dot","keywords":["shape","inside","jewel","blue","gem","crystal","fancy"],"skins":[{"unified":"1f4a0","native":""}],"version":1},"radio_button":{"id":"radio_button","name":"Radio Button","keywords":["input","old","music","circle"],"skins":[{"unified":"1f518","native":""}],"version":1},"white_square_button":{"id":"white_square_button","name":"White Square Button","keywords":["shape","input"],"skins":[{"unified":"1f533","native":""}],"version":1},"black_square_button":{"id":"black_square_button","name":"Black Square Button","keywords":["shape","input","frame"],"skins":[{"unified":"1f532","native":""}],"version":1},"checkered_flag":{"id":"checkered_flag","name":"Chequered Flag","keywords":["checkered","contest","finishline","race","gokart"],"skins":[{"unified":"1f3c1","native":""}],"version":1},"triangular_flag_on_post":{"id":"triangular_flag_on_post","name":"Triangular Flag","keywords":["on","post","mark","milestone","place"],"skins":[{"unified":"1f6a9","native":""}],"version":1},"crossed_flags":{"id":"crossed_flags","name":"Crossed Flags","keywords":["japanese","nation","country","border"],"skins":[{"unified":"1f38c","native":""}],"version":1},"waving_black_flag":{"id":"waving_black_flag","name":"Black Flag","keywords":["waving","pirate"],"skins":[{"unified":"1f3f4","native":""}],"version":1},"waving_white_flag":{"id":"waving_white_flag","name":"White Flag","keywords":["waving","losing","loser","lost","surrender","give","up","fail"],"skins":[{"unified":"1f3f3-fe0f","native":""}],"version":1},"rainbow-flag":{"id":"rainbow-flag","name":"Rainbow Flag","keywords":["pride","gay","lgbt","glbt","queer","homosexual","lesbian","bisexual","transgender"],"skins":[{"unified":"1f3f3-fe0f-200d-1f308","native":""}],"version":4},"transgender_flag":{"id":"transgender_flag","name":"Transgender Flag","keywords":["lgbtq"],"skins":[{"unified":"1f3f3-fe0f-200d-26a7-fe0f","native":""}],"version":13},"pirate_flag":{"id":"pirate_flag","name":"Pirate Flag","keywords":["skull","crossbones","banner"],"skins":[{"unified":"1f3f4-200d-2620-fe0f","native":""}],"version":11},"flag-ac":{"id":"flag-ac","name":"Ascension Island Flag","keywords":["ac"],"skins":[{"unified":"1f1e6-1f1e8","native":""}],"version":2},"flag-ad":{"id":"flag-ad","name":"Andorra Flag","keywords":["ad","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1e9","native":""}],"version":2},"flag-ae":{"id":"flag-ae","name":"United Arab Emirates Flag","keywords":["ae","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1ea","native":""}],"version":2},"flag-af":{"id":"flag-af","name":"Afghanistan Flag","keywords":["af","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1eb","native":""}],"version":2},"flag-ag":{"id":"flag-ag","name":"Antigua & Barbuda Flag","keywords":["ag","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1ec","native":""}],"version":2},"flag-ai":{"id":"flag-ai","name":"Anguilla Flag","keywords":["ai","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1ee","native":""}],"version":2},"flag-al":{"id":"flag-al","name":"Albania Flag","keywords":["al","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f1","native":""}],"version":2},"flag-am":{"id":"flag-am","name":"Armenia Flag","keywords":["am","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f2","native":""}],"version":2},"flag-ao":{"id":"flag-ao","name":"Angola Flag","keywords":["ao","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f4","native":""}],"version":2},"flag-aq":{"id":"flag-aq","name":"Antarctica Flag","keywords":["aq","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f6","native":""}],"version":2},"flag-ar":{"id":"flag-ar","name":"Argentina Flag","keywords":["ar","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f7","native":""}],"version":2},"flag-as":{"id":"flag-as","name":"American Samoa Flag","keywords":["as","ws","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f8","native":""}],"version":2},"flag-at":{"id":"flag-at","name":"Austria Flag","keywords":["at","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1f9","native":""}],"version":2},"flag-au":{"id":"flag-au","name":"Australia Flag","keywords":["au","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1fa","native":""}],"version":2},"flag-aw":{"id":"flag-aw","name":"Aruba Flag","keywords":["aw","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1fc","native":""}],"version":2},"flag-ax":{"id":"flag-ax","name":"land Islands Flag","keywords":["ax","aland","Aland","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1fd","native":""}],"version":2},"flag-az":{"id":"flag-az","name":"Azerbaijan Flag","keywords":["az","nation","country","banner"],"skins":[{"unified":"1f1e6-1f1ff","native":""}],"version":2},"flag-ba":{"id":"flag-ba","name":"Bosnia & Herzegovina Flag","keywords":["ba","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1e6","native":""}],"version":2},"flag-bb":{"id":"flag-bb","name":"Barbados Flag","keywords":["bb","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1e7","native":""}],"version":2},"flag-bd":{"id":"flag-bd","name":"Bangladesh Flag","keywords":["bd","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1e9","native":""}],"version":2},"flag-be":{"id":"flag-be","name":"Belgium Flag","keywords":["be","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ea","native":""}],"version":2},"flag-bf":{"id":"flag-bf","name":"Burkina Faso Flag","keywords":["bf","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1eb","native":""}],"version":2},"flag-bg":{"id":"flag-bg","name":"Bulgaria Flag","keywords":["bg","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ec","native":""}],"version":2},"flag-bh":{"id":"flag-bh","name":"Bahrain Flag","keywords":["bh","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ed","native":""}],"version":2},"flag-bi":{"id":"flag-bi","name":"Burundi Flag","keywords":["bi","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ee","native":""}],"version":2},"flag-bj":{"id":"flag-bj","name":"Benin Flag","keywords":["bj","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ef","native":""}],"version":2},"flag-bl":{"id":"flag-bl","name":"St. Barthlemy Flag","keywords":["bl","st","barthelemy","saint","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f1","native":""}],"version":2},"flag-bm":{"id":"flag-bm","name":"Bermuda Flag","keywords":["bm","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f2","native":""}],"version":2},"flag-bn":{"id":"flag-bn","name":"Brunei Flag","keywords":["bn","darussalam","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f3","native":""}],"version":2},"flag-bo":{"id":"flag-bo","name":"Bolivia Flag","keywords":["bo","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f4","native":""}],"version":2},"flag-bq":{"id":"flag-bq","name":"Caribbean Netherlands Flag","keywords":["bq","bonaire","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f6","native":""}],"version":2},"flag-br":{"id":"flag-br","name":"Brazil Flag","keywords":["br","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f7","native":""}],"version":2},"flag-bs":{"id":"flag-bs","name":"Bahamas Flag","keywords":["bs","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f8","native":""}],"version":2},"flag-bt":{"id":"flag-bt","name":"Bhutan Flag","keywords":["bt","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1f9","native":""}],"version":2},"flag-bv":{"id":"flag-bv","name":"Bouvet Island Flag","keywords":["bv","norway"],"skins":[{"unified":"1f1e7-1f1fb","native":""}],"version":2},"flag-bw":{"id":"flag-bw","name":"Botswana Flag","keywords":["bw","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1fc","native":""}],"version":2},"flag-by":{"id":"flag-by","name":"Belarus Flag","keywords":["by","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1fe","native":""}],"version":2},"flag-bz":{"id":"flag-bz","name":"Belize Flag","keywords":["bz","nation","country","banner"],"skins":[{"unified":"1f1e7-1f1ff","native":""}],"version":2},"flag-ca":{"id":"flag-ca","name":"Canada Flag","keywords":["ca","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1e6","native":""}],"version":2},"flag-cc":{"id":"flag-cc","name":"Cocos (keeling) Islands Flag","keywords":["cc","keeling","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1e8","native":""}],"version":2},"flag-cd":{"id":"flag-cd","name":"Congo - Kinshasa Flag","keywords":["cd","democratic","republic","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1e9","native":""}],"version":2},"flag-cf":{"id":"flag-cf","name":"Central African Republic Flag","keywords":["cf","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1eb","native":""}],"version":2},"flag-cg":{"id":"flag-cg","name":"Congo - Brazzaville Flag","keywords":["cg","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1ec","native":""}],"version":2},"flag-ch":{"id":"flag-ch","name":"Switzerland Flag","keywords":["ch","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1ed","native":""}],"version":2},"flag-ci":{"id":"flag-ci","name":"Cte Divoire Flag","keywords":["ci","cote","d","ivoire","ivory","coast","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1ee","native":""}],"version":2},"flag-ck":{"id":"flag-ck","name":"Cook Islands Flag","keywords":["ck","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f0","native":""}],"version":2},"flag-cl":{"id":"flag-cl","name":"Chile Flag","keywords":["cl","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f1","native":""}],"version":2},"flag-cm":{"id":"flag-cm","name":"Cameroon Flag","keywords":["cm","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f2","native":""}],"version":2},"cn":{"id":"cn","name":"China Flag","keywords":["cn","chinese","prc","country","nation","banner"],"skins":[{"unified":"1f1e8-1f1f3","native":""}],"version":1},"flag-co":{"id":"flag-co","name":"Colombia Flag","keywords":["co","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f4","native":""}],"version":2},"flag-cp":{"id":"flag-cp","name":"Clipperton Island Flag","keywords":["cp"],"skins":[{"unified":"1f1e8-1f1f5","native":""}],"version":2},"flag-cr":{"id":"flag-cr","name":"Costa Rica Flag","keywords":["cr","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1f7","native":""}],"version":2},"flag-cu":{"id":"flag-cu","name":"Cuba Flag","keywords":["cu","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fa","native":""}],"version":2},"flag-cv":{"id":"flag-cv","name":"Cape Verde Flag","keywords":["cv","cabo","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fb","native":""}],"version":2},"flag-cw":{"id":"flag-cw","name":"Curaao Flag","keywords":["cw","curacao","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fc","native":""}],"version":2},"flag-cx":{"id":"flag-cx","name":"Christmas Island Flag","keywords":["cx","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fd","native":""}],"version":2},"flag-cy":{"id":"flag-cy","name":"Cyprus Flag","keywords":["cy","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1fe","native":""}],"version":2},"flag-cz":{"id":"flag-cz","name":"Czechia Flag","keywords":["cz","nation","country","banner"],"skins":[{"unified":"1f1e8-1f1ff","native":""}],"version":2},"de":{"id":"de","name":"Germany Flag","keywords":["de","german","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1ea","native":""}],"version":1},"flag-dg":{"id":"flag-dg","name":"Diego Garcia Flag","keywords":["dg"],"skins":[{"unified":"1f1e9-1f1ec","native":""}],"version":2},"flag-dj":{"id":"flag-dj","name":"Djibouti Flag","keywords":["dj","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1ef","native":""}],"version":2},"flag-dk":{"id":"flag-dk","name":"Denmark Flag","keywords":["dk","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1f0","native":""}],"version":2},"flag-dm":{"id":"flag-dm","name":"Dominica Flag","keywords":["dm","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1f2","native":""}],"version":2},"flag-do":{"id":"flag-do","name":"Dominican Republic Flag","keywords":["do","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1f4","native":""}],"version":2},"flag-dz":{"id":"flag-dz","name":"Algeria Flag","keywords":["dz","nation","country","banner"],"skins":[{"unified":"1f1e9-1f1ff","native":""}],"version":2},"flag-ea":{"id":"flag-ea","name":"Ceuta & Melilla Flag","keywords":["ea"],"skins":[{"unified":"1f1ea-1f1e6","native":""}],"version":2},"flag-ec":{"id":"flag-ec","name":"Ecuador Flag","keywords":["ec","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1e8","native":""}],"version":2},"flag-ee":{"id":"flag-ee","name":"Estonia Flag","keywords":["ee","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1ea","native":""}],"version":2},"flag-eg":{"id":"flag-eg","name":"Egypt Flag","keywords":["eg","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1ec","native":""}],"version":2},"flag-eh":{"id":"flag-eh","name":"Western Sahara Flag","keywords":["eh","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1ed","native":""}],"version":2},"flag-er":{"id":"flag-er","name":"Eritrea Flag","keywords":["er","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1f7","native":""}],"version":2},"es":{"id":"es","name":"Spain Flag","keywords":["es","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1f8","native":""}],"version":1},"flag-et":{"id":"flag-et","name":"Ethiopia Flag","keywords":["et","nation","country","banner"],"skins":[{"unified":"1f1ea-1f1f9","native":""}],"version":2},"flag-eu":{"id":"flag-eu","name":"European Union Flag","keywords":["eu","banner"],"skins":[{"unified":"1f1ea-1f1fa","native":""}],"version":2},"flag-fi":{"id":"flag-fi","name":"Finland Flag","keywords":["fi","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1ee","native":""}],"version":2},"flag-fj":{"id":"flag-fj","name":"Fiji Flag","keywords":["fj","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1ef","native":""}],"version":2},"flag-fk":{"id":"flag-fk","name":"Falkland Islands Flag","keywords":["fk","malvinas","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1f0","native":""}],"version":2},"flag-fm":{"id":"flag-fm","name":"Micronesia Flag","keywords":["fm","federated","states","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1f2","native":""}],"version":2},"flag-fo":{"id":"flag-fo","name":"Faroe Islands Flag","keywords":["fo","nation","country","banner"],"skins":[{"unified":"1f1eb-1f1f4","native":""}],"version":2},"fr":{"id":"fr","name":"France Flag","keywords":["fr","banner","nation","french","country"],"skins":[{"unified":"1f1eb-1f1f7","native":""}],"version":1},"flag-ga":{"id":"flag-ga","name":"Gabon Flag","keywords":["ga","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1e6","native":""}],"version":2},"gb":{"id":"gb","name":"United Kingdom Flag","keywords":["gb","uk","great","britain","northern","ireland","nation","country","banner","british","UK","english","england","union","jack"],"skins":[{"unified":"1f1ec-1f1e7","native":""}],"version":1},"flag-gd":{"id":"flag-gd","name":"Grenada Flag","keywords":["gd","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1e9","native":""}],"version":2},"flag-ge":{"id":"flag-ge","name":"Georgia Flag","keywords":["ge","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1ea","native":""}],"version":2},"flag-gf":{"id":"flag-gf","name":"French Guiana Flag","keywords":["gf","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1eb","native":""}],"version":2},"flag-gg":{"id":"flag-gg","name":"Guernsey Flag","keywords":["gg","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1ec","native":""}],"version":2},"flag-gh":{"id":"flag-gh","name":"Ghana Flag","keywords":["gh","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1ed","native":""}],"version":2},"flag-gi":{"id":"flag-gi","name":"Gibraltar Flag","keywords":["gi","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1ee","native":""}],"version":2},"flag-gl":{"id":"flag-gl","name":"Greenland Flag","keywords":["gl","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f1","native":""}],"version":2},"flag-gm":{"id":"flag-gm","name":"Gambia Flag","keywords":["gm","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f2","native":""}],"version":2},"flag-gn":{"id":"flag-gn","name":"Guinea Flag","keywords":["gn","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f3","native":""}],"version":2},"flag-gp":{"id":"flag-gp","name":"Guadeloupe Flag","keywords":["gp","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f5","native":""}],"version":2},"flag-gq":{"id":"flag-gq","name":"Equatorial Guinea Flag","keywords":["gq","gn","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f6","native":""}],"version":2},"flag-gr":{"id":"flag-gr","name":"Greece Flag","keywords":["gr","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f7","native":""}],"version":2},"flag-gs":{"id":"flag-gs","name":"South Georgia & South Sandwich Islands Flag","keywords":["gs","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f8","native":""}],"version":2},"flag-gt":{"id":"flag-gt","name":"Guatemala Flag","keywords":["gt","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1f9","native":""}],"version":2},"flag-gu":{"id":"flag-gu","name":"Guam Flag","keywords":["gu","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1fa","native":""}],"version":2},"flag-gw":{"id":"flag-gw","name":"Guinea-Bissau Flag","keywords":["gw","guinea","bissau","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1fc","native":""}],"version":2},"flag-gy":{"id":"flag-gy","name":"Guyana Flag","keywords":["gy","nation","country","banner"],"skins":[{"unified":"1f1ec-1f1fe","native":""}],"version":2},"flag-hk":{"id":"flag-hk","name":"Hong Kong Sar China Flag","keywords":["hk","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1f0","native":""}],"version":2},"flag-hm":{"id":"flag-hm","name":"Heard & Mcdonald Islands Flag","keywords":["hm"],"skins":[{"unified":"1f1ed-1f1f2","native":""}],"version":2},"flag-hn":{"id":"flag-hn","name":"Honduras Flag","keywords":["hn","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1f3","native":""}],"version":2},"flag-hr":{"id":"flag-hr","name":"Croatia Flag","keywords":["hr","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1f7","native":""}],"version":2},"flag-ht":{"id":"flag-ht","name":"Haiti Flag","keywords":["ht","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1f9","native":""}],"version":2},"flag-hu":{"id":"flag-hu","name":"Hungary Flag","keywords":["hu","nation","country","banner"],"skins":[{"unified":"1f1ed-1f1fa","native":""}],"version":2},"flag-ic":{"id":"flag-ic","name":"Canary Islands Flag","keywords":["ic","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1e8","native":""}],"version":2},"flag-id":{"id":"flag-id","name":"Indonesia Flag","keywords":["id","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1e9","native":""}],"version":2},"flag-ie":{"id":"flag-ie","name":"Ireland Flag","keywords":["ie","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1ea","native":""}],"version":2},"flag-il":{"id":"flag-il","name":"Israel Flag","keywords":["il","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f1","native":""}],"version":2},"flag-im":{"id":"flag-im","name":"Isle of Man Flag","keywords":["im","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f2","native":""}],"version":2},"flag-in":{"id":"flag-in","name":"India Flag","keywords":["in","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f3","native":""}],"version":2},"flag-io":{"id":"flag-io","name":"British Indian Ocean Territory Flag","keywords":["io","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f4","native":""}],"version":2},"flag-iq":{"id":"flag-iq","name":"Iraq Flag","keywords":["iq","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f6","native":""}],"version":2},"flag-ir":{"id":"flag-ir","name":"Iran Flag","keywords":["ir","islamic","republic","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f7","native":""}],"version":2},"flag-is":{"id":"flag-is","name":"Iceland Flag","keywords":["is","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f8","native":""}],"version":2},"it":{"id":"it","name":"Italy Flag","keywords":["it","nation","country","banner"],"skins":[{"unified":"1f1ee-1f1f9","native":""}],"version":1},"flag-je":{"id":"flag-je","name":"Jersey Flag","keywords":["je","nation","country","banner"],"skins":[{"unified":"1f1ef-1f1ea","native":""}],"version":2},"flag-jm":{"id":"flag-jm","name":"Jamaica Flag","keywords":["jm","nation","country","banner"],"skins":[{"unified":"1f1ef-1f1f2","native":""}],"version":2},"flag-jo":{"id":"flag-jo","name":"Jordan Flag","keywords":["jo","nation","country","banner"],"skins":[{"unified":"1f1ef-1f1f4","native":""}],"version":2},"jp":{"id":"jp","name":"Japan Flag","keywords":["jp","japanese","nation","country","banner","ja"],"skins":[{"unified":"1f1ef-1f1f5","native":""}],"version":1},"flag-ke":{"id":"flag-ke","name":"Kenya Flag","keywords":["ke","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ea","native":""}],"version":2},"flag-kg":{"id":"flag-kg","name":"Kyrgyzstan Flag","keywords":["kg","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ec","native":""}],"version":2},"flag-kh":{"id":"flag-kh","name":"Cambodia Flag","keywords":["kh","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ed","native":""}],"version":2},"flag-ki":{"id":"flag-ki","name":"Kiribati Flag","keywords":["ki","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ee","native":""}],"version":2},"flag-km":{"id":"flag-km","name":"Comoros Flag","keywords":["km","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1f2","native":""}],"version":2},"flag-kn":{"id":"flag-kn","name":"St. Kitts & Nevis Flag","keywords":["kn","st","saint","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1f3","native":""}],"version":2},"flag-kp":{"id":"flag-kp","name":"North Korea Flag","keywords":["kp","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1f5","native":""}],"version":2},"kr":{"id":"kr","name":"South Korea Flag","keywords":["kr","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1f7","native":""}],"version":1},"flag-kw":{"id":"flag-kw","name":"Kuwait Flag","keywords":["kw","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1fc","native":""}],"version":2},"flag-ky":{"id":"flag-ky","name":"Cayman Islands Flag","keywords":["ky","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1fe","native":""}],"version":2},"flag-kz":{"id":"flag-kz","name":"Kazakhstan Flag","keywords":["kz","nation","country","banner"],"skins":[{"unified":"1f1f0-1f1ff","native":""}],"version":2},"flag-la":{"id":"flag-la","name":"Laos Flag","keywords":["la","lao","democratic","republic","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1e6","native":""}],"version":2},"flag-lb":{"id":"flag-lb","name":"Lebanon Flag","keywords":["lb","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1e7","native":""}],"version":2},"flag-lc":{"id":"flag-lc","name":"St. Lucia Flag","keywords":["lc","st","saint","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1e8","native":""}],"version":2},"flag-li":{"id":"flag-li","name":"Liechtenstein Flag","keywords":["li","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1ee","native":""}],"version":2},"flag-lk":{"id":"flag-lk","name":"Sri Lanka Flag","keywords":["lk","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1f0","native":""}],"version":2},"flag-lr":{"id":"flag-lr","name":"Liberia Flag","keywords":["lr","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1f7","native":""}],"version":2},"flag-ls":{"id":"flag-ls","name":"Lesotho Flag","keywords":["ls","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1f8","native":""}],"version":2},"flag-lt":{"id":"flag-lt","name":"Lithuania Flag","keywords":["lt","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1f9","native":""}],"version":2},"flag-lu":{"id":"flag-lu","name":"Luxembourg Flag","keywords":["lu","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1fa","native":""}],"version":2},"flag-lv":{"id":"flag-lv","name":"Latvia Flag","keywords":["lv","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1fb","native":""}],"version":2},"flag-ly":{"id":"flag-ly","name":"Libya Flag","keywords":["ly","nation","country","banner"],"skins":[{"unified":"1f1f1-1f1fe","native":""}],"version":2},"flag-ma":{"id":"flag-ma","name":"Morocco Flag","keywords":["ma","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1e6","native":""}],"version":2},"flag-mc":{"id":"flag-mc","name":"Monaco Flag","keywords":["mc","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1e8","native":""}],"version":2},"flag-md":{"id":"flag-md","name":"Moldova Flag","keywords":["md","republic","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1e9","native":""}],"version":2},"flag-me":{"id":"flag-me","name":"Montenegro Flag","keywords":["me","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1ea","native":""}],"version":2},"flag-mf":{"id":"flag-mf","name":"St. Martin Flag","keywords":["mf","st"],"skins":[{"unified":"1f1f2-1f1eb","native":""}],"version":2},"flag-mg":{"id":"flag-mg","name":"Madagascar Flag","keywords":["mg","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1ec","native":""}],"version":2},"flag-mh":{"id":"flag-mh","name":"Marshall Islands Flag","keywords":["mh","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1ed","native":""}],"version":2},"flag-mk":{"id":"flag-mk","name":"North Macedonia Flag","keywords":["mk","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f0","native":""}],"version":2},"flag-ml":{"id":"flag-ml","name":"Mali Flag","keywords":["ml","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f1","native":""}],"version":2},"flag-mm":{"id":"flag-mm","name":"Myanmar (burma) Flag","keywords":["mm","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f2","native":""}],"version":2},"flag-mn":{"id":"flag-mn","name":"Mongolia Flag","keywords":["mn","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f3","native":""}],"version":2},"flag-mo":{"id":"flag-mo","name":"Macao Sar China Flag","keywords":["mo","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f4","native":""}],"version":2},"flag-mp":{"id":"flag-mp","name":"Northern Mariana Islands Flag","keywords":["mp","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f5","native":""}],"version":2},"flag-mq":{"id":"flag-mq","name":"Martinique Flag","keywords":["mq","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f6","native":""}],"version":2},"flag-mr":{"id":"flag-mr","name":"Mauritania Flag","keywords":["mr","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f7","native":""}],"version":2},"flag-ms":{"id":"flag-ms","name":"Montserrat Flag","keywords":["ms","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f8","native":""}],"version":2},"flag-mt":{"id":"flag-mt","name":"Malta Flag","keywords":["mt","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1f9","native":""}],"version":2},"flag-mu":{"id":"flag-mu","name":"Mauritius Flag","keywords":["mu","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fa","native":""}],"version":2},"flag-mv":{"id":"flag-mv","name":"Maldives Flag","keywords":["mv","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fb","native":""}],"version":2},"flag-mw":{"id":"flag-mw","name":"Malawi Flag","keywords":["mw","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fc","native":""}],"version":2},"flag-mx":{"id":"flag-mx","name":"Mexico Flag","keywords":["mx","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fd","native":""}],"version":2},"flag-my":{"id":"flag-my","name":"Malaysia Flag","keywords":["my","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1fe","native":""}],"version":2},"flag-mz":{"id":"flag-mz","name":"Mozambique Flag","keywords":["mz","nation","country","banner"],"skins":[{"unified":"1f1f2-1f1ff","native":""}],"version":2},"flag-na":{"id":"flag-na","name":"Namibia Flag","keywords":["na","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1e6","native":""}],"version":2},"flag-nc":{"id":"flag-nc","name":"New Caledonia Flag","keywords":["nc","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1e8","native":""}],"version":2},"flag-ne":{"id":"flag-ne","name":"Niger Flag","keywords":["ne","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1ea","native":""}],"version":2},"flag-nf":{"id":"flag-nf","name":"Norfolk Island Flag","keywords":["nf","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1eb","native":""}],"version":2},"flag-ng":{"id":"flag-ng","name":"Nigeria Flag","keywords":["ng","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1ec","native":""}],"version":2},"flag-ni":{"id":"flag-ni","name":"Nicaragua Flag","keywords":["ni","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1ee","native":""}],"version":2},"flag-nl":{"id":"flag-nl","name":"Netherlands Flag","keywords":["nl","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1f1","native":""}],"version":2},"flag-no":{"id":"flag-no","name":"Norway Flag","keywords":["no","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1f4","native":""}],"version":2},"flag-np":{"id":"flag-np","name":"Nepal Flag","keywords":["np","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1f5","native":""}],"version":2},"flag-nr":{"id":"flag-nr","name":"Nauru Flag","keywords":["nr","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1f7","native":""}],"version":2},"flag-nu":{"id":"flag-nu","name":"Niue Flag","keywords":["nu","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1fa","native":""}],"version":2},"flag-nz":{"id":"flag-nz","name":"New Zealand Flag","keywords":["nz","nation","country","banner"],"skins":[{"unified":"1f1f3-1f1ff","native":""}],"version":2},"flag-om":{"id":"flag-om","name":"Oman Flag","keywords":["om","symbol","nation","country","banner"],"skins":[{"unified":"1f1f4-1f1f2","native":""}],"version":2},"flag-pa":{"id":"flag-pa","name":"Panama Flag","keywords":["pa","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1e6","native":""}],"version":2},"flag-pe":{"id":"flag-pe","name":"Peru Flag","keywords":["pe","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1ea","native":""}],"version":2},"flag-pf":{"id":"flag-pf","name":"French Polynesia Flag","keywords":["pf","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1eb","native":""}],"version":2},"flag-pg":{"id":"flag-pg","name":"Papua New Guinea Flag","keywords":["pg","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1ec","native":""}],"version":2},"flag-ph":{"id":"flag-ph","name":"Philippines Flag","keywords":["ph","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1ed","native":""}],"version":2},"flag-pk":{"id":"flag-pk","name":"Pakistan Flag","keywords":["pk","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f0","native":""}],"version":2},"flag-pl":{"id":"flag-pl","name":"Poland Flag","keywords":["pl","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f1","native":""}],"version":2},"flag-pm":{"id":"flag-pm","name":"St. Pierre & Miquelon Flag","keywords":["pm","st","saint","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f2","native":""}],"version":2},"flag-pn":{"id":"flag-pn","name":"Pitcairn Islands Flag","keywords":["pn","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f3","native":""}],"version":2},"flag-pr":{"id":"flag-pr","name":"Puerto Rico Flag","keywords":["pr","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f7","native":""}],"version":2},"flag-ps":{"id":"flag-ps","name":"Palestinian Territories Flag","keywords":["ps","palestine","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f8","native":""}],"version":2},"flag-pt":{"id":"flag-pt","name":"Portugal Flag","keywords":["pt","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1f9","native":""}],"version":2},"flag-pw":{"id":"flag-pw","name":"Palau Flag","keywords":["pw","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1fc","native":""}],"version":2},"flag-py":{"id":"flag-py","name":"Paraguay Flag","keywords":["py","nation","country","banner"],"skins":[{"unified":"1f1f5-1f1fe","native":""}],"version":2},"flag-qa":{"id":"flag-qa","name":"Qatar Flag","keywords":["qa","nation","country","banner"],"skins":[{"unified":"1f1f6-1f1e6","native":""}],"version":2},"flag-re":{"id":"flag-re","name":"Runion Flag","keywords":["re","reunion","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1ea","native":""}],"version":2},"flag-ro":{"id":"flag-ro","name":"Romania Flag","keywords":["ro","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1f4","native":""}],"version":2},"flag-rs":{"id":"flag-rs","name":"Serbia Flag","keywords":["rs","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1f8","native":""}],"version":2},"ru":{"id":"ru","name":"Russia Flag","keywords":["ru","russian","federation","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1fa","native":""}],"version":1},"flag-rw":{"id":"flag-rw","name":"Rwanda Flag","keywords":["rw","nation","country","banner"],"skins":[{"unified":"1f1f7-1f1fc","native":""}],"version":2},"flag-sa":{"id":"flag-sa","name":"Saudi Arabia Flag","keywords":["sa","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1e6","native":""}],"version":2},"flag-sb":{"id":"flag-sb","name":"Solomon Islands Flag","keywords":["sb","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1e7","native":""}],"version":2},"flag-sc":{"id":"flag-sc","name":"Seychelles Flag","keywords":["sc","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1e8","native":""}],"version":2},"flag-sd":{"id":"flag-sd","name":"Sudan Flag","keywords":["sd","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1e9","native":""}],"version":2},"flag-se":{"id":"flag-se","name":"Sweden Flag","keywords":["se","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ea","native":""}],"version":2},"flag-sg":{"id":"flag-sg","name":"Singapore Flag","keywords":["sg","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ec","native":""}],"version":2},"flag-sh":{"id":"flag-sh","name":"St. Helena Flag","keywords":["sh","st","saint","ascension","tristan","cunha","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ed","native":""}],"version":2},"flag-si":{"id":"flag-si","name":"Slovenia Flag","keywords":["si","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ee","native":""}],"version":2},"flag-sj":{"id":"flag-sj","name":"Svalbard & Jan Mayen Flag","keywords":["sj"],"skins":[{"unified":"1f1f8-1f1ef","native":""}],"version":2},"flag-sk":{"id":"flag-sk","name":"Slovakia Flag","keywords":["sk","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f0","native":""}],"version":2},"flag-sl":{"id":"flag-sl","name":"Sierra Leone Flag","keywords":["sl","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f1","native":""}],"version":2},"flag-sm":{"id":"flag-sm","name":"San Marino Flag","keywords":["sm","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f2","native":""}],"version":2},"flag-sn":{"id":"flag-sn","name":"Senegal Flag","keywords":["sn","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f3","native":""}],"version":2},"flag-so":{"id":"flag-so","name":"Somalia Flag","keywords":["so","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f4","native":""}],"version":2},"flag-sr":{"id":"flag-sr","name":"Suriname Flag","keywords":["sr","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f7","native":""}],"version":2},"flag-ss":{"id":"flag-ss","name":"South Sudan Flag","keywords":["ss","sd","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f8","native":""}],"version":2},"flag-st":{"id":"flag-st","name":"So Tom & Prncipe Flag","keywords":["st","sao","tome","principe","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1f9","native":""}],"version":2},"flag-sv":{"id":"flag-sv","name":"El Salvador Flag","keywords":["sv","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1fb","native":""}],"version":2},"flag-sx":{"id":"flag-sx","name":"Sint Maarten Flag","keywords":["sx","dutch","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1fd","native":""}],"version":2},"flag-sy":{"id":"flag-sy","name":"Syria Flag","keywords":["sy","syrian","arab","republic","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1fe","native":""}],"version":2},"flag-sz":{"id":"flag-sz","name":"Eswatini Flag","keywords":["sz","nation","country","banner"],"skins":[{"unified":"1f1f8-1f1ff","native":""}],"version":2},"flag-ta":{"id":"flag-ta","name":"Tristan Da Cunha Flag","keywords":["ta"],"skins":[{"unified":"1f1f9-1f1e6","native":""}],"version":2},"flag-tc":{"id":"flag-tc","name":"Turks & Caicos Islands Flag","keywords":["tc","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1e8","native":""}],"version":2},"flag-td":{"id":"flag-td","name":"Chad Flag","keywords":["td","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1e9","native":""}],"version":2},"flag-tf":{"id":"flag-tf","name":"French Southern Territories Flag","keywords":["tf","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1eb","native":""}],"version":2},"flag-tg":{"id":"flag-tg","name":"Togo Flag","keywords":["tg","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1ec","native":""}],"version":2},"flag-th":{"id":"flag-th","name":"Thailand Flag","keywords":["th","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1ed","native":""}],"version":2},"flag-tj":{"id":"flag-tj","name":"Tajikistan Flag","keywords":["tj","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1ef","native":""}],"version":2},"flag-tk":{"id":"flag-tk","name":"Tokelau Flag","keywords":["tk","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f0","native":""}],"version":2},"flag-tl":{"id":"flag-tl","name":"Timor-Leste Flag","keywords":["tl","timor","leste","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f1","native":""}],"version":2},"flag-tm":{"id":"flag-tm","name":"Turkmenistan Flag","keywords":["tm","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f2","native":""}],"version":2},"flag-tn":{"id":"flag-tn","name":"Tunisia Flag","keywords":["tn","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f3","native":""}],"version":2},"flag-to":{"id":"flag-to","name":"Tonga Flag","keywords":["to","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f4","native":""}],"version":2},"flag-tr":{"id":"flag-tr","name":"Turkey Flag","keywords":["tr","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f7","native":""}],"version":2},"flag-tt":{"id":"flag-tt","name":"Trinidad & Tobago Flag","keywords":["tt","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1f9","native":""}],"version":2},"flag-tv":{"id":"flag-tv","name":"Tuvalu Flag","keywords":["tv","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1fb","native":""}],"version":2},"flag-tw":{"id":"flag-tw","name":"Taiwan Flag","keywords":["tw","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1fc","native":""}],"version":2},"flag-tz":{"id":"flag-tz","name":"Tanzania Flag","keywords":["tz","united","republic","nation","country","banner"],"skins":[{"unified":"1f1f9-1f1ff","native":""}],"version":2},"flag-ua":{"id":"flag-ua","name":"Ukraine Flag","keywords":["ua","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1e6","native":""}],"version":2},"flag-ug":{"id":"flag-ug","name":"Uganda Flag","keywords":["ug","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1ec","native":""}],"version":2},"flag-um":{"id":"flag-um","name":"U.s. Outlying Islands Flag","keywords":["um","u","s"],"skins":[{"unified":"1f1fa-1f1f2","native":""}],"version":2},"flag-un":{"id":"flag-un","name":"United Nations Flag","keywords":["un","banner"],"skins":[{"unified":"1f1fa-1f1f3","native":""}],"version":4},"us":{"id":"us","name":"United States Flag","keywords":["us","america","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1f8","native":""}],"version":1},"flag-uy":{"id":"flag-uy","name":"Uruguay Flag","keywords":["uy","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1fe","native":""}],"version":2},"flag-uz":{"id":"flag-uz","name":"Uzbekistan Flag","keywords":["uz","nation","country","banner"],"skins":[{"unified":"1f1fa-1f1ff","native":""}],"version":2},"flag-va":{"id":"flag-va","name":"Vatican City Flag","keywords":["va","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1e6","native":""}],"version":2},"flag-vc":{"id":"flag-vc","name":"St. Vincent & Grenadines Flag","keywords":["vc","st","saint","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1e8","native":""}],"version":2},"flag-ve":{"id":"flag-ve","name":"Venezuela Flag","keywords":["ve","bolivarian","republic","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1ea","native":""}],"version":2},"flag-vg":{"id":"flag-vg","name":"British Virgin Islands Flag","keywords":["vg","bvi","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1ec","native":""}],"version":2},"flag-vi":{"id":"flag-vi","name":"U.s. Virgin Islands Flag","keywords":["vi","u","s","us","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1ee","native":""}],"version":2},"flag-vn":{"id":"flag-vn","name":"Vietnam Flag","keywords":["vn","viet","nam","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1f3","native":""}],"version":2},"flag-vu":{"id":"flag-vu","name":"Vanuatu Flag","keywords":["vu","nation","country","banner"],"skins":[{"unified":"1f1fb-1f1fa","native":""}],"version":2},"flag-wf":{"id":"flag-wf","name":"Wallis & Futuna Flag","keywords":["wf","nation","country","banner"],"skins":[{"unified":"1f1fc-1f1eb","native":""}],"version":2},"flag-ws":{"id":"flag-ws","name":"Samoa Flag","keywords":["ws","nation","country","banner"],"skins":[{"unified":"1f1fc-1f1f8","native":""}],"version":2},"flag-xk":{"id":"flag-xk","name":"Kosovo Flag","keywords":["xk","nation","country","banner"],"skins":[{"unified":"1f1fd-1f1f0","native":""}],"version":2},"flag-ye":{"id":"flag-ye","name":"Yemen Flag","keywords":["ye","nation","country","banner"],"skins":[{"unified":"1f1fe-1f1ea","native":""}],"version":2},"flag-yt":{"id":"flag-yt","name":"Mayotte Flag","keywords":["yt","nation","country","banner"],"skins":[{"unified":"1f1fe-1f1f9","native":""}],"version":2},"flag-za":{"id":"flag-za","name":"South Africa Flag","keywords":["za","nation","country","banner"],"skins":[{"unified":"1f1ff-1f1e6","native":""}],"version":2},"flag-zm":{"id":"flag-zm","name":"Zambia Flag","keywords":["zm","nation","country","banner"],"skins":[{"unified":"1f1ff-1f1f2","native":""}],"version":2},"flag-zw":{"id":"flag-zw","name":"Zimbabwe Flag","keywords":["zw","nation","country","banner"],"skins":[{"unified":"1f1ff-1f1fc","native":""}],"version":2},"flag-england":{"id":"flag-england","name":"England Flag","keywords":["english"],"skins":[{"unified":"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f","native":""}],"version":5},"flag-scotland":{"id":"flag-scotland","name":"Scotland Flag","keywords":["scottish"],"skins":[{"unified":"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f","native":""}],"version":5},"flag-wales":{"id":"flag-wales","name":"Wales Flag","keywords":["welsh"],"skins":[{"unified":"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f","native":""}],"version":5}}'),aliases:{satisfied:"laughing",grinning_face_with_star_eyes:"star-struck",grinning_face_with_one_large_and_one_small_eye:"zany_face",smiling_face_with_smiling_eyes_and_hand_covering_mouth:"face_with_hand_over_mouth",face_with_finger_covering_closed_lips:"shushing_face",face_with_one_eyebrow_raised:"face_with_raised_eyebrow",face_with_open_mouth_vomiting:"face_vomiting",shocked_face_with_exploding_head:"exploding_head",serious_face_with_symbols_covering_mouth:"face_with_symbols_on_mouth",poop:"hankey",shit:"hankey",collision:"boom",raised_hand:"hand",hand_with_index_and_middle_fingers_crossed:"crossed_fingers",sign_of_the_horns:"the_horns",reversed_hand_with_middle_finger_extended:"middle_finger",thumbsup:"+1",thumbsdown:"-1",punch:"facepunch",mother_christmas:"mrs_claus",running:"runner","man-with-bunny-ears-partying":"men-with-bunny-ears-partying","woman-with-bunny-ears-partying":"women-with-bunny-ears-partying",women_holding_hands:"two_women_holding_hands",woman_and_man_holding_hands:"man_and_woman_holding_hands",couple:"man_and_woman_holding_hands",men_holding_hands:"two_men_holding_hands",paw_prints:"feet",flipper:"dolphin",honeybee:"bee",lady_beetle:"ladybug",cooking:"fried_egg",knife:"hocho",red_car:"car",sailboat:"boat",waxing_gibbous_moon:"moon",sun_small_cloud:"mostly_sunny",sun_behind_cloud:"barely_sunny",sun_behind_rain_cloud:"partly_sunny_rain",lightning_cloud:"lightning",tornado_cloud:"tornado",tshirt:"shirt",shoe:"mans_shoe",telephone:"phone",lantern:"izakaya_lantern",open_book:"book",envelope:"email",pencil:"memo",heavy_exclamation_mark:"exclamation",staff_of_aesculapius:"medical_symbol","flag-cn":"cn","flag-de":"de","flag-es":"es","flag-fr":"fr",uk:"gb","flag-gb":"gb","flag-it":"it","flag-jp":"jp","flag-kr":"kr","flag-ru":"ru","flag-us":"us"},sheet:{cols:61,rows:61}};function LP(e){return e&&e.__esModule?e.default:e}function OP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var FP,zP,UP,BP,VP,qP,$P={},WP=[],HP=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function GP(e,t){for(var n in t)e[n]=t[n];return e}function KP(e){var t=e.parentNode;t&&t.removeChild(e)}function YP(e,t,n){var i,r,s,a={};for(s in t)"key"==s?i=t[s]:"ref"==s?r=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?FP.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(s in e.defaultProps)void 0===a[s]&&(a[s]=e.defaultProps[s]);return QP(e,a,i,r,null)}function QP(e,t,n,i,r){var s={type:e,props:t,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++UP:r};return null==r&&null!=zP.vnode&&zP.vnode(s),s}function XP(){return{current:null}}function JP(e){return e.children}function ZP(e,t){this.props=e,this.context=t}function eA(e,t){if(null==t)return e.__?eA(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?eA(e):null}function tA(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return tA(e)}}function nA(e){(!e.__d&&(e.__d=!0)&&BP.push(e)&&!iA.__r++||qP!==zP.debounceRendering)&&((qP=zP.debounceRendering)||VP)(iA)}function iA(){for(var e;iA.__r=BP.length;)e=BP.sort(function(e,t){return e.__v.__b-t.__v.__b}),BP=[],e.some(function(e){var t,n,i,r,s,a;e.__d&&(s=(r=(t=e).__v).__e,(a=t.__P)&&(n=[],(i=GP({},r)).__v=r.__v+1,fA(a,r,i,t.__n,void 0!==a.ownerSVGElement,null!=r.__h?[s]:null,n,null==s?eA(r):s,r.__h),hA(n,r),r.__e!=s&&tA(r)))})}function rA(e,t,n,i,r,s,a,o,l,c){var u,d,f,h,m,p,g,v=i&&i.__k||WP,y=v.length;for(n.__k=[],u=0;u<t.length;u++)if(null!=(h=n.__k[u]=null==(h=t[u])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?QP(null,h,null,null,h):Array.isArray(h)?QP(JP,{children:h},null,null,null):h.__b>0?QP(h.type,h.props,h.key,null,h.__v):h)){if(h.__=n,h.__b=n.__b+1,null===(f=v[u])||f&&h.key==f.key&&h.type===f.type)v[u]=void 0;else for(d=0;d<y;d++){if((f=v[d])&&h.key==f.key&&h.type===f.type){v[d]=void 0;break}f=null}fA(e,h,f=f||$P,r,s,a,o,l,c),m=h.__e,(d=h.ref)&&f.ref!=d&&(g||(g=[]),f.ref&&g.push(f.ref,null,h),g.push(d,h.__c||m,h)),null!=m?(null==p&&(p=m),"function"==typeof h.type&&h.__k===f.__k?h.__d=l=sA(h,l,e):l=oA(e,h,f,v,m,l),"function"==typeof n.type&&(n.__d=l)):l&&f.__e==l&&l.parentNode!=e&&(l=eA(f))}for(n.__e=p,u=y;u--;)null!=v[u]&&("function"==typeof n.type&&null!=v[u].__e&&v[u].__e==n.__d&&(n.__d=eA(i,u+1)),pA(v[u],v[u]));if(g)for(u=0;u<g.length;u++)mA(g[u],g[++u],g[++u])}function sA(e,t,n){for(var i,r=e.__k,s=0;r&&s<r.length;s++)(i=r[s])&&(i.__=e,t="function"==typeof i.type?sA(i,t,n):oA(n,i,i,r,i.__e,t));return t}function aA(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some(function(e){aA(e,t)}):t.push(e)),t}function oA(e,t,n,i,r,s){var a,o,l;if(void 0!==t.__d)a=t.__d,t.__d=void 0;else if(null==n||r!=s||null==r.parentNode)e:if(null==s||s.parentNode!==e)e.appendChild(r),a=null;else{for(o=s,l=0;(o=o.nextSibling)&&l<i.length;l+=2)if(o==r)break e;e.insertBefore(r,s),a=s}return void 0!==a?a:r.nextSibling}function lA(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||HP.test(t)?n:n+"px"}function cA(e,t,n,i,r){var s;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof i&&(e.style.cssText=i=""),i)for(t in i)n&&t in n||lA(e.style,t,"");if(n)for(t in n)i&&n[t]===i[t]||lA(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])s=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?i||e.addEventListener(t,s?dA:uA,s):e.removeEventListener(t,s?dA:uA,s);else if("dangerouslySetInnerHTML"!==t){if(r)t=t.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(a){}"function"==typeof n||(null!=n&&(!1!==n||"a"===t[0]&&"r"===t[1])?e.setAttribute(t,n):e.removeAttribute(t))}}function uA(e){this.l[e.type+!1](zP.event?zP.event(e):e)}function dA(e){this.l[e.type+!0](zP.event?zP.event(e):e)}function fA(e,t,n,i,r,s,a,o,l){var c,u,d,f,h,m,p,g,v,y,b,w=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(l=n.__h,o=t.__e=n.__e,t.__h=null,s=[o]),(c=zP.__b)&&c(t);try{e:if("function"==typeof w){if(g=t.props,v=(c=w.contextType)&&i[c.__c],y=c?v?v.props.value:c.__:i,n.__c?p=(u=t.__c=n.__c).__=u.__E:("prototype"in w&&w.prototype.render?t.__c=u=new w(g,y):(t.__c=u=new ZP(g,y),u.constructor=w,u.render=gA),v&&v.sub(u),u.props=g,u.state||(u.state={}),u.context=y,u.__n=i,d=u.__d=!0,u.__h=[]),null==u.__s&&(u.__s=u.state),null!=w.getDerivedStateFromProps&&(u.__s==u.state&&(u.__s=GP({},u.__s)),GP(u.__s,w.getDerivedStateFromProps(g,u.__s))),f=u.props,h=u.state,d)null==w.getDerivedStateFromProps&&null!=u.componentWillMount&&u.componentWillMount(),null!=u.componentDidMount&&u.__h.push(u.componentDidMount);else{if(null==w.getDerivedStateFromProps&&g!==f&&null!=u.componentWillReceiveProps&&u.componentWillReceiveProps(g,y),!u.__e&&null!=u.shouldComponentUpdate&&!1===u.shouldComponentUpdate(g,u.__s,y)||t.__v===n.__v){u.props=g,u.state=u.__s,t.__v!==n.__v&&(u.__d=!1),u.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t)}),u.__h.length&&a.push(u);break e}null!=u.componentWillUpdate&&u.componentWillUpdate(g,u.__s,y),null!=u.componentDidUpdate&&u.__h.push(function(){u.componentDidUpdate(f,h,m)})}u.context=y,u.props=g,u.state=u.__s,(c=zP.__r)&&c(t),u.__d=!1,u.__v=t,u.__P=e,c=u.render(u.props,u.state,u.context),u.state=u.__s,null!=u.getChildContext&&(i=GP(GP({},i),u.getChildContext())),d||null==u.getSnapshotBeforeUpdate||(m=u.getSnapshotBeforeUpdate(f,h)),b=null!=c&&c.type===JP&&null==c.key?c.props.children:c,rA(e,Array.isArray(b)?b:[b],t,n,i,r,s,a,o,l),u.base=t.__e,t.__h=null,u.__h.length&&a.push(u),p&&(u.__E=u.__=null),u.__e=!1}else null==s&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,i,r,s,a,o){var l,c,u,d=n.props,f=t.props,h=t.type,m=0;if("svg"===h&&(r=!0),null!=s)for(;m<s.length;m++)if((l=s[m])&&"setAttribute"in l==!!h&&(h?l.localName===h:3===l.nodeType)){e=l,s[m]=null;break}if(null==e){if(null===h)return document.createTextNode(f);e=r?document.createElementNS("http://www.w3.org/2000/svg",h):document.createElement(h,f.is&&f),s=null,o=!1}if(null===h)d===f||o&&e.data===f||(e.data=f);else{if(s=s&&FP.call(e.childNodes),c=(d=n.props||$P).dangerouslySetInnerHTML,u=f.dangerouslySetInnerHTML,!o){if(null!=s)for(d={},m=0;m<e.attributes.length;m++)d[e.attributes[m].name]=e.attributes[m].value;(u||c)&&(u&&(c&&u.__html==c.__html||u.__html===e.innerHTML)||(e.innerHTML=u&&u.__html||""))}if(function(e,t,n,i,r){var s;for(s in n)"children"===s||"key"===s||s in t||cA(e,s,null,n[s],i);for(s in t)r&&"function"!=typeof t[s]||"children"===s||"key"===s||"value"===s||"checked"===s||n[s]===t[s]||cA(e,s,t[s],n[s],i)}(e,f,d,r,o),u)t.__k=[];else if(m=t.props.children,rA(e,Array.isArray(m)?m:[m],t,n,i,r&&"foreignObject"!==h,s,a,s?s[0]:n.__k&&eA(n,0),o),null!=s)for(m=s.length;m--;)null!=s[m]&&KP(s[m]);o||("value"in f&&void 0!==(m=f.value)&&(m!==d.value||m!==e.value||"progress"===h&&!m)&&cA(e,"value",m,d.value,!1),"checked"in f&&void 0!==(m=f.checked)&&m!==e.checked&&cA(e,"checked",m,d.checked,!1))}return e}(n.__e,t,n,i,r,s,a,l);(c=zP.diffed)&&c(t)}catch(k){t.__v=null,(l||null!=s)&&(t.__e=o,t.__h=!!l,s[s.indexOf(o)]=null),zP.__e(k,t,n)}}function hA(e,t){zP.__c&&zP.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(n){zP.__e(n,t.__v)}})}function mA(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(i){zP.__e(i,n)}}function pA(e,t,n){var i,r;if(zP.unmount&&zP.unmount(e),(i=e.ref)&&(i.current&&i.current!==e.__e||mA(i,null,t)),null!=(i=e.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(s){zP.__e(s,t)}i.base=i.__P=null}if(i=e.__k)for(r=0;r<i.length;r++)i[r]&&pA(i[r],t,"function"!=typeof e.type);n||null==e.__e||KP(e.__e),e.__e=e.__d=void 0}function gA(e,t,n){return this.constructor(e,n)}function vA(e,t,n){var i,r,s;zP.__&&zP.__(e,t),r=(i="function"==typeof n)?null:n&&n.__k||t.__k,s=[],fA(t,e=(!i&&n||t).__k=YP(JP,null,[e]),r||$P,$P,void 0!==t.ownerSVGElement,!i&&n?[n]:r?null:t.firstChild?FP.call(t.childNodes):null,s,!i&&n?n:r?r.__e:t.firstChild,i),hA(s,e)}FP=WP.slice,zP={__e:function(e,t){for(var n,i,r;t=t.__;)if((n=t.__c)&&!n.__)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(e)),r=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),r=n.__d),r)return n.__E=n}catch(s){e=s}throw e}},UP=0,ZP.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=GP({},this.state),"function"==typeof e&&(e=e(GP({},n),this.props)),e&&GP(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),nA(this))},ZP.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),nA(this))},ZP.prototype.render=JP,BP=[],VP="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,iA.__r=0;var yA=0;function bA(e,t,n,i,r){var s,a,o={};for(a in t)"ref"==a?s=t[a]:o[a]=t[a];var l={type:e,props:o,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--yA,__source:i,__self:r};if("function"==typeof e&&(s=e.defaultProps))for(a in s)void 0===o[a]&&(o[a]=s[a]);return zP.vnode&&zP.vnode(l),l}var wA={set:function(e,t){try{window.localStorage[`emoji-mart.${e}`]=JSON.stringify(t)}catch(n){}},get:function(e){try{const t=window.localStorage[`emoji-mart.${e}`];if(t)return JSON.parse(t)}catch(t){}}};const kA=new Map,xA=[{v:15,emoji:""},{v:14,emoji:""},{v:13.1,emoji:""},{v:13,emoji:""},{v:12.1,emoji:""},{v:12,emoji:""},{v:11,emoji:""},{v:5,emoji:""},{v:4,emoji:""},{v:3,emoji:""},{v:2,emoji:""},{v:1,emoji:""}];function _A(e){if(kA.has(e))return kA.get(e);const t=SA(e);return kA.set(e,t),t}const SA=(()=>{let e=null;try{navigator.userAgent.includes("jsdom")||(e=document.createElement("canvas").getContext("2d",{willReadFrequently:!0}))}catch{}if(!e)return()=>!1;const t=20,n=Math.floor(12.5);return e.font=n+"px Arial, Sans-Serif",e.textBaseline="top",e.canvas.width=40,e.canvas.height=25,n=>{e.clearRect(0,0,40,25),e.fillStyle="#FF0000",e.fillText(n,0,22),e.fillStyle="#0000FF",e.fillText(n,t,22);const i=e.getImageData(0,0,t,25).data,r=i.length;let s=0;for(;s<r&&!i[s+3];s+=4);if(s>=r)return!1;const a=t+s/4%t,o=Math.floor(s/4/t),l=e.getImageData(a,o,1,1).data;return i[s]===l[0]&&i[s+2]===l[2]&&!(e.measureText(n).width>=t)}})();var CA={latestVersion:function(){for(const{v:e,emoji:t}of xA)if(_A(t))return e},noCountryFlags:function(){return!_A("")}};const NA=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart"];let jA=null;var TA,EA={add:function(e){jA||(jA=wA.get("frequently")||{});const t=e.id||e;t&&(jA[t]||(jA[t]=0),jA[t]+=1,wA.set("last",t),wA.set("frequently",jA))},get:function({maxFrequentRows:e,perLine:t}){if(!e)return[];jA||(jA=wA.get("frequently"));let n=[];if(!jA){jA={};for(let e in NA.slice(0,t)){const i=NA[e];jA[i]=t-e,n.push(i)}return n}const i=e*t,r=wA.get("last");for(let s in jA)n.push(s);if(n.sort((e,t)=>{const n=jA[t],i=jA[e];return n==i?e.localeCompare(t):n-i}),n.length>i){const e=n.slice(i);n=n.slice(0,i);for(let t of e)t!=r&&delete jA[t];r&&-1==n.indexOf(r)&&(delete jA[n[n.length-1]],n.splice(-1,1,r)),wA.set("frequently",jA)}return n},DEFAULTS:NA};TA=JSON.parse('{"search":"Search","search_no_results_1":"Oh no!","search_no_results_2":"That emoji couldnt be found","pick":"Pick an emoji","add_custom":"Add custom emoji","categories":{"activity":"Activity","custom":"Custom","flags":"Flags","foods":"Food & Drink","frequent":"Frequently used","nature":"Animals & Nature","objects":"Objects","people":"Smileys & People","places":"Travel & Places","search":"Search Results","symbols":"Symbols"},"skins":{"1":"Default","2":"Light","3":"Medium-Light","4":"Medium","5":"Medium-Dark","6":"Dark","choose":"Choose default skin tone"}}');var IA={autoFocus:{value:!1},dynamicWidth:{value:!1},emojiButtonColors:{value:null},emojiButtonRadius:{value:"100%"},emojiButtonSize:{value:36},emojiSize:{value:24},emojiVersion:{value:15,choices:[1,2,3,4,5,11,12,12.1,13,13.1,14,15]},exceptEmojis:{value:[]},icons:{value:"auto",choices:["auto","outline","solid"]},locale:{value:"en",choices:["en","ar","be","cs","de","es","fa","fi","fr","hi","it","ja","ko","nl","pl","pt","ru","sa","tr","uk","vi","zh"]},maxFrequentRows:{value:4},navPosition:{value:"top",choices:["top","bottom","none"]},noCountryFlags:{value:!1},noResultsEmoji:{value:null},perLine:{value:9},previewEmoji:{value:null},previewPosition:{value:"bottom",choices:["top","bottom","none"]},searchPosition:{value:"sticky",choices:["sticky","static","none"]},set:{value:"native",choices:["native","apple","facebook","google","twitter"]},skin:{value:1,choices:[1,2,3,4,5,6]},skinTonePosition:{value:"preview",choices:["preview","search","none"]},theme:{value:"auto",choices:["auto","light","dark"]},categories:null,categoryIcons:null,custom:null,data:null,i18n:null,getImageURL:null,getSpritesheetURL:null,onAddCustomEmoji:null,onClickOutside:null,onEmojiSelect:null,stickySearch:{deprecated:!0,value:!0}};let PA=null,AA=null;const MA={};async function RA(e){if(MA[e])return MA[e];const t=await fetch(e),n=await t.json();return MA[e]=n,n}let DA=null,LA=null,OA=!1;function FA(e,{caller:t}={}){return DA||(DA=new Promise(e=>{LA=e})),e&&async function(e){OA=!0;let{emojiVersion:t,set:n,locale:i}=e;if(t||(t=IA.emojiVersion.value),n||(n=IA.set.value),i||(i=IA.locale.value),AA)AA.categories=AA.categories.filter(e=>!!!e.name);else{AA=("function"==typeof e.data?await e.data():e.data)||await RA(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/sets/${t}/${n}.json`),AA.emoticons={},AA.natives={},AA.categories.unshift({id:"frequent",emojis:[]});for(const e in AA.aliases){const t=AA.aliases[e],n=AA.emojis[t];n&&(n.aliases||(n.aliases=[]),n.aliases.push(e))}AA.originalCategories=AA.categories}if(PA=("function"==typeof e.i18n?await e.i18n():e.i18n)||("en"==i?LP(TA):await RA(`https://cdn.jsdelivr.net/npm/@emoji-mart/data@latest/i18n/${i}.json`)),e.custom)for(let l in e.custom){l=parseInt(l);const t=e.custom[l],n=e.custom[l-1];if(t.emojis&&t.emojis.length){t.id||(t.id=`custom_${l+1}`),t.name||(t.name=PA.categories.custom),n&&!t.icon&&(t.target=n.target||n),AA.categories.push(t);for(const e of t.emojis)AA.emojis[e.id]=e}}e.categories&&(AA.categories=AA.originalCategories.filter(t=>-1!=e.categories.indexOf(t.id)).sort((t,n)=>e.categories.indexOf(t.id)-e.categories.indexOf(n.id)));let r=null,s=null;"native"==n&&(r=CA.latestVersion(),s=e.noCountryFlags||CA.noCountryFlags());let a=AA.categories.length,o=!1;for(;a--;){const t=AA.categories[a];if("frequent"==t.id){let{maxFrequentRows:n,perLine:i}=e;n=n>=0?n:IA.maxFrequentRows.value,i||(i=IA.perLine.value),t.emojis=EA.get({maxFrequentRows:n,perLine:i})}if(!t.emojis||!t.emojis.length){AA.categories.splice(a,1);continue}const{categoryIcons:n}=e;if(n){const e=n[t.id];e&&!t.icon&&(t.icon=e)}let i=t.emojis.length;for(;i--;){const n=t.emojis[i],a=n.id?n:AA.emojis[n],l=()=>{t.emojis.splice(i,1)};if(!a||e.exceptEmojis&&e.exceptEmojis.includes(a.id))l();else if(r&&a.version>r)l();else if(!s||"flags"!=t.id||qA.includes(a.id)){if(!a.search){if(o=!0,a.search=","+[[a.id,!1],[a.name,!0],[a.keywords,!1],[a.emoticons,!1]].map(([e,t])=>{if(e)return(Array.isArray(e)?e:[e]).map(e=>(t?e.split(/[-|_|\s]+/):[e]).map(e=>e.toLowerCase())).flat()}).flat().filter(e=>e&&e.trim()).join(","),a.emoticons)for(const t of a.emoticons)AA.emoticons[t]||(AA.emoticons[t]=a.id);let e=0;for(const t of a.skins){if(!t)continue;e++;const{native:n}=t;n&&(AA.natives[n]=a.id,a.search+=`,${n}`);const i=1==e?"":`:skin-tone-${e}:`;t.shortcodes=`:${a.id}:${i}`}}}else l()}}o&&VA.reset();LA()}(e),DA}function zA(e,t,n){e||(e={});const i={};for(let r in t)i[r]=UA(r,e,t,n);return i}function UA(e,t,n,i){const r=n[e];let s=i&&i.getAttribute(e)||(null!=t[e]&&null!=t[e]?t[e]:null);return r?(null!=s&&r.value&&typeof r.value!=typeof s&&(s="boolean"==typeof r.value?"false"!=s:r.value.constructor(s)),r.transform&&s&&(s=r.transform(s)),(null==s||r.choices&&-1==r.choices.indexOf(s))&&(s=r.value),s):s}let BA=null;var VA={search:async function(e,{maxResults:t,caller:n}={}){if(!e||!e.trim().length)return null;t||(t=90),await FA(null,{caller:n||"SearchIndex.search"});const i=e.toLowerCase().replace(/(\w)-/,"$1 ").split(/[\s|,]+/).filter((e,t,n)=>e.trim()&&n.indexOf(e)==t);if(!i.length)return;let r,s,a=BA||(BA=Object.values(AA.emojis));for(const o of i){if(!a.length)break;r=[],s={};for(const e of a){if(!e.search)continue;const t=e.search.indexOf(`,${o}`);-1!=t&&(r.push(e),s[e.id]||(s[e.id]=0),s[e.id]+=e.id==o?0:t+1)}a=r}return r.length<2||(r.sort((e,t)=>{const n=s[e.id],i=s[t.id];return n==i?e.id.localeCompare(t.id):n-i}),r.length>t&&(r=r.slice(0,t))),r},get:function(e){return e.id?e:AA.emojis[e]||AA.emojis[AA.aliases[e]]||AA.emojis[AA.natives[e]]},reset:function(){BA=null},SHORTCODES_REGEX:/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/};const qA=["checkered_flag","crossed_flags","pirate_flag","rainbow-flag","transgender_flag","triangular_flag_on_post","waving_black_flag","waving_white_flag"];var $A={categories:{activity:{outline:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:bA("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"})}),solid:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bA("path",{d:"M16.17 337.5c0 44.98 7.565 83.54 13.98 107.9C35.22 464.3 50.46 496 174.9 496c9.566 0 19.59-.4707 29.84-1.271L17.33 307.3C16.53 317.6 16.17 327.7 16.17 337.5zM495.8 174.5c0-44.98-7.565-83.53-13.98-107.9c-4.688-17.54-18.34-31.23-36.04-35.95C435.5 27.91 392.9 16 337 16c-9.564 0-19.59 .4707-29.84 1.271l187.5 187.5C495.5 194.4 495.8 184.3 495.8 174.5zM26.77 248.8l236.3 236.3c142-36.1 203.9-150.4 222.2-221.1L248.9 26.87C106.9 62.96 45.07 177.2 26.77 248.8zM256 335.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L164.7 283.3C161.6 280.2 160 276.1 160 271.1c0-8.529 6.865-16 16-16c4.095 0 8.189 1.562 11.31 4.688l64.01 64C254.4 327.8 256 331.9 256 335.1zM304 287.1c0 9.141-7.474 16-16 16c-4.094 0-8.188-1.564-11.31-4.689L212.7 235.3C209.6 232.2 208 228.1 208 223.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01C302.5 279.8 304 283.9 304 287.1zM256 175.1c0-9.141 7.473-16 16-16c4.094 0 8.188 1.562 11.31 4.688l64.01 64.01c3.125 3.125 4.688 7.219 4.688 11.31c0 9.133-7.468 16-16 16c-4.094 0-8.189-1.562-11.31-4.688l-64.01-64.01C257.6 184.2 256 180.1 256 175.1z"})})},custom:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",children:bA("path",{d:"M417.1 368c-5.937 10.27-16.69 16-27.75 16c-5.422 0-10.92-1.375-15.97-4.281L256 311.4V448c0 17.67-14.33 32-31.1 32S192 465.7 192 448V311.4l-118.3 68.29C68.67 382.6 63.17 384 57.75 384c-11.06 0-21.81-5.734-27.75-16c-8.828-15.31-3.594-34.88 11.72-43.72L159.1 256L41.72 187.7C26.41 178.9 21.17 159.3 29.1 144C36.63 132.5 49.26 126.7 61.65 128.2C65.78 128.7 69.88 130.1 73.72 132.3L192 200.6V64c0-17.67 14.33-32 32-32S256 46.33 256 64v136.6l118.3-68.29c3.838-2.213 7.939-3.539 12.07-4.051C398.7 126.7 411.4 132.5 417.1 144c8.828 15.31 3.594 34.88-11.72 43.72L288 256l118.3 68.28C421.6 333.1 426.8 352.7 417.1 368z"})}),flags:{outline:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:bA("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"})}),solid:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bA("path",{d:"M64 496C64 504.8 56.75 512 48 512h-32C7.25 512 0 504.8 0 496V32c0-17.75 14.25-32 32-32s32 14.25 32 32V496zM476.3 0c-6.365 0-13.01 1.35-19.34 4.233c-45.69 20.86-79.56 27.94-107.8 27.94c-59.96 0-94.81-31.86-163.9-31.87C160.9 .3055 131.6 4.867 96 15.75v350.5c32-9.984 59.87-14.1 84.85-14.1c73.63 0 124.9 31.78 198.6 31.78c31.91 0 68.02-5.971 111.1-23.09C504.1 355.9 512 344.4 512 332.1V30.73C512 11.1 495.3 0 476.3 0z"})})},foods:{outline:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:bA("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"})}),solid:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bA("path",{d:"M481.9 270.1C490.9 279.1 496 291.3 496 304C496 316.7 490.9 328.9 481.9 337.9C472.9 346.9 460.7 352 448 352H64C51.27 352 39.06 346.9 30.06 337.9C21.06 328.9 16 316.7 16 304C16 291.3 21.06 279.1 30.06 270.1C39.06 261.1 51.27 256 64 256H448C460.7 256 472.9 261.1 481.9 270.1zM475.3 388.7C478.3 391.7 480 395.8 480 400V416C480 432.1 473.3 449.3 461.3 461.3C449.3 473.3 432.1 480 416 480H96C79.03 480 62.75 473.3 50.75 461.3C38.74 449.3 32 432.1 32 416V400C32 395.8 33.69 391.7 36.69 388.7C39.69 385.7 43.76 384 48 384H464C468.2 384 472.3 385.7 475.3 388.7zM50.39 220.8C45.93 218.6 42.03 215.5 38.97 211.6C35.91 207.7 33.79 203.2 32.75 198.4C31.71 193.5 31.8 188.5 32.99 183.7C54.98 97.02 146.5 32 256 32C365.5 32 457 97.02 479 183.7C480.2 188.5 480.3 193.5 479.2 198.4C478.2 203.2 476.1 207.7 473 211.6C469.1 215.5 466.1 218.6 461.6 220.8C457.2 222.9 452.3 224 447.3 224H64.67C59.73 224 54.84 222.9 50.39 220.8zM372.7 116.7C369.7 119.7 368 123.8 368 128C368 131.2 368.9 134.3 370.7 136.9C372.5 139.5 374.1 141.6 377.9 142.8C380.8 143.1 384 144.3 387.1 143.7C390.2 143.1 393.1 141.6 395.3 139.3C397.6 137.1 399.1 134.2 399.7 131.1C400.3 128 399.1 124.8 398.8 121.9C397.6 118.1 395.5 116.5 392.9 114.7C390.3 112.9 387.2 111.1 384 111.1C379.8 111.1 375.7 113.7 372.7 116.7V116.7zM244.7 84.69C241.7 87.69 240 91.76 240 96C240 99.16 240.9 102.3 242.7 104.9C244.5 107.5 246.1 109.6 249.9 110.8C252.8 111.1 256 112.3 259.1 111.7C262.2 111.1 265.1 109.6 267.3 107.3C269.6 105.1 271.1 102.2 271.7 99.12C272.3 96.02 271.1 92.8 270.8 89.88C269.6 86.95 267.5 84.45 264.9 82.7C262.3 80.94 259.2 79.1 256 79.1C251.8 79.1 247.7 81.69 244.7 84.69V84.69zM116.7 116.7C113.7 119.7 112 123.8 112 128C112 131.2 112.9 134.3 114.7 136.9C116.5 139.5 118.1 141.6 121.9 142.8C124.8 143.1 128 144.3 131.1 143.7C134.2 143.1 137.1 141.6 139.3 139.3C141.6 137.1 143.1 134.2 143.7 131.1C144.3 128 143.1 124.8 142.8 121.9C141.6 118.1 139.5 116.5 136.9 114.7C134.3 112.9 131.2 111.1 128 111.1C123.8 111.1 119.7 113.7 116.7 116.7L116.7 116.7z"})})},frequent:{outline:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bA("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),bA("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"})]}),solid:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bA("path",{d:"M256 512C114.6 512 0 397.4 0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512zM232 256C232 264 236 271.5 242.7 275.1L338.7 339.1C349.7 347.3 364.6 344.3 371.1 333.3C379.3 322.3 376.3 307.4 365.3 300L280 243.2V120C280 106.7 269.3 96 255.1 96C242.7 96 231.1 106.7 231.1 120L232 256z"})})},nature:{outline:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bA("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),bA("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"})]}),solid:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512",children:bA("path",{d:"M332.7 19.85C334.6 8.395 344.5 0 356.1 0C363.6 0 370.6 3.52 375.1 9.502L392 32H444.1C456.8 32 469.1 37.06 478.1 46.06L496 64H552C565.3 64 576 74.75 576 88V112C576 156.2 540.2 192 496 192H426.7L421.6 222.5L309.6 158.5L332.7 19.85zM448 64C439.2 64 432 71.16 432 80C432 88.84 439.2 96 448 96C456.8 96 464 88.84 464 80C464 71.16 456.8 64 448 64zM416 256.1V480C416 497.7 401.7 512 384 512H352C334.3 512 320 497.7 320 480V364.8C295.1 377.1 268.8 384 240 384C211.2 384 184 377.1 160 364.8V480C160 497.7 145.7 512 128 512H96C78.33 512 64 497.7 64 480V249.8C35.23 238.9 12.64 214.5 4.836 183.3L.9558 167.8C-3.331 150.6 7.094 133.2 24.24 128.1C41.38 124.7 58.76 135.1 63.05 152.2L66.93 167.8C70.49 182 83.29 191.1 97.97 191.1H303.8L416 256.1z"})})},objects:{outline:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bA("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),bA("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"})]}),solid:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",children:bA("path",{d:"M112.1 454.3c0 6.297 1.816 12.44 5.284 17.69l17.14 25.69c5.25 7.875 17.17 14.28 26.64 14.28h61.67c9.438 0 21.36-6.401 26.61-14.28l17.08-25.68c2.938-4.438 5.348-12.37 5.348-17.7L272 415.1h-160L112.1 454.3zM191.4 .0132C89.44 .3257 16 82.97 16 175.1c0 44.38 16.44 84.84 43.56 115.8c16.53 18.84 42.34 58.23 52.22 91.45c.0313 .25 .0938 .5166 .125 .7823h160.2c.0313-.2656 .0938-.5166 .125-.7823c9.875-33.22 35.69-72.61 52.22-91.45C351.6 260.8 368 220.4 368 175.1C368 78.61 288.9-.2837 191.4 .0132zM192 96.01c-44.13 0-80 35.89-80 79.1C112 184.8 104.8 192 96 192S80 184.8 80 176c0-61.76 50.25-111.1 112-111.1c8.844 0 16 7.159 16 16S200.8 96.01 192 96.01z"})})},people:{outline:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bA("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),bA("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"})]}),solid:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bA("path",{d:"M0 256C0 114.6 114.6 0 256 0C397.4 0 512 114.6 512 256C512 397.4 397.4 512 256 512C114.6 512 0 397.4 0 256zM256 432C332.1 432 396.2 382 415.2 314.1C419.1 300.4 407.8 288 393.6 288H118.4C104.2 288 92.92 300.4 96.76 314.1C115.8 382 179.9 432 256 432V432zM176.4 160C158.7 160 144.4 174.3 144.4 192C144.4 209.7 158.7 224 176.4 224C194 224 208.4 209.7 208.4 192C208.4 174.3 194 160 176.4 160zM336.4 224C354 224 368.4 209.7 368.4 192C368.4 174.3 354 160 336.4 160C318.7 160 304.4 174.3 304.4 192C304.4 209.7 318.7 224 336.4 224z"})})},places:{outline:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[bA("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),bA("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"})]}),solid:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bA("path",{d:"M39.61 196.8L74.8 96.29C88.27 57.78 124.6 32 165.4 32H346.6C387.4 32 423.7 57.78 437.2 96.29L472.4 196.8C495.6 206.4 512 229.3 512 256V448C512 465.7 497.7 480 480 480H448C430.3 480 416 465.7 416 448V400H96V448C96 465.7 81.67 480 64 480H32C14.33 480 0 465.7 0 448V256C0 229.3 16.36 206.4 39.61 196.8V196.8zM109.1 192H402.9L376.8 117.4C372.3 104.6 360.2 96 346.6 96H165.4C151.8 96 139.7 104.6 135.2 117.4L109.1 192zM96 256C78.33 256 64 270.3 64 288C64 305.7 78.33 320 96 320C113.7 320 128 305.7 128 288C128 270.3 113.7 256 96 256zM416 320C433.7 320 448 305.7 448 288C448 270.3 433.7 256 416 256C398.3 256 384 270.3 384 288C384 305.7 398.3 320 416 320z"})})},symbols:{outline:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:bA("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"})}),solid:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",children:bA("path",{d:"M500.3 7.251C507.7 13.33 512 22.41 512 31.1V175.1C512 202.5 483.3 223.1 447.1 223.1C412.7 223.1 383.1 202.5 383.1 175.1C383.1 149.5 412.7 127.1 447.1 127.1V71.03L351.1 90.23V207.1C351.1 234.5 323.3 255.1 287.1 255.1C252.7 255.1 223.1 234.5 223.1 207.1C223.1 181.5 252.7 159.1 287.1 159.1V63.1C287.1 48.74 298.8 35.61 313.7 32.62L473.7 .6198C483.1-1.261 492.9 1.173 500.3 7.251H500.3zM74.66 303.1L86.5 286.2C92.43 277.3 102.4 271.1 113.1 271.1H174.9C185.6 271.1 195.6 277.3 201.5 286.2L213.3 303.1H239.1C266.5 303.1 287.1 325.5 287.1 351.1V463.1C287.1 490.5 266.5 511.1 239.1 511.1H47.1C21.49 511.1-.0019 490.5-.0019 463.1V351.1C-.0019 325.5 21.49 303.1 47.1 303.1H74.66zM143.1 359.1C117.5 359.1 95.1 381.5 95.1 407.1C95.1 434.5 117.5 455.1 143.1 455.1C170.5 455.1 191.1 434.5 191.1 407.1C191.1 381.5 170.5 359.1 143.1 359.1zM440.3 367.1H496C502.7 367.1 508.6 372.1 510.1 378.4C513.3 384.6 511.6 391.7 506.5 396L378.5 508C372.9 512.1 364.6 513.3 358.6 508.9C352.6 504.6 350.3 496.6 353.3 489.7L391.7 399.1H336C329.3 399.1 323.4 395.9 321 389.6C318.7 383.4 320.4 376.3 325.5 371.1L453.5 259.1C459.1 255 467.4 254.7 473.4 259.1C479.4 263.4 481.6 271.4 478.7 278.3L440.3 367.1zM116.7 219.1L19.85 119.2C-8.112 90.26-6.614 42.31 24.85 15.34C51.82-8.137 93.26-3.642 118.2 21.83L128.2 32.32L137.7 21.83C162.7-3.642 203.6-8.137 231.6 15.34C262.6 42.31 264.1 90.26 236.1 119.2L139.7 219.1C133.2 225.6 122.7 225.6 116.7 219.1H116.7z"})})}},search:{loupe:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:bA("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"})}),delete:bA("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:bA("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"})})}};function WA(e){let{id:t,skin:n,emoji:i}=e;if(e.shortcodes){const i=e.shortcodes.match(VA.SHORTCODES_REGEX);i&&(t=i[1],i[2]&&(n=i[2]))}if(i||(i=VA.get(t||e.native)),!i)return e.fallback;const r=i.skins[n-1]||i.skins[0],s=r.src||("native"==e.set||e.spritesheet?void 0:"function"==typeof e.getImageURL?e.getImageURL(e.set,r.unified):`https://cdn.jsdelivr.net/npm/emoji-datasource-${e.set}@15.0.1/img/${e.set}/64/${r.unified}.png`),a="function"==typeof e.getSpritesheetURL?e.getSpritesheetURL(e.set):`https://cdn.jsdelivr.net/npm/emoji-datasource-${e.set}@15.0.1/img/${e.set}/sheets-256/64.png`;return bA("span",{class:"emoji-mart-emoji","data-emoji-set":e.set,children:s?bA("img",{style:{maxWidth:e.size||"1em",maxHeight:e.size||"1em",display:"inline-block"},alt:r.native||r.shortcodes,src:s}):"native"==e.set?bA("span",{style:{fontSize:e.size,fontFamily:'"EmojiMart", "Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "Android Emoji"'},children:r.native}):bA("span",{style:{display:"block",width:e.size,height:e.size,backgroundImage:`url(${a})`,backgroundSize:`${100*AA.sheet.cols}% ${100*AA.sheet.rows}%`,backgroundPosition:`${100/(AA.sheet.cols-1)*r.x}% ${100/(AA.sheet.rows-1)*r.y}%`}})})}const HA="undefined"!=typeof window&&window.HTMLElement?window.HTMLElement:Object;class GA extends HA{static get observedAttributes(){return Object.keys(this.Props)}update(e={}){for(let t in e)this.attributeChangedCallback(t,null,e[t])}attributeChangedCallback(e,t,n){if(!this.component)return;const i=UA(e,{[e]:n},this.constructor.Props,this);this.component.componentWillReceiveProps?this.component.componentWillReceiveProps({[e]:i}):(this.component.props[e]=i,this.component.forceUpdate())}disconnectedCallback(){this.disconnected=!0,this.component&&this.component.unregister&&this.component.unregister()}constructor(e={}){if(super(),this.props=e,e.parent||e.ref){let t=null;const n=e.parent||(t=e.ref&&e.ref.current);t&&(t.innerHTML=""),n&&n.appendChild(this)}}}class KA extends GA{setShadow(){this.attachShadow({mode:"open"})}injectStyles(e){if(!e)return;const t=document.createElement("style");t.textContent=e,this.shadowRoot.insertBefore(t,this.shadowRoot.firstChild)}constructor(e,{styles:t}={}){super(e),this.setShadow(),this.injectStyles(t)}}var YA={fallback:"",id:"",native:"",shortcodes:"",size:{value:"",transform:e=>/\D/.test(e)?e:`${e}px`},set:IA.set,skin:IA.skin};class QA extends GA{async connectedCallback(){const e=zA(this.props,YA,this);e.element=this,e.ref=e=>{this.component=e},await FA(),this.disconnected||vA(bA(WA,{...e}),this)}constructor(e){super(e)}}OP(QA,"Props",YA),"undefined"==typeof customElements||customElements.get("em-emoji")||customElements.define("em-emoji",QA);var XA,JA=[],ZA=zP.__b,eM=zP.__r,tM=zP.diffed,nM=zP.__c,iM=zP.unmount;function rM(){var e;for(JA.sort(function(e,t){return e.__v.__b-t.__v.__b});e=JA.pop();)if(e.__P)try{e.__H.__h.forEach(aM),e.__H.__h.forEach(oM),e.__H.__h=[]}catch(t){e.__H.__h=[],zP.__e(t,e.__v)}}zP.__b=function(e){ZA&&ZA(e)},zP.__r=function(e){eM&&eM(e);var t=e.__c.__H;t&&(t.__h.forEach(aM),t.__h.forEach(oM),t.__h=[])},zP.diffed=function(e){tM&&tM(e);var t=e.__c;t&&t.__H&&t.__H.__h.length&&(1!==JA.push(t)&&XA===zP.requestAnimationFrame||((XA=zP.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(i),sM&&cancelAnimationFrame(t),setTimeout(e)},i=setTimeout(n,100);sM&&(t=requestAnimationFrame(n))})(rM))},zP.__c=function(e,t){t.some(function(e){try{e.__h.forEach(aM),e.__h=e.__h.filter(function(e){return!e.__||oM(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],zP.__e(n,e.__v)}}),nM&&nM(e,t)},zP.unmount=function(e){iM&&iM(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{aM(e)}catch(n){t=n}}),t&&zP.__e(t,n.__v))};var sM="function"==typeof requestAnimationFrame;function aM(e){var t=e.__c;"function"==typeof t&&(e.__c=void 0,t())}function oM(e){e.__c=e.__()}function lM(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var i in t)if("__source"!==i&&e[i]!==t[i])return!0;return!1}function cM(e){this.props=e}(cM.prototype=new ZP).isPureReactComponent=!0,cM.prototype.shouldComponentUpdate=function(e,t){return lM(this.props,e)||lM(this.state,t)};var uM=zP.__b;zP.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),uM&&uM(e)};var dM=zP.__e;zP.__e=function(e,t,n){if(e.then)for(var i,r=t;r=r.__;)if((i=r.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);dM(e,t,n)};var fM=zP.unmount;function hM(){this.__u=0,this.t=null,this.__b=null}function mM(e){var t=e.__.__c;return t&&t.__e&&t.__e(e)}function pM(){this.u=null,this.o=null}zP.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),fM&&fM(e)},(hM.prototype=new ZP).__c=function(e,t){var n=t.__c,i=this;null==i.t&&(i.t=[]),i.t.push(n);var r=mM(i.__v),s=!1,a=function(){s||(s=!0,n.__R=null,r?r(o):o())};n.__R=a;var o=function(){if(! --i.__u){if(i.state.__e){var e=i.state.__e;i.__v.__k[0]=function e(t,n,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,i)}),t.__c&&t.__c.__P===n&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i)),t}(e,e.__c.__P,e.__c.__O)}var t;for(i.setState({__e:i.__b=null});t=i.t.pop();)t.forceUpdate()}},l=!0===t.__h;i.__u++||l||i.setState({__e:i.__b=i.__v.__k[0]}),e.then(a,a)},hM.prototype.componentWillUnmount=function(){this.t=[]},hM.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=function e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),t.__c.__H=null),null!=(t=function(e,t){for(var n in t)e[n]=t[n];return e}({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,i)})),t}(this.__b,n,i.__O=i.__P)}this.__b=null}var r=t.__e&&YP(JP,null,e.fallback);return r&&(r.__h=null),[YP(JP,null,t.__e?null:e.children),r]};var gM=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};(pM.prototype=new ZP).__e=function(e){var t=this,n=mM(t.__v),i=t.o.get(e);return i[0]++,function(r){var s=function(){t.props.revealOrder?(i.push(r),gM(t,e,i)):r()};n?n(s):s()}},pM.prototype.render=function(e){this.u=null,this.o=new Map;var t=aA(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},pM.prototype.componentDidUpdate=pM.prototype.componentDidMount=function(){var e=this;this.o.forEach(function(t,n){gM(e,n,t)})};var vM="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,yM=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,bM="undefined"!=typeof document,wM=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};ZP.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(ZP.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var kM=zP.event;function xM(){}function _M(){return this.cancelBubble}function SM(){return this.defaultPrevented}zP.event=function(e){return kM&&(e=kM(e)),e.persist=xM,e.isPropagationStopped=_M,e.isDefaultPrevented=SM,e.nativeEvent=e};var CM={configurable:!0,get:function(){return this.class}},NM=zP.vnode;zP.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){var r=-1===t.indexOf("-");for(var s in i={},n){var a=n[s];bM&&"children"===s&&"noscript"===t||"value"===s&&"defaultValue"in n&&null==a||("defaultValue"===s&&"value"in n&&null==n.value?s="value":"download"===s&&!0===a?a="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+t)&&!wM(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(s)?s=s.toLowerCase():r&&yM.test(s)?s=s.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),i[s]=a)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=aA(n.children).forEach(function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)})),"select"==t&&null!=i.defaultValue&&(i.value=aA(n.children).forEach(function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value})),e.props=i,n.class!=n.className&&(CM.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",CM))}e.$$typeof=vM,NM&&NM(e)};var jM=zP.__r;zP.__r=function(e){jM&&jM(e),e.__c};const TM={light:"outline",dark:"solid"};class EM extends cM{renderIcon(e){const{icon:t}=e;if(t){if(t.svg)return bA("span",{class:"flex",dangerouslySetInnerHTML:{__html:t.svg}});if(t.src)return bA("img",{src:t.src})}const n=$A.categories[e.id]||$A.categories.custom;return n["auto"==this.props.icons?TM[this.props.theme]:this.props.icons]||n}render(){let e=null;return bA("nav",{id:"nav",class:"padding","data-position":this.props.position,dir:this.props.dir,children:bA("div",{class:"flex relative",children:[this.categories.map((t,n)=>{const i=t.name||PA.categories[t.id],r=!this.props.unfocused&&t.id==this.state.categoryId;return r&&(e=n),bA("button",{"aria-label":i,"aria-selected":r||void 0,title:i,type:"button",class:"flex flex-grow flex-center",onMouseDown:e=>e.preventDefault(),onClick:()=>{this.props.onClick({category:t,i:n})},children:this.renderIcon(t)})}),bA("div",{class:"bar",style:{width:100/this.categories.length+"%",opacity:null==e?0:1,transform:"rtl"===this.props.dir?`scaleX(-1) translateX(${100*e}%)`:`translateX(${100*e}%)`}})]})})}constructor(){super(),this.categories=AA.categories.filter(e=>!e.target),this.state={categoryId:this.categories[0].id}}}class IM extends cM{shouldComponentUpdate(e){for(let t in e)if("children"!=t&&e[t]!=this.props[t])return!0;return!1}render(){return this.props.children}}const PM=10;class AM extends ZP{getInitialState(e=this.props){return{skin:wA.get("skin")||e.skin,theme:this.initTheme(e.theme)}}componentWillMount(){this.dir=PA.rtl?"rtl":"ltr",this.refs={menu:{current:null},navigation:{current:null},scroll:{current:null},search:{current:null},searchInput:{current:null},skinToneButton:{current:null},skinToneRadio:{current:null}},this.initGrid(),0==this.props.stickySearch&&"sticky"==this.props.searchPosition&&(this.props.searchPosition="static")}componentDidMount(){if(this.register(),this.shadowRoot=this.base.parentNode,this.props.autoFocus){const{searchInput:e}=this.refs;e.current&&e.current.focus()}}componentWillReceiveProps(e){this.nextState||(this.nextState={});for(const t in e)this.nextState[t]=e[t];clearTimeout(this.nextStateTimer),this.nextStateTimer=setTimeout(()=>{let e=!1;for(const n in this.nextState)this.props[n]=this.nextState[n],"custom"!==n&&"categories"!==n||(e=!0);delete this.nextState;const t=this.getInitialState();if(e)return this.reset(t);this.setState(t)})}componentWillUnmount(){this.unregister()}async reset(e={}){await FA(this.props),this.initGrid(),this.unobserve(),this.setState(e,()=>{this.observeCategories(),this.observeRows()})}register(){document.addEventListener("click",this.handleClickOutside),this.observe()}unregister(){var e;document.removeEventListener("click",this.handleClickOutside),null==(e=this.darkMedia)||e.removeEventListener("change",this.darkMediaCallback),this.unobserve()}observe(){this.observeCategories(),this.observeRows()}unobserve({except:e=[]}={}){Array.isArray(e)||(e=[e]);for(const t of this.observers)e.includes(t)||t.disconnect();this.observers=[].concat(e)}initGrid(){const{categories:e}=AA;this.refs.categories=new Map;const t=AA.categories.map(e=>e.id).join(",");this.navKey&&this.navKey!=t&&this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0),this.navKey=t,this.grid=[],this.grid.setsize=0;const n=(e,t)=>{const n=[];n.__categoryId=t.id,n.__index=e.length,this.grid.push(n);const i=this.grid.length-1,r=i%PM?{}:{current:null};return r.index=i,r.posinset=this.grid.setsize+1,e.push(r),n};for(let i of e){const e=[];let t=n(e,i);for(let r of i.emojis)t.length==this.getPerLine()&&(t=n(e,i)),this.grid.setsize+=1,t.push(r);this.refs.categories.set(i.id,{root:XP(),rows:e})}}initTheme(e){if("auto"!=e)return e;if(!this.darkMedia){if(this.darkMedia=matchMedia("(prefers-color-scheme: dark)"),this.darkMedia.media.match(/^not/))return"light";this.darkMedia.addEventListener("change",this.darkMediaCallback)}return this.darkMedia.matches?"dark":"light"}initDynamicPerLine(e=this.props){if(!e.dynamicWidth)return;const{element:t,emojiButtonSize:n}=e,i=()=>{const{width:e}=t.getBoundingClientRect();return Math.floor(e/n)},r=new ResizeObserver(()=>{this.unobserve({except:r}),this.setState({perLine:i()},()=>{this.initGrid(),this.forceUpdate(()=>{this.observeCategories(),this.observeRows()})})});return r.observe(t),this.observers.push(r),i()}getPerLine(){return this.state.perLine||this.props.perLine}getEmojiByPos([e,t]){const n=this.state.searchResults||this.grid,i=n[e]&&n[e][t];if(i)return VA.get(i)}observeCategories(){const e=this.refs.navigation.current;if(!e)return;const t=new Map,n=t=>{t!=e.state.categoryId&&e.setState({categoryId:t})},i={root:this.refs.scroll.current,threshold:[0,1]},r=new IntersectionObserver(e=>{for(const n of e){const e=n.target.dataset.id;t.set(e,n.intersectionRatio)}const i=[...t];for(const[t,r]of i)if(r){n(t);break}},i);for(const{root:s}of this.refs.categories.values())r.observe(s.current);this.observers.push(r)}observeRows(){const e={...this.state.visibleRows},t=new IntersectionObserver(t=>{for(const n of t){const t=parseInt(n.target.dataset.index);n.isIntersecting?e[t]=!0:delete e[t]}this.setState({visibleRows:e})},{root:this.refs.scroll.current,rootMargin:`${this.props.emojiButtonSize*(PM+5)}px 0px ${this.props.emojiButtonSize*PM}px`});for(const{rows:n}of this.refs.categories.values())for(const e of n)e.current&&t.observe(e.current);this.observers.push(t)}preventDefault(e){e.preventDefault()}unfocusSearch(){const e=this.refs.searchInput.current;e&&e.blur()}navigate({e:e,input:t,left:n,right:i,up:r,down:s}){const a=this.state.searchResults||this.grid;if(!a.length)return;let[o,l]=this.state.pos;const c=(()=>{if(0==o&&0==l&&!e.repeat&&(n||r))return null;if(-1==o)return e.repeat||!i&&!s||t.selectionStart!=t.value.length?null:[0,0];if(n||i){let e=a[o];const t=n?-1:1;if(l+=t,!e[l]){if(o+=t,e=a[o],!e)return o=n?0:a.length-1,l=n?0:a[o].length-1,[o,l];l=n?e.length-1:0}return[o,l]}if(r||s){o+=r?-1:1;const e=a[o];return e?(e[l]||(l=e.length-1),[o,l]):(o=r?0:a.length-1,l=r?0:a[o].length-1,[o,l])}})();c?(e.preventDefault(),this.setState({pos:c,keyboard:!0},()=>{this.scrollTo({row:c[0]})})):this.state.pos[0]>-1&&this.setState({pos:[-1,-1]})}scrollTo({categoryId:e,row:t}){const n=this.state.searchResults||this.grid;if(!n.length)return;const i=this.refs.scroll.current,r=i.getBoundingClientRect();let s=0;if(t>=0&&(e=n[t].__categoryId),e){s=(this.refs[e]||this.refs.categories.get(e).root).current.getBoundingClientRect().top-(r.top-i.scrollTop)+1}if(t>=0)if(t){const e=s+n[t].__index*this.props.emojiButtonSize,a=e+this.props.emojiButtonSize+.88*this.props.emojiButtonSize;if(e<i.scrollTop)s=e;else{if(!(a>i.scrollTop+r.height))return;s=a-r.height}}else s=0;this.ignoreMouse(),i.scrollTop=s}ignoreMouse(){this.mouseIsIgnored=!0,clearTimeout(this.ignoreMouseTimer),this.ignoreMouseTimer=setTimeout(()=>{delete this.mouseIsIgnored},100)}handleEmojiOver(e){this.mouseIsIgnored||this.state.showSkins||this.setState({pos:e||[-1,-1],keyboard:!1})}handleEmojiClick({e:e,emoji:t,pos:n}){if(this.props.onEmojiSelect&&(!t&&n&&(t=this.getEmojiByPos(n)),t)){const n=function(e,{skinIndex:t=0}={}){const n=e.skins[t]||(t=0,e.skins[t]),i={id:e.id,name:e.name,native:n.native,unified:n.unified,keywords:e.keywords,shortcodes:n.shortcodes||e.shortcodes};return e.skins.length>1&&(i.skin=t+1),n.src&&(i.src=n.src),e.aliases&&e.aliases.length&&(i.aliases=e.aliases),e.emoticons&&e.emoticons.length&&(i.emoticons=e.emoticons),i}(t,{skinIndex:this.state.skin-1});this.props.maxFrequentRows&&EA.add(n,this.props),this.props.onEmojiSelect(n,e)}}closeSkins(){this.state.showSkins&&(this.setState({showSkins:null,tempSkin:null}),this.base.removeEventListener("click",this.handleBaseClick),this.base.removeEventListener("keydown",this.handleBaseKeydown))}handleSkinMouseOver(e){this.setState({tempSkin:e})}handleSkinClick(e){this.ignoreMouse(),this.closeSkins(),this.setState({skin:e,tempSkin:null}),wA.set("skin",e)}renderNav(){return bA(EM,{ref:this.refs.navigation,icons:this.props.icons,theme:this.state.theme,dir:this.dir,unfocused:!!this.state.searchResults,position:this.props.navPosition,onClick:this.handleCategoryClick},this.navKey)}renderPreview(){const e=this.getEmojiByPos(this.state.pos),t=this.state.searchResults&&!this.state.searchResults.length;return bA("div",{id:"preview",class:"flex flex-middle",dir:this.dir,"data-position":this.props.previewPosition,children:[bA("div",{class:"flex flex-middle flex-grow",children:[bA("div",{class:"flex flex-auto flex-middle flex-center",style:{height:this.props.emojiButtonSize,fontSize:this.props.emojiButtonSize},children:bA(WA,{emoji:e,id:t?this.props.noResultsEmoji||"cry":this.props.previewEmoji||("top"==this.props.previewPosition?"point_down":"point_up"),set:this.props.set,size:this.props.emojiButtonSize,skin:this.state.tempSkin||this.state.skin,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})}),bA("div",{class:`margin-${this.dir[0]}`,children:bA("div",e||t?{class:`padding-${this.dir[2]} align-${this.dir[0]}`,children:[bA("div",{class:"preview-title ellipsis",children:e?e.name:PA.search_no_results_1}),bA("div",{class:"preview-subtitle ellipsis color-c",children:e?e.skins[0].shortcodes:PA.search_no_results_2})]}:{class:"preview-placeholder color-c",children:PA.pick})})]}),!e&&"preview"==this.props.skinTonePosition&&this.renderSkinToneButton()]})}renderEmojiButton(e,{pos:t,posinset:n,grid:i}){const r=this.props.emojiButtonSize,s=this.state.tempSkin||this.state.skin,a=(e.skins[s-1]||e.skins[0]).native,o=(l=this.state.pos,c=t,Array.isArray(l)&&Array.isArray(c)&&l.length===c.length&&l.every((e,t)=>e==c[t]));var l,c;const u=t.concat(e.id).join("");return bA(IM,{selected:o,skin:s,size:r,children:bA("button",{"aria-label":a,"aria-selected":o||void 0,"aria-posinset":n,"aria-setsize":i.setsize,"data-keyboard":this.state.keyboard,title:"none"==this.props.previewPosition?e.name:void 0,type:"button",class:"flex flex-center flex-middle",tabindex:"-1",onClick:t=>this.handleEmojiClick({e:t,emoji:e}),onMouseEnter:()=>this.handleEmojiOver(t),onMouseLeave:()=>this.handleEmojiOver(),style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize,fontSize:this.props.emojiSize,lineHeight:0},children:[bA("div",{"aria-hidden":"true",class:"background",style:{borderRadius:this.props.emojiButtonRadius,backgroundColor:this.props.emojiButtonColors?this.props.emojiButtonColors[(n-1)%this.props.emojiButtonColors.length]:void 0}}),bA(WA,{emoji:e,set:this.props.set,size:this.props.emojiSize,skin:s,spritesheet:!0,getSpritesheetURL:this.props.getSpritesheetURL})]})},u)}renderSearch(){const e="none"==this.props.previewPosition||"search"==this.props.skinTonePosition;return bA("div",{children:[bA("div",{class:"spacer"}),bA("div",{class:"flex flex-middle",children:[bA("div",{class:"search relative flex-grow",children:[bA("input",{type:"search",ref:this.refs.searchInput,placeholder:PA.search,onClick:this.handleSearchClick,onInput:this.handleSearchInput,onKeyDown:this.handleSearchKeyDown,autoComplete:"off"}),bA("span",{class:"icon loupe flex",children:$A.search.loupe}),this.state.searchResults&&bA("button",{title:"Clear","aria-label":"Clear",type:"button",class:"icon delete flex",onClick:this.clearSearch,onMouseDown:this.preventDefault,children:$A.search.delete})]}),e&&this.renderSkinToneButton()]})]})}renderSearchResults(){const{searchResults:e}=this.state;return e?bA("div",{class:"category",ref:this.refs.search,children:[bA("div",{class:`sticky padding-small align-${this.dir[0]}`,children:PA.categories.search}),bA("div",{children:e.length?e.map((t,n)=>bA("div",{class:"flex",children:t.map((t,i)=>this.renderEmojiButton(t,{pos:[n,i],posinset:n*this.props.perLine+i+1,grid:e}))})):bA("div",{class:`padding-small align-${this.dir[0]}`,children:this.props.onAddCustomEmoji&&bA("a",{onClick:this.props.onAddCustomEmoji,children:PA.add_custom})})})]}):null}renderCategories(){const{categories:e}=AA,t=!!this.state.searchResults,n=this.getPerLine();return bA("div",{style:{visibility:t?"hidden":void 0,display:t?"none":void 0,height:"100%"},children:e.map(e=>{const{root:t,rows:i}=this.refs.categories.get(e.id);return bA("div",{"data-id":e.target?e.target.id:e.id,class:"category",ref:t,children:[bA("div",{class:`sticky padding-small align-${this.dir[0]}`,children:e.name||PA.categories[e.id]}),bA("div",{class:"relative",style:{height:i.length*this.props.emojiButtonSize},children:i.map((t,i)=>{const r=t.index-t.index%PM,s=this.state.visibleRows[r],a="current"in t?t:void 0;if(!s&&!a)return null;const o=i*n,l=o+n,c=e.emojis.slice(o,l);return c.length<n&&c.push(...new Array(n-c.length)),bA("div",{"data-index":t.index,ref:a,class:"flex row",style:{top:i*this.props.emojiButtonSize},children:s&&c.map((e,n)=>{if(!e)return bA("div",{style:{width:this.props.emojiButtonSize,height:this.props.emojiButtonSize}});const i=VA.get(e);return this.renderEmojiButton(i,{pos:[t.index,n],posinset:t.posinset+n,grid:this.grid})})},t.index)})})]})})})}renderSkinToneButton(){return"none"==this.props.skinTonePosition?null:bA("div",{class:"flex flex-auto flex-center flex-middle",style:{position:"relative",width:this.props.emojiButtonSize,height:this.props.emojiButtonSize},children:bA("button",{type:"button",ref:this.refs.skinToneButton,class:"skin-tone-button flex flex-auto flex-center flex-middle","aria-selected":this.state.showSkins?"":void 0,"aria-label":PA.skins.choose,title:PA.skins.choose,onClick:this.openSkins,style:{width:this.props.emojiSize,height:this.props.emojiSize},children:bA("span",{class:`skin-tone skin-tone-${this.state.skin}`})})})}renderLiveRegion(){const e=this.getEmojiByPos(this.state.pos);return bA("div",{"aria-live":"polite",class:"sr-only",children:e?e.name:""})}renderSkins(){const e=this.refs.skinToneButton.current.getBoundingClientRect(),t=this.base.getBoundingClientRect(),n={};return"ltr"==this.dir?n.right=t.right-e.right-3:n.left=e.left-t.left-3,"bottom"==this.props.previewPosition&&"preview"==this.props.skinTonePosition?n.bottom=t.bottom-e.top+6:(n.top=e.bottom-t.top+3,n.bottom="auto"),bA("div",{ref:this.refs.menu,role:"radiogroup",dir:this.dir,"aria-label":PA.skins.choose,class:"menu hidden","data-position":n.top?"top":"bottom",style:n,children:[...Array(6).keys()].map(e=>{const t=e+1,n=this.state.skin==t;return bA("div",{children:[bA("input",{type:"radio",name:"skin-tone",value:t,"aria-label":PA.skins[t],ref:n?this.refs.skinToneRadio:null,defaultChecked:n,onChange:()=>this.handleSkinMouseOver(t),onKeyDown:e=>{"Enter"!=e.code&&"Space"!=e.code&&"Tab"!=e.code||(e.preventDefault(),this.handleSkinClick(t))}}),bA("button",{"aria-hidden":"true",tabindex:"-1",onClick:()=>this.handleSkinClick(t),onMouseEnter:()=>this.handleSkinMouseOver(t),onMouseLeave:()=>this.handleSkinMouseOver(),class:"option flex flex-grow flex-middle",children:[bA("span",{class:`skin-tone skin-tone-${t}`}),bA("span",{class:"margin-small-lr",children:PA.skins[t]})]})]})})})}render(){const e=this.props.perLine*this.props.emojiButtonSize;return bA("section",{id:"root",class:"flex flex-column",dir:this.dir,style:{width:this.props.dynamicWidth?"100%":`calc(${e}px + (var(--padding) + var(--sidebar-width)))`},"data-emoji-set":this.props.set,"data-theme":this.state.theme,"data-menu":this.state.showSkins?"":void 0,children:["top"==this.props.previewPosition&&this.renderPreview(),"top"==this.props.navPosition&&this.renderNav(),"sticky"==this.props.searchPosition&&bA("div",{class:"padding-lr",children:this.renderSearch()}),bA("div",{ref:this.refs.scroll,class:"scroll flex-grow padding-lr",children:bA("div",{style:{width:this.props.dynamicWidth?"100%":e,height:"100%"},children:["static"==this.props.searchPosition&&this.renderSearch(),this.renderSearchResults(),this.renderCategories()]})}),"bottom"==this.props.navPosition&&this.renderNav(),"bottom"==this.props.previewPosition&&this.renderPreview(),this.state.showSkins&&this.renderSkins(),this.renderLiveRegion()]})}constructor(e){super(),OP(this,"darkMediaCallback",()=>{"auto"==this.props.theme&&this.setState({theme:this.darkMedia.matches?"dark":"light"})}),OP(this,"handleClickOutside",e=>{const{element:t}=this.props;e.target!=t&&(this.state.showSkins&&this.closeSkins(),this.props.onClickOutside&&this.props.onClickOutside(e))}),OP(this,"handleBaseClick",e=>{this.state.showSkins&&(e.target.closest(".menu")||(e.preventDefault(),e.stopImmediatePropagation(),this.closeSkins()))}),OP(this,"handleBaseKeydown",e=>{this.state.showSkins&&"Escape"==e.key&&(e.preventDefault(),e.stopImmediatePropagation(),this.closeSkins())}),OP(this,"handleSearchClick",()=>{this.getEmojiByPos(this.state.pos)&&this.setState({pos:[-1,-1]})}),OP(this,"handleSearchInput",async()=>{const e=this.refs.searchInput.current;if(!e)return;const{value:t}=e,n=await VA.search(t),i=()=>{this.refs.scroll.current&&(this.refs.scroll.current.scrollTop=0)};if(!n)return this.setState({searchResults:n,pos:[-1,-1]},i);const r=e.selectionStart==e.value.length?[0,0]:[-1,-1],s=[];s.setsize=n.length;let a=null;for(let o of n)s.length&&a.length!=this.getPerLine()||(a=[],a.__categoryId="search",a.__index=s.length,s.push(a)),a.push(o);this.ignoreMouse(),this.setState({searchResults:s,pos:r},i)}),OP(this,"handleSearchKeyDown",e=>{const t=e.currentTarget;switch(e.stopImmediatePropagation(),e.key){case"ArrowLeft":this.navigate({e:e,input:t,left:!0});break;case"ArrowRight":this.navigate({e:e,input:t,right:!0});break;case"ArrowUp":this.navigate({e:e,input:t,up:!0});break;case"ArrowDown":this.navigate({e:e,input:t,down:!0});break;case"Enter":e.preventDefault(),this.handleEmojiClick({e:e,pos:this.state.pos});break;case"Escape":e.preventDefault(),this.state.searchResults?this.clearSearch():this.unfocusSearch()}}),OP(this,"clearSearch",()=>{const e=this.refs.searchInput.current;e&&(e.value="",e.focus(),this.handleSearchInput())}),OP(this,"handleCategoryClick",({category:e,i:t})=>{this.scrollTo(0==t?{row:-1}:{categoryId:e.id})}),OP(this,"openSkins",e=>{const{currentTarget:t}=e,n=t.getBoundingClientRect();this.setState({showSkins:n},async()=>{await async function(e=1){for(let t in[...Array(e).keys()])await new Promise(requestAnimationFrame)}(2);const e=this.refs.menu.current;e&&(e.classList.remove("hidden"),this.refs.skinToneRadio.current.focus(),this.base.addEventListener("click",this.handleBaseClick,!0),this.base.addEventListener("keydown",this.handleBaseKeydown,!0))})}),this.observers=[],this.state={pos:[-1,-1],perLine:this.initDynamicPerLine(e),visibleRows:{0:!0},...this.getInitialState(e)}}}class MM extends KA{async connectedCallback(){const e=zA(this.props,IA,this);e.element=this,e.ref=e=>{this.component=e},await FA(e),this.disconnected||vA(bA(AM,{...e}),this.shadowRoot)}constructor(e){super(e,{styles:LP(RM)})}}OP(MM,"Props",IA),"undefined"==typeof customElements||customElements.get("em-emoji-picker")||customElements.define("em-emoji-picker",MM);var RM={};function DM(e){const t=n.useRef(null),i=n.useRef(null);return i.current&&i.current.update(e),n.useEffect(()=>(i.current=new MM({...e,ref:t}),()=>{i.current=null}),[]),o.createElement("div",{ref:t})}RM=':host {\n  width: min-content;\n  height: 435px;\n  min-height: 230px;\n  border-radius: var(--border-radius);\n  box-shadow: var(--shadow);\n  --border-radius: 10px;\n  --category-icon-size: 18px;\n  --font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", sans-serif;\n  --font-size: 15px;\n  --preview-placeholder-size: 21px;\n  --preview-title-size: 1.1em;\n  --preview-subtitle-size: .9em;\n  --shadow-color: 0deg 0% 0%;\n  --shadow: .3px .5px 2.7px hsl(var(--shadow-color) / .14), .4px .8px 1px -3.2px hsl(var(--shadow-color) / .14), 1px 2px 2.5px -4.5px hsl(var(--shadow-color) / .14);\n  display: flex;\n}\n\n[data-theme="light"] {\n  --em-rgb-color: var(--rgb-color, 34, 36, 39);\n  --em-rgb-accent: var(--rgb-accent, 34, 102, 237);\n  --em-rgb-background: var(--rgb-background, 255, 255, 255);\n  --em-rgb-input: var(--rgb-input, 255, 255, 255);\n  --em-color-border: var(--color-border, rgba(0, 0, 0, .05));\n  --em-color-border-over: var(--color-border-over, rgba(0, 0, 0, .1));\n}\n\n[data-theme="dark"] {\n  --em-rgb-color: var(--rgb-color, 222, 222, 221);\n  --em-rgb-accent: var(--rgb-accent, 58, 130, 247);\n  --em-rgb-background: var(--rgb-background, 21, 22, 23);\n  --em-rgb-input: var(--rgb-input, 0, 0, 0);\n  --em-color-border: var(--color-border, rgba(255, 255, 255, .1));\n  --em-color-border-over: var(--color-border-over, rgba(255, 255, 255, .2));\n}\n\n#root {\n  --color-a: rgb(var(--em-rgb-color));\n  --color-b: rgba(var(--em-rgb-color), .65);\n  --color-c: rgba(var(--em-rgb-color), .45);\n  --padding: 12px;\n  --padding-small: calc(var(--padding) / 2);\n  --sidebar-width: 16px;\n  --duration: 225ms;\n  --duration-fast: 125ms;\n  --duration-instant: 50ms;\n  --easing: cubic-bezier(.4, 0, .2, 1);\n  width: 100%;\n  text-align: left;\n  border-radius: var(--border-radius);\n  background-color: rgb(var(--em-rgb-background));\n  position: relative;\n}\n\n@media (prefers-reduced-motion) {\n  #root {\n    --duration: 0;\n    --duration-fast: 0;\n    --duration-instant: 0;\n  }\n}\n\n#root[data-menu] button {\n  cursor: auto;\n}\n\n#root[data-menu] .menu button {\n  cursor: pointer;\n}\n\n:host, #root, input, button {\n  color: rgb(var(--em-rgb-color));\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  line-height: normal;\n}\n\n*, :before, :after {\n  box-sizing: border-box;\n  min-width: 0;\n  margin: 0;\n  padding: 0;\n}\n\n.relative {\n  position: relative;\n}\n\n.flex {\n  display: flex;\n}\n\n.flex-auto {\n  flex: none;\n}\n\n.flex-center {\n  justify-content: center;\n}\n\n.flex-column {\n  flex-direction: column;\n}\n\n.flex-grow {\n  flex: auto;\n}\n\n.flex-middle {\n  align-items: center;\n}\n\n.flex-wrap {\n  flex-wrap: wrap;\n}\n\n.padding {\n  padding: var(--padding);\n}\n\n.padding-t {\n  padding-top: var(--padding);\n}\n\n.padding-lr {\n  padding-left: var(--padding);\n  padding-right: var(--padding);\n}\n\n.padding-r {\n  padding-right: var(--padding);\n}\n\n.padding-small {\n  padding: var(--padding-small);\n}\n\n.padding-small-b {\n  padding-bottom: var(--padding-small);\n}\n\n.padding-small-lr {\n  padding-left: var(--padding-small);\n  padding-right: var(--padding-small);\n}\n\n.margin {\n  margin: var(--padding);\n}\n\n.margin-r {\n  margin-right: var(--padding);\n}\n\n.margin-l {\n  margin-left: var(--padding);\n}\n\n.margin-small-l {\n  margin-left: var(--padding-small);\n}\n\n.margin-small-lr {\n  margin-left: var(--padding-small);\n  margin-right: var(--padding-small);\n}\n\n.align-l {\n  text-align: left;\n}\n\n.align-r {\n  text-align: right;\n}\n\n.color-a {\n  color: var(--color-a);\n}\n\n.color-b {\n  color: var(--color-b);\n}\n\n.color-c {\n  color: var(--color-c);\n}\n\n.ellipsis {\n  white-space: nowrap;\n  max-width: 100%;\n  width: auto;\n  text-overflow: ellipsis;\n  overflow: hidden;\n}\n\n.sr-only {\n  width: 1px;\n  height: 1px;\n  position: absolute;\n  top: auto;\n  left: -10000px;\n  overflow: hidden;\n}\n\na {\n  cursor: pointer;\n  color: rgb(var(--em-rgb-accent));\n}\n\na:hover {\n  text-decoration: underline;\n}\n\n.spacer {\n  height: 10px;\n}\n\n[dir="rtl"] .scroll {\n  padding-left: 0;\n  padding-right: var(--padding);\n}\n\n.scroll {\n  padding-right: 0;\n  overflow-x: hidden;\n  overflow-y: auto;\n}\n\n.scroll::-webkit-scrollbar {\n  width: var(--sidebar-width);\n  height: var(--sidebar-width);\n}\n\n.scroll::-webkit-scrollbar-track {\n  border: 0;\n}\n\n.scroll::-webkit-scrollbar-button {\n  width: 0;\n  height: 0;\n  display: none;\n}\n\n.scroll::-webkit-scrollbar-corner {\n  background-color: rgba(0, 0, 0, 0);\n}\n\n.scroll::-webkit-scrollbar-thumb {\n  min-height: 20%;\n  min-height: 65px;\n  border: 4px solid rgb(var(--em-rgb-background));\n  border-radius: 8px;\n}\n\n.scroll::-webkit-scrollbar-thumb:hover {\n  background-color: var(--em-color-border-over) !important;\n}\n\n.scroll:hover::-webkit-scrollbar-thumb {\n  background-color: var(--em-color-border);\n}\n\n.sticky {\n  z-index: 1;\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  font-weight: 500;\n  position: sticky;\n  top: -1px;\n}\n\n[dir="rtl"] .search input[type="search"] {\n  padding: 10px 2.2em 10px 2em;\n}\n\n[dir="rtl"] .search .loupe {\n  left: auto;\n  right: .7em;\n}\n\n[dir="rtl"] .search .delete {\n  left: .7em;\n  right: auto;\n}\n\n.search {\n  z-index: 2;\n  position: relative;\n}\n\n.search input, .search button {\n  font-size: calc(var(--font-size)  - 1px);\n}\n\n.search input[type="search"] {\n  width: 100%;\n  background-color: var(--em-color-border);\n  transition-duration: var(--duration);\n  transition-property: background-color, box-shadow;\n  transition-timing-function: var(--easing);\n  border: 0;\n  border-radius: 10px;\n  outline: 0;\n  padding: 10px 2em 10px 2.2em;\n  display: block;\n}\n\n.search input[type="search"]::-ms-input-placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"]::placeholder {\n  color: inherit;\n  opacity: .6;\n}\n\n.search input[type="search"], .search input[type="search"]::-webkit-search-decoration, .search input[type="search"]::-webkit-search-cancel-button, .search input[type="search"]::-webkit-search-results-button, .search input[type="search"]::-webkit-search-results-decoration {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n}\n\n.search input[type="search"]:focus {\n  background-color: rgb(var(--em-rgb-input));\n  box-shadow: inset 0 0 0 1px rgb(var(--em-rgb-accent)), 0 1px 3px rgba(65, 69, 73, .2);\n}\n\n.search .icon {\n  z-index: 1;\n  color: rgba(var(--em-rgb-color), .7);\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n}\n\n.search .loupe {\n  pointer-events: none;\n  left: .7em;\n}\n\n.search .delete {\n  right: .7em;\n}\n\nsvg {\n  fill: currentColor;\n  width: 1em;\n  height: 1em;\n}\n\nbutton {\n  -webkit-appearance: none;\n  -ms-appearance: none;\n  appearance: none;\n  cursor: pointer;\n  color: currentColor;\n  background-color: rgba(0, 0, 0, 0);\n  border: 0;\n}\n\n#nav {\n  z-index: 2;\n  padding-top: 12px;\n  padding-bottom: 12px;\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#nav button {\n  color: var(--color-b);\n  transition: color var(--duration) var(--easing);\n}\n\n#nav button:hover {\n  color: var(--color-a);\n}\n\n#nav svg, #nav img {\n  width: var(--category-icon-size);\n  height: var(--category-icon-size);\n}\n\n#nav[dir="rtl"] .bar {\n  left: auto;\n  right: 0;\n}\n\n#nav .bar {\n  width: 100%;\n  height: 3px;\n  background-color: rgb(var(--em-rgb-accent));\n  transition: transform var(--duration) var(--easing);\n  border-radius: 3px 3px 0 0;\n  position: absolute;\n  bottom: -12px;\n  left: 0;\n}\n\n#nav button[aria-selected] {\n  color: rgb(var(--em-rgb-accent));\n}\n\n#preview {\n  z-index: 2;\n  padding: calc(var(--padding)  + 4px) var(--padding);\n  padding-right: var(--sidebar-width);\n  position: relative;\n}\n\n#preview .preview-placeholder {\n  font-size: var(--preview-placeholder-size);\n}\n\n#preview .preview-title {\n  font-size: var(--preview-title-size);\n}\n\n#preview .preview-subtitle {\n  font-size: var(--preview-subtitle-size);\n}\n\n#nav:before, #preview:before {\n  content: "";\n  height: 2px;\n  position: absolute;\n  left: 0;\n  right: 0;\n}\n\n#nav[data-position="top"]:before, #preview[data-position="top"]:before {\n  background: linear-gradient(to bottom, var(--em-color-border), transparent);\n  top: 100%;\n}\n\n#nav[data-position="bottom"]:before, #preview[data-position="bottom"]:before {\n  background: linear-gradient(to top, var(--em-color-border), transparent);\n  bottom: 100%;\n}\n\n.category:last-child {\n  min-height: calc(100% + 1px);\n}\n\n.category button {\n  font-family: -apple-system, BlinkMacSystemFont, Helvetica Neue, sans-serif;\n  position: relative;\n}\n\n.category button > * {\n  position: relative;\n}\n\n.category button .background {\n  opacity: 0;\n  background-color: var(--em-color-border);\n  transition: opacity var(--duration-fast) var(--easing) var(--duration-instant);\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n}\n\n.category button:hover .background {\n  transition-duration: var(--duration-instant);\n  transition-delay: 0s;\n}\n\n.category button[aria-selected] .background {\n  opacity: 1;\n}\n\n.category button[data-keyboard] .background {\n  transition: none;\n}\n\n.row {\n  width: 100%;\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n\n.skin-tone-button {\n  border: 1px solid rgba(0, 0, 0, 0);\n  border-radius: 100%;\n}\n\n.skin-tone-button:hover {\n  border-color: var(--em-color-border);\n}\n\n.skin-tone-button:active .skin-tone {\n  transform: scale(.85) !important;\n}\n\n.skin-tone-button .skin-tone {\n  transition: transform var(--duration) var(--easing);\n}\n\n.skin-tone-button[aria-selected] {\n  background-color: var(--em-color-border);\n  border-top-color: rgba(0, 0, 0, .05);\n  border-bottom-color: rgba(0, 0, 0, 0);\n  border-left-width: 0;\n  border-right-width: 0;\n}\n\n.skin-tone-button[aria-selected] .skin-tone {\n  transform: scale(.9);\n}\n\n.menu {\n  z-index: 2;\n  white-space: nowrap;\n  border: 1px solid var(--em-color-border);\n  background-color: rgba(var(--em-rgb-background), .9);\n  -webkit-backdrop-filter: blur(4px);\n  backdrop-filter: blur(4px);\n  transition-property: opacity, transform;\n  transition-duration: var(--duration);\n  transition-timing-function: var(--easing);\n  border-radius: 10px;\n  padding: 4px;\n  position: absolute;\n  box-shadow: 1px 1px 5px rgba(0, 0, 0, .05);\n}\n\n.menu.hidden {\n  opacity: 0;\n}\n\n.menu[data-position="bottom"] {\n  transform-origin: 100% 100%;\n}\n\n.menu[data-position="bottom"].hidden {\n  transform: scale(.9)rotate(-3deg)translateY(5%);\n}\n\n.menu[data-position="top"] {\n  transform-origin: 100% 0;\n}\n\n.menu[data-position="top"].hidden {\n  transform: scale(.9)rotate(3deg)translateY(-5%);\n}\n\n.menu input[type="radio"] {\n  clip: rect(0 0 0 0);\n  width: 1px;\n  height: 1px;\n  border: 0;\n  margin: 0;\n  padding: 0;\n  position: absolute;\n  overflow: hidden;\n}\n\n.menu input[type="radio"]:checked + .option {\n  box-shadow: 0 0 0 2px rgb(var(--em-rgb-accent));\n}\n\n.option {\n  width: 100%;\n  border-radius: 6px;\n  padding: 4px 6px;\n}\n\n.option:hover {\n  color: #fff;\n  background-color: rgb(var(--em-rgb-accent));\n}\n\n.skin-tone {\n  width: 16px;\n  height: 16px;\n  border-radius: 100%;\n  display: inline-block;\n  position: relative;\n  overflow: hidden;\n}\n\n.skin-tone:after {\n  content: "";\n  mix-blend-mode: overlay;\n  background: linear-gradient(rgba(255, 255, 255, .2), rgba(0, 0, 0, 0));\n  border: 1px solid rgba(0, 0, 0, .8);\n  border-radius: 100%;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 2px #fff;\n}\n\n.skin-tone-1 {\n  background-color: #ffc93a;\n}\n\n.skin-tone-2 {\n  background-color: #ffdab7;\n}\n\n.skin-tone-3 {\n  background-color: #e7b98f;\n}\n\n.skin-tone-4 {\n  background-color: #c88c61;\n}\n\n.skin-tone-5 {\n  background-color: #a46134;\n}\n\n.skin-tone-6 {\n  background-color: #5d4437;\n}\n\n[data-index] {\n  justify-content: space-between;\n}\n\n[data-emoji-set="twitter"] .skin-tone:after {\n  box-shadow: none;\n  border-color: rgba(0, 0, 0, .5);\n}\n\n[data-emoji-set="twitter"] .skin-tone-1 {\n  background-color: #fade72;\n}\n\n[data-emoji-set="twitter"] .skin-tone-2 {\n  background-color: #f3dfd0;\n}\n\n[data-emoji-set="twitter"] .skin-tone-3 {\n  background-color: #eed3a8;\n}\n\n[data-emoji-set="twitter"] .skin-tone-4 {\n  background-color: #cfad8d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-5 {\n  background-color: #a8805d;\n}\n\n[data-emoji-set="twitter"] .skin-tone-6 {\n  background-color: #765542;\n}\n\n[data-emoji-set="google"] .skin-tone:after {\n  box-shadow: inset 0 0 2px 2px rgba(0, 0, 0, .4);\n}\n\n[data-emoji-set="google"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="google"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="google"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="google"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="google"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="google"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n[data-emoji-set="facebook"] .skin-tone:after {\n  border-color: rgba(0, 0, 0, .4);\n  box-shadow: inset 0 -2px 3px #000, inset 0 1px 4px #fff;\n}\n\n[data-emoji-set="facebook"] .skin-tone-1 {\n  background-color: #f5c748;\n}\n\n[data-emoji-set="facebook"] .skin-tone-2 {\n  background-color: #f1d5aa;\n}\n\n[data-emoji-set="facebook"] .skin-tone-3 {\n  background-color: #d4b48d;\n}\n\n[data-emoji-set="facebook"] .skin-tone-4 {\n  background-color: #aa876b;\n}\n\n[data-emoji-set="facebook"] .skin-tone-5 {\n  background-color: #916544;\n}\n\n[data-emoji-set="facebook"] .skin-tone-6 {\n  background-color: #61493f;\n}\n\n';const LM=({onEmojiSelect:e,onClose:t})=>{const{theme:i}=YI(),[r,s]=n.useState(()=>{try{const e=localStorage.getItem("recentEmojis");return e?JSON.parse(e):[]}catch(e){return[]}});return ht.jsx("div",{className:"absolute bottom-full right-0 mb-2 z-50 animate-in fade-in zoom-in-95 duration-200 shadow-2xl rounded-lg overflow-hidden",children:ht.jsx(DM,{data:DP,onEmojiSelect:t=>{e(t.native);const n=[t.native,...r.filter(e=>e!==t.native)].slice(0,20);s(n);try{localStorage.setItem("recentEmojis",JSON.stringify(n))}catch(i){}},theme:"dark"===i?"dark":"light",previewPosition:"none",skinTonePosition:"search",searchPosition:"sticky",navPosition:"bottom",perLine:8,maxFrequentRows:2,set:"native",emojiSize:24,emojiButtonSize:36,locale:"en",style:{width:"100%",maxWidth:"352px",border:"none"}})})},OM=Object.freeze({left:0,top:0,width:16,height:16}),FM=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),zM=Object.freeze({...OM,...FM}),UM=Object.freeze({...zM,body:"",hidden:!1});function BM(e,t){const n=function(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const i=((e.rotate||0)+(t.rotate||0))%4;return i&&(n.rotate=i),n}(e,t);for(const i in UM)i in FM?i in e&&!(i in n)&&(n[i]=FM[i]):i in t?n[i]=t[i]:i in e&&(n[i]=e[i]);return n}function VM(e,t,n){const i=e.icons,r=e.aliases||Object.create(null);let s={};function a(e){s=BM(i[e]||r[e],s)}return a(t),n.forEach(a),BM(e,s)}function qM(e,t){const n=[];if("object"!=typeof e||"object"!=typeof e.icons)return n;e.not_found instanceof Array&&e.not_found.forEach(e=>{t(e,null),n.push(e)});const i=function(e){const t=e.icons,n=e.aliases||Object.create(null),i=Object.create(null);return Object.keys(t).concat(Object.keys(n)).forEach(function e(r){if(t[r])return i[r]=[];if(!(r in i)){i[r]=null;const t=n[r]&&n[r].parent,s=t&&e(t);s&&(i[r]=[t].concat(s))}return i[r]}),i}(e);for(const r in i){const s=i[r];s&&(t(r,VM(e,r,s)),n.push(r))}return n}const $M={provider:"",aliases:{},not_found:{},...OM};function WM(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function HM(e){if("object"!=typeof e||null===e)return null;const t=e;if("string"!=typeof t.prefix||!e.icons||"object"!=typeof e.icons)return null;if(!WM(e,$M))return null;const n=t.icons;for(const r in n){const e=n[r];if(!r||"string"!=typeof e.body||!WM(e,UM))return null}const i=t.aliases||Object.create(null);for(const r in i){const e=i[r],t=e.parent;if(!r||"string"!=typeof t||!n[t]&&!i[t]||!WM(e,UM))return null}return t}const GM=/^[a-z0-9]+(-[a-z0-9]+)*$/,KM=(e,t,n,i="")=>{const r=e.split(":");if("@"===e.slice(0,1)){if(r.length<2||r.length>3)return null;i=r.shift().slice(1)}if(r.length>3||!r.length)return null;if(r.length>1){const e=r.pop(),n=r.pop(),s={provider:r.length>0?r[0]:i,prefix:n,name:e};return t&&!YM(s)?null:s}const s=r[0],a=s.split("-");if(a.length>1){const e={provider:i,prefix:a.shift(),name:a.join("-")};return t&&!YM(e)?null:e}if(n&&""===i){const e={provider:i,prefix:"",name:s};return t&&!YM(e,n)?null:e}return null},YM=(e,t)=>!!e&&!(!(t&&""===e.prefix||e.prefix)||!e.name),QM=Object.create(null);function XM(e,t){const n=QM[e]||(QM[e]=Object.create(null));return n[t]||(n[t]=function(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}(e,t))}function JM(e,t){return HM(t)?qM(t,(t,n)=>{n?e.icons[t]=n:e.missing.add(t)}):[]}let ZM=!1;function eR(e){return"boolean"==typeof e&&(ZM=e),ZM}function tR(e){const t="string"==typeof e?KM(e,!0,ZM):e;if(t){const e=XM(t.provider,t.prefix),n=t.name;return e.icons[n]||(e.missing.has(n)?null:void 0)}}function nR(e,t){if("object"!=typeof e)return!1;if("string"!=typeof t&&(t=e.provider||""),ZM&&!t&&!e.prefix){let t=!1;return HM(e)&&(e.prefix="",qM(e,(e,n)=>{(function(e,t){const n=KM(e,!0,ZM);if(!n)return!1;const i=XM(n.provider,n.prefix);return t?function(e,t,n){try{if("string"==typeof n.body)return e.icons[t]={...n},!0}catch(i){}return!1}(i,n.name,t):(i.missing.add(n.name),!0)})(e,n)&&(t=!0)})),t}const n=e.prefix;if(!YM({prefix:n,name:"a"}))return!1;return!!JM(XM(t,n),e)}const iR=Object.freeze({width:null,height:null}),rR=Object.freeze({...iR,...FM}),sR=/(-?[0-9.]*[0-9]+[0-9.]*)/g,aR=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function oR(e,t,n){if(1===t)return e;if(n=n||100,"number"==typeof e)return Math.ceil(e*t*n)/n;if("string"!=typeof e)return e;const i=e.split(sR);if(null===i||!i.length)return e;const r=[];let s=i.shift(),a=aR.test(s);for(;;){if(a){const e=parseFloat(s);isNaN(e)?r.push(s):r.push(Math.ceil(e*t*n)/n)}else r.push(s);if(s=i.shift(),void 0===s)return r.join("");a=!a}}const lR=/\sid="(\S+)"/g,cR="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let uR=0;function dR(e,t=cR){const n=[];let i;for(;i=lR.exec(e);)n.push(i[1]);if(!n.length)return e;const r="suffix"+(16777216*Math.random()|Date.now()).toString(16);return n.forEach(n=>{const i="function"==typeof t?t(n):t+(uR++).toString(),s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+s+')([")]|\\.[a-z])',"g"),"$1"+i+r+"$3")}),e=e.replace(new RegExp(r,"g"),"")}const fR=Object.create(null);function hR(e){return fR[e]||fR[""]}function mR(e){let t;if("string"==typeof e.resources)t=[e.resources];else if(t=e.resources,!(t instanceof Array&&t.length))return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:!0===e.random,index:e.index||0,dataAfterTimeout:!1!==e.dataAfterTimeout}}const pR=Object.create(null),gR=["https://api.simplesvg.com","https://api.unisvg.com"],vR=[];for(;gR.length>0;)1===gR.length||Math.random()>.5?vR.push(gR.shift()):vR.push(gR.pop());function yR(e,t){const n=mR(t);return null!==n&&(pR[e]=n,!0)}function bR(e){return pR[e]}pR[""]=mR({resources:["https://api.iconify.design"].concat(vR)});let wR=(()=>{let e;try{if(e=fetch,"function"==typeof e)return e}catch(t){}})();const kR={prepare:(e,t,n)=>{const i=[],r=function(e,t){const n=bR(e);if(!n)return 0;let i;if(n.maxURL){let e=0;n.resources.forEach(t=>{const n=t;e=Math.max(e,n.length)});const r=t+".json?icons=";i=n.maxURL-e-n.path.length-r.length}else i=0;return i}(e,t),s="icons";let a={type:s,provider:e,prefix:t,icons:[]},o=0;return n.forEach((n,l)=>{o+=n.length+1,o>=r&&l>0&&(i.push(a),a={type:s,provider:e,prefix:t,icons:[]},o=n.length),a.icons.push(n)}),i.push(a),i},send:(e,t,n)=>{if(!wR)return void n("abort",424);let i=function(e){if("string"==typeof e){const t=bR(e);if(t)return t.path}return"/"}(t.provider);switch(t.type){case"icons":{const e=t.prefix,n=t.icons.join(",");i+=e+".json?"+new URLSearchParams({icons:n}).toString();break}case"custom":{const e=t.uri;i+="/"===e.slice(0,1)?e.slice(1):e;break}default:return void n("abort",400)}let r=503;wR(e+i).then(e=>{const t=e.status;if(200===t)return r=501,e.json();setTimeout(()=>{n(function(e){return 404===e}(t)?"abort":"next",t)})}).then(e=>{"object"==typeof e&&null!==e?setTimeout(()=>{n("success",e)}):setTimeout(()=>{404===e?n("abort",e):n("next",r)})}).catch(()=>{n("next",r)})}};function xR(e,t){e.forEach(e=>{const n=e.loaderCallbacks;n&&(e.loaderCallbacks=n.filter(e=>e.id!==t))})}let _R=0;var SR={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function CR(e,t,n,i){const r=e.resources.length,s=e.random?Math.floor(Math.random()*r):e.index;let a;if(e.random){let t=e.resources.slice(0);for(a=[];t.length>1;){const e=Math.floor(Math.random()*t.length);a.push(t[e]),t=t.slice(0,e).concat(t.slice(e+1))}a=a.concat(t)}else a=e.resources.slice(s).concat(e.resources.slice(0,s));const o=Date.now();let l,c="pending",u=0,d=null,f=[],h=[];function m(){d&&(clearTimeout(d),d=null)}function p(){"pending"===c&&(c="aborted"),m(),f.forEach(e=>{"pending"===e.status&&(e.status="aborted")}),f=[]}function g(e,t){t&&(h=[]),"function"==typeof e&&h.push(e)}function v(){c="failed",h.forEach(e=>{e(void 0,l)})}function y(){f.forEach(e=>{"pending"===e.status&&(e.status="aborted")}),f=[]}function b(){if("pending"!==c)return;m();const i=a.shift();if(void 0===i)return f.length?void(d=setTimeout(()=>{m(),"pending"===c&&(y(),v())},e.timeout)):void v();const r={status:"pending",resource:i,callback:(t,n)=>{!function(t,n,i){const r="success"!==n;switch(f=f.filter(e=>e!==t),c){case"pending":break;case"failed":if(r||!e.dataAfterTimeout)return;break;default:return}if("abort"===n)return l=i,void v();if(r)return l=i,void(f.length||(a.length?b():v()));if(m(),y(),!e.random){const n=e.resources.indexOf(t.resource);-1!==n&&n!==e.index&&(e.index=n)}c="completed",h.forEach(e=>{e(i)})}(r,t,n)}};f.push(r),u++,d=setTimeout(b,e.rotate),n(i,t,r.callback)}return"function"==typeof i&&h.push(i),setTimeout(b),function(){return{startTime:o,payload:t,status:c,queriesSent:u,queriesPending:f.length,subscribe:g,abort:p}}}function NR(e){const t={...SR,...e};let n=[];function i(){n=n.filter(e=>"pending"===e().status)}const r={query:function(e,r,s){const a=CR(t,e,r,(e,t)=>{i(),s&&s(e,t)});return n.push(a),a},find:function(e){return n.find(t=>e(t))||null},setIndex:e=>{t.index=e},getIndex:()=>t.index,cleanup:i};return r}function jR(){}const TR=Object.create(null);function ER(e,t,n){let i,r;if("string"==typeof e){const t=hR(e);if(!t)return n(void 0,424),jR;r=t.send;const s=function(e){if(!TR[e]){const t=bR(e);if(!t)return;const n={config:t,redundancy:NR(t)};TR[e]=n}return TR[e]}(e);s&&(i=s.redundancy)}else{const t=mR(e);if(t){i=NR(t);const n=hR(e.resources?e.resources[0]:"");n&&(r=n.send)}}return i&&r?i.query(t,r,n)().abort:(n(void 0,424),jR)}function IR(){}function PR(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,function(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const i=e.provider,r=e.prefix;t.forEach(t=>{const s=t.icons,a=s.pending.length;s.pending=s.pending.filter(t=>{if(t.prefix!==r)return!0;const a=t.name;if(e.icons[a])s.loaded.push({provider:i,prefix:r,name:a});else{if(!e.missing.has(a))return n=!0,!0;s.missing.push({provider:i,prefix:r,name:a})}return!1}),s.pending.length!==a&&(n||xR([e],t.id),t.callback(s.loaded.slice(0),s.missing.slice(0),s.pending.slice(0),t.abort))})}))}(e)}))}function AR(e,t,n){function i(){const n=e.pendingIcons;t.forEach(t=>{n&&n.delete(t),e.icons[t]||e.missing.add(t)})}if(n&&"object"==typeof n)try{if(!JM(e,n).length)return void i()}catch(r){}i(),PR(e)}function MR(e,t){e instanceof Promise?e.then(e=>{t(e)}).catch(()=>{t(null)}):t(e)}function RR(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:t,prefix:n}=e,i=e.iconsToLoad;if(delete e.iconsToLoad,!i||!i.length)return;const r=e.loadIcon;if(e.loadIcons&&(i.length>1||!r))return void MR(e.loadIcons(i,n,t),t=>{AR(e,i,t)});if(r)return void i.forEach(i=>{MR(r(i,n,t),t=>{AR(e,[i],t?{prefix:n,icons:{[i]:t}}:null)})});const{valid:s,invalid:a}=function(e){const t=[],n=[];return e.forEach(e=>{(e.match(GM)?t:n).push(e)}),{valid:t,invalid:n}}(i);if(a.length&&AR(e,a,null),!s.length)return;const o=n.match(GM)?hR(t):null;if(!o)return void AR(e,s,null);o.prepare(t,n,s).forEach(n=>{ER(t,n,t=>{AR(e,n.icons,t)})})}))}const DR=(e,t)=>{const n=function(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((e,t)=>e.provider!==t.provider?e.provider.localeCompare(t.provider):e.prefix!==t.prefix?e.prefix.localeCompare(t.prefix):e.name.localeCompare(t.name));let i={provider:"",prefix:"",name:""};return e.forEach(e=>{if(i.name===e.name&&i.prefix===e.prefix&&i.provider===e.provider)return;i=e;const r=e.provider,s=e.prefix,a=e.name,o=n[r]||(n[r]=Object.create(null)),l=o[s]||(o[s]=XM(r,s));let c;c=a in l.icons?t.loaded:""===s||l.missing.has(a)?t.missing:t.pending;const u={provider:r,prefix:s,name:a};c.push(u)}),t}(function(e,t=!0,n=!1){const i=[];return e.forEach(e=>{const r="string"==typeof e?KM(e,t,n):e;r&&i.push(r)}),i}(e,!0,eR()));if(!n.pending.length){let e=!0;return t&&setTimeout(()=>{e&&t(n.loaded,n.missing,n.pending,IR)}),()=>{e=!1}}const i=Object.create(null),r=[];let s,a;return n.pending.forEach(e=>{const{provider:t,prefix:n}=e;if(n===a&&t===s)return;s=t,a=n,r.push(XM(t,n));const o=i[t]||(i[t]=Object.create(null));o[n]||(o[n]=[])}),n.pending.forEach(e=>{const{provider:t,prefix:n,name:r}=e,s=XM(t,n),a=s.pendingIcons||(s.pendingIcons=new Set);a.has(r)||(a.add(r),i[t][n].push(r))}),r.forEach(e=>{const t=i[e.provider][e.prefix];t.length&&RR(e,t)}),t?function(e,t,n){const i=_R++,r=xR.bind(null,n,i);if(!t.pending.length)return r;const s={id:i,icons:t,callback:e,abort:r};return n.forEach(e=>{(e.loaderCallbacks||(e.loaderCallbacks=[])).push(s)}),r}(t,n,r):IR};const LR=/[\s,]+/;function OR(e,t){t.split(LR).forEach(t=>{switch(t.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0}})}function FR(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function i(e){for(;e<0;)e+=4;return e%4}if(""===n){const t=parseInt(e);return isNaN(t)?0:i(t)}if(n!==e){let t=0;switch(n){case"%":t=25;break;case"deg":t=90}if(t){let r=parseFloat(e.slice(0,e.length-n.length));return isNaN(r)?0:(r/=t,r%1==0?i(r):0)}}return t}let zR;function UR(e){return void 0===zR&&function(){try{zR=window.trustedTypes.createPolicy("iconify",{createHTML:e=>e})}catch(e){zR=null}}(),zR?zR.createHTML(e):e}const BR={...rR,inline:!1},VR={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},qR={display:"inline-block"},$R={backgroundColor:"currentColor"},WR={backgroundColor:"transparent"},HR={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},GR={WebkitMask:$R,mask:$R,background:WR};for(const uZ in GR){const e=GR[uZ];for(const t in HR)e[uZ+t]=HR[t]}const KR={...BR,inline:!0};function YR(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const QR=(e,t,i)=>{const r=t.inline?KR:BR,s=function(e,t){const n={...e};for(const i in t){const e=t[i],r=typeof e;i in iR?(null===e||e&&("string"===r||"number"===r))&&(n[i]=e):r===typeof n[i]&&(n[i]="rotate"===i?e%4:e)}return n}(r,t),a=t.mode||"svg",o={},l=t.style||{},c={..."svg"===a?VR:{}};if(i){const e=KM(i,!1,!0);if(e){const t=["iconify"],n=["provider","prefix"];for(const i of n)e[i]&&t.push("iconify--"+e[i]);c.className=t.join(" ")}}for(let n in t){const e=t[n];if(void 0!==e)switch(n){case"icon":case"style":case"children":case"onLoad":case"mode":case"ssr":break;case"_ref":c.ref=e;break;case"className":c[n]=(c[n]?c[n]+" ":"")+e;break;case"inline":case"hFlip":case"vFlip":s[n]=!0===e||"true"===e||1===e;break;case"flip":"string"==typeof e&&OR(s,e);break;case"color":o.color=e;break;case"rotate":"string"==typeof e?s[n]=FR(e):"number"==typeof e&&(s[n]=e);break;case"ariaHidden":case"aria-hidden":!0!==e&&"true"!==e&&delete c["aria-hidden"];break;default:void 0===r[n]&&(c[n]=e)}}const u=function(e,t){const n={...zM,...e},i={...rR,...t},r={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,i].forEach(e=>{const t=[],n=e.hFlip,i=e.vFlip;let a,o=e.rotate;switch(n?i?o+=2:(t.push("translate("+(r.width+r.left).toString()+" "+(0-r.top).toString()+")"),t.push("scale(-1 1)"),r.top=r.left=0):i&&(t.push("translate("+(0-r.left).toString()+" "+(r.height+r.top).toString()+")"),t.push("scale(1 -1)"),r.top=r.left=0),o<0&&(o-=4*Math.floor(o/4)),o%=4,o){case 1:a=r.height/2+r.top,t.unshift("rotate(90 "+a.toString()+" "+a.toString()+")");break;case 2:t.unshift("rotate(180 "+(r.width/2+r.left).toString()+" "+(r.height/2+r.top).toString()+")");break;case 3:a=r.width/2+r.left,t.unshift("rotate(-90 "+a.toString()+" "+a.toString()+")")}o%2==1&&(r.left!==r.top&&(a=r.left,r.left=r.top,r.top=a),r.width!==r.height&&(a=r.width,r.width=r.height,r.height=a)),t.length&&(s=function(e,t,n){const i=function(e,t="defs"){let n="";const i=e.indexOf("<"+t);for(;i>=0;){const r=e.indexOf(">",i),s=e.indexOf("</"+t);if(-1===r||-1===s)break;const a=e.indexOf(">",s);if(-1===a)break;n+=e.slice(r+1,s).trim(),e=e.slice(0,i).trim()+e.slice(a+1)}return{defs:n,content:e}}(e);return r=i.defs,s=t+i.content+n,r?"<defs>"+r+"</defs>"+s:s;var r,s}(s,'<g transform="'+t.join(" ")+'">',"</g>"))});const a=i.width,o=i.height,l=r.width,c=r.height;let u,d;null===a?(d=null===o?"1em":"auto"===o?c:o,u=oR(d,l/c)):(u="auto"===a?l:a,d=null===o?oR(u,c/l):"auto"===o?c:o);const f={},h=(e,t)=>{(e=>"unset"===e||"undefined"===e||"none"===e)(t)||(f[e]=t.toString())};h("width",u),h("height",d);const m=[r.left,r.top,l,c];return f.viewBox=m.join(" "),{attributes:f,viewBox:m,body:s}}(e,s),d=u.attributes;if(s.inline&&(o.verticalAlign="-0.125em"),"svg"===a){c.style={...o,...l},Object.assign(c,d);let e=0,i=t.id;return"string"==typeof i&&(i=i.replace(/-/g,"_")),c.dangerouslySetInnerHTML={__html:UR(dR(u.body,i?()=>i+"ID"+e++:"iconifyReact"))},n.createElement("svg",c)}const{body:f,width:h,height:m}=e,p="mask"===a||"bg"!==a&&-1!==f.indexOf("currentColor"),g=function(e,t){let n=-1===e.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const i in t)n+=" "+i+'="'+t[i]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}(f,{...d,width:h+"",height:m+""});var v;return c.style={...o,"--svg":(v=g,'url("'+function(e){return"data:image/svg+xml,"+function(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}(e)}(v)+'")'),width:YR(d.width),height:YR(d.height),...qR,...p?$R:WR,...l},n.createElement("span",c)};var XR;if(eR(!0),XR=kR,fR[""]=XR,"undefined"!=typeof document&&"undefined"!=typeof window){const e=window;if(void 0!==e.IconifyPreload){const t=e.IconifyPreload;"object"==typeof t&&null!==t&&(t instanceof Array?t:[t]).forEach(e=>{try{"object"!=typeof e||null===e||e instanceof Array||"object"!=typeof e.icons||"string"!=typeof e.prefix||nR(e)}catch(cZ){}})}if(void 0!==e.IconifyProviders){const t=e.IconifyProviders;if("object"==typeof t&&null!==t)for(let e in t){try{const n=t[e];if("object"!=typeof n||!n||void 0===n.resources)continue;yR(e,n)}catch(cZ){}}}}function JR(e){const[t,i]=n.useState(!!e.ssr),[r,s]=n.useState({});const[a,o]=n.useState(function(t){if(t){const t=e.icon;if("object"==typeof t)return{name:"",data:t};const n=tR(t);if(n)return{name:t,data:n}}return{name:""}}(!!e.ssr));function l(){const e=r.callback;e&&(e(),s({}))}function c(e){if(JSON.stringify(a)!==JSON.stringify(e))return l(),o(e),!0}function u(){var t;const n=e.icon;if("object"==typeof n)return void c({name:"",data:n});const i=tR(n);if(c({name:n,data:i}))if(void 0===i){const e=DR([n],u);s({callback:e})}else i&&(null===(t=e.onLoad)||void 0===t||t.call(e,n))}n.useEffect(()=>(i(!0),l),[]),n.useEffect(()=>{t&&u()},[e.icon,t]);const{name:d,data:f}=a;return f?QR({...zM,...f},e,d):e.children?e.children:e.fallback?e.fallback:n.createElement("span",{})}function ZR(){return ZR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ZR.apply(null,arguments)}n.forwardRef((e,t)=>JR({...e,_ref:t})),n.forwardRef((e,t)=>JR({inline:!0,...e,_ref:t}));class eD extends n.Component{constructor(){super(...arguments),t(this,"timeOnMouseMove",0),t(this,"hasAddedAudioEventListener",!1),t(this,"state",{isDraggingProgress:!1,currentTimePos:"0%",hasDownloadProgressAnimation:!1,downloadProgressArr:[],waitingForSeekCallback:!1}),t(this,"getCurrentProgress",e=>{const{audio:t,progressBar:n}=this.props;if(0!==t.src.indexOf("blob:")&&void 0===this.props.srcDuration&&(!t.src||!isFinite(t.currentTime)||!n.current))return{currentTime:0,currentTimePos:"0%"};const i=n.current.getBoundingClientRect(),r=i.width;let s=(e=>e instanceof MouseEvent?e.clientX:e.touches[0].clientX)(e)-i.left;s<0?s=0:s>r&&(s=r);return{currentTime:this.getDuration()*s/r,currentTimePos:`${(s/r*100).toFixed(2)}%`}}),t(this,"handleContextMenu",e=>{e.preventDefault()}),t(this,"handleMouseDownOrTouchStartProgressBar",e=>{e.stopPropagation();const{currentTime:t,currentTimePos:n}=this.getCurrentProgress(e.nativeEvent);isFinite(t)&&(this.timeOnMouseMove=t,this.setState({isDraggingProgress:!0,currentTimePos:n}),e.nativeEvent instanceof MouseEvent?(window.addEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.addEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.addEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.addEventListener("touchend",this.handleWindowMouseOrTouchUp)))}),t(this,"handleWindowMouseOrTouchMove",e=>{e instanceof MouseEvent&&e.preventDefault(),e.stopPropagation();const t=window.getSelection();t&&"Range"===t.type&&t.empty();const{isDraggingProgress:n}=this.state;if(n){const{currentTime:t,currentTimePos:n}=this.getCurrentProgress(e);this.timeOnMouseMove=t,this.setState({currentTimePos:n})}}),t(this,"handleWindowMouseOrTouchUp",e=>{e.stopPropagation();const t=this.timeOnMouseMove,{audio:n,onChangeCurrentTimeError:i,onSeek:r}=this.props;if(r)this.setState({isDraggingProgress:!1,waitingForSeekCallback:!0},()=>{r(n,t).then(()=>this.setState({waitingForSeekCallback:!1}),e=>{throw new Error(e)})});else{const e={isDraggingProgress:!1};if(n.readyState===n.HAVE_NOTHING||n.readyState===n.HAVE_METADATA||!isFinite(t))try{n.load()}catch(s){return e.currentTimePos="0%",i&&i(s)}n.currentTime=t,this.setState(e)}e instanceof MouseEvent?(window.removeEventListener("mousemove",this.handleWindowMouseOrTouchMove),window.removeEventListener("mouseup",this.handleWindowMouseOrTouchUp)):(window.removeEventListener("touchmove",this.handleWindowMouseOrTouchMove),window.removeEventListener("touchend",this.handleWindowMouseOrTouchUp))}),t(this,"handleAudioTimeUpdate",(()=>function(e,t){let n=!1;return i=>{n||(e(i),n=!0,setTimeout(()=>n=!1,t))}}(e=>{const{isDraggingProgress:t}=this.state,n=e.target;if(t||!0===this.state.waitingForSeekCallback)return;const{currentTime:i}=n,r=this.getDuration();this.setState({currentTimePos:`${(i/r*100||0).toFixed(2)}%`})},this.props.progressUpdateInterval))()),t(this,"handleAudioDownloadProgressUpdate",e=>{const t=e.target,n=this.getDuration(),i=[];for(let r=0;r<t.buffered.length;r++){const e=t.buffered.start(r),s=t.buffered.end(r);i.push({left:`${Math.round(100/n*e)||0}%`,width:`${Math.round(100/n*(s-e))||0}%`})}clearTimeout(this.downloadProgressAnimationTimer),this.setState({downloadProgressArr:i,hasDownloadProgressAnimation:!0}),this.downloadProgressAnimationTimer=setTimeout(()=>{this.setState({hasDownloadProgressAnimation:!1})},200)})}getDuration(){const{audio:e,srcDuration:t}=this.props;return void 0===t?e.duration:t}initialize(){const{audio:e}=this.props;e&&!this.hasAddedAudioEventListener&&(this.audio=e,this.hasAddedAudioEventListener=!0,e.addEventListener("timeupdate",this.handleAudioTimeUpdate),e.addEventListener("progress",this.handleAudioDownloadProgressUpdate))}componentDidMount(){this.initialize()}componentDidUpdate(){this.initialize()}componentWillUnmount(){this.audio&&this.hasAddedAudioEventListener&&(this.audio.removeEventListener("timeupdate",this.handleAudioTimeUpdate),this.audio.removeEventListener("progress",this.handleAudioDownloadProgressUpdate)),clearTimeout(this.downloadProgressAnimationTimer)}render(){const{showDownloadProgress:e,showFilledProgress:t,progressBar:n,i18nProgressBar:i}=this.props,{currentTimePos:r,downloadProgressArr:s,hasDownloadProgressAnimation:a}=this.state;return o.createElement("div",{className:"rhap_progress-container",ref:n,"aria-label":i,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":Number(r.split("%")[0]),tabIndex:0,onMouseDown:this.handleMouseDownOrTouchStartProgressBar,onTouchStart:this.handleMouseDownOrTouchStartProgressBar,onContextMenu:this.handleContextMenu},o.createElement("div",{className:"rhap_progress-bar "+(e?"rhap_progress-bar-show-download":"")},o.createElement("div",{className:"rhap_progress-indicator",style:{left:r}}),t&&o.createElement("div",{className:"rhap_progress-filled",style:{width:r}}),e&&s.map((e,t)=>{let{left:n,width:i}=e;return o.createElement("div",{key:t,className:"rhap_download-progress",style:{left:n,width:i,transitionDuration:a?".2s":"0s"}})})))}}var tD;n.forwardRef((e,t)=>o.createElement(eD,ZR({},e,{progressBar:t}))),(tD={}).CURRENT_TIME="CURRENT_TIME",tD.CURRENT_LEFT_TIME="CURRENT_LEFT_TIME",tD.PROGRESS_BAR="PROGRESS_BAR",tD.DURATION="DURATION",tD.ADDITIONAL_CONTROLS="ADDITIONAL_CONTROLS",tD.MAIN_CONTROLS="MAIN_CONTROLS",tD.VOLUME_CONTROLS="VOLUME_CONTROLS",tD.LOOP="LOOP",tD.VOLUME="VOLUME";const nD=()=>({detectMentionTrigger:n.useCallback((e,t)=>{const n=e.substring(0,t),i=n.lastIndexOf("@");if(-1!==i){const e=n.substring(i+1);if(!e.includes(" ")&&e.length<=20)return{query:e,startPos:i}}return null},[]),insertMention:n.useCallback((e,t,n,i)=>{const r=e.substring(0,i),s=e.substring(t);return r+`@[${n.name}](${n.id})`+" "+s},[]),parseMentionsForDisplay:n.useCallback(e=>{if(!e)return[];const t=/@\[([^\]]+)\]\(([^)]+)\)/g,n=[];let i,r=0;for(;null!==(i=t.exec(e));){i.index>r&&n.push(e.substring(r,i.index));const s=i[1],a=i[2];n.push(ht.jsxs("span",{className:"text-wa-teal dark:text-wa-teal font-medium bg-wa-teal/10 dark:bg-wa-teal/20 px-1 rounded cursor-pointer hover:underline",children:["@",s]},`${a}-${i.index}`)),r=t.lastIndex}return r<e.length&&n.push(e.substring(r)),n.length>0?n:[e]},[]),extractMentionedUsers:n.useCallback(e=>{if(!e)return[];const t=/@\[([^\]]+)\]\(([^)]+)\)/g,n=[];let i;for(;null!==(i=t.exec(e));)n.push(i[2]);return n},[])});function iD(e,t){return e===t}function rD(e,t,i){var r=iD,s=n.useRef(e),a=n.useState({})[1],o=function(e,t,i,r){var s=this,a=n.useRef(null),o=n.useRef(0),l=n.useRef(0),c=n.useRef(null),u=n.useRef([]),d=n.useRef(),f=n.useRef(),h=n.useRef(e),m=n.useRef(!0);h.current=e;var p="undefined"!=typeof window,g=!t&&0!==t&&p;if("function"!=typeof e)throw new TypeError("Expected a function");t=+t||0;var v=!!(i=i||{}).leading,y=!("trailing"in i)||!!i.trailing,b="maxWait"in i,w="debounceOnServer"in i&&!!i.debounceOnServer,k=b?Math.max(+i.maxWait||0,t):null;n.useEffect(function(){return m.current=!0,function(){m.current=!1}},[]);var x=n.useMemo(function(){var e=function(e){var t=u.current,n=d.current;return u.current=d.current=null,o.current=e,l.current=l.current||e,f.current=h.current.apply(n,t)},n=function(e,t){g&&cancelAnimationFrame(c.current),c.current=g?requestAnimationFrame(e):setTimeout(e,t)},i=function(e){if(!m.current)return!1;var n=e-a.current;return!a.current||n>=t||n<0||b&&e-o.current>=k},x=function(t){return c.current=null,y&&u.current?e(t):(u.current=d.current=null,f.current)},_=function e(){var r=Date.now();if(v&&l.current===o.current&&S(),i(r))return x(r);if(m.current){var s=t-(r-a.current),c=b?Math.min(s,k-(r-o.current)):s;n(e,c)}},S=function(){r&&r({})},C=function(){if(p||w){var r=Date.now(),l=i(r);if(u.current=[].slice.call(arguments),d.current=s,a.current=r,l){if(!c.current&&m.current)return o.current=a.current,n(_,t),v?e(a.current):f.current;if(b)return n(_,t),e(a.current)}return c.current||n(_,t),f.current}};return C.cancel=function(){var e=c.current;e&&(g?cancelAnimationFrame(c.current):clearTimeout(c.current)),o.current=0,u.current=a.current=d.current=c.current=null,e&&r&&r({})},C.isPending=function(){return!!c.current},C.flush=function(){return c.current?x(Date.now()):f.current},C},[v,b,t,k,y,g,p,w,r]);return x}(n.useCallback(function(e){s.current=e,a({})},[a]),t,i,a),l=n.useRef(e);return r(l.current,e)||(o(e),l.current=e),[s.current,o]}const sD=({messages:e,users:t,onResultSelect:i,onClose:r})=>{const s=(e=>{const[t,i]=n.useState(""),[r,s]=n.useState({sender:"all",type:"all",dateFrom:"",dateTo:""}),[a,o]=n.useState(0),[l]=rD(t,300),c=n.useMemo(()=>l||"all"!==r.sender||"all"!==r.type||r.dateFrom||r.dateTo?e.filter(e=>{if(l&&!e.text.toLowerCase().includes(l.toLowerCase()))return!1;if("all"!==r.sender&&e.senderId!==r.sender)return!1;if("all"!==r.type&&e.type!==r.type)return!1;if(r.dateFrom){const t=new Date(e.timestamp),n=new Date(r.dateFrom);if(n.setHours(0,0,0,0),t<n)return!1}if(r.dateTo){const t=new Date(e.timestamp),n=new Date(r.dateTo);if(n.setHours(23,59,59,999),t>n)return!1}return!0}):[],[e,l,r]),u=n.useCallback(e=>{if(0===c.length)return null;let t;return t="next"===e?Math.min(a+1,c.length-1):Math.max(a-1,0),o(t),c[t]},[a,c]),d=n.useCallback((e,t)=>{s(n=>({...n,[e]:t})),o(0)},[]),f=n.useCallback(()=>{i(""),s({sender:"all",type:"all",dateFrom:"",dateTo:""}),o(0)},[]),h=n.useMemo(()=>0===c.length?null:c[a],[c,a]);return{searchQuery:t,setSearchQuery:i,filters:r,updateFilter:d,searchResults:c,currentResult:h,currentResultIndex:a,navigateTo:u,resetSearch:f,hasResults:c.length>0,resultCount:c.length}})(e),a=e=>{const t=s.navigateTo(e);t&&i(t)};return ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-header border-b border-gray-200 dark:border-gray-700 p-4 z-40 animate-in slide-in-from-top duration-200 shadow-md",children:[ht.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[ht.jsxs("div",{className:"flex-1 flex items-center bg-gray-100 dark:bg-wa-dark-input rounded-lg px-3 py-2.5",children:[ht.jsx(z,{size:18,className:"text-gray-400 mr-2 shrink-0"}),ht.jsx("input",{type:"text",placeholder:"Search messages...",value:s.searchQuery,onChange:e=>s.setSearchQuery(e.target.value),onKeyDown:e=>{"Enter"===e.key?s.currentResult&&i(s.currentResult):"Escape"===e.key&&r()},className:"flex-1 bg-transparent outline-none text-sm text-gray-900 dark:text-white placeholder:text-gray-500",autoFocus:!0})]}),ht.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors shrink-0","aria-label":"Close search",children:ht.jsx(P,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),ht.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2 mb-3",children:[ht.jsxs("select",{value:s.filters.sender,onChange:e=>s.updateFilter("sender",e.target.value),className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-wa-teal transition-all",children:[ht.jsx("option",{value:"all",children:"All Senders"}),Object.values(t).map(e=>ht.jsx("option",{value:e.id,children:e.name},e.id))]}),ht.jsxs("select",{value:s.filters.type,onChange:e=>s.updateFilter("type",e.target.value),className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-wa-teal transition-all",children:[ht.jsx("option",{value:"all",children:"All Types"}),ht.jsx("option",{value:"text",children:"Text"}),ht.jsx("option",{value:"image",children:"Images"}),ht.jsx("option",{value:"video",children:"Videos"}),ht.jsx("option",{value:"voice",children:"Voice"})]}),ht.jsx("input",{type:"date",value:s.filters.dateFrom,onChange:e=>s.updateFilter("dateFrom",e.target.value),className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-wa-teal transition-all",placeholder:"From date"}),ht.jsx("input",{type:"date",value:s.filters.dateTo,onChange:e=>s.updateFilter("dateTo",e.target.value),className:"px-3 py-2 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm text-gray-900 dark:text-white outline-none focus:ring-2 focus:ring-wa-teal transition-all",placeholder:"To date"})]}),s.hasResults?ht.jsxs("div",{className:"flex items-center justify-between text-sm bg-gray-50 dark:bg-gray-800 rounded-lg px-3 py-2",children:[ht.jsxs("span",{className:"text-gray-600 dark:text-gray-400 font-medium",children:[s.currentResultIndex+1," of ",s.resultCount," results"]}),ht.jsxs("div",{className:"flex gap-1",children:[ht.jsx("button",{onClick:()=>a("prev"),disabled:0===s.currentResultIndex,className:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-40 disabled:cursor-not-allowed transition-colors","aria-label":"Previous result",children:ht.jsx(U,{size:18,className:"text-gray-700 dark:text-gray-300"})}),ht.jsx("button",{onClick:()=>a("next"),disabled:s.currentResultIndex===s.resultCount-1,className:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded disabled:opacity-40 disabled:cursor-not-allowed transition-colors","aria-label":"Next result",children:ht.jsx(B,{size:18,className:"text-gray-700 dark:text-gray-300"})})]})]}):s.searchQuery||"all"!==s.filters.sender||"all"!==s.filters.type||s.filters.dateFrom||s.filters.dateTo?ht.jsx("div",{className:"text-center text-sm text-gray-500 dark:text-gray-400 py-2",children:"No results found"}):null]})},aD=({msg:e,onVote:t,currentUserId:n,onViewVotes:i})=>{if(!e.pollData)return null;const{question:r,options:s,allowMultiple:a}=e.pollData,o=s.reduce((e,t)=>e+t.voters.length,0);return ht.jsxs("div",{className:"min-w-[280px]",children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100 font-medium mb-3",children:r}),a&&ht.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Select one or more"}),ht.jsx("div",{className:"space-y-2",children:s.map(i=>{const r=i.voters.includes(n),l=0===o?0:Math.round(i.voters.length/o*100);return ht.jsxs("div",{className:"relative cursor-pointer group",onClick:()=>(i=>{const r=s.filter(e=>e.voters.includes(n)).map(e=>e.id);let o=[];o=a?r.includes(i)?r.filter(e=>e!==i):[...r,i]:r.includes(i)?[]:[i],t(e.id,o)})(i.id),children:[ht.jsxs("div",{className:"flex justify-between text-sm mb-1 text-[#111b21] dark:text-gray-100 relative z-10",children:[ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("div",{className:"w-4 h-4 rounded-full border flex items-center justify-center "+(r?"bg-wa-teal border-wa-teal":"border-gray-400"),children:r&&ht.jsx(_,{size:10,className:"text-white",strokeWidth:3})}),ht.jsx("span",{children:i.text})]}),i.voters.length>0&&ht.jsxs("span",{className:"font-medium",children:[l,"%"]})]}),ht.jsxs("div",{className:"h-6 w-full bg-gray-100 dark:bg-white/10 rounded-lg overflow-hidden relative",children:[ht.jsx("div",{className:"h-full bg-wa-teal/20 dark:bg-wa-teal/30 transition-all duration-500",style:{width:`${l}%`}}),ht.jsxs("div",{className:"absolute inset-0 flex items-center px-2 justify-between pointer-events-none",children:[ht.jsx("div",{className:"flex -space-x-1",children:i.voters.slice(0,3).map((e,t)=>ht.jsx("div",{className:"w-4 h-4 rounded-full bg-gray-300 ring-1 ring-white"},t))}),ht.jsxs("span",{className:"text-[10px] text-gray-500",children:[i.voters.length," votes"]})]})]})]},i.id)})}),ht.jsx("div",{className:"mt-3 pt-2 border-t border-black/5 dark:border-white/5 text-center cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors rounded-b-lg -mx-2 -mb-2 py-2",onClick:i,children:ht.jsx("span",{className:"text-xs text-wa-teal font-medium",children:"View Votes"})})]})},oD=({pollData:e,onClose:t})=>{const{users:n,currentUserId:i}=YI(),{question:r,options:s}=e,a=s.reduce((e,t)=>e+t.voters.length,0);return ht.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper w-full max-w-md rounded-xl shadow-2xl overflow-hidden flex flex-col max-h-[80vh]",children:[ht.jsxs("div",{className:"flex items-center gap-3 p-4 bg-wa-grayBg dark:bg-wa-dark-header border-b border-wa-border dark:border-wa-dark-border",children:[ht.jsx("button",{onClick:t,className:"p-2 -ml-2 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:ht.jsx(P,{size:24,className:"text-[#54656f] dark:text-gray-300"})}),ht.jsx("div",{className:"flex-1",children:ht.jsx("h2",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100",children:"Poll details"})})]}),ht.jsxs("div",{className:"overflow-y-auto p-4",children:[ht.jsx("h3",{className:"text-xl font-medium text-[#111b21] dark:text-gray-100 mb-6",children:r}),ht.jsx("div",{className:"space-y-6",children:s.map(e=>{const t=a>0?Math.round(e.voters.length/a*100):0,r=e.voters.includes(i);return ht.jsxs("div",{children:[ht.jsxs("div",{className:"flex justify-between items-center mb-2",children:[ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("span",{className:"font-medium text-[#111b21] dark:text-gray-100",children:e.text}),r&&ht.jsx("div",{className:"bg-wa-teal/10 dark:bg-wa-teal/20 text-wa-teal text-[10px] px-1.5 py-0.5 rounded font-bold uppercase",children:"You"})]}),ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("span",{className:"text-sm font-medium text-[#111b21] dark:text-gray-100",children:e.voters.length}),ht.jsx("span",{className:"text-xs text-[#667781] dark:text-gray-500",children:"votes"})]})]}),ht.jsx("div",{className:"h-2 w-full bg-gray-100 dark:bg-white/10 rounded-full overflow-hidden mb-3",children:ht.jsx("div",{className:"h-full bg-wa-teal transition-all duration-300",style:{width:`${t}%`}})}),ht.jsxs("div",{className:"space-y-3 pl-2",children:[e.voters.map(e=>{const t=n[e];return t?ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("img",{src:t.avatar,alt:"",className:"w-8 h-8 rounded-full object-cover"}),ht.jsx("span",{className:"text-sm text-[#111b21] dark:text-gray-200",children:e===i?"You":t.name})]},e):null}),0===e.voters.length&&ht.jsx("div",{className:"text-xs text-gray-400 italic pl-1",children:"No votes yet"})]})]},e.id)})})]})]})})},lD=e=>{if(!e||"string"!=typeof e)return[e];const t=[];let n=0;const i=/(\*([^*]+)\*)|(_([^_]+)_)|(~([^~]+)~)|(`([^`]+)`)/g;let r;for(;null!==(r=i.exec(e));)r.index>n&&t.push(e.substring(n,r.index)),r[1]?t.push(ht.jsx("strong",{className:"font-bold",children:r[2]},`bold-${r.index}`)):r[3]?t.push(ht.jsx("em",{className:"italic",children:r[4]},`italic-${r.index}`)):r[5]?t.push(ht.jsx("span",{className:"line-through",children:r[6]},`strike-${r.index}`)):r[7]&&t.push(ht.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 text-red-600 dark:text-red-400 px-1.5 py-0.5 rounded text-sm font-mono",children:r[8]},`code-${r.index}`)),n=i.lastIndex;return n<e.length&&t.push(e.substring(n)),t.length>0?t:[e]},cD=(e,t=null)=>{if(Array.isArray(e))return e.map((e,t)=>{if(o.isValidElement(e))return e;if("string"==typeof e){const n=lD(e);return ht.jsx(o.Fragment,{children:n},`frag-${t}`)}return e});if("string"==typeof e){if(t){const n=t(e);if(Array.isArray(n))return cD(n)}return lD(e)}return[e]},uD=({icon:e,color:t,label:n,onClick:i})=>ht.jsxs("div",{className:"flex flex-col items-center gap-2 cursor-pointer transition-transform active:scale-95 hover:scale-105",onClick:i,children:[ht.jsx("div",{className:`w-14 h-14 rounded-full ${t} flex items-center justify-center text-white shadow-lg`,children:e}),ht.jsx("span",{className:"text-xs text-[#54656f] dark:text-gray-300 font-medium",children:n})]}),dD=({onSelect:e,onClose:t,isGroup:n=!1})=>ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"absolute bottom-20 left-4 bg-white dark:bg-wa-dark-paper rounded-2xl p-6 shadow-[0_4px_20px_rgba(0,0,0,0.15)] dark:shadow-black/50 border border-gray-100 dark:border-gray-700 animate-in slide-in-from-bottom-5 fade-in zoom-in-95 duration-200 w-[90%] max-w-[350px] z-50",children:ht.jsxs("div",{className:"grid grid-cols-3 gap-y-6 gap-x-4",children:[ht.jsx(uD,{icon:ht.jsx(V,{size:24}),color:"bg-indigo-500",label:"Document",onClick:()=>e("document")}),ht.jsx(uD,{icon:ht.jsx(w,{size:24}),color:"bg-pink-500",label:"Camera",onClick:()=>e("camera")}),ht.jsx(uD,{icon:ht.jsx(q,{size:24}),color:"bg-purple-500",label:"Gallery",onClick:()=>e("gallery")}),ht.jsx(uD,{icon:ht.jsx($,{size:24}),color:"bg-orange-500",label:"Audio",onClick:()=>e("audio")}),ht.jsx(uD,{icon:ht.jsx(W,{size:24}),color:"bg-green-500",label:"Location",onClick:()=>e("location")}),ht.jsx(uD,{icon:ht.jsx(H,{size:24}),color:"bg-teal-500",label:"Poll",onClick:()=>e("poll")}),ht.jsx(uD,{icon:ht.jsx(F,{size:24}),color:"bg-orange-600",label:"Game",onClick:()=>e("game")}),ht.jsx(uD,{icon:ht.jsx(G,{size:24}),color:"bg-pink-600",label:"Draw",onClick:()=>e("draw")}),ht.jsx(uD,{icon:ht.jsx(K,{size:24}),color:"bg-blue-500",label:"Music",onClick:()=>e("music")}),n&&ht.jsx(uD,{icon:ht.jsx(S,{size:24}),color:"bg-red-500",label:"Walkie-Talkie",onClick:()=>e("walkie-talkie")})]})}),ht.jsx("div",{className:"fixed inset-0 z-40",onClick:t})]});function fD(){}function hD(){}const mD=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,pD=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,gD={};function vD(e,t){return(gD.jsx?pD:mD).test(e)}const yD=/[ \t\n\f\r]/g;function bD(e){return""===e.replace(yD,"")}class wD{constructor(e,t,n){this.normal=t,this.property=e,n&&(this.space=n)}}function kD(e,t){const n={},i={};for(const r of e)Object.assign(n,r.property),Object.assign(i,r.normal);return new wD(n,i,t)}function xD(e){return e.toLowerCase()}wD.prototype.normal={},wD.prototype.property={},wD.prototype.space=void 0;class _D{constructor(e,t){this.attribute=t,this.property=e}}_D.prototype.attribute="",_D.prototype.booleanish=!1,_D.prototype.boolean=!1,_D.prototype.commaOrSpaceSeparated=!1,_D.prototype.commaSeparated=!1,_D.prototype.defined=!1,_D.prototype.mustUseProperty=!1,_D.prototype.number=!1,_D.prototype.overloadedBoolean=!1,_D.prototype.property="",_D.prototype.spaceSeparated=!1,_D.prototype.space=void 0;let SD=0;const CD=AD(),ND=AD(),jD=AD(),TD=AD(),ED=AD(),ID=AD(),PD=AD();function AD(){return 2**++SD}const MD=Object.freeze(Object.defineProperty({__proto__:null,boolean:CD,booleanish:ND,commaOrSpaceSeparated:PD,commaSeparated:ID,number:TD,overloadedBoolean:jD,spaceSeparated:ED},Symbol.toStringTag,{value:"Module"})),RD=Object.keys(MD);class DD extends _D{constructor(e,t,n,i){let r=-1;if(super(e,t),LD(this,"space",i),"number"==typeof n)for(;++r<RD.length;){const e=RD[r];LD(this,RD[r],(n&MD[e])===MD[e])}}}function LD(e,t,n){n&&(e[t]=n)}function OD(e){const t={},n={};for(const[i,r]of Object.entries(e.properties)){const s=new DD(i,e.transform(e.attributes||{},i),r,e.space);e.mustUseProperty&&e.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),t[i]=s,n[xD(i)]=i,n[xD(s.attribute)]=i}return new wD(t,n,e.space)}DD.prototype.defined=!0;const FD=OD({properties:{ariaActiveDescendant:null,ariaAtomic:ND,ariaAutoComplete:null,ariaBusy:ND,ariaChecked:ND,ariaColCount:TD,ariaColIndex:TD,ariaColSpan:TD,ariaControls:ED,ariaCurrent:null,ariaDescribedBy:ED,ariaDetails:null,ariaDisabled:ND,ariaDropEffect:ED,ariaErrorMessage:null,ariaExpanded:ND,ariaFlowTo:ED,ariaGrabbed:ND,ariaHasPopup:null,ariaHidden:ND,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ED,ariaLevel:TD,ariaLive:null,ariaModal:ND,ariaMultiLine:ND,ariaMultiSelectable:ND,ariaOrientation:null,ariaOwns:ED,ariaPlaceholder:null,ariaPosInSet:TD,ariaPressed:ND,ariaReadOnly:ND,ariaRelevant:null,ariaRequired:ND,ariaRoleDescription:ED,ariaRowCount:TD,ariaRowIndex:TD,ariaRowSpan:TD,ariaSelected:ND,ariaSetSize:TD,ariaSort:null,ariaValueMax:TD,ariaValueMin:TD,ariaValueNow:TD,ariaValueText:null,role:null},transform:(e,t)=>"role"===t?t:"aria-"+t.slice(4).toLowerCase()});function zD(e,t){return t in e?e[t]:t}function UD(e,t){return zD(e,t.toLowerCase())}const BD=OD({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ID,acceptCharset:ED,accessKey:ED,action:null,allow:null,allowFullScreen:CD,allowPaymentRequest:CD,allowUserMedia:CD,alt:null,as:null,async:CD,autoCapitalize:null,autoComplete:ED,autoFocus:CD,autoPlay:CD,blocking:ED,capture:null,charSet:null,checked:CD,cite:null,className:ED,cols:TD,colSpan:null,content:null,contentEditable:ND,controls:CD,controlsList:ED,coords:TD|ID,crossOrigin:null,data:null,dateTime:null,decoding:null,default:CD,defer:CD,dir:null,dirName:null,disabled:CD,download:jD,draggable:ND,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:CD,formTarget:null,headers:ED,height:TD,hidden:jD,high:TD,href:null,hrefLang:null,htmlFor:ED,httpEquiv:ED,id:null,imageSizes:null,imageSrcSet:null,inert:CD,inputMode:null,integrity:null,is:null,isMap:CD,itemId:null,itemProp:ED,itemRef:ED,itemScope:CD,itemType:ED,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:CD,low:TD,manifest:null,max:null,maxLength:TD,media:null,method:null,min:null,minLength:TD,multiple:CD,muted:CD,name:null,nonce:null,noModule:CD,noValidate:CD,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:CD,optimum:TD,pattern:null,ping:ED,placeholder:null,playsInline:CD,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:CD,referrerPolicy:null,rel:ED,required:CD,reversed:CD,rows:TD,rowSpan:TD,sandbox:ED,scope:null,scoped:CD,seamless:CD,selected:CD,shadowRootClonable:CD,shadowRootDelegatesFocus:CD,shadowRootMode:null,shape:null,size:TD,sizes:null,slot:null,span:TD,spellCheck:ND,src:null,srcDoc:null,srcLang:null,srcSet:null,start:TD,step:null,style:null,tabIndex:TD,target:null,title:null,translate:null,type:null,typeMustMatch:CD,useMap:null,value:ND,width:TD,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:ED,axis:null,background:null,bgColor:null,border:TD,borderColor:null,bottomMargin:TD,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:CD,declare:CD,event:null,face:null,frame:null,frameBorder:null,hSpace:TD,leftMargin:TD,link:null,longDesc:null,lowSrc:null,marginHeight:TD,marginWidth:TD,noResize:CD,noHref:CD,noShade:CD,noWrap:CD,object:null,profile:null,prompt:null,rev:null,rightMargin:TD,rules:null,scheme:null,scrolling:ND,standby:null,summary:null,text:null,topMargin:TD,valueType:null,version:null,vAlign:null,vLink:null,vSpace:TD,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:CD,disableRemotePlayback:CD,prefix:null,property:null,results:TD,security:null,unselectable:null},space:"html",transform:UD}),VD=OD({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:PD,accentHeight:TD,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:TD,amplitude:TD,arabicForm:null,ascent:TD,attributeName:null,attributeType:null,azimuth:TD,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:TD,by:null,calcMode:null,capHeight:TD,className:ED,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:TD,diffuseConstant:TD,direction:null,display:null,dur:null,divisor:TD,dominantBaseline:null,download:CD,dx:null,dy:null,edgeMode:null,editable:null,elevation:TD,enableBackground:null,end:null,event:null,exponent:TD,externalResourcesRequired:null,fill:null,fillOpacity:TD,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ID,g2:ID,glyphName:ID,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:TD,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:TD,horizOriginX:TD,horizOriginY:TD,id:null,ideographic:TD,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:TD,k:TD,k1:TD,k2:TD,k3:TD,k4:TD,kernelMatrix:PD,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:TD,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:TD,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:TD,overlineThickness:TD,paintOrder:null,panose1:null,path:null,pathLength:TD,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:ED,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:TD,pointsAtY:TD,pointsAtZ:TD,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:PD,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:PD,rev:PD,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:PD,requiredFeatures:PD,requiredFonts:PD,requiredFormats:PD,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:TD,specularExponent:TD,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:TD,strikethroughThickness:TD,string:null,stroke:null,strokeDashArray:PD,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:TD,strokeOpacity:TD,strokeWidth:null,style:null,surfaceScale:TD,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:PD,tabIndex:TD,tableValues:null,target:null,targetX:TD,targetY:TD,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:PD,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:TD,underlineThickness:TD,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:TD,values:null,vAlphabetic:TD,vMathematical:TD,vectorEffect:null,vHanging:TD,vIdeographic:TD,version:null,vertAdvY:TD,vertOriginX:TD,vertOriginY:TD,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:TD,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:zD}),qD=OD({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform:(e,t)=>"xlink:"+t.slice(5).toLowerCase()}),$D=OD({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:UD}),WD=OD({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform:(e,t)=>"xml:"+t.slice(3).toLowerCase()}),HD={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},GD=/[A-Z]/g,KD=/-[a-z]/g,YD=/^data[-\w.:]+$/i;function QD(e){return"-"+e.toLowerCase()}function XD(e){return e.charAt(1).toUpperCase()}const JD=kD([FD,BD,qD,$D,WD],"html"),ZD=kD([FD,VD,qD,$D,WD],"svg");var eL,tL,nL,iL={};function rL(){if(nL)return iL;nL=1;var e=iL&&iL.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iL,"__esModule",{value:!0}),iL.default=function(e,n){let i=null;if(!e||"string"!=typeof e)return i;const r=(0,t.default)(e),s="function"==typeof n;return r.forEach(e=>{if("declaration"!==e.type)return;const{property:t,value:r}=e;s?n(t,r,e):r&&(i=i||{},i[t]=r)}),i};const t=e(function(){if(tL)return eL;tL=1;var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,t=/\n/g,n=/^\s*/,i=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,r=/^:\s*/,s=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,a=/^[;\s]*/,o=/^\s+|\s+$/g,l="";function c(e){return e?e.replace(o,l):l}return eL=function(o,u){if("string"!=typeof o)throw new TypeError("First argument must be a string");if(!o)return[];u=u||{};var d=1,f=1;function h(e){var n=e.match(t);n&&(d+=n.length);var i=e.lastIndexOf("\n");f=~i?e.length-i:f+e.length}function m(){var e={line:d,column:f};return function(t){return t.position=new p(e),y(),t}}function p(e){this.start=e,this.end={line:d,column:f},this.source=u.source}function g(e){var t=new Error(u.source+":"+d+":"+f+": "+e);if(t.reason=e,t.filename=u.source,t.line=d,t.column=f,t.source=o,!u.silent)throw t}function v(e){var t=e.exec(o);if(t){var n=t[0];return h(n),o=o.slice(n.length),t}}function y(){v(n)}function b(e){var t;for(e=e||[];t=w();)!1!==t&&e.push(t);return e}function w(){var e=m();if("/"==o.charAt(0)&&"*"==o.charAt(1)){for(var t=2;l!=o.charAt(t)&&("*"!=o.charAt(t)||"/"!=o.charAt(t+1));)++t;if(t+=2,l===o.charAt(t-1))return g("End of comment missing");var n=o.slice(2,t-2);return f+=2,h(n),o=o.slice(t),f+=2,e({type:"comment",comment:n})}}function k(){var t=m(),n=v(i);if(n){if(w(),!v(r))return g("property missing ':'");var o=v(s),u=t({type:"declaration",property:c(n[0].replace(e,l)),value:o?c(o[0].replace(e,l)):l});return v(a),u}}return p.prototype.content=o,y(),function(){var e,t=[];for(b(t);e=k();)!1!==e&&(t.push(e),b(t));return t}()},eL}());return iL}var sL,aL,oL,lL={};function cL(){if(sL)return lL;sL=1,Object.defineProperty(lL,"__esModule",{value:!0}),lL.camelCase=void 0;var e=/^--[a-zA-Z0-9_-]+$/,t=/-([a-z])/g,n=/^[^-]+$/,i=/^-(webkit|moz|ms|o|khtml)-/,r=/^-(ms)-/,s=function(e,t){return t.toUpperCase()},a=function(e,t){return"".concat(t,"-")};return lL.camelCase=function(o,l){return void 0===l&&(l={}),function(t){return!t||n.test(t)||e.test(t)}(o)?o:(o=o.toLowerCase(),(o=l.reactCompat?o.replace(r,a):o.replace(i,a)).replace(t,s))},lL}const uL=m(function(){if(oL)return aL;oL=1;var e=(aL&&aL.__importDefault||function(e){return e&&e.__esModule?e:{default:e}})(rL()),t=cL();function n(n,i){var r={};return n&&"string"==typeof n?((0,e.default)(n,function(e,n){e&&n&&(r[(0,t.camelCase)(e,i)]=n)}),r):r}return n.default=n,aL=n}()),dL=hL("end"),fL=hL("start");function hL(e){return function(t){const n=t&&t.position&&t.position[e]||{};if("number"==typeof n.line&&n.line>0&&"number"==typeof n.column&&n.column>0)return{line:n.line,column:n.column,offset:"number"==typeof n.offset&&n.offset>-1?n.offset:void 0}}}function mL(e){return e&&"object"==typeof e?"position"in e||"type"in e?gL(e.position):"start"in e||"end"in e?gL(e):"line"in e||"column"in e?pL(e):"":""}function pL(e){return vL(e&&e.line)+":"+vL(e&&e.column)}function gL(e){return pL(e&&e.start)+"-"+pL(e&&e.end)}function vL(e){return e&&"number"==typeof e?e:1}class yL extends Error{constructor(e,t,n){super(),"string"==typeof t&&(n=t,t=void 0);let i="",r={},s=!1;if(t&&(r="line"in t&&"column"in t||"start"in t&&"end"in t?{place:t}:"type"in t?{ancestors:[t],place:t.position}:{...t}),"string"==typeof e?i=e:!r.cause&&e&&(s=!0,i=e.message,r.cause=e),!r.ruleId&&!r.source&&"string"==typeof n){const e=n.indexOf(":");-1===e?r.ruleId=n:(r.source=n.slice(0,e),r.ruleId=n.slice(e+1))}if(!r.place&&r.ancestors&&r.ancestors){const e=r.ancestors[r.ancestors.length-1];e&&(r.place=e.position)}const a=r.place&&"start"in r.place?r.place.start:r.place;this.ancestors=r.ancestors||void 0,this.cause=r.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=a?a.line:void 0,this.name=mL(r.place)||"1:1",this.place=r.place||void 0,this.reason=this.message,this.ruleId=r.ruleId||void 0,this.source=r.source||void 0,this.stack=s&&r.cause&&"string"==typeof r.cause.stack?r.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}yL.prototype.file="",yL.prototype.name="",yL.prototype.reason="",yL.prototype.message="",yL.prototype.stack="",yL.prototype.column=void 0,yL.prototype.line=void 0,yL.prototype.ancestors=void 0,yL.prototype.cause=void 0,yL.prototype.fatal=void 0,yL.prototype.place=void 0,yL.prototype.ruleId=void 0,yL.prototype.source=void 0;const bL={}.hasOwnProperty,wL=new Map,kL=/[A-Z]/g,xL=new Set(["table","tbody","thead","tfoot","tr"]),_L=new Set(["td","th"]),SL="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function CL(e,t){if(!t||void 0===t.Fragment)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let i;if(t.development){if("function"!=typeof t.jsxDEV)throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=function(e,t){return n;function n(n,i,r,s){const a=Array.isArray(r.children),o=fL(n);return t(i,r,s,a,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}(n,t.jsxDEV)}else{if("function"!=typeof t.jsx)throw new TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw new TypeError("Expected `jsxs` in production options");i=function(e,t,n){return i;function i(e,i,r,s){const a=Array.isArray(r.children)?n:t;return s?a(i,r,s):a(i,r)}}(0,t.jsx,t.jsxs)}const r={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:i,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?ZD:JD,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},s=NL(r,e,void 0);return s&&"string"!=typeof s?s:r.create(e,r.Fragment,{children:s||void 0},void 0)}function NL(e,t,n){return"element"===t.type?function(e,t,n){const i=e.schema;let r=i;"svg"===t.tagName.toLowerCase()&&"html"===i.space&&(r=ZD,e.schema=r);e.ancestors.push(t);const s=PL(e,t.tagName,!1),a=function(e,t){const n={};let i,r;for(r in t.properties)if("children"!==r&&bL.call(t.properties,r)){const s=IL(e,r,t.properties[r]);if(s){const[r,a]=s;e.tableCellAlignToStyle&&"align"===r&&"string"==typeof a&&_L.has(t.tagName)?i=a:n[r]=a}}if(i){(n.style||(n.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=i}return n}(e,t);let o=EL(e,t);xL.has(t.tagName)&&(o=o.filter(function(e){return"string"!=typeof e||!("object"==typeof(t=e)?"text"===t.type&&bD(t.value):bD(t));var t}));return jL(e,a,s,t),TL(a,o),e.ancestors.pop(),e.schema=i,e.create(t,s,a,n)}(e,t,n):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}AL(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?function(e,t,n){const i=e.schema;let r=i;"svg"===t.name&&"html"===i.space&&(r=ZD,e.schema=r);e.ancestors.push(t);const s=null===t.name?e.Fragment:PL(e,t.name,!0),a=function(e,t){const n={};for(const i of t.attributes)if("mdxJsxExpressionAttribute"===i.type)if(i.data&&i.data.estree&&e.evaluater){const t=i.data.estree.body[0];fD(t.type);const r=t.expression;fD(r.type);const s=r.properties[0];fD(s.type),Object.assign(n,e.evaluater.evaluateExpression(s.argument))}else AL(e,t.position);else{const r=i.name;let s;if(i.value&&"object"==typeof i.value)if(i.value.data&&i.value.data.estree&&e.evaluater){const t=i.value.data.estree.body[0];fD(t.type),s=e.evaluater.evaluateExpression(t.expression)}else AL(e,t.position);else s=null===i.value||i.value;n[r]=s}return n}(e,t),o=EL(e,t);return jL(e,a,s,t),TL(a,o),e.ancestors.pop(),e.schema=i,e.create(t,s,a,n)}(e,t,n):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);AL(e,t.position)}(e,t):"root"===t.type?function(e,t,n){const i={};return TL(i,EL(e,t)),e.create(t,e.Fragment,i,n)}(e,t,n):"text"===t.type?function(e,t){return t.value}(0,t):void 0}function jL(e,t,n,i){"string"!=typeof n&&n!==e.Fragment&&e.passNode&&(t.node=i)}function TL(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function EL(e,t){const n=[];let i=-1;const r=e.passKeys?new Map:wL;for(;++i<t.children.length;){const s=t.children[i];let a;if(e.passKeys){const e="element"===s.type?s.tagName:"mdxJsxFlowElement"===s.type||"mdxJsxTextElement"===s.type?s.name:void 0;if(e){const t=r.get(e)||0;a=e+"-"+t,r.set(e,t+1)}}const o=NL(e,s,a);void 0!==o&&n.push(o)}return n}function IL(e,t,n){const i=function(e,t){const n=xD(t);let i=t,r=_D;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&"data"===n.slice(0,4)&&YD.test(t)){if("-"===t.charAt(4)){const e=t.slice(5).replace(KD,XD);i="data"+e.charAt(0).toUpperCase()+e.slice(1)}else{const e=t.slice(4);if(!KD.test(e)){let n=e.replace(GD,QD);"-"!==n.charAt(0)&&(n="-"+n),t="data"+n}}r=DD}return new r(i,t)}(e.schema,t);if(!(null==n||"number"==typeof n&&Number.isNaN(n))){if(Array.isArray(n)&&(n=i.commaSeparated?function(e){const t={};return(""===e[e.length-1]?[...e,""]:e).join((t.padRight?" ":"")+","+(!1===t.padLeft?"":" ")).trim()}(n):n.join(" ").trim()),"style"===i.property){let t="object"==typeof n?n:function(e,t){try{return uL(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const t=n,i=new yL("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=SL+"#cannot-parse-style-attribute",i}}(e,String(n));return"css"===e.stylePropertyNameCase&&(t=function(e){const t={};let n;for(n in e)bL.call(e,n)&&(t[ML(n)]=e[n]);return t}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&i.space?HD[i.property]||i.property:i.attribute,n]}}function PL(e,t,n){let i;if(n)if(t.includes(".")){const e=t.split(".");let n,r=-1;for(;++r<e.length;){const t=vD(e[r])?{type:"Identifier",name:e[r]}:{type:"Literal",value:e[r]};n=n?{type:"MemberExpression",object:n,property:t,computed:Boolean(r&&"Literal"===t.type),optional:!1}:t}i=n}else i=vD(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else i={type:"Literal",value:t};if("Literal"===i.type){const t=i.value;return bL.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(i);AL(e)}function AL(e,t){const n=new yL("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=SL+"#cannot-handle-mdx-estrees-without-createevaluater",n}function ML(e){let t=e.replace(kL,RL);return"ms-"===t.slice(0,3)&&(t="-"+t),t}function RL(e){return"-"+e.toLowerCase()}const DL={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},LL={};function OL(e,t){return FL(e,"boolean"!=typeof LL.includeImageAlt||LL.includeImageAlt,"boolean"!=typeof LL.includeHtml||LL.includeHtml)}function FL(e,t,n){if(function(e){return Boolean(e&&"object"==typeof e)}(e)){if("value"in e)return"html"!==e.type||n?e.value:"";if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return zL(e.children,t,n)}return Array.isArray(e)?zL(e,t,n):""}function zL(e,t,n){const i=[];let r=-1;for(;++r<e.length;)i[r]=FL(e[r],t,n);return i.join("")}const UL=document.createElement("i");function BL(e){const t="&"+e+";";UL.innerHTML=t;const n=UL.textContent;return(59!==n.charCodeAt(n.length-1)||"semi"===e)&&(n!==t&&n)}function VL(e,t,n,i){const r=e.length;let s,a=0;if(t=t<0?-t>r?0:r+t:t>r?r:t,n=n>0?n:0,i.length<1e4)s=Array.from(i),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<i.length;)s=i.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function qL(e,t){return e.length>0?(VL(e,e.length,0,t),e):t}const $L={}.hasOwnProperty;function WL(e){const t={};let n=-1;for(;++n<e.length;)HL(t,e[n]);return t}function HL(e,t){let n;for(n in t){const i=($L.call(e,n)?e[n]:void 0)||(e[n]={}),r=t[n];let s;if(r)for(s in r){$L.call(i,s)||(i[s]=[]);const e=r[s];GL(i[s],Array.isArray(e)?e:e?[e]:[])}}}function GL(e,t){let n=-1;const i=[];for(;++n<t.length;)("after"===t[n].add?e:i).push(t[n]);VL(e,0,0,i)}function KL(e,t){const n=Number.parseInt(e,t);return n<9||11===n||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||!(65535&~n)||65534==(65535&n)||n>1114111?"":String.fromCodePoint(n)}function YL(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const QL=lO(/[A-Za-z]/),XL=lO(/[\dA-Za-z]/),JL=lO(/[#-'*+\--9=?A-Z^-~]/);function ZL(e){return null!==e&&(e<32||127===e)}const eO=lO(/\d/),tO=lO(/[\dA-Fa-f]/),nO=lO(/[!-/:-@[-`{-~]/);function iO(e){return null!==e&&e<-2}function rO(e){return null!==e&&(e<0||32===e)}function sO(e){return-2===e||-1===e||32===e}const aO=lO(new RegExp("\\p{P}|\\p{S}","u")),oO=lO(/\s/);function lO(e){return function(t){return null!==t&&t>-1&&e.test(String.fromCharCode(t))}}function cO(e){const t=[];let n=-1,i=0,r=0;for(;++n<e.length;){const s=e.charCodeAt(n);let a="";if(37===s&&XL(e.charCodeAt(n+1))&&XL(e.charCodeAt(n+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const t=e.charCodeAt(n+1);s<56320&&t>56319&&t<57344?(a=String.fromCharCode(s,t),r=1):a=""}else a=String.fromCharCode(s);a&&(t.push(e.slice(i,n),encodeURIComponent(a)),i=n+r+1,a=""),r&&(n+=r,r=0)}return t.join("")+e.slice(i)}function uO(e,t,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return function(i){if(sO(i))return e.enter(n),a(i);return t(i)};function a(i){return sO(i)&&s++<r?(e.consume(i),a):(e.exit(n),t(i))}}const dO={tokenize:function(e){const t=e.attempt(this.parser.constructs.contentInitial,function(n){if(null===n)return void e.consume(n);return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),uO(e,t,"linePrefix")},function(t){return e.enter("paragraph"),i(t)});let n;return t;function i(t){const i=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=i),n=i,r(t)}function r(t){return null===t?(e.exit("chunkText"),e.exit("paragraph"),void e.consume(t)):iO(t)?(e.consume(t),e.exit("chunkText"),i):(e.consume(t),r)}}};const fO={tokenize:function(e){const t=this,n=[];let i,r,s,a=0;return o;function o(i){if(a<n.length){const r=n[a];return t.containerState=r[1],e.attempt(r[0].continuation,l,c)(i)}return c(i)}function l(e){if(a++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const n=t.events.length;let r,s=n;for(;s--;)if("exit"===t.events[s][0]&&"chunkFlow"===t.events[s][1].type){r=t.events[s][1].end;break}v(a);let o=n;for(;o<t.events.length;)t.events[o][1].end={...r},o++;return VL(t.events,s+1,0,t.events.slice(n)),t.events.length=o,c(e)}return o(e)}function c(r){if(a===n.length){if(!i)return f(r);if(i.currentConstruct&&i.currentConstruct.concrete)return m(r);t.interrupt=Boolean(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(hO,u,d)(r)}function u(e){return i&&y(),v(a),f(e)}function d(e){return t.parser.lazy[t.now().line]=a!==n.length,s=t.now().offset,m(e)}function f(n){return t.containerState={},e.attempt(hO,h,m)(n)}function h(e){return a++,n.push([t.currentConstruct,t.containerState]),f(e)}function m(n){return null===n?(i&&y(),v(0),void e.consume(n)):(i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:r}),p(n))}function p(n){return null===n?(g(e.exit("chunkFlow"),!0),v(0),void e.consume(n)):iO(n)?(e.consume(n),g(e.exit("chunkFlow")),a=0,t.interrupt=void 0,o):(e.consume(n),p)}function g(e,n){const o=t.sliceStream(e);if(n&&o.push(null),e.previous=r,r&&(r.next=e),r=e,i.defineSkip(e.start),i.write(o),t.parser.lazy[e.start.line]){let e=i.events.length;for(;e--;)if(i.events[e][1].start.offset<s&&(!i.events[e][1].end||i.events[e][1].end.offset>s))return;const n=t.events.length;let r,o,l=n;for(;l--;)if("exit"===t.events[l][0]&&"chunkFlow"===t.events[l][1].type){if(r){o=t.events[l][1].end;break}r=!0}for(v(a),e=n;e<t.events.length;)t.events[e][1].end={...o},e++;VL(t.events,l+1,0,t.events.slice(n)),t.events.length=e}}function v(i){let r=n.length;for(;r-- >i;){const i=n[r];t.containerState=i[1],i[0].exit.call(t,e)}n.length=i}function y(){i.write([null]),r=void 0,i=void 0,t.containerState._closeFlow=void 0}}},hO={tokenize:function(e,t,n){return uO(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}};function mO(e){return null===e||rO(e)||oO(e)?1:aO(e)?2:void 0}function pO(e,t,n){const i=[];let r=-1;for(;++r<e.length;){const s=e[r].resolveAll;s&&!i.includes(s)&&(t=s(t,n),i.push(s))}return t}const gO={name:"attention",resolveAll:function(e,t){let n,i,r,s,a,o,l,c,u=-1;for(;++u<e.length;)if("enter"===e[u][0]&&"attentionSequence"===e[u][1].type&&e[u][1]._close)for(n=u;n--;)if("exit"===e[n][0]&&"attentionSequence"===e[n][1].type&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[u][1]).charCodeAt(0)){if((e[n][1]._close||e[u][1]._open)&&(e[u][1].end.offset-e[u][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[u][1].end.offset-e[u][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[u][1].end.offset-e[u][1].start.offset>1?2:1;const d={...e[n][1].end},f={...e[u][1].start};vO(d,-o),vO(f,o),s={type:o>1?"strongSequence":"emphasisSequence",start:d,end:{...e[n][1].end}},a={type:o>1?"strongSequence":"emphasisSequence",start:{...e[u][1].start},end:f},r={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[u][1].start}},i={type:o>1?"strong":"emphasis",start:{...s.start},end:{...a.end}},e[n][1].end={...s.start},e[u][1].start={...a.end},l=[],e[n][1].end.offset-e[n][1].start.offset&&(l=qL(l,[["enter",e[n][1],t],["exit",e[n][1],t]])),l=qL(l,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",r,t]]),l=qL(l,pO(t.parser.constructs.insideSpan.null,e.slice(n+1,u),t)),l=qL(l,[["exit",r,t],["enter",a,t],["exit",a,t],["exit",i,t]]),e[u][1].end.offset-e[u][1].start.offset?(c=2,l=qL(l,[["enter",e[u][1],t],["exit",e[u][1],t]])):c=0,VL(e,n-1,u-n+3,l),u=n+l.length-c-2;break}u=-1;for(;++u<e.length;)"attentionSequence"===e[u][1].type&&(e[u][1].type="data");return e},tokenize:function(e,t){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=mO(i);let s;return function(t){return s=t,e.enter("attentionSequence"),a(t)};function a(o){if(o===s)return e.consume(o),a;const l=e.exit("attentionSequence"),c=mO(o),u=!c||2===c&&r||n.includes(o),d=!r||2===r&&c||n.includes(i);return l._open=Boolean(42===s?u:u&&(r||!d)),l._close=Boolean(42===s?d:d&&(c||!u)),t(o)}}};function vO(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const yO={name:"autolink",tokenize:function(e,t,n){let i=0;return function(t){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(t),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),r};function r(t){return QL(t)?(e.consume(t),s):64===t?n(t):l(t)}function s(e){return 43===e||45===e||46===e||XL(e)?(i=1,a(e)):l(e)}function a(t){return 58===t?(e.consume(t),i=0,o):(43===t||45===t||46===t||XL(t))&&i++<32?(e.consume(t),a):(i=0,l(t))}function o(i){return 62===i?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(i),e.exit("autolinkMarker"),e.exit("autolink"),t):null===i||32===i||60===i||ZL(i)?n(i):(e.consume(i),o)}function l(t){return 64===t?(e.consume(t),c):JL(t)?(e.consume(t),l):n(t)}function c(e){return XL(e)?u(e):n(e)}function u(n){return 46===n?(e.consume(n),i=0,c):62===n?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(n),e.exit("autolinkMarker"),e.exit("autolink"),t):d(n)}function d(t){if((45===t||XL(t))&&i++<63){const n=45===t?d:u;return e.consume(t),n}return n(t)}}};const bO={partial:!0,tokenize:function(e,t,n){return function(t){return sO(t)?uO(e,i,"linePrefix")(t):i(t)};function i(e){return null===e||iO(e)?t(e):n(e)}}};const wO={continuation:{tokenize:function(e,t,n){const i=this;return function(t){if(sO(t))return uO(e,r,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t);return r(t)};function r(i){return e.attempt(wO,t,n)(i)}}},exit:function(e){e.exit("blockQuote")},name:"blockQuote",tokenize:function(e,t,n){const i=this;return function(t){if(62===t){const n=i.containerState;return n.open||(e.enter("blockQuote",{_container:!0}),n.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(t),e.exit("blockQuoteMarker"),r}return n(t)};function r(n){return sO(n)?(e.enter("blockQuotePrefixWhitespace"),e.consume(n),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(n))}}};const kO={name:"characterEscape",tokenize:function(e,t,n){return function(t){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(t),e.exit("escapeMarker"),i};function i(i){return nO(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}};const xO={name:"characterReference",tokenize:function(e,t,n){const i=this;let r,s,a=0;return function(t){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(t),e.exit("characterReferenceMarker"),o};function o(t){return 35===t?(e.enter("characterReferenceMarkerNumeric"),e.consume(t),e.exit("characterReferenceMarkerNumeric"),l):(e.enter("characterReferenceValue"),r=31,s=XL,c(t))}function l(t){return 88===t||120===t?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(t),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),r=6,s=tO,c):(e.enter("characterReferenceValue"),r=7,s=eO,c(t))}function c(o){if(59===o&&a){const r=e.exit("characterReferenceValue");return s!==XL||BL(i.sliceSerialize(r))?(e.enter("characterReferenceMarker"),e.consume(o),e.exit("characterReferenceMarker"),e.exit("characterReference"),t):n(o)}return s(o)&&a++<r?(e.consume(o),c):n(o)}}};const _O={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){if(null===t)return n(t);return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}},SO={concrete:!0,name:"codeFenced",tokenize:function(e,t,n){const i=this,r={partial:!0,tokenize:function(e,t,n){let r=0;return a;function a(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),l}function l(t){return e.enter("codeFencedFence"),sO(t)?uO(e,c,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):c(t)}function c(t){return t===s?(e.enter("codeFencedFenceSequence"),u(t)):n(t)}function u(t){return t===s?(r++,e.consume(t),u):r>=o?(e.exit("codeFencedFenceSequence"),sO(t)?uO(e,d,"whitespace")(t):d(t)):n(t)}function d(i){return null===i||iO(i)?(e.exit("codeFencedFence"),t(i)):n(i)}}};let s,a=0,o=0;return function(t){return function(t){const n=i.events[i.events.length-1];return a=n&&"linePrefix"===n[1].type?n[2].sliceSerialize(n[1],!0).length:0,s=t,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),l(t)}(t)};function l(t){return t===s?(o++,e.consume(t),l):o<3?n(t):(e.exit("codeFencedFenceSequence"),sO(t)?uO(e,c,"whitespace")(t):c(t))}function c(n){return null===n||iO(n)?(e.exit("codeFencedFence"),i.interrupt?t(n):e.check(_O,h,y)(n)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),u(n))}function u(t){return null===t||iO(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(t)):sO(t)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),uO(e,d,"whitespace")(t)):96===t&&t===s?n(t):(e.consume(t),u)}function d(t){return null===t||iO(t)?c(t):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),f(t))}function f(t){return null===t||iO(t)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(t)):96===t&&t===s?n(t):(e.consume(t),f)}function h(t){return e.attempt(r,y,m)(t)}function m(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),p}function p(t){return a>0&&sO(t)?uO(e,g,"linePrefix",a+1)(t):g(t)}function g(t){return null===t||iO(t)?e.check(_O,h,y)(t):(e.enter("codeFlowValue"),v(t))}function v(t){return null===t||iO(t)?(e.exit("codeFlowValue"),g(t)):(e.consume(t),v)}function y(n){return e.exit("codeFenced"),t(n)}}};const CO={name:"codeIndented",tokenize:function(e,t,n){const i=this;return function(t){return e.enter("codeIndented"),uO(e,r,"linePrefix",5)(t)};function r(e){const t=i.events[i.events.length-1];return t&&"linePrefix"===t[1].type&&t[2].sliceSerialize(t[1],!0).length>=4?s(e):n(e)}function s(t){return null===t?o(t):iO(t)?e.attempt(NO,s,o)(t):(e.enter("codeFlowValue"),a(t))}function a(t){return null===t||iO(t)?(e.exit("codeFlowValue"),s(t)):(e.consume(t),a)}function o(n){return e.exit("codeIndented"),t(n)}}},NO={partial:!0,tokenize:function(e,t,n){const i=this;return r;function r(t){return i.parser.lazy[i.now().line]?n(t):iO(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r):uO(e,s,"linePrefix",5)(t)}function s(e){const s=i.events[i.events.length-1];return s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(e):iO(e)?r(e):n(e)}}};const jO={name:"codeText",previous:function(e){return 96!==e||"characterEscape"===this.events[this.events.length-1][1].type},resolve:function(e){let t,n,i=e.length-4,r=3;if(!("lineEnding"!==e[r][1].type&&"space"!==e[r][1].type||"lineEnding"!==e[i][1].type&&"space"!==e[i][1].type))for(t=r;++t<i;)if("codeTextData"===e[t][1].type){e[r][1].type="codeTextPadding",e[i][1].type="codeTextPadding",r+=2,i-=2;break}t=r-1,i++;for(;++t<=i;)void 0===n?t!==i&&"lineEnding"!==e[t][1].type&&(n=t):t!==i&&"lineEnding"!==e[t][1].type||(e[n][1].type="codeTextData",t!==n+2&&(e[n][1].end=e[t-1][1].end,e.splice(n+2,t-n-2),i-=t-n-2,t=n+2),n=void 0);return e},tokenize:function(e,t,n){let i,r,s=0;return function(t){return e.enter("codeText"),e.enter("codeTextSequence"),a(t)};function a(t){return 96===t?(e.consume(t),s++,a):(e.exit("codeTextSequence"),o(t))}function o(t){return null===t?n(t):32===t?(e.enter("space"),e.consume(t),e.exit("space"),o):96===t?(r=e.enter("codeTextSequence"),i=0,c(t)):iO(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),o):(e.enter("codeTextData"),l(t))}function l(t){return null===t||32===t||96===t||iO(t)?(e.exit("codeTextData"),o(t)):(e.consume(t),l)}function c(n){return 96===n?(e.consume(n),i++,c):i===s?(e.exit("codeTextSequence"),e.exit("codeText"),t(n)):(r.type="codeTextData",l(n))}}};class TO{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const n=null==t?Number.POSITIVE_INFINITY:t;return n<this.left.length?this.left.slice(e,n):e>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(e,t,n){const i=t||0;this.setCursor(Math.trunc(e));const r=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&EO(this.left,n),r.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),EO(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),EO(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&0===this.right.length||e<0&&0===this.left.length))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);EO(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);EO(this.left,t.reverse())}}}function EO(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function IO(e){const t={};let n,i,r,s,a,o,l,c=-1;const u=new TO(e);for(;++c<u.length;){for(;c in t;)c=t[c];if(n=u.get(c),c&&"chunkFlow"===n[1].type&&"listItemPrefix"===u.get(c-1)[1].type&&(o=n[1]._tokenizer.events,r=0,r<o.length&&"lineEndingBlank"===o[r][1].type&&(r+=2),r<o.length&&"content"===o[r][1].type))for(;++r<o.length&&"content"!==o[r][1].type;)"chunkText"===o[r][1].type&&(o[r][1]._isInFirstContentOfListItem=!0,r++);if("enter"===n[0])n[1].contentType&&(Object.assign(t,PO(u,c)),c=t[c],l=!0);else if(n[1]._container){for(r=c,i=void 0;r--;)if(s=u.get(r),"lineEnding"===s[1].type||"lineEndingBlank"===s[1].type)"enter"===s[0]&&(i&&(u.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=r);else if("linePrefix"!==s[1].type&&"listItemIndent"!==s[1].type)break;i&&(n[1].end={...u.get(i)[1].start},a=u.slice(i,c),a.unshift(n),u.splice(i,c-i+1,a))}}return VL(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!l}function PO(e,t){const n=e.get(t)[1],i=e.get(t)[2];let r=t-1;const s=[];let a=n._tokenizer;a||(a=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const o=a.events,l=[],c={};let u,d,f=-1,h=n,m=0,p=0;const g=[p];for(;h;){for(;e.get(++r)[1]!==h;);s.push(r),h._tokenizer||(u=i.sliceStream(h),h.next||u.push(null),d&&a.defineSkip(h.start),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),h._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=h,h=h.next}for(h=n;++f<o.length;)"exit"===o[f][0]&&"enter"===o[f-1][0]&&o[f][1].type===o[f-1][1].type&&o[f][1].start.line!==o[f][1].end.line&&(p=f+1,g.push(p),h._tokenizer=void 0,h.previous=void 0,h=h.next);for(a.events=[],h?(h._tokenizer=void 0,h.previous=void 0):g.pop(),f=g.length;f--;){const t=o.slice(g[f],g[f+1]),n=s.pop();l.push([n,n+t.length-1]),e.splice(n,2,t)}for(l.reverse(),f=-1;++f<l.length;)c[m+l[f][0]]=m+l[f][1],m+=l[f][1]-l[f][0]-1;return c}const AO={resolve:function(e){return IO(e),e},tokenize:function(e,t){let n;return function(t){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(t)};function i(t){return null===t?r(t):iO(t)?e.check(MO,s,r)(t):(e.consume(t),i)}function r(n){return e.exit("chunkContent"),e.exit("content"),t(n)}function s(t){return e.consume(t),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}},MO={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),uO(e,r,"linePrefix")};function r(r){if(null===r||iO(r))return n(r);const s=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&s&&"linePrefix"===s[1].type&&s[2].sliceSerialize(s[1],!0).length>=4?t(r):e.interrupt(i.parser.constructs.flow,n,t)(r)}}};function RO(e,t,n,i,r,s,a,o,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return function(t){if(60===t)return e.enter(i),e.enter(r),e.enter(s),e.consume(t),e.exit(s),d;if(null===t||32===t||41===t||ZL(t))return n(t);return e.enter(i),e.enter(a),e.enter(o),e.enter("chunkString",{contentType:"string"}),m(t)};function d(n){return 62===n?(e.enter(s),e.consume(n),e.exit(s),e.exit(r),e.exit(i),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),f(n))}function f(t){return 62===t?(e.exit("chunkString"),e.exit(o),d(t)):null===t||60===t||iO(t)?n(t):(e.consume(t),92===t?h:f)}function h(t){return 60===t||62===t||92===t?(e.consume(t),f):f(t)}function m(r){return u||null!==r&&41!==r&&!rO(r)?u<c&&40===r?(e.consume(r),u++,m):41===r?(e.consume(r),u--,m):null===r||32===r||40===r||ZL(r)?n(r):(e.consume(r),92===r?p:m):(e.exit("chunkString"),e.exit(o),e.exit(a),e.exit(i),t(r))}function p(t){return 40===t||41===t||92===t?(e.consume(t),m):m(t)}}function DO(e,t,n,i,r,s){const a=this;let o,l=0;return function(t){return e.enter(i),e.enter(r),e.consume(t),e.exit(r),e.enter(s),c};function c(d){return l>999||null===d||91===d||93===d&&!o||94===d&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(d):93===d?(e.exit(s),e.enter(r),e.consume(d),e.exit(r),e.exit(i),t):iO(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),c):(e.enter("chunkString",{contentType:"string"}),u(d))}function u(t){return null===t||91===t||93===t||iO(t)||l++>999?(e.exit("chunkString"),c(t)):(e.consume(t),o||(o=!sO(t)),92===t?d:u)}function d(t){return 91===t||92===t||93===t?(e.consume(t),l++,u):u(t)}}function LO(e,t,n,i,r,s){let a;return function(t){if(34===t||39===t||40===t)return e.enter(i),e.enter(r),e.consume(t),e.exit(r),a=40===t?41:t,o;return n(t)};function o(n){return n===a?(e.enter(r),e.consume(n),e.exit(r),e.exit(i),t):(e.enter(s),l(n))}function l(t){return t===a?(e.exit(s),o(a)):null===t?n(t):iO(t)?(e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),uO(e,l,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),c(t))}function c(t){return t===a||null===t||iO(t)?(e.exit("chunkString"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return t===a||92===t?(e.consume(t),c):c(t)}}function OO(e,t){let n;return function i(r){if(iO(r))return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),n=!0,i;if(sO(r))return uO(e,i,n?"linePrefix":"lineSuffix")(r);return t(r)}}const FO={name:"definition",tokenize:function(e,t,n){const i=this;let r;return function(t){return e.enter("definition"),function(t){return DO.call(i,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(t)}(t)};function s(t){return r=YL(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),a):n(t)}function a(t){return rO(t)?OO(e,o)(t):o(t)}function o(t){return RO(e,l,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(t)}function l(t){return e.attempt(zO,c,c)(t)}function c(t){return sO(t)?uO(e,u,"whitespace")(t):u(t)}function u(s){return null===s||iO(s)?(e.exit("definition"),i.parser.defined.push(r),t(s)):n(s)}}},zO={partial:!0,tokenize:function(e,t,n){return function(t){return rO(t)?OO(e,i)(t):n(t)};function i(t){return LO(e,r,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(t)}function r(t){return sO(t)?uO(e,s,"whitespace")(t):s(t)}function s(e){return null===e||iO(e)?t(e):n(e)}}};const UO={name:"hardBreakEscape",tokenize:function(e,t,n){return function(t){return e.enter("hardBreakEscape"),e.consume(t),i};function i(i){return iO(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}};const BO={name:"headingAtx",resolve:function(e,t){let n,i,r=e.length-2,s=3;"whitespace"===e[s][1].type&&(s+=2);r-2>s&&"whitespace"===e[r][1].type&&(r-=2);"atxHeadingSequence"===e[r][1].type&&(s===r-1||r-4>s&&"whitespace"===e[r-2][1].type)&&(r-=s+1===r?2:4);r>s&&(n={type:"atxHeadingText",start:e[s][1].start,end:e[r][1].end},i={type:"chunkText",start:e[s][1].start,end:e[r][1].end,contentType:"text"},VL(e,s,r-s+1,[["enter",n,t],["enter",i,t],["exit",i,t],["exit",n,t]]));return e},tokenize:function(e,t,n){let i=0;return function(t){return e.enter("atxHeading"),function(t){return e.enter("atxHeadingSequence"),r(t)}(t)};function r(t){return 35===t&&i++<6?(e.consume(t),r):null===t||rO(t)?(e.exit("atxHeadingSequence"),s(t)):n(t)}function s(n){return 35===n?(e.enter("atxHeadingSequence"),a(n)):null===n||iO(n)?(e.exit("atxHeading"),t(n)):sO(n)?uO(e,s,"whitespace")(n):(e.enter("atxHeadingText"),o(n))}function a(t){return 35===t?(e.consume(t),a):(e.exit("atxHeadingSequence"),s(t))}function o(t){return null===t||35===t||rO(t)?(e.exit("atxHeadingText"),s(t)):(e.consume(t),o)}}};const VO=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qO=["pre","script","style","textarea"],$O={concrete:!0,name:"htmlFlow",resolveTo:function(e){let t=e.length;for(;t--&&("enter"!==e[t][0]||"htmlFlow"!==e[t][1].type););t>1&&"linePrefix"===e[t-2][1].type&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2));return e},tokenize:function(e,t,n){const i=this;let r,s,a,o,l;return function(t){return function(t){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(t),c}(t)};function c(o){return 33===o?(e.consume(o),u):47===o?(e.consume(o),s=!0,h):63===o?(e.consume(o),r=3,i.interrupt?t:R):QL(o)?(e.consume(o),a=String.fromCharCode(o),m):n(o)}function u(s){return 45===s?(e.consume(s),r=2,d):91===s?(e.consume(s),r=5,o=0,f):QL(s)?(e.consume(s),r=4,i.interrupt?t:R):n(s)}function d(r){return 45===r?(e.consume(r),i.interrupt?t:R):n(r)}function f(r){const s="CDATA[";return r===s.charCodeAt(o++)?(e.consume(r),6===o?i.interrupt?t:N:f):n(r)}function h(t){return QL(t)?(e.consume(t),a=String.fromCharCode(t),m):n(t)}function m(o){if(null===o||47===o||62===o||rO(o)){const l=47===o,c=a.toLowerCase();return l||s||!qO.includes(c)?VO.includes(a.toLowerCase())?(r=6,l?(e.consume(o),p):i.interrupt?t(o):N(o)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(o):s?g(o):v(o)):(r=1,i.interrupt?t(o):N(o))}return 45===o||XL(o)?(e.consume(o),a+=String.fromCharCode(o),m):n(o)}function p(r){return 62===r?(e.consume(r),i.interrupt?t:N):n(r)}function g(t){return sO(t)?(e.consume(t),g):S(t)}function v(t){return 47===t?(e.consume(t),S):58===t||95===t||QL(t)?(e.consume(t),y):sO(t)?(e.consume(t),v):S(t)}function y(t){return 45===t||46===t||58===t||95===t||XL(t)?(e.consume(t),y):b(t)}function b(t){return 61===t?(e.consume(t),w):sO(t)?(e.consume(t),b):v(t)}function w(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),l=t,k):sO(t)?(e.consume(t),w):x(t)}function k(t){return t===l?(e.consume(t),l=null,_):null===t||iO(t)?n(t):(e.consume(t),k)}function x(t){return null===t||34===t||39===t||47===t||60===t||61===t||62===t||96===t||rO(t)?b(t):(e.consume(t),x)}function _(e){return 47===e||62===e||sO(e)?v(e):n(e)}function S(t){return 62===t?(e.consume(t),C):n(t)}function C(t){return null===t||iO(t)?N(t):sO(t)?(e.consume(t),C):n(t)}function N(t){return 45===t&&2===r?(e.consume(t),I):60===t&&1===r?(e.consume(t),P):62===t&&4===r?(e.consume(t),D):63===t&&3===r?(e.consume(t),R):93===t&&5===r?(e.consume(t),M):!iO(t)||6!==r&&7!==r?null===t||iO(t)?(e.exit("htmlFlowData"),j(t)):(e.consume(t),N):(e.exit("htmlFlowData"),e.check(WO,L,j)(t))}function j(t){return e.check(HO,T,L)(t)}function T(t){return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),E}function E(t){return null===t||iO(t)?j(t):(e.enter("htmlFlowData"),N(t))}function I(t){return 45===t?(e.consume(t),R):N(t)}function P(t){return 47===t?(e.consume(t),a="",A):N(t)}function A(t){if(62===t){const n=a.toLowerCase();return qO.includes(n)?(e.consume(t),D):N(t)}return QL(t)&&a.length<8?(e.consume(t),a+=String.fromCharCode(t),A):N(t)}function M(t){return 93===t?(e.consume(t),R):N(t)}function R(t){return 62===t?(e.consume(t),D):45===t&&2===r?(e.consume(t),R):N(t)}function D(t){return null===t||iO(t)?(e.exit("htmlFlowData"),L(t)):(e.consume(t),D)}function L(n){return e.exit("htmlFlow"),t(n)}}},WO={partial:!0,tokenize:function(e,t,n){return function(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(bO,t,n)}}},HO={partial:!0,tokenize:function(e,t,n){const i=this;return function(t){if(iO(t))return e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),r;return n(t)};function r(e){return i.parser.lazy[i.now().line]?n(e):t(e)}}};const GO={name:"htmlText",tokenize:function(e,t,n){const i=this;let r,s,a;return function(t){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(t),o};function o(t){return 33===t?(e.consume(t),l):47===t?(e.consume(t),w):63===t?(e.consume(t),y):QL(t)?(e.consume(t),_):n(t)}function l(t){return 45===t?(e.consume(t),c):91===t?(e.consume(t),s=0,h):QL(t)?(e.consume(t),v):n(t)}function c(t){return 45===t?(e.consume(t),f):n(t)}function u(t){return null===t?n(t):45===t?(e.consume(t),d):iO(t)?(a=u,A(t)):(e.consume(t),u)}function d(t){return 45===t?(e.consume(t),f):u(t)}function f(e){return 62===e?P(e):45===e?d(e):u(e)}function h(t){const i="CDATA[";return t===i.charCodeAt(s++)?(e.consume(t),6===s?m:h):n(t)}function m(t){return null===t?n(t):93===t?(e.consume(t),p):iO(t)?(a=m,A(t)):(e.consume(t),m)}function p(t){return 93===t?(e.consume(t),g):m(t)}function g(t){return 62===t?P(t):93===t?(e.consume(t),g):m(t)}function v(t){return null===t||62===t?P(t):iO(t)?(a=v,A(t)):(e.consume(t),v)}function y(t){return null===t?n(t):63===t?(e.consume(t),b):iO(t)?(a=y,A(t)):(e.consume(t),y)}function b(e){return 62===e?P(e):y(e)}function w(t){return QL(t)?(e.consume(t),k):n(t)}function k(t){return 45===t||XL(t)?(e.consume(t),k):x(t)}function x(t){return iO(t)?(a=x,A(t)):sO(t)?(e.consume(t),x):P(t)}function _(t){return 45===t||XL(t)?(e.consume(t),_):47===t||62===t||rO(t)?S(t):n(t)}function S(t){return 47===t?(e.consume(t),P):58===t||95===t||QL(t)?(e.consume(t),C):iO(t)?(a=S,A(t)):sO(t)?(e.consume(t),S):P(t)}function C(t){return 45===t||46===t||58===t||95===t||XL(t)?(e.consume(t),C):N(t)}function N(t){return 61===t?(e.consume(t),j):iO(t)?(a=N,A(t)):sO(t)?(e.consume(t),N):S(t)}function j(t){return null===t||60===t||61===t||62===t||96===t?n(t):34===t||39===t?(e.consume(t),r=t,T):iO(t)?(a=j,A(t)):sO(t)?(e.consume(t),j):(e.consume(t),E)}function T(t){return t===r?(e.consume(t),r=void 0,I):null===t?n(t):iO(t)?(a=T,A(t)):(e.consume(t),T)}function E(t){return null===t||34===t||39===t||60===t||61===t||96===t?n(t):47===t||62===t||rO(t)?S(t):(e.consume(t),E)}function I(e){return 47===e||62===e||rO(e)?S(e):n(e)}function P(i){return 62===i?(e.consume(i),e.exit("htmlTextData"),e.exit("htmlText"),t):n(i)}function A(t){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),M}function M(t){return sO(t)?uO(e,R,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):R(t)}function R(t){return e.enter("htmlTextData"),a(t)}}};const KO={name:"labelEnd",resolveAll:function(e){let t=-1;const n=[];for(;++t<e.length;){const i=e[t][1];if(n.push(e[t]),"labelImage"===i.type||"labelLink"===i.type||"labelEnd"===i.type){const e="labelImage"===i.type?4:2;i.type="data",t+=e}}e.length!==n.length&&VL(e,0,e.length,n);return e},resolveTo:function(e,t){let n,i,r,s,a=e.length,o=0;for(;a--;)if(n=e[a][1],i){if("link"===n.type||"labelLink"===n.type&&n._inactive)break;"enter"===e[a][0]&&"labelLink"===n.type&&(n._inactive=!0)}else if(r){if("enter"===e[a][0]&&("labelImage"===n.type||"labelLink"===n.type)&&!n._balanced&&(i=a,"labelLink"!==n.type)){o=2;break}}else"labelEnd"===n.type&&(r=a);const l={type:"labelLink"===e[i][1].type?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[i][1].start},end:{...e[r][1].end}},u={type:"labelText",start:{...e[i+o+2][1].end},end:{...e[r-2][1].start}};return s=[["enter",l,t],["enter",c,t]],s=qL(s,e.slice(i+1,i+o+3)),s=qL(s,[["enter",u,t]]),s=qL(s,pO(t.parser.constructs.insideSpan.null,e.slice(i+o+4,r-3),t)),s=qL(s,[["exit",u,t],e[r-2],e[r-1],["exit",c,t]]),s=qL(s,e.slice(r+1)),s=qL(s,[["exit",l,t]]),VL(e,i,e.length,s),e},tokenize:function(e,t,n){const i=this;let r,s,a=i.events.length;for(;a--;)if(("labelImage"===i.events[a][1].type||"labelLink"===i.events[a][1].type)&&!i.events[a][1]._balanced){r=i.events[a][1];break}return function(t){if(!r)return n(t);if(r._inactive)return u(t);return s=i.parser.defined.includes(YL(i.sliceSerialize({start:r.end,end:i.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelEnd"),o};function o(t){return 40===t?e.attempt(YO,c,s?c:u)(t):91===t?e.attempt(QO,c,s?l:u)(t):s?c(t):u(t)}function l(t){return e.attempt(XO,c,u)(t)}function c(e){return t(e)}function u(e){return r._balanced=!0,n(e)}}},YO={tokenize:function(e,t,n){return function(t){return e.enter("resource"),e.enter("resourceMarker"),e.consume(t),e.exit("resourceMarker"),i};function i(t){return rO(t)?OO(e,r)(t):r(t)}function r(t){return 41===t?c(t):RO(e,s,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(t)}function s(t){return rO(t)?OO(e,o)(t):c(t)}function a(e){return n(e)}function o(t){return 34===t||39===t||40===t?LO(e,l,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(t):c(t)}function l(t){return rO(t)?OO(e,c)(t):c(t)}function c(i){return 41===i?(e.enter("resourceMarker"),e.consume(i),e.exit("resourceMarker"),e.exit("resource"),t):n(i)}}},QO={tokenize:function(e,t,n){const i=this;return function(t){return DO.call(i,e,r,s,"reference","referenceMarker","referenceString")(t)};function r(e){return i.parser.defined.includes(YL(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?t(e):n(e)}function s(e){return n(e)}}},XO={tokenize:function(e,t,n){return function(t){return e.enter("reference"),e.enter("referenceMarker"),e.consume(t),e.exit("referenceMarker"),i};function i(i){return 93===i?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}};const JO={name:"labelStartImage",resolveAll:KO.resolveAll,tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(t),e.exit("labelImageMarker"),r};function r(t){return 91===t?(e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelImage"),s):n(t)}function s(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}}};const ZO={name:"labelStartLink",resolveAll:KO.resolveAll,tokenize:function(e,t,n){const i=this;return function(t){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(t),e.exit("labelMarker"),e.exit("labelLink"),r};function r(e){return 94===e&&"_hiddenFootnoteSupport"in i.parser.constructs?n(e):t(e)}}};const eF={name:"lineEnding",tokenize:function(e,t){return function(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),uO(e,t,"linePrefix")}}};const tF={name:"thematicBreak",tokenize:function(e,t,n){let i,r=0;return function(t){return e.enter("thematicBreak"),function(e){return i=e,s(e)}(t)};function s(s){return s===i?(e.enter("thematicBreakSequence"),a(s)):r>=3&&(null===s||iO(s))?(e.exit("thematicBreak"),t(s)):n(s)}function a(t){return t===i?(e.consume(t),r++,a):(e.exit("thematicBreakSequence"),sO(t)?uO(e,s,"whitespace")(t):s(t))}}};const nF={continuation:{tokenize:function(e,t,n){const i=this;return i.containerState._closeFlow=void 0,e.check(bO,function(n){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,uO(e,t,"listItemIndent",i.containerState.size+1)(n)},function(n){if(i.containerState.furtherBlankLines||!sO(n))return i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,r(n);return i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,e.attempt(rF,t,r)(n)});function r(r){return i.containerState._closeFlow=!0,i.interrupt=void 0,uO(e,e.attempt(nF,t,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(r)}}},exit:function(e){e.exit(this.containerState.type)},name:"list",tokenize:function(e,t,n){const i=this,r=i.events[i.events.length-1];let s=r&&"linePrefix"===r[1].type?r[2].sliceSerialize(r[1],!0).length:0,a=0;return function(t){const r=i.containerState.type||(42===t||43===t||45===t?"listUnordered":"listOrdered");if("listUnordered"===r?!i.containerState.marker||t===i.containerState.marker:eO(t)){if(i.containerState.type||(i.containerState.type=r,e.enter(r,{_container:!0})),"listUnordered"===r)return e.enter("listItemPrefix"),42===t||45===t?e.check(tF,n,l)(t):l(t);if(!i.interrupt||49===t)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(t)}return n(t)};function o(t){return eO(t)&&++a<10?(e.consume(t),o):(!i.interrupt||a<2)&&(i.containerState.marker?t===i.containerState.marker:41===t||46===t)?(e.exit("listItemValue"),l(t)):n(t)}function l(t){return e.enter("listItemMarker"),e.consume(t),e.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||t,e.check(bO,i.interrupt?n:c,e.attempt(iF,d,u))}function c(e){return i.containerState.initialBlankLine=!0,s++,d(e)}function u(t){return sO(t)?(e.enter("listItemPrefixWhitespace"),e.consume(t),e.exit("listItemPrefixWhitespace"),d):n(t)}function d(n){return i.containerState.size=s+i.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(n)}}},iF={partial:!0,tokenize:function(e,t,n){const i=this;return uO(e,function(e){const r=i.events[i.events.length-1];return!sO(e)&&r&&"listItemPrefixWhitespace"===r[1].type?t(e):n(e)},"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5)}},rF={partial:!0,tokenize:function(e,t,n){const i=this;return uO(e,function(e){const r=i.events[i.events.length-1];return r&&"listItemIndent"===r[1].type&&r[2].sliceSerialize(r[1],!0).length===i.containerState.size?t(e):n(e)},"listItemIndent",i.containerState.size+1)}};const sF={name:"setextUnderline",resolveTo:function(e,t){let n,i,r,s=e.length;for(;s--;)if("enter"===e[s][0]){if("content"===e[s][1].type){n=s;break}"paragraph"===e[s][1].type&&(i=s)}else"content"===e[s][1].type&&e.splice(s,1),r||"definition"!==e[s][1].type||(r=s);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};e[i][1].type="setextHeadingText",r?(e.splice(i,0,["enter",a,t]),e.splice(r+1,0,["exit",e[n][1],t]),e[n][1].end={...e[r][1].end}):e[n][1]=a;return e.push(["exit",a,t]),e},tokenize:function(e,t,n){const i=this;let r;return function(t){let a,o=i.events.length;for(;o--;)if("lineEnding"!==i.events[o][1].type&&"linePrefix"!==i.events[o][1].type&&"content"!==i.events[o][1].type){a="paragraph"===i.events[o][1].type;break}if(!i.parser.lazy[i.now().line]&&(i.interrupt||a))return e.enter("setextHeadingLine"),r=t,function(t){return e.enter("setextHeadingLineSequence"),s(t)}(t);return n(t)};function s(t){return t===r?(e.consume(t),s):(e.exit("setextHeadingLineSequence"),sO(t)?uO(e,a,"lineSuffix")(t):a(t))}function a(i){return null===i||iO(i)?(e.exit("setextHeadingLine"),t(i)):n(i)}}};const aF={tokenize:function(e){const t=this,n=e.attempt(bO,function(i){if(null===i)return void e.consume(i);return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n},e.attempt(this.parser.constructs.flowInitial,i,uO(e,e.attempt(this.parser.constructs.flow,i,e.attempt(AO,i)),"linePrefix")));return n;function i(i){if(null!==i)return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n;e.consume(i)}}};const oF={resolveAll:dF()},lF=uF("string"),cF=uF("text");function uF(e){return{resolveAll:dF("text"===e?fF:void 0),tokenize:function(t){const n=this,i=this.parser.constructs[e],r=t.attempt(i,s,a);return s;function s(e){return l(e)?r(e):a(e)}function a(e){if(null!==e)return t.enter("data"),t.consume(e),o;t.consume(e)}function o(e){return l(e)?(t.exit("data"),r(e)):(t.consume(e),o)}function l(e){if(null===e)return!0;const t=i[e];let r=-1;if(t)for(;++r<t.length;){const e=t[r];if(!e.previous||e.previous.call(n,n.previous))return!0}return!1}}}}function dF(e){return function(t,n){let i,r=-1;for(;++r<=t.length;)void 0===i?t[r]&&"data"===t[r][1].type&&(i=r,r++):t[r]&&"data"===t[r][1].type||(r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),r=i+2),i=void 0);return e?e(t,n):t}}function fF(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||"lineEnding"===e[n][1].type)&&"data"===e[n-1][1].type){const i=e[n-1][1],r=t.sliceStream(i);let s,a=r.length,o=-1,l=0;for(;a--;){const e=r[a];if("string"==typeof e){for(o=e.length;32===e.charCodeAt(o-1);)l++,o--;if(o)break;o=-1}else if(-2===e)s=!0,l++;else if(-1!==e){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(l=0),l){const r={type:n===e.length||s||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?o:i.start._bufferIndex+o,_index:i.start._index+a,line:i.end.line,column:i.end.column-l,offset:i.end.offset-l},end:{...i.end}};i.end={...r.start},i.start.offset===i.end.offset?Object.assign(i,r):(e.splice(n,0,["enter",r,t],["exit",r,t]),n+=2)}n++}return e}const hF={42:nF,43:nF,45:nF,48:nF,49:nF,50:nF,51:nF,52:nF,53:nF,54:nF,55:nF,56:nF,57:nF,62:wO},mF={91:FO},pF={[-2]:CO,[-1]:CO,32:CO},gF={35:BO,42:tF,45:[sF,tF],60:$O,61:sF,95:tF,96:SO,126:SO},vF={38:xO,92:kO},yF={[-5]:eF,[-4]:eF,[-3]:eF,33:JO,38:xO,42:gO,60:[yO,GO],91:ZO,92:[UO,kO],93:KO,95:gO,96:jO},bF={null:[gO,oF]},wF=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:{null:[42,95]},contentInitial:mF,disable:{null:[]},document:hF,flow:gF,flowInitial:pF,insideSpan:bF,string:vF,text:yF},Symbol.toStringTag,{value:"Module"}));function kF(e,t,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const r={},s=[];let a=[],o=[];const l={attempt:g(function(e,t){v(e,t.from)}),check:g(p),consume:function(e){iO(e)?(i.line++,i.column=1,i.offset+=-3===e?2:1,y()):-1!==e&&(i.column++,i.offset++);i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++));c.previous=e},enter:function(e,t){const n=t||{};return n.type=e,n.start=f(),c.events.push(["enter",n,c]),o.push(n),n},exit:function(e){const t=o.pop();return t.end=f(),c.events.push(["exit",t,c]),t},interrupt:g(p,{interrupt:!0})},c={code:null,containerState:{},defineSkip:function(e){r[e.line]=e.column,y()},events:[],now:f,parser:e,previous:null,sliceSerialize:function(e,t){return function(e,t){let n=-1;const i=[];let r;for(;++n<e.length;){const s=e[n];let a;if("string"==typeof s)a=s;else switch(s){case-5:a="\r";break;case-4:a="\n";break;case-3:a="\r\n";break;case-2:a=t?" ":"\t";break;case-1:if(!t&&r)continue;a=" ";break;default:a=String.fromCharCode(s)}r=-2===s,i.push(a)}return i.join("")}(d(e),t)},sliceStream:d,write:function(e){if(a=qL(a,e),h(),null!==a[a.length-1])return[];return v(t,0),c.events=pO(s,c.events,c),c.events}};let u=t.tokenize.call(c,l);return t.resolveAll&&s.push(t),c;function d(e){return function(e,t){const n=t.start._index,i=t.start._bufferIndex,r=t.end._index,s=t.end._bufferIndex;let a;if(n===r)a=[e[n].slice(i,s)];else{if(a=e.slice(n,r),i>-1){const e=a[0];"string"==typeof e?a[0]=e.slice(i):a.shift()}s>0&&a.push(e[r].slice(0,s))}return a}(a,e)}function f(){const{_bufferIndex:e,_index:t,line:n,column:r,offset:s}=i;return{_bufferIndex:e,_index:t,line:n,column:r,offset:s}}function h(){let e;for(;i._index<a.length;){const t=a[i._index];if("string"==typeof t)for(e=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===e&&i._bufferIndex<t.length;)m(t.charCodeAt(i._bufferIndex));else m(t)}}function m(e){u=u(e)}function p(e,t){t.restore()}function g(e,t){return function(n,r,s){let a,u,d,h;return Array.isArray(n)?m(n):"tokenize"in n?m([n]):function(e){return t;function t(t){const n=null!==t&&e[t],i=null!==t&&e.null;return m([...Array.isArray(n)?n:n?[n]:[],...Array.isArray(i)?i:i?[i]:[]])(t)}}(n);function m(e){return a=e,u=0,0===e.length?s:p(e[u])}function p(e){return function(n){h=function(){const e=f(),t=c.previous,n=c.currentConstruct,r=c.events.length,s=Array.from(o);return{from:r,restore:a};function a(){i=e,c.previous=t,c.currentConstruct=n,c.events.length=r,o=s,y()}}(),d=e,e.partial||(c.currentConstruct=e);if(e.name&&c.parser.constructs.disable.null.includes(e.name))return v();return e.tokenize.call(t?Object.assign(Object.create(c),t):c,l,g,v)(n)}}function g(t){return e(d,h),r}function v(e){return h.restore(),++u<a.length?p(a[u]):s}}}function v(e,t){e.resolveAll&&!s.includes(e)&&s.push(e),e.resolve&&VL(c.events,t,c.events.length-t,e.resolve(c.events.slice(t),c)),e.resolveTo&&(c.events=e.resolveTo(c.events,c))}function y(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}const xF=/[\0\t\n\r]/g;const _F=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function SF(e,t,n){if(t)return t;if(35===n.charCodeAt(0)){const e=n.charCodeAt(1),t=120===e||88===e;return KL(n.slice(t?2:1),t?16:10)}return BL(n)||e}const CF={}.hasOwnProperty;function NF(e,t,n){return"string"!=typeof t&&(n=t,t=void 0),function(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(te),autolinkProtocol:C,autolinkEmail:C,atxHeading:s(X),blockQuote:s(H),characterEscape:C,characterReference:C,codeFenced:s(G),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(G,a),codeText:s(K,a),codeTextData:C,data:C,codeFlowValue:C,definition:s(Y),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Q),hardBreakEscape:s(J),hardBreakTrailing:s(J),htmlFlow:s(Z,a),htmlFlowData:C,htmlText:s(Z,a),htmlTextData:C,image:s(ee),label:a,link:s(te),listItem:s(ie),listItemValue:f,listOrdered:s(ne,d),listUnordered:s(ne),paragraph:s(re),reference:z,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(X),strong:s(se),thematicBreak:s(oe)},exit:{atxHeading:l(),atxHeadingSequence:k,autolink:l(),autolinkEmail:W,autolinkProtocol:$,blockQuote:l(),characterEscapeValue:N,characterReferenceMarkerHexadecimal:B,characterReferenceMarkerNumeric:B,characterReferenceValue:V,characterReference:q,codeFenced:l(g),codeFencedFence:p,codeFencedFenceInfo:h,codeFencedFenceMeta:m,codeFlowValue:N,codeIndented:l(v),codeText:l(P),codeTextData:N,data:N,definition:l(),definitionDestinationString:w,definitionLabelString:y,definitionTitleString:b,emphasis:l(),hardBreakEscape:l(T),hardBreakTrailing:l(T),htmlFlow:l(E),htmlFlowData:N,htmlText:l(I),htmlTextData:N,image:l(M),label:D,labelText:R,lineEnding:j,link:l(A),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:U,resourceDestinationString:L,resourceTitleString:O,resource:F,setextHeading:l(S),setextHeadingLineSequence:_,setextHeadingText:x,strong:l(),thematicBreak:l()}};TF(t,(e||{}).mdastExtensions||[]);const n={};return i;function i(e){let i={type:"root",children:[]};const s={stack:[i],tokenStack:[],config:t,enter:o,exit:c,buffer:a,resume:u,data:n},l=[];let d=-1;for(;++d<e.length;)if("listOrdered"===e[d][1].type||"listUnordered"===e[d][1].type)if("enter"===e[d][0])l.push(d);else{d=r(e,l.pop(),d)}for(d=-1;++d<e.length;){const n=t[e[d][0]];CF.call(n,e[d][1].type)&&n[e[d][1].type].call(Object.assign({sliceSerialize:e[d][2].sliceSerialize},s),e[d][1])}if(s.tokenStack.length>0){const e=s.tokenStack[s.tokenStack.length-1];(e[1]||IF).call(s,void 0,e[0])}for(i.position={start:jF(e.length>0?e[0][1].start:{line:1,column:1,offset:0}),end:jF(e.length>0?e[e.length-2][1].end:{line:1,column:1,offset:0})},d=-1;++d<t.transforms.length;)i=t.transforms[d](i)||i;return i}function r(e,t,n){let i,r,s,a,o=t-1,l=-1,c=!1;for(;++o<=n;){const t=e[o];switch(t[1].type){case"listUnordered":case"listOrdered":case"blockQuote":"enter"===t[0]?l++:l--,a=void 0;break;case"lineEndingBlank":"enter"===t[0]&&(!i||a||l||s||(s=o),a=void 0);break;case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:a=void 0}if(!l&&"enter"===t[0]&&"listItemPrefix"===t[1].type||-1===l&&"exit"===t[0]&&("listUnordered"===t[1].type||"listOrdered"===t[1].type)){if(i){let a=o;for(r=void 0;a--;){const t=e[a];if("lineEnding"===t[1].type||"lineEndingBlank"===t[1].type){if("exit"===t[0])continue;r&&(e[r][1].type="lineEndingBlank",c=!0),t[1].type="lineEnding",r=a}else if("linePrefix"!==t[1].type&&"blockQuotePrefix"!==t[1].type&&"blockQuotePrefixWhitespace"!==t[1].type&&"blockQuoteMarker"!==t[1].type&&"listItemIndent"!==t[1].type)break}s&&(!r||s<r)&&(i._spread=!0),i.end=Object.assign({},r?e[r][1].start:t[1].end),e.splice(r||o,0,["exit",i,t[2]]),o++,n++}if("listItemPrefix"===t[1].type){const r={type:"listItem",_spread:!1,start:Object.assign({},t[1].start),end:void 0};i=r,e.splice(o,0,["enter",r,t[2]]),o++,n++,s=void 0,a=!0}}}return e[t][1]._spread=c,n}function s(e,t){return n;function n(n){o.call(this,e(n),n),t&&t.call(this,n)}}function a(){this.stack.push({type:"fragment",children:[]})}function o(e,t,n){this.stack[this.stack.length-1].children.push(e),this.stack.push(e),this.tokenStack.push([t,n||void 0]),e.position={start:jF(t.start),end:void 0}}function l(e){return t;function t(t){e&&e.call(this,t),c.call(this,t)}}function c(e,t){const n=this.stack.pop(),i=this.tokenStack.pop();if(!i)throw new Error("Cannot close `"+e.type+"` ("+mL({start:e.start,end:e.end})+"): its not open");if(i[0].type!==e.type)if(t)t.call(this,e,i[0]);else{(i[1]||IF).call(this,e,i[0])}n.position.end=jF(e.end)}function u(){return OL(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(e){if(this.data.expectingFirstListItemValue){this.stack[this.stack.length-2].start=Number.parseInt(this.sliceSerialize(e),10),this.data.expectingFirstListItemValue=void 0}}function h(){const e=this.resume();this.stack[this.stack.length-1].lang=e}function m(){const e=this.resume();this.stack[this.stack.length-1].meta=e}function p(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const e=this.resume();this.stack[this.stack.length-1].value=e.replace(/(\r?\n|\r)$/g,"")}function y(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=YL(this.sliceSerialize(e)).toLowerCase()}function b(){const e=this.resume();this.stack[this.stack.length-1].title=e}function w(){const e=this.resume();this.stack[this.stack.length-1].url=e}function k(e){const t=this.stack[this.stack.length-1];if(!t.depth){const n=this.sliceSerialize(e).length;t.depth=n}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function _(e){this.stack[this.stack.length-1].depth=61===this.sliceSerialize(e).codePointAt(0)?1:2}function S(){this.data.setextHeadingSlurpLineEnding=void 0}function C(e){const t=this.stack[this.stack.length-1].children;let n=t[t.length-1];n&&"text"===n.type||(n=ae(),n.position={start:jF(e.start),end:void 0},t.push(n)),this.stack.push(n)}function N(e){const t=this.stack.pop();t.value+=this.sliceSerialize(e),t.position.end=jF(e.end)}function j(e){const n=this.stack[this.stack.length-1];if(this.data.atHardBreak){return n.children[n.children.length-1].position.end=jF(e.end),void(this.data.atHardBreak=void 0)}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(n.type)&&(C.call(this,e),N.call(this,e))}function T(){this.data.atHardBreak=!0}function E(){const e=this.resume();this.stack[this.stack.length-1].value=e}function I(){const e=this.resume();this.stack[this.stack.length-1].value=e}function P(){const e=this.resume();this.stack[this.stack.length-1].value=e}function A(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function M(){const e=this.stack[this.stack.length-1];if(this.data.inReference){const t=this.data.referenceType||"shortcut";e.type+="Reference",e.referenceType=t,delete e.url,delete e.title}else delete e.identifier,delete e.label;this.data.referenceType=void 0}function R(e){const t=this.sliceSerialize(e),n=this.stack[this.stack.length-2];n.label=function(e){return e.replace(_F,SF)}(t),n.identifier=YL(t).toLowerCase()}function D(){const e=this.stack[this.stack.length-1],t=this.resume(),n=this.stack[this.stack.length-1];if(this.data.inReference=!0,"link"===n.type){const t=e.children;n.children=t}else n.alt=t}function L(){const e=this.resume();this.stack[this.stack.length-1].url=e}function O(){const e=this.resume();this.stack[this.stack.length-1].title=e}function F(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function U(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.label=t,n.identifier=YL(this.sliceSerialize(e)).toLowerCase(),this.data.referenceType="full"}function B(e){this.data.characterReferenceType=e.type}function V(e){const t=this.sliceSerialize(e),n=this.data.characterReferenceType;let i;if(n)i=KL(t,"characterReferenceMarkerNumeric"===n?10:16),this.data.characterReferenceType=void 0;else{i=BL(t)}this.stack[this.stack.length-1].value+=i}function q(e){this.stack.pop().position.end=jF(e.end)}function $(e){N.call(this,e);this.stack[this.stack.length-1].url=this.sliceSerialize(e)}function W(e){N.call(this,e);this.stack[this.stack.length-1].url="mailto:"+this.sliceSerialize(e)}function H(){return{type:"blockquote",children:[]}}function G(){return{type:"code",lang:null,meta:null,value:""}}function K(){return{type:"inlineCode",value:""}}function Y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Q(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function J(){return{type:"break"}}function Z(){return{type:"html",value:""}}function ee(){return{type:"image",title:null,url:"",alt:null}}function te(){return{type:"link",title:null,url:"",children:[]}}function ne(e){return{type:"list",ordered:"listOrdered"===e.type,start:null,spread:e._spread,children:[]}}function ie(e){return{type:"listItem",spread:e._spread,checked:null,children:[]}}function re(){return{type:"paragraph",children:[]}}function se(){return{type:"strong",children:[]}}function ae(){return{type:"text",value:""}}function oe(){return{type:"thematicBreak"}}}(n)(function(e){for(;!IO(e););return e}(function(e){const t={constructs:WL([wF,...(e||{}).extensions||[]]),content:n(dO),defined:[],document:n(fO),flow:n(aF),lazy:{},string:n(lF),text:n(cF)};return t;function n(e){return function(n){return kF(t,e,n)}}}(n).document().write(function(){let e,t=1,n="",i=!0;return function(r,s,a){const o=[];let l,c,u,d,f;for(r=n+("string"==typeof r?r.toString():new TextDecoder(s||void 0).decode(r)),u=0,n="",i&&(65279===r.charCodeAt(0)&&u++,i=void 0);u<r.length;){if(xF.lastIndex=u,l=xF.exec(r),d=l&&void 0!==l.index?l.index:r.length,f=r.charCodeAt(d),!l){n=r.slice(u);break}if(10===f&&u===d&&e)o.push(-3),e=void 0;else switch(e&&(o.push(-5),e=void 0),u<d&&(o.push(r.slice(u,d)),t+=d-u),f){case 0:o.push(65533),t++;break;case 9:for(c=4*Math.ceil(t/4),o.push(-2);t++<c;)o.push(-1);break;case 10:o.push(-4),t=1;break;default:e=!0,t=1}u=d+1}return a&&(e&&o.push(-5),n&&o.push(n),o.push(null)),o}}()(e,t,!0))))}function jF(e){return{line:e.line,column:e.column,offset:e.offset}}function TF(e,t){let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?TF(e,i):EF(e,i)}}function EF(e,t){let n;for(n in t)if(CF.call(t,n))switch(n){case"canContainEols":{const i=t[n];i&&e[n].push(...i);break}case"transforms":{const i=t[n];i&&e[n].push(...i);break}case"enter":case"exit":{const i=t[n];i&&Object.assign(e[n],i);break}}}function IF(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+mL({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+mL({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+mL({start:t.start,end:t.end})+") is still open")}function PF(e){const t=this;t.parser=function(n){return NF(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function AF(e,t){const n=t.referenceType;let i="]";if("collapsed"===n?i+="[]":"full"===n&&(i+="["+(t.label||t.identifier)+"]"),"imageReference"===t.type)return[{type:"text",value:"!["+t.alt+i}];const r=e.all(t),s=r[0];s&&"text"===s.type?s.value="["+s.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&"text"===a.type?a.value+=i:r.push({type:"text",value:i}),r}function MF(e){const t=e.spread;return null==t?e.children.length>1:t}function RF(e){const t=String(e),n=/\r?\n|\r/g;let i=n.exec(t),r=0;const s=[];for(;i;)s.push(DF(t.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(t);return s.push(DF(t.slice(r),r>0,!1)),s.join("")}function DF(e,t,n){let i=0,r=e.length;if(t){let t=e.codePointAt(i);for(;9===t||32===t;)i++,t=e.codePointAt(i)}if(n){let t=e.codePointAt(r-1);for(;9===t||32===t;)r--,t=e.codePointAt(r-1)}return r>i?e.slice(i,r):""}const LF={blockquote:function(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)},break:function(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:"\n"}]},code:function(e,t){const n=t.value?t.value+"\n":"",i={},r=t.lang?t.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:n}]};return t.meta&&(s.data={meta:t.meta}),e.patch(t,s),s=e.applyData(t,s),s={type:"element",tagName:"pre",properties:{},children:[s]},e.patch(t,s),s},delete:function(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},emphasis:function(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},footnoteReference:function(e,t){const n="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",i=String(t.identifier).toUpperCase(),r=cO(i.toLowerCase()),s=e.footnoteOrder.indexOf(i);let a,o=e.footnoteCounts.get(i);void 0===o?(o=0,e.footnoteOrder.push(i),a=e.footnoteOrder.length):a=s+1,o+=1,e.footnoteCounts.set(i,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+r,id:n+"fnref-"+r+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)},heading:function(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},html:function(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}},imageReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return AF(e,t);const r={src:cO(i.url||""),alt:t.alt};null!==i.title&&void 0!==i.title&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,s),e.applyData(t,s)},image:function(e,t){const n={src:cO(t.url)};null!==t.alt&&void 0!==t.alt&&(n.alt=t.alt),null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,i),e.applyData(t,i)},inlineCode:function(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,i),e.applyData(t,i)},linkReference:function(e,t){const n=String(t.identifier).toUpperCase(),i=e.definitionById.get(n);if(!i)return AF(e,t);const r={href:cO(i.url||"")};null!==i.title&&void 0!==i.title&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)},link:function(e,t){const n={href:cO(t.url)};null!==t.title&&void 0!==t.title&&(n.title=t.title);const i={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)},listItem:function(e,t,n){const i=e.all(t),r=n?function(e){let t=!1;if("list"===e.type){t=e.spread||!1;const n=e.children;let i=-1;for(;!t&&++i<n.length;)t=MF(n[i])}return t}(n):MF(t),s={},a=[];if("boolean"==typeof t.checked){const e=i[0];let n;e&&"element"===e.type&&"p"===e.tagName?n=e:(n={type:"element",tagName:"p",properties:{},children:[]},i.unshift(n)),n.children.length>0&&n.children.unshift({type:"text",value:" "}),n.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let o=-1;for(;++o<i.length;){const e=i[o];(r||0!==o||"element"!==e.type||"p"!==e.tagName)&&a.push({type:"text",value:"\n"}),"element"!==e.type||"p"!==e.tagName||r?a.push(e):a.push(...e.children)}const l=i[i.length-1];l&&(r||"element"!==l.type||"p"!==l.tagName)&&a.push({type:"text",value:"\n"});const c={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,c),e.applyData(t,c)},list:function(e,t){const n={},i=e.all(t);let r=-1;for("number"==typeof t.start&&1!==t.start&&(n.start=t.start);++r<i.length;){const e=i[r];if("element"===e.type&&"li"===e.tagName&&e.properties&&Array.isArray(e.properties.className)&&e.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)},paragraph:function(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},root:function(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)},strong:function(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},table:function(e,t){const n=e.all(t),i=n.shift(),r=[];if(i){const n={type:"element",tagName:"thead",properties:{},children:e.wrap([i],!0)};e.patch(t.children[0],n),r.push(n)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=fL(t.children[1]),a=dL(t.children[t.children.length-1]);s&&a&&(i.position={start:s,end:a}),r.push(i)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(r,!0)};return e.patch(t,s),e.applyData(t,s)},tableCell:function(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)},tableRow:function(e,t,n){const i=n?n.children:void 0,r=0===(i?i.indexOf(t):1)?"th":"td",s=n&&"table"===n.type?n.align:void 0,a=s?s.length:t.children.length;let o=-1;const l=[];for(;++o<a;){const n=t.children[o],i={},a=s?s[o]:void 0;a&&(i.align=a);let c={type:"element",tagName:r,properties:i,children:[]};n&&(c.children=e.all(n),e.patch(n,c),c=e.applyData(n,c)),l.push(c)}const c={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,c),e.applyData(t,c)},text:function(e,t){const n={type:"text",value:RF(String(t.value))};return e.patch(t,n),e.applyData(t,n)},thematicBreak:function(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)},toml:OF,yaml:OF,definition:OF,footnoteDefinition:OF};function OF(){}const FF="object"==typeof self?self:globalThis,zF=e=>((e,t)=>{const n=(t,n)=>(e.set(n,t),t),i=r=>{if(e.has(r))return e.get(r);const[s,a]=t[r];switch(s){case 0:case-1:return n(a,r);case 1:{const e=n([],r);for(const t of a)e.push(i(t));return e}case 2:{const e=n({},r);for(const[t,n]of a)e[i(t)]=i(n);return e}case 3:return n(new Date(a),r);case 4:{const{source:e,flags:t}=a;return n(new RegExp(e,t),r)}case 5:{const e=n(new Map,r);for(const[t,n]of a)e.set(i(t),i(n));return e}case 6:{const e=n(new Set,r);for(const t of a)e.add(i(t));return e}case 7:{const{name:e,message:t}=a;return n(new FF[e](t),r)}case 8:return n(BigInt(a),r);case"BigInt":return n(Object(BigInt(a)),r);case"ArrayBuffer":return n(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:e}=new Uint8Array(a);return n(new DataView(e),a)}}return n(new FF[s](a),r)};return i})(new Map,e)(0),UF="",{toString:BF}={},{keys:VF}=Object,qF=e=>{const t=typeof e;if("object"!==t||!e)return[0,t];const n=BF.call(e).slice(8,-1);switch(n){case"Array":return[1,UF];case"Object":return[2,UF];case"Date":return[3,UF];case"RegExp":return[4,UF];case"Map":return[5,UF];case"Set":return[6,UF];case"DataView":return[1,n]}return n.includes("Array")?[1,n]:n.includes("Error")?[7,n]:[2,n]},$F=([e,t])=>0===e&&("function"===t||"symbol"===t),WF=(e,{json:t,lossy:n}={})=>{const i=[];return((e,t,n,i)=>{const r=(e,t)=>{const r=i.push(e)-1;return n.set(t,r),r},s=i=>{if(n.has(i))return n.get(i);let[a,o]=qF(i);switch(a){case 0:{let t=i;switch(o){case"bigint":a=8,t=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);t=null;break;case"undefined":return r([-1],i)}return r([a,t],i)}case 1:{if(o){let e=i;return"DataView"===o?e=new Uint8Array(i.buffer):"ArrayBuffer"===o&&(e=new Uint8Array(i)),r([o,[...e]],i)}const e=[],t=r([a,e],i);for(const n of i)e.push(s(n));return t}case 2:{if(o)switch(o){case"BigInt":return r([o,i.toString()],i);case"Boolean":case"Number":case"String":return r([o,i.valueOf()],i)}if(t&&"toJSON"in i)return s(i.toJSON());const n=[],l=r([a,n],i);for(const t of VF(i))!e&&$F(qF(i[t]))||n.push([s(t),s(i[t])]);return l}case 3:return r([a,i.toISOString()],i);case 4:{const{source:e,flags:t}=i;return r([a,{source:e,flags:t}],i)}case 5:{const t=[],n=r([a,t],i);for(const[r,a]of i)(e||!$F(qF(r))&&!$F(qF(a)))&&t.push([s(r),s(a)]);return n}case 6:{const t=[],n=r([a,t],i);for(const r of i)!e&&$F(qF(r))||t.push(s(r));return n}}const{message:l}=i;return r([a,{name:o,message:l}],i)};return s})(!(t||n),!!t,new Map,i)(e),i},HF="function"==typeof structuredClone?(e,t)=>t&&("json"in t||"lossy"in t)?zF(WF(e,t)):structuredClone(e):(e,t)=>zF(WF(e,t));function GF(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function KF(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}const YF=function(e){if(null==e)return XF;if("function"==typeof e)return QF(e);if("object"==typeof e)return Array.isArray(e)?function(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=YF(e[n]);return QF(i);function i(...e){let n=-1;for(;++n<t.length;)if(t[n].apply(this,e))return!0;return!1}}(e):function(e){const t=e;return QF(n);function n(n){const i=n;let r;for(r in e)if(i[r]!==t[r])return!1;return!0}}(e);if("string"==typeof e)return function(e){return QF(t);function t(t){return t&&t.type===e}}(e);throw new Error("Expected function, string, or object as test")};function QF(e){return function(t,n,i){return Boolean(function(e){return null!==e&&"object"==typeof e&&"type"in e}(t)&&e.call(this,t,"number"==typeof n?n:void 0,i||void 0))}}function XF(){return!0}const JF=[],ZF=!0,ez=!1;function tz(e,t,n,i){let r;"function"==typeof t&&"function"!=typeof n?(i=n,n=t):r=t;const s=YF(r),a=i?-1:1;!function e(r,o,l){const c=r&&"object"==typeof r?r:{};if("string"==typeof c.type){const e="string"==typeof c.tagName?c.tagName:"string"==typeof c.name?c.name:void 0;Object.defineProperty(u,"name",{value:"node ("+r.type+(e?"<"+e+">":"")+")"})}return u;function u(){let c,u,d,f=JF;if((!t||s(r,o,l[l.length-1]||void 0))&&(f=function(e){if(Array.isArray(e))return e;if("number"==typeof e)return[ZF,e];return null==e?JF:[e]}(n(r,l)),f[0]===ez))return f;if("children"in r&&r.children){const t=r;if(t.children&&"skip"!==f[0])for(u=(i?t.children.length:-1)+a,d=l.concat(t);u>-1&&u<t.children.length;){const n=t.children[u];if(c=e(n,u,d)(),c[0]===ez)return c;u="number"==typeof c[1]?c[1]:u+a}}return f}}(e,void 0,[])()}function nz(e,t,n,i){let r,s,a;"function"==typeof t&&"function"!=typeof n?(s=void 0,a=t,r=n):(s=t,a=n,r=i),tz(e,s,function(e,t){const n=t[t.length-1],i=n?n.children.indexOf(e):void 0;return a(e,i,n)},r)}const iz={}.hasOwnProperty,rz={};function sz(e,t){e.position&&(t.position=function(e){const t=fL(e),n=dL(e);if(t&&n)return{start:t,end:n}}(e))}function az(e,t){let n=t;if(e&&e.data){const t=e.data.hName,i=e.data.hChildren,r=e.data.hProperties;if("string"==typeof t)if("element"===n.type)n.tagName=t;else{n={type:"element",tagName:t,properties:{},children:"children"in n?n.children:[n]}}"element"===n.type&&r&&Object.assign(n.properties,HF(r)),"children"in n&&n.children&&null!=i&&(n.children=i)}return n}function oz(e,t){const n=t.data||{},i=!("value"in t)||iz.call(n,"hProperties")||iz.call(n,"hChildren")?{type:"element",tagName:"div",properties:{},children:e.all(t)}:{type:"text",value:t.value};return e.patch(t,i),e.applyData(t,i)}function lz(e,t){const n=[];let i=-1;for(t&&n.push({type:"text",value:"\n"});++i<e.length;)i&&n.push({type:"text",value:"\n"}),n.push(e[i]);return t&&e.length>0&&n.push({type:"text",value:"\n"}),n}function cz(e){let t=0,n=e.charCodeAt(t);for(;9===n||32===n;)t++,n=e.charCodeAt(t);return e.slice(t)}function uz(e,t){const n=function(e,t){const n=t||rz,i=new Map,r=new Map,s=new Map,a={...LF,...n.handlers},o={all:function(e){const t=[];if("children"in e){const n=e.children;let i=-1;for(;++i<n.length;){const r=o.one(n[i],e);if(r){if(i&&"break"===n[i-1].type&&(Array.isArray(r)||"text"!==r.type||(r.value=cz(r.value)),!Array.isArray(r)&&"element"===r.type)){const e=r.children[0];e&&"text"===e.type&&(e.value=cz(e.value))}Array.isArray(r)?t.push(...r):t.push(r)}}}return t},applyData:az,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:a,one:function(e,t){const n=e.type,i=o.handlers[n];if(iz.call(o.handlers,n)&&i)return i(o,e,t);if(o.options.passThrough&&o.options.passThrough.includes(n)){if("children"in e){const{children:t,...n}=e,i=HF(n);return i.children=o.all(e),i}return HF(e)}return(o.options.unknownHandler||oz)(o,e,t)},options:n,patch:sz,wrap:lz};return nz(e,function(e){if("definition"===e.type||"footnoteDefinition"===e.type){const t="definition"===e.type?i:r,n=String(e.identifier).toUpperCase();t.has(n)||t.set(n,e)}}),o}(e,t),i=n.one(e,void 0),r=function(e){const t="string"==typeof e.options.clobberPrefix?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||GF,i=e.options.footnoteBackLabel||KF,r=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const r=e.footnoteById.get(e.footnoteOrder[l]);if(!r)continue;const s=e.all(r),a=String(r.identifier).toUpperCase(),c=cO(a.toLowerCase());let u=0;const d=[],f=e.footnoteCounts.get(a);for(;void 0!==f&&++u<=f;){d.length>0&&d.push({type:"text",value:" "});let e="string"==typeof n?n:n(l,u);"string"==typeof e&&(e={type:"text",value:e}),d.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+c+(u>1?"-"+u:""),dataFootnoteBackref:"",ariaLabel:"string"==typeof i?i:i(l,u),className:["data-footnote-backref"]},children:Array.isArray(e)?e:[e]})}const h=s[s.length-1];if(h&&"element"===h.type&&"p"===h.tagName){const e=h.children[h.children.length-1];e&&"text"===e.type?e.value+=" ":h.children.push({type:"text",value:" "}),h.children.push(...d)}else s.push(...d);const m={type:"element",tagName:"li",properties:{id:t+"fn-"+c},children:e.wrap(s,!0)};e.patch(r,m),o.push(m)}if(0!==o.length)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...HF(a),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:"\n"},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:"\n"}]}}(n),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:"\n"},r),s}function dz(e,t){return e&&"run"in e?async function(n,i){const r=uz(n,{file:i,...t});await e.run(r,i)}:function(n,i){return uz(n,{file:i,...e||t})}}function fz(e){if(e)throw e}var hz,mz;const pz=m(function(){if(mz)return hz;mz=1;var e=Object.prototype.hasOwnProperty,t=Object.prototype.toString,n=Object.defineProperty,i=Object.getOwnPropertyDescriptor,r=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===t.call(e)},s=function(n){if(!n||"[object Object]"!==t.call(n))return!1;var i,r=e.call(n,"constructor"),s=n.constructor&&n.constructor.prototype&&e.call(n.constructor.prototype,"isPrototypeOf");if(n.constructor&&!r&&!s)return!1;for(i in n);return void 0===i||e.call(n,i)},a=function(e,t){n&&"__proto__"===t.name?n(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},o=function(t,n){if("__proto__"===n){if(!e.call(t,n))return;if(i)return i(t,n).value}return t[n]};return hz=function e(){var t,n,i,l,c,u,d=arguments[0],f=1,h=arguments.length,m=!1;for("boolean"==typeof d&&(m=d,d=arguments[1]||{},f=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});f<h;++f)if(null!=(t=arguments[f]))for(n in t)i=o(d,n),d!==(l=o(t,n))&&(m&&l&&(s(l)||(c=r(l)))?(c?(c=!1,u=i&&r(i)?i:[]):u=i&&s(i)?i:{},a(d,{name:n,newValue:e(m,u,l)})):void 0!==l&&a(d,{name:n,newValue:l}));return d}}());function gz(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)}function vz(){const e=[],t={run:function(...t){let n=-1;const i=t.pop();if("function"!=typeof i)throw new TypeError("Expected function as last argument, not "+i);!function r(s,...a){const o=e[++n];let l=-1;if(s)i(s);else{for(;++l<t.length;)null!==a[l]&&void 0!==a[l]||(a[l]=t[l]);t=a,o?function(e,t){let n;return i;function i(...t){const i=e.length>t.length;let o;i&&t.push(r);try{o=e.apply(this,t)}catch(s){if(i&&n)throw s;return r(s)}i||(o&&o.then&&"function"==typeof o.then?o.then(a,r):o instanceof Error?r(o):a(o))}function r(e,...i){n||(n=!0,t(e,...i))}function a(e){r(null,e)}}(o,r)(...a):i(null,...a)}}(null,...t)},use:function(n){if("function"!=typeof n)throw new TypeError("Expected `middelware` to be a function, not "+n);return e.push(n),t}};return t}const yz={basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');bz(e);let n,i=0,r=-1,s=e.length;if(void 0===t||0===t.length||t.length>e.length){for(;s--;)if(47===e.codePointAt(s)){if(n){i=s+1;break}}else r<0&&(n=!0,r=s+1);return r<0?"":e.slice(i,r)}if(t===e)return"";let a=-1,o=t.length-1;for(;s--;)if(47===e.codePointAt(s)){if(n){i=s+1;break}}else a<0&&(n=!0,a=s+1),o>-1&&(e.codePointAt(s)===t.codePointAt(o--)?o<0&&(r=s):(o=-1,r=a));i===r?r=a:r<0&&(r=e.length);return e.slice(i,r)},dirname:function(e){if(bz(e),0===e.length)return".";let t,n=-1,i=e.length;for(;--i;)if(47===e.codePointAt(i)){if(t){n=i;break}}else t||(t=!0);return n<0?47===e.codePointAt(0)?"/":".":1===n&&47===e.codePointAt(0)?"//":e.slice(0,n)},extname:function(e){bz(e);let t,n=e.length,i=-1,r=0,s=-1,a=0;for(;n--;){const o=e.codePointAt(n);if(47!==o)i<0&&(t=!0,i=n+1),46===o?s<0?s=n:1!==a&&(a=1):s>-1&&(a=-1);else if(t){r=n+1;break}}if(s<0||i<0||0===a||1===a&&s===i-1&&s===r+1)return"";return e.slice(s,i)},join:function(...e){let t,n=-1;for(;++n<e.length;)bz(e[n]),e[n]&&(t=void 0===t?e[n]:t+"/"+e[n]);return void 0===t?".":function(e){bz(e);const t=47===e.codePointAt(0);let n=function(e,t){let n,i,r="",s=0,a=-1,o=0,l=-1;for(;++l<=e.length;){if(l<e.length)n=e.codePointAt(l);else{if(47===n)break;n=47}if(47===n){if(a===l-1||1===o);else if(a!==l-1&&2===o){if(r.length<2||2!==s||46!==r.codePointAt(r.length-1)||46!==r.codePointAt(r.length-2))if(r.length>2){if(i=r.lastIndexOf("/"),i!==r.length-1){i<0?(r="",s=0):(r=r.slice(0,i),s=r.length-1-r.lastIndexOf("/")),a=l,o=0;continue}}else if(r.length>0){r="",s=0,a=l,o=0;continue}t&&(r=r.length>0?r+"/..":"..",s=2)}else r.length>0?r+="/"+e.slice(a+1,l):r=e.slice(a+1,l),s=l-a-1;a=l,o=0}else 46===n&&o>-1?o++:o=-1}return r}(e,!t);0!==n.length||t||(n=".");n.length>0&&47===e.codePointAt(e.length-1)&&(n+="/");return t?"/"+n:n}(t)},sep:"/"};function bz(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wz={cwd:function(){return"/"}};function kz(e){return Boolean(null!==e&&"object"==typeof e&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&void 0===e.auth)}function xz(e){if("string"==typeof e)e=new URL(e);else if(!kz(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if("file:"!==e.protocol){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return function(e){if(""!==e.hostname){const e=new TypeError('File URL host must be "localhost" or empty on darwin');throw e.code="ERR_INVALID_FILE_URL_HOST",e}const t=e.pathname;let n=-1;for(;++n<t.length;)if(37===t.codePointAt(n)&&50===t.codePointAt(n+1)){const e=t.codePointAt(n+2);if(70===e||102===e){const e=new TypeError("File URL path must not include encoded / characters");throw e.code="ERR_INVALID_FILE_URL_PATH",e}}return decodeURIComponent(t)}(e)}const _z=["history","path","basename","stem","extname","dirname"];class Sz{constructor(e){let t;t=e?kz(e)?{path:e}:"string"==typeof e||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(e)?{value:e}:e:{},this.cwd="cwd"in t?"":wz.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n,i=-1;for(;++i<_z.length;){const e=_z[i];e in t&&void 0!==t[e]&&null!==t[e]&&(this[e]="history"===e?[...t[e]]:t[e])}for(n in t)_z.includes(n)||(this[n]=t[n])}get basename(){return"string"==typeof this.path?yz.basename(this.path):void 0}set basename(e){Nz(e,"basename"),Cz(e,"basename"),this.path=yz.join(this.dirname||"",e)}get dirname(){return"string"==typeof this.path?yz.dirname(this.path):void 0}set dirname(e){jz(this.basename,"dirname"),this.path=yz.join(e||"",this.basename)}get extname(){return"string"==typeof this.path?yz.extname(this.path):void 0}set extname(e){if(Cz(e,"extname"),jz(this.dirname,"extname"),e){if(46!==e.codePointAt(0))throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=yz.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){kz(e)&&(e=xz(e)),Nz(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return"string"==typeof this.path?yz.basename(this.path,this.extname):void 0}set stem(e){Nz(e,"stem"),Cz(e,"stem"),this.path=yz.join(this.dirname||"",e+(this.extname||""))}fail(e,t,n){const i=this.message(e,t,n);throw i.fatal=!0,i}info(e,t,n){const i=this.message(e,t,n);return i.fatal=void 0,i}message(e,t,n){const i=new yL(e,t,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){if(void 0===this.value)return"";if("string"==typeof this.value)return this.value;return new TextDecoder(e||void 0).decode(this.value)}}function Cz(e,t){if(e&&e.includes(yz.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+yz.sep+"`")}function Nz(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function jz(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}const Tz=function(e){const t=this.constructor.prototype,n=t[e],i=function(){return n.apply(i,arguments)};return Object.setPrototypeOf(i,t),i},Ez={}.hasOwnProperty;class Iz extends Tz{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=vz()}copy(){const e=new Iz;let t=-1;for(;++t<this.attachers.length;){const n=this.attachers[t];e.use(...n)}return e.data(pz(!0,{},this.namespace)),e}data(e,t){return"string"==typeof e?2===arguments.length?(Rz("data",this.frozen),this.namespace[e]=t,this):Ez.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Rz("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...n]=this.attachers[this.freezeIndex];if(!1===n[0])continue;!0===n[0]&&(n[0]=void 0);const i=t.call(e,...n);"function"==typeof i&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=Oz(e),n=this.parser||this.Parser;return Az("parse",n),n(String(t),t)}process(e,t){const n=this;return this.freeze(),Az("process",this.parser||this.Parser),Mz("process",this.compiler||this.Compiler),t?i(void 0,t):new Promise(i);function i(i,r){const s=Oz(e),a=n.parse(s);function o(e,n){e||!n?r(e):i?i(n):t(void 0,n)}n.run(a,s,function(e,t,i){if(e||!t||!i)return o(e);const r=t,s=n.stringify(r,i);var a;"string"==typeof(a=s)||function(e){return Boolean(e&&"object"==typeof e&&"byteLength"in e&&"byteOffset"in e)}(a)?i.value=s:i.result=s,o(e,i)})}}processSync(e){let t,n=!1;return this.freeze(),Az("processSync",this.parser||this.Parser),Mz("processSync",this.compiler||this.Compiler),this.process(e,function(e,i){n=!0,fz(e),t=i}),Lz("processSync","process",n),t}run(e,t,n){Dz(e),this.freeze();const i=this.transformers;return n||"function"!=typeof t||(n=t,t=void 0),n?r(void 0,n):new Promise(r);function r(r,s){const a=Oz(t);i.run(e,a,function(t,i,a){const o=i||e;t?s(t):r?r(o):n(void 0,o,a)})}}runSync(e,t){let n,i=!1;return this.run(e,t,function(e,t){fz(e),n=t,i=!0}),Lz("runSync","run",i),n}stringify(e,t){this.freeze();const n=Oz(t),i=this.compiler||this.Compiler;return Mz("stringify",i),Dz(e),i(e,n)}use(e,...t){const n=this.attachers,i=this.namespace;if(Rz("use",this.frozen),null==e);else if("function"==typeof e)o(e,t);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");Array.isArray(e)?a(e):s(e)}return this;function r(e){if("function"==typeof e)o(e,[]);else{if("object"!=typeof e)throw new TypeError("Expected usable value, not `"+e+"`");if(Array.isArray(e)){const[t,...n]=e;o(t,n)}else s(e)}}function s(e){if(!("plugins"in e)&&!("settings"in e))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(e.plugins),e.settings&&(i.settings=pz(!0,i.settings,e.settings))}function a(e){let t=-1;if(null==e);else{if(!Array.isArray(e))throw new TypeError("Expected a list of plugins, not `"+e+"`");for(;++t<e.length;){r(e[t])}}}function o(e,t){let i=-1,r=-1;for(;++i<n.length;)if(n[i][0]===e){r=i;break}if(-1===r)n.push([e,...t]);else if(t.length>0){let[i,...s]=t;const a=n[r][1];gz(a)&&gz(i)&&(i=pz(!0,a,i)),n[r]=[e,i,...s]}}}}const Pz=(new Iz).freeze();function Az(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `parser`")}function Mz(e,t){if("function"!=typeof t)throw new TypeError("Cannot `"+e+"` without `compiler`")}function Rz(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Dz(e){if(!gz(e)||"string"!=typeof e.type)throw new TypeError("Expected node, got `"+e+"`")}function Lz(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Oz(e){return function(e){return Boolean(e&&"object"==typeof e&&"message"in e&&"messages"in e)}(e)?e:new Sz(e)}const Fz=[],zz={allowDangerousHtml:!0},Uz=/^(https?|ircs?|mailto|xmpp)$/i,Bz=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Vz(e){const t=function(e){const t=e.rehypePlugins||Fz,n=e.remarkPlugins||Fz,i=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...zz}:zz,r=Pz().use(PF).use(n).use(dz,i).use(t);return r}(e),n=function(e){const t=e.children||"",n=new Sz;"string"==typeof t&&(n.value=t);return n}(e);return function(e,t){const n=t.allowedElements,i=t.allowElement,r=t.components,s=t.disallowedElements,a=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||qz;for(const u of Bz)Object.hasOwn(t,u.from)&&hD((u.from,u.to&&u.to,u.id));return nz(e,c),CL(e,{Fragment:ht.Fragment,components:r,ignoreInvalidStyle:!0,jsx:ht.jsx,jsxs:ht.jsxs,passKeys:!0,passNode:!0});function c(e,t,r){if("raw"===e.type&&r&&"number"==typeof t)return a?r.children.splice(t,1):r.children[t]={type:"text",value:e.value},t;if("element"===e.type){let t;for(t in DL)if(Object.hasOwn(DL,t)&&Object.hasOwn(e.properties,t)){const n=e.properties[t],i=DL[t];(null===i||i.includes(e.tagName))&&(e.properties[t]=l(String(n||""),t,e))}}if("element"===e.type){let a=n?!n.includes(e.tagName):!!s&&s.includes(e.tagName);if(!a&&i&&"number"==typeof t&&(a=!i(e,t,r)),a&&r&&"number"==typeof t)return o&&e.children?r.children.splice(t,1,...e.children):r.children.splice(t,1),t}}}(t.runSync(t.parse(n),n),e)}function qz(e){const t=e.indexOf(":"),n=e.indexOf("?"),i=e.indexOf("#"),r=e.indexOf("/");return-1===t||-1!==r&&t>r||-1!==n&&t>n||-1!==i&&t>i||Uz.test(e.slice(0,t))?e:""}function $z(e,t){const n=String(e);if("string"!=typeof t)throw new TypeError("Expected character");let i=0,r=n.indexOf(t);for(;-1!==r;)i++,r=n.indexOf(t,r+t.length);return i}function Wz(e,t,n){const i=YF((n||{}).ignore||[]),r=function(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let i=-1;for(;++i<n.length;){const e=n[i];t.push([Hz(e[0]),Gz(e[1])])}return t}(t);let s=-1;for(;++s<r.length;)tz(e,"text",a);function a(e,t){let n,a=-1;for(;++a<t.length;){const e=t[a],r=n?n.children:void 0;if(i(e,r?r.indexOf(e):void 0,n))return;n=e}if(n)return function(e,t){const n=t[t.length-1],i=r[s][0],a=r[s][1];let o=0;const l=n.children.indexOf(e);let c=!1,u=[];i.lastIndex=0;let d=i.exec(e.value);for(;d;){const n=d.index,r={index:d.index,input:d.input,stack:[...t,e]};let s=a(...d,r);if("string"==typeof s&&(s=s.length>0?{type:"text",value:s}:void 0),!1===s?i.lastIndex=n+1:(o!==n&&u.push({type:"text",value:e.value.slice(o,n)}),Array.isArray(s)?u.push(...s):s&&u.push(s),o=n+d[0].length,c=!0),!i.global)break;d=i.exec(e.value)}c?(o<e.value.length&&u.push({type:"text",value:e.value.slice(o)}),n.children.splice(l,1,...u)):u=[e];return l+u.length}(e,t)}}function Hz(e){return"string"==typeof e?new RegExp(function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}(e),"g"):e}function Gz(e){return"function"==typeof e?e:function(){return e}}const Kz="phrasing",Yz=["autolink","link","image","label"];function Qz(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Xz(e){this.config.enter.autolinkProtocol.call(this,e)}function Jz(e){this.config.exit.autolinkProtocol.call(this,e)}function Zz(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function eU(e){this.config.exit.autolinkEmail.call(this,e)}function tU(e){this.exit(e)}function nU(e){Wz(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,iU],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),rU]],{ignore:["link","linkReference"]})}function iU(e,t,n,i,r){let s="";if(!sU(r))return!1;if(/^w/i.test(t)&&(n=t+n,t="",s="http://"),!function(e){const t=e.split(".");if(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))return!1;return!0}(n))return!1;const a=function(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],i=n.indexOf(")");const r=$z(e,"(");let s=$z(e,")");for(;-1!==i&&r>s;)e+=n.slice(0,i+1),n=n.slice(i+1),i=n.indexOf(")"),s++;return[e,n]}(n+i);if(!a[0])return!1;const o={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[o,{type:"text",value:a[1]}]:o}function rU(e,t,n,i){return!(!sU(i,!0)||/[-\d_]$/.test(n))&&{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function sU(e,t){const n=e.input.charCodeAt(e.index-1);return(0===e.index||oO(n)||aO(n))&&(!t||47!==n)}function aU(){this.buffer()}function oU(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function lU(){this.buffer()}function cU(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function uU(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=YL(this.sliceSerialize(e)).toLowerCase(),n.label=t}function dU(e){this.exit(e)}function fU(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=YL(this.sliceSerialize(e)).toLowerCase(),n.label=t}function hU(e){this.exit(e)}function mU(e,t,n,i){const r=n.createTracker(i);let s=r.move("[^");const a=n.enter("footnoteReference"),o=n.enter("reference");return s+=r.move(n.safe(n.associationId(e),{after:"]",before:s})),o(),a(),s+=r.move("]"),s}function pU(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:function(e,n,i,r){const s=i.createTracker(r);let a=s.move("[^");const o=i.enter("footnoteDefinition"),l=i.enter("label");a+=s.move(i.safe(i.associationId(e),{before:a,after:"]"})),l(),a+=s.move("]:"),e.children&&e.children.length>0&&(s.shift(4),a+=s.move((t?"\n":" ")+i.indentLines(i.containerFlow(e,s.current()),t?vU:gU)));return o(),a},footnoteReference:mU},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]}}function gU(e,t,n){return 0===t?e:vU(e,t,n)}function vU(e,t,n){return(n?"":"    ")+e}mU.peek=function(){return"["};const yU=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];function bU(e){this.enter({type:"delete",children:[]},e)}function wU(e){this.exit(e)}function kU(e,t,n,i){const r=n.createTracker(i),s=n.enter("strikethrough");let a=r.move("~~");return a+=n.containerPhrasing(e,{...r.current(),before:a,after:"~"}),a+=r.move("~~"),s(),a}function xU(e){return e.length}function _U(e){return null==e?"":String(e)}function SU(e){const t="string"==typeof e?e.codePointAt(0):0;return 67===t||99===t?99:76===t||108===t?108:82===t||114===t?114:0}function CU(e,t,n){return">"+(n?"":" ")+e}function NU(e,t){return jU(e,t.inConstruct,!0)&&!jU(e,t.notInConstruct,!1)}function jU(e,t,n){if("string"==typeof t&&(t=[t]),!t||0===t.length)return n;let i=-1;for(;++i<t.length;)if(e.includes(t[i]))return!0;return!1}function TU(e,t,n,i){let r=-1;for(;++r<n.unsafe.length;)if("\n"===n.unsafe[r].character&&NU(n.stack,n.unsafe[r]))return/[ \t]/.test(i.before)?"":" ";return"\\\n"}function EU(e,t,n){return(n?"":"    ")+e}function IU(e){const t=e.options.quote||'"';if('"'!==t&&"'"!==t)throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function PU(e){return"&#x"+e.toString(16).toUpperCase()+";"}function AU(e,t,n){const i=mO(e),r=mO(t);return void 0===i?void 0===r?"_"===n?{inside:!0,outside:!0}:{inside:!1,outside:!1}:1===r?{inside:!0,outside:!0}:{inside:!1,outside:!0}:1===i?void 0===r?{inside:!1,outside:!1}:1===r?{inside:!0,outside:!0}:{inside:!1,outside:!1}:void 0===r?{inside:!1,outside:!1}:1===r?{inside:!0,outside:!1}:{inside:!1,outside:!1}}function MU(e,t,n,i){const r=function(e){const t=e.options.emphasis||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}(n),s=n.enter("emphasis"),a=n.createTracker(i),o=a.move(r);let l=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const c=l.charCodeAt(0),u=AU(i.before.charCodeAt(i.before.length-1),c,r);u.inside&&(l=PU(c)+l.slice(1));const d=l.charCodeAt(l.length-1),f=AU(i.after.charCodeAt(0),d,r);f.inside&&(l=l.slice(0,-1)+PU(d));const h=a.move(r);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},o+l+h}function RU(e){return e.value||""}function DU(e,t,n,i){const r=IU(n),s='"'===r?"Quote":"Apostrophe",a=n.enter("image");let o=n.enter("label");const l=n.createTracker(i);let c=l.move("![");return c+=l.move(n.safe(e.alt,{before:c,after:"]",...l.current()})),c+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),c+=l.move(" "+r),c+=l.move(n.safe(e.title,{before:c,after:r,...l.current()})),c+=l.move(r),o()),c+=l.move(")"),a(),c}function LU(e,t,n,i){const r=e.referenceType,s=n.enter("imageReference");let a=n.enter("label");const o=n.createTracker(i);let l=o.move("![");const c=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=u,s(),"full"!==r&&c&&c===d?"shortcut"===r?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(d+"]"),l}function OU(e,t,n){let i=e.value||"",r="`",s=-1;for(;new RegExp("(^|[^`])"+r+"([^`]|$)").test(i);)r+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++s<n.unsafe.length;){const e=n.unsafe[s],t=n.compilePattern(e);let r;if(e.atBreak)for(;r=t.exec(i);){let e=r.index;10===i.charCodeAt(e)&&13===i.charCodeAt(e-1)&&e--,i=i.slice(0,e)+" "+i.slice(r.index+1)}}return r+i+r}function FU(e,t){const n=OL(e);return Boolean(!t.options.resourceLink&&e.url&&!e.title&&e.children&&1===e.children.length&&"text"===e.children[0].type&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}function zU(e,t,n,i){const r=IU(n),s='"'===r?"Quote":"Apostrophe",a=n.createTracker(i);let o,l;if(FU(e,n)){const t=n.stack;n.stack=[],o=n.enter("autolink");let i=a.move("<");return i+=a.move(n.containerPhrasing(e,{before:i,after:">",...a.current()})),i+=a.move(">"),o(),n.stack=t,i}o=n.enter("link"),l=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(e,{before:c,after:"](",...a.current()})),c+=a.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(e.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(l=n.enter("destinationRaw"),c+=a.move(n.safe(e.url,{before:c,after:e.title?" ":")",...a.current()}))),l(),e.title&&(l=n.enter(`title${s}`),c+=a.move(" "+r),c+=a.move(n.safe(e.title,{before:c,after:r,...a.current()})),c+=a.move(r),l()),c+=a.move(")"),o(),c}function UU(e,t,n,i){const r=e.referenceType,s=n.enter("linkReference");let a=n.enter("label");const o=n.createTracker(i);let l=o.move("[");const c=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(c+"]["),a();const u=n.stack;n.stack=[],a=n.enter("reference");const d=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return a(),n.stack=u,s(),"full"!==r&&c&&c===d?"shortcut"===r?l=l.slice(0,-1):l+=o.move("]"):l+=o.move(d+"]"),l}function BU(e){const t=e.options.bullet||"*";if("*"!==t&&"+"!==t&&"-"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function VU(e){const t=e.options.rule||"*";if("*"!==t&&"-"!==t&&"_"!==t)throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}kU.peek=function(){return"~"},MU.peek=function(e,t,n){return n.options.emphasis||"*"},RU.peek=function(){return"<"},DU.peek=function(){return"!"},LU.peek=function(){return"!"},OU.peek=function(){return"`"},zU.peek=function(e,t,n){return FU(e,n)?"<":"["},UU.peek=function(){return"["};const qU=YF(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function $U(e,t,n,i){const r=function(e){const t=e.options.strong||"*";if("*"!==t&&"_"!==t)throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}(n),s=n.enter("strong"),a=n.createTracker(i),o=a.move(r+r);let l=a.move(n.containerPhrasing(e,{after:r,before:o,...a.current()}));const c=l.charCodeAt(0),u=AU(i.before.charCodeAt(i.before.length-1),c,r);u.inside&&(l=PU(c)+l.slice(1));const d=l.charCodeAt(l.length-1),f=AU(i.after.charCodeAt(0),d,r);f.inside&&(l=l.slice(0,-1)+PU(d));const h=a.move(r+r);return s(),n.attentionEncodeSurroundingInfo={after:f.outside,before:u.outside},o+l+h}$U.peek=function(e,t,n){return n.options.strong||"*"};const WU={blockquote:function(e,t,n,i){const r=n.enter("blockquote"),s=n.createTracker(i);s.move("> "),s.shift(2);const a=n.indentLines(n.containerFlow(e,s.current()),CU);return r(),a},break:TU,code:function(e,t,n,i){const r=function(e){const t=e.options.fence||"`";if("`"!==t&&"~"!==t)throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}(n),s=e.value||"",a="`"===r?"GraveAccent":"Tilde";if(function(e,t){return Boolean(!1===t.options.fences&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}(e,n)){const e=n.enter("codeIndented"),t=n.indentLines(s,EU);return e(),t}const o=n.createTracker(i),l=r.repeat(Math.max(function(e,t){const n=String(e);let i=n.indexOf(t),r=i,s=0,a=0;if("string"!=typeof t)throw new TypeError("Expected substring");for(;-1!==i;)i===r?++s>a&&(a=s):s=1,r=i+t.length,i=n.indexOf(t,r);return a}(s,r)+1,3)),c=n.enter("codeFenced");let u=o.move(l);if(e.lang){const t=n.enter(`codeFencedLang${a}`);u+=o.move(n.safe(e.lang,{before:u,after:" ",encode:["`"],...o.current()})),t()}if(e.lang&&e.meta){const t=n.enter(`codeFencedMeta${a}`);u+=o.move(" "),u+=o.move(n.safe(e.meta,{before:u,after:"\n",encode:["`"],...o.current()})),t()}return u+=o.move("\n"),s&&(u+=o.move(s+"\n")),u+=o.move(l),c(),u},definition:function(e,t,n,i){const r=IU(n),s='"'===r?"Quote":"Apostrophe",a=n.enter("definition");let o=n.enter("label");const l=n.createTracker(i);let c=l.move("[");return c+=l.move(n.safe(n.associationId(e),{before:c,after:"]",...l.current()})),c+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),c+=l.move("<"),c+=l.move(n.safe(e.url,{before:c,after:">",...l.current()})),c+=l.move(">")):(o=n.enter("destinationRaw"),c+=l.move(n.safe(e.url,{before:c,after:e.title?" ":"\n",...l.current()}))),o(),e.title&&(o=n.enter(`title${s}`),c+=l.move(" "+r),c+=l.move(n.safe(e.title,{before:c,after:r,...l.current()})),c+=l.move(r),o()),a(),c},emphasis:MU,hardBreak:TU,heading:function(e,t,n,i){const r=Math.max(Math.min(6,e.depth||1),1),s=n.createTracker(i);if(function(e,t){let n=!1;return nz(e,function(e){if("value"in e&&/\r?\n|\r/.test(e.value)||"break"===e.type)return n=!0,ez}),Boolean((!e.depth||e.depth<3)&&OL(e)&&(t.options.setext||n))}(e,n)){const t=n.enter("headingSetext"),i=n.enter("phrasing"),a=n.containerPhrasing(e,{...s.current(),before:"\n",after:"\n"});return i(),t(),a+"\n"+(1===r?"=":"-").repeat(a.length-(Math.max(a.lastIndexOf("\r"),a.lastIndexOf("\n"))+1))}const a="#".repeat(r),o=n.enter("headingAtx"),l=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(e,{before:"# ",after:"\n",...s.current()});return/^[\t ]/.test(c)&&(c=PU(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),l(),o(),c},html:RU,image:DU,imageReference:LU,inlineCode:OU,link:zU,linkReference:UU,list:function(e,t,n,i){const r=n.enter("list"),s=n.bulletCurrent;let a=e.ordered?function(e){const t=e.options.bulletOrdered||".";if("."!==t&&")"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}(n):BU(n);const o=e.ordered?"."===a?")":".":function(e){const t=BU(e),n=e.options.bulletOther;if(!n)return"*"===t?"-":"*";if("*"!==n&&"+"!==n&&"-"!==n)throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}(n);let l=!(!t||!n.bulletLastUsed)&&a===n.bulletLastUsed;if(!e.ordered){const t=e.children?e.children[0]:void 0;if("*"!==a&&"-"!==a||!t||t.children&&t.children[0]||"list"!==n.stack[n.stack.length-1]||"listItem"!==n.stack[n.stack.length-2]||"list"!==n.stack[n.stack.length-3]||"listItem"!==n.stack[n.stack.length-4]||0!==n.indexStack[n.indexStack.length-1]||0!==n.indexStack[n.indexStack.length-2]||0!==n.indexStack[n.indexStack.length-3]||(l=!0),VU(n)===a&&t){let t=-1;for(;++t<e.children.length;){const n=e.children[t];if(n&&"listItem"===n.type&&n.children&&n.children[0]&&"thematicBreak"===n.children[0].type){l=!0;break}}}}l&&(a=o),n.bulletCurrent=a;const c=n.containerFlow(e,i);return n.bulletLastUsed=a,n.bulletCurrent=s,r(),c},listItem:function(e,t,n,i){const r=function(e){const t=e.options.listItemIndent||"one";if("tab"!==t&&"one"!==t&&"mixed"!==t)throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}(n);let s=n.bulletCurrent||BU(n);t&&"list"===t.type&&t.ordered&&(s=("number"==typeof t.start&&t.start>-1?t.start:1)+(!1===n.options.incrementListMarker?0:t.children.indexOf(e))+s);let a=s.length+1;("tab"===r||"mixed"===r&&(t&&"list"===t.type&&t.spread||e.spread))&&(a=4*Math.ceil(a/4));const o=n.createTracker(i);o.move(s+" ".repeat(a-s.length)),o.shift(a);const l=n.enter("listItem"),c=n.indentLines(n.containerFlow(e,o.current()),function(e,t,n){if(t)return(n?"":" ".repeat(a))+e;return(n?s:s+" ".repeat(a-s.length))+e});return l(),c},paragraph:function(e,t,n,i){const r=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(e,i);return s(),r(),a},root:function(e,t,n,i){return(e.children.some(function(e){return qU(e)})?n.containerPhrasing:n.containerFlow).call(n,e,i)},strong:$U,text:function(e,t,n,i){return n.safe(e.value,i)},thematicBreak:function(e,t,n){const i=(VU(n)+(n.options.ruleSpaces?" ":"")).repeat(function(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}(n));return n.options.ruleSpaces?i.slice(0,-1):i}};function HU(e){const t=e._align;this.enter({type:"table",align:t.map(function(e){return"none"===e?null:e}),children:[]},e),this.data.inTable=!0}function GU(e){this.exit(e),this.data.inTable=void 0}function KU(e){this.enter({type:"tableRow",children:[]},e)}function YU(e){this.exit(e)}function QU(e){this.enter({type:"tableCell",children:[]},e)}function XU(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,JU));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function JU(e,t){return"|"===t?t:e}function ZU(e){const t=e||{},n=t.tableCellPadding,i=t.tablePipeAlign,r=t.stringLength,s=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:"\n",inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[\t :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:function(e,t,n){let i=WU.inlineCode(e,t,n);n.stack.includes("tableCell")&&(i=i.replace(/\|/g,"\\$&"));return i},table:function(e,t,n,i){return o(function(e,t,n){const i=e.children;let r=-1;const s=[],a=t.enter("table");for(;++r<i.length;)s[r]=l(i[r],t,n);return a(),s}(e,n,i),e.align)},tableCell:a,tableRow:function(e,t,n,i){const r=o([l(e,n,i)]);return r.slice(0,r.indexOf("\n"))}}};function a(e,t,n,i){const r=n.enter("tableCell"),a=n.enter("phrasing"),o=n.containerPhrasing(e,{...i,before:s,after:s});return a(),r(),o}function o(e,t){return function(e,t){const n=t||{},i=(n.align||[]).concat(),r=n.stringLength||xU,s=[],a=[],o=[],l=[];let c=0,u=-1;for(;++u<e.length;){const t=[],i=[];let s=-1;for(e[u].length>c&&(c=e[u].length);++s<e[u].length;){const a=_U(e[u][s]);if(!1!==n.alignDelimiters){const e=r(a);i[s]=e,(void 0===l[s]||e>l[s])&&(l[s]=e)}t.push(a)}a[u]=t,o[u]=i}let d=-1;if("object"==typeof i&&"length"in i)for(;++d<c;)s[d]=SU(i[d]);else{const e=SU(i);for(;++d<c;)s[d]=e}d=-1;const f=[],h=[];for(;++d<c;){const e=s[d];let t="",i="";99===e?(t=":",i=":"):108===e?t=":":114===e&&(i=":");let r=!1===n.alignDelimiters?1:Math.max(1,l[d]-t.length-i.length);const a=t+"-".repeat(r)+i;!1!==n.alignDelimiters&&(r=t.length+r+i.length,r>l[d]&&(l[d]=r),h[d]=r),f[d]=a}a.splice(1,0,f),o.splice(1,0,h),u=-1;const m=[];for(;++u<a.length;){const e=a[u],t=o[u];d=-1;const i=[];for(;++d<c;){const r=e[d]||"";let a="",o="";if(!1!==n.alignDelimiters){const e=l[d]-(t[d]||0),n=s[d];114===n?a=" ".repeat(e):99===n?e%2?(a=" ".repeat(e/2+.5),o=" ".repeat(e/2-.5)):(a=" ".repeat(e/2),o=a):o=" ".repeat(e)}!1===n.delimiterStart||d||i.push("|"),!1===n.padding||!1===n.alignDelimiters&&""===r||!1===n.delimiterStart&&!d||i.push(" "),!1!==n.alignDelimiters&&i.push(a),i.push(r),!1!==n.alignDelimiters&&i.push(o),!1!==n.padding&&i.push(" "),!1===n.delimiterEnd&&d===c-1||i.push("|")}m.push(!1===n.delimiterEnd?i.join("").replace(/ +$/,""):i.join(""))}return m.join("\n")}(e,{align:t,alignDelimiters:i,padding:n,stringLength:r})}function l(e,t,n){const i=e.children;let r=-1;const s=[],o=t.enter("tableRow");for(;++r<i.length;)s[r]=a(i[r],0,t,n);return o(),s}}function eB(e){const t=this.stack[this.stack.length-2];t.type,t.checked="taskListCheckValueChecked"===e.type}function tB(e){const t=this.stack[this.stack.length-2];if(t&&"listItem"===t.type&&"boolean"==typeof t.checked){const e=this.stack[this.stack.length-1];e.type;const n=e.children[0];if(n&&"text"===n.type){const i=t.children;let r,s=-1;for(;++s<i.length;){const e=i[s];if("paragraph"===e.type){r=e;break}}r===e&&(n.value=n.value.slice(1),0===n.value.length?e.children.shift():e.position&&n.position&&"number"==typeof n.position.start.offset&&(n.position.start.column++,n.position.start.offset++,e.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function nB(e,t,n,i){const r=e.children[0],s="boolean"==typeof e.checked&&r&&"paragraph"===r.type,a="["+(e.checked?"x":" ")+"] ",o=n.createTracker(i);s&&o.move(a);let l=WU.listItem(e,t,n,{...i,...o.current()});return s&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,function(e){return e+a})),l}const iB={tokenize:function(e,t,n){let i=0;return function t(s){if((87===s||119===s)&&i<3)return i++,e.consume(s),t;if(46===s&&3===i)return e.consume(s),r;return n(s)};function r(e){return null===e?n(e):t(e)}},partial:!0},rB={tokenize:function(e,t,n){let i,r,s;return a;function a(t){return 46===t||95===t?e.check(aB,l,o)(t):null===t||rO(t)||oO(t)||45!==t&&aO(t)?l(t):(s=!0,e.consume(t),a)}function o(t){return 95===t?i=!0:(r=i,i=void 0),e.consume(t),a}function l(e){return r||i||!s?n(e):t(e)}},partial:!0},sB={tokenize:function(e,t){let n=0,i=0;return r;function r(a){return 40===a?(n++,e.consume(a),r):41===a&&i<n?s(a):33===a||34===a||38===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||60===a||63===a||93===a||95===a||126===a?e.check(aB,t,s)(a):null===a||rO(a)||oO(a)?t(a):(e.consume(a),r)}function s(t){return 41===t&&i++,e.consume(t),r}},partial:!0},aB={tokenize:function(e,t,n){return i;function i(a){return 33===a||34===a||39===a||41===a||42===a||44===a||46===a||58===a||59===a||63===a||95===a||126===a?(e.consume(a),i):38===a?(e.consume(a),s):93===a?(e.consume(a),r):60===a||null===a||rO(a)||oO(a)?t(a):n(a)}function r(e){return null===e||40===e||91===e||rO(e)||oO(e)?t(e):i(e)}function s(e){return QL(e)?a(e):n(e)}function a(t){return 59===t?(e.consume(t),i):QL(t)?(e.consume(t),a):n(t)}},partial:!0},oB={tokenize:function(e,t,n){return function(t){return e.consume(t),i};function i(e){return XL(e)?n(e):t(e)}},partial:!0},lB={name:"wwwAutolink",tokenize:function(e,t,n){const i=this;return function(t){if(87!==t&&119!==t||!hB.call(i,i.previous)||vB(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(iB,e.attempt(rB,e.attempt(sB,r),n),n)(t)};function r(n){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(n)}},previous:hB},cB={name:"protocolAutolink",tokenize:function(e,t,n){const i=this;let r="",s=!1;return function(t){if((72===t||104===t)&&mB.call(i,i.previous)&&!vB(i.events))return e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),r+=String.fromCodePoint(t),e.consume(t),a;return n(t)};function a(t){if(QL(t)&&r.length<5)return r+=String.fromCodePoint(t),e.consume(t),a;if(58===t){const n=r.toLowerCase();if("http"===n||"https"===n)return e.consume(t),o}return n(t)}function o(t){return 47===t?(e.consume(t),s?l:(s=!0,o)):n(t)}function l(t){return null===t||ZL(t)||rO(t)||oO(t)||aO(t)?n(t):e.attempt(rB,e.attempt(sB,c),n)(t)}function c(n){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(n)}},previous:mB},uB={name:"emailAutolink",tokenize:function(e,t,n){const i=this;let r,s;return function(t){if(!gB(t)||!pB.call(i,i.previous)||vB(i.events))return n(t);return e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),a(t)};function a(t){return gB(t)?(e.consume(t),a):64===t?(e.consume(t),o):n(t)}function o(t){return 46===t?e.check(oB,c,l)(t):45===t||95===t||XL(t)?(s=!0,e.consume(t),o):c(t)}function l(t){return e.consume(t),r=!0,o}function c(a){return s&&r&&QL(i.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(a)):n(a)}},previous:pB},dB={};let fB=48;for(;fB<123;)dB[fB]=uB,fB++,58===fB?fB=65:91===fB&&(fB=97);function hB(e){return null===e||40===e||42===e||95===e||91===e||93===e||126===e||rO(e)}function mB(e){return!QL(e)}function pB(e){return!(47===e||gB(e))}function gB(e){return 43===e||45===e||46===e||95===e||XL(e)}function vB(e){let t=e.length,n=!1;for(;t--;){const i=e[t][1];if(("labelLink"===i.type||"labelImage"===i.type)&&!i._balanced){n=!0;break}if(i._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}dB[43]=uB,dB[45]=uB,dB[46]=uB,dB[95]=uB,dB[72]=[uB,cB],dB[104]=[uB,cB],dB[87]=[uB,lB],dB[119]=[uB,lB];const yB={tokenize:function(e,t,n){const i=this;return uO(e,function(e){const r=i.events[i.events.length-1];return r&&"gfmFootnoteDefinitionIndent"===r[1].type&&4===r[2].sliceSerialize(r[1],!0).length?t(e):n(e)},"gfmFootnoteDefinitionIndent",5)},partial:!0};function bB(e,t,n){const i=this;let r=i.events.length;const s=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let a;for(;r--;){const e=i.events[r][1];if("labelImage"===e.type){a=e;break}if("gfmFootnoteCall"===e.type||"labelLink"===e.type||"label"===e.type||"image"===e.type||"link"===e.type)break}return function(r){if(!a||!a._balanced)return n(r);const o=YL(i.sliceSerialize({start:a.end,end:i.now()}));if(94!==o.codePointAt(0)||!s.includes(o.slice(1)))return n(r);return e.enter("gfmFootnoteCallLabelMarker"),e.consume(r),e.exit("gfmFootnoteCallLabelMarker"),t(r)}}function wB(e,t){let n=e.length;for(;n--;)if("labelImage"===e[n][1].type&&"enter"===e[n][0]){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const i={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},r={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};r.end.column++,r.end.offset++,r.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},r.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},o=[e[n+1],e[n+2],["enter",i,t],e[n+3],e[n+4],["enter",r,t],["exit",r,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",i,t]];return e.splice(n,e.length-n+1,...o),e}function kB(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,a=0;return function(t){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(t),e.exit("gfmFootnoteCallLabelMarker"),o};function o(t){return 94!==t?n(t):(e.enter("gfmFootnoteCallMarker"),e.consume(t),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",l)}function l(o){if(a>999||93===o&&!s||null===o||91===o||rO(o))return n(o);if(93===o){e.exit("chunkString");const s=e.exit("gfmFootnoteCallString");return r.includes(YL(i.sliceSerialize(s)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(o)}return rO(o)||(s=!0),a++,e.consume(o),92===o?c:l}function c(t){return 91===t||92===t||93===t?(e.consume(t),a++,l):l(t)}}function xB(e,t,n){const i=this,r=i.parser.gfmFootnotes||(i.parser.gfmFootnotes=[]);let s,a,o=0;return function(t){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),l};function l(t){return 94===t?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",c):n(t)}function c(t){if(o>999||93===t&&!a||null===t||91===t||rO(t))return n(t);if(93===t){e.exit("chunkString");const n=e.exit("gfmFootnoteDefinitionLabelString");return s=YL(i.sliceSerialize(n)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(t),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),d}return rO(t)||(a=!0),o++,e.consume(t),92===t?u:c}function u(t){return 91===t||92===t||93===t?(e.consume(t),o++,c):c(t)}function d(t){return 58===t?(e.enter("definitionMarker"),e.consume(t),e.exit("definitionMarker"),r.includes(s)||r.push(s),uO(e,f,"gfmFootnoteDefinitionWhitespace")):n(t)}function f(e){return t(e)}}function _B(e,t,n){return e.check(bO,t,e.attempt(yB,t,n))}function SB(e){e.exit("gfmFootnoteDefinition")}function CB(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:function(e,n,i){const r=this.previous,s=this.events;let a=0;return function(t){if(126===r&&"characterEscape"!==s[s.length-1][1].type)return i(t);return e.enter("strikethroughSequenceTemporary"),o(t)};function o(s){const l=mO(r);if(126===s)return a>1?i(s):(e.consume(s),a++,o);if(a<2&&!t)return i(s);const c=e.exit("strikethroughSequenceTemporary"),u=mO(s);return c._open=!u||2===u&&Boolean(l),c._close=!l||2===l&&Boolean(u),n(s)}},resolveAll:function(e,t){let n=-1;for(;++n<e.length;)if("enter"===e[n][0]&&"strikethroughSequenceTemporary"===e[n][1].type&&e[n][1]._close){let i=n;for(;i--;)if("exit"===e[i][0]&&"strikethroughSequenceTemporary"===e[i][1].type&&e[i][1]._open&&e[n][1].end.offset-e[n][1].start.offset===e[i][1].end.offset-e[i][1].start.offset){e[n][1].type="strikethroughSequence",e[i][1].type="strikethroughSequence";const r={type:"strikethrough",start:Object.assign({},e[i][1].start),end:Object.assign({},e[n][1].end)},s={type:"strikethroughText",start:Object.assign({},e[i][1].end),end:Object.assign({},e[n][1].start)},a=[["enter",r,t],["enter",e[i][1],t],["exit",e[i][1],t],["enter",s,t]],o=t.parser.constructs.insideSpan.null;o&&VL(a,a.length,0,pO(o,e.slice(i+1,n),t)),VL(a,a.length,0,[["exit",s,t],["enter",e[n][1],t],["exit",e[n][1],t],["exit",r,t]]),VL(e,i-1,n-i+3,a),n=i+a.length-2;break}}n=-1;for(;++n<e.length;)"strikethroughSequenceTemporary"===e[n][1].type&&(e[n][1].type="data");return e}};return null==t&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}}}class NB{constructor(){this.map=[]}add(e,t,n){!function(e,t,n,i){let r=0;if(0===n&&0===i.length)return;for(;r<e.map.length;){if(e.map[r][0]===t)return e.map[r][1]+=n,void e.map[r][2].push(...i);r+=1}e.map.push([t,n,i])}(this,e,t,n)}consume(e){if(this.map.sort(function(e,t){return e[0]-t[0]}),0===this.map.length)return;let t=this.map.length;const n=[];for(;t>0;)t-=1,n.push(e.slice(this.map[t][0]+this.map[t][1]),this.map[t][2]),e.length=this.map[t][0];n.push(e.slice()),e.length=0;let i=n.pop();for(;i;){for(const t of i)e.push(t);i=n.pop()}this.map.length=0}}function jB(e,t){let n=!1;const i=[];for(;t<e.length;){const r=e[t];if(n){if("enter"===r[0])"tableContent"===r[1].type&&i.push("tableDelimiterMarker"===e[t+1][1].type?"left":"none");else if("tableContent"===r[1].type){if("tableDelimiterMarker"===e[t-1][1].type){const e=i.length-1;i[e]="left"===i[e]?"center":"right"}}else if("tableDelimiterRow"===r[1].type)break}else"enter"===r[0]&&"tableDelimiterRow"===r[1].type&&(n=!0);t+=1}return i}function TB(e,t,n){const i=this;let r,s=0,a=0;return function(e){let t=i.events.length-1;for(;t>-1;){const e=i.events[t][1].type;if("lineEnding"!==e&&"linePrefix"!==e)break;t--}const r=t>-1?i.events[t][1].type:null,s="tableHead"===r||"tableRow"===r?w:o;if(s===w&&i.parser.lazy[i.now().line])return n(e);return s(e)};function o(t){return e.enter("tableHead"),e.enter("tableRow"),function(e){if(124===e)return l(e);return r=!0,a+=1,l(e)}(t)}function l(t){return null===t?n(t):iO(t)?a>1?(a=0,i.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(t),e.exit("lineEnding"),d):n(t):sO(t)?uO(e,l,"whitespace")(t):(a+=1,r&&(r=!1,s+=1),124===t?(e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),r=!0,l):(e.enter("data"),c(t)))}function c(t){return null===t||124===t||rO(t)?(e.exit("data"),l(t)):(e.consume(t),92===t?u:c)}function u(t){return 92===t||124===t?(e.consume(t),c):c(t)}function d(t){return i.interrupt=!1,i.parser.lazy[i.now().line]?n(t):(e.enter("tableDelimiterRow"),r=!1,sO(t)?uO(e,f,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(t):f(t))}function f(t){return 45===t||58===t?m(t):124===t?(r=!0,e.enter("tableCellDivider"),e.consume(t),e.exit("tableCellDivider"),h):b(t)}function h(t){return sO(t)?uO(e,m,"whitespace")(t):m(t)}function m(t){return 58===t?(a+=1,r=!0,e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),p):45===t?(a+=1,p(t)):null===t||iO(t)?y(t):b(t)}function p(t){return 45===t?(e.enter("tableDelimiterFiller"),g(t)):b(t)}function g(t){return 45===t?(e.consume(t),g):58===t?(r=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(t),e.exit("tableDelimiterMarker"),v):(e.exit("tableDelimiterFiller"),v(t))}function v(t){return sO(t)?uO(e,y,"whitespace")(t):y(t)}function y(n){return 124===n?f(n):(null===n||iO(n))&&r&&s===a?(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(n)):b(n)}function b(e){return n(e)}function w(t){return e.enter("tableRow"),k(t)}function k(n){return 124===n?(e.enter("tableCellDivider"),e.consume(n),e.exit("tableCellDivider"),k):null===n||iO(n)?(e.exit("tableRow"),t(n)):sO(n)?uO(e,k,"whitespace")(n):(e.enter("data"),x(n))}function x(t){return null===t||124===t||rO(t)?(e.exit("data"),k(t)):(e.consume(t),92===t?_:x)}function _(t){return 92===t||124===t?(e.consume(t),x):x(t)}}function EB(e,t){let n,i,r,s=-1,a=!0,o=0,l=[0,0,0,0],c=[0,0,0,0],u=!1,d=0;const f=new NB;for(;++s<e.length;){const h=e[s],m=h[1];"enter"===h[0]?"tableHead"===m.type?(u=!1,0!==d&&(PB(f,t,d,n,i),i=void 0,d=0),n={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(s,0,[["enter",n,t]])):"tableRow"===m.type||"tableDelimiterRow"===m.type?(a=!0,r=void 0,l=[0,0,0,0],c=[0,s+1,0,0],u&&(u=!1,i={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},f.add(s,0,[["enter",i,t]])),o="tableDelimiterRow"===m.type?2:i?3:1):!o||"data"!==m.type&&"tableDelimiterMarker"!==m.type&&"tableDelimiterFiller"!==m.type?"tableCellDivider"===m.type&&(a?a=!1:(0!==l[1]&&(c[0]=c[1],r=IB(f,t,l,o,void 0,r)),l=c,c=[l[1],s,0,0])):(a=!1,0===c[2]&&(0!==l[1]&&(c[0]=c[1],r=IB(f,t,l,o,void 0,r),l=[0,0,0,0]),c[2]=s)):"tableHead"===m.type?(u=!0,d=s):"tableRow"===m.type||"tableDelimiterRow"===m.type?(d=s,0!==l[1]?(c[0]=c[1],r=IB(f,t,l,o,s,r)):0!==c[1]&&(r=IB(f,t,c,o,s,r)),o=0):!o||"data"!==m.type&&"tableDelimiterMarker"!==m.type&&"tableDelimiterFiller"!==m.type||(c[3]=s)}for(0!==d&&PB(f,t,d,n,i),f.consume(t.events),s=-1;++s<t.events.length;){const e=t.events[s];"enter"===e[0]&&"table"===e[1].type&&(e[1]._align=jB(t.events,s))}return e}function IB(e,t,n,i,r,s){const a=1===i?"tableHeader":2===i?"tableDelimiter":"tableData";0!==n[0]&&(s.end=Object.assign({},AB(t.events,n[0])),e.add(n[0],0,[["exit",s,t]]));const o=AB(t.events,n[1]);if(s={type:a,start:Object.assign({},o),end:Object.assign({},o)},e.add(n[1],0,[["enter",s,t]]),0!==n[2]){const r=AB(t.events,n[2]),s=AB(t.events,n[3]),a={type:"tableContent",start:Object.assign({},r),end:Object.assign({},s)};if(e.add(n[2],0,[["enter",a,t]]),2!==i){const i=t.events[n[2]],r=t.events[n[3]];if(i[1].end=Object.assign({},r[1].end),i[1].type="chunkText",i[1].contentType="text",n[3]>n[2]+1){const t=n[2]+1,i=n[3]-n[2]-1;e.add(t,i,[])}}e.add(n[3]+1,0,[["exit",a,t]])}return void 0!==r&&(s.end=Object.assign({},AB(t.events,r)),e.add(r,0,[["exit",s,t]]),s=void 0),s}function PB(e,t,n,i,r){const s=[],a=AB(t.events,n);r&&(r.end=Object.assign({},a),s.push(["exit",r,t])),i.end=Object.assign({},a),s.push(["exit",i,t]),e.add(n+1,0,s)}function AB(e,t){const n=e[t],i="enter"===n[0]?"start":"end";return n[1][i]}const MB={name:"tasklistCheck",tokenize:function(e,t,n){const i=this;return function(t){if(null!==i.previous||!i._gfmTasklistFirstContentOfListItem)return n(t);return e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),r};function r(t){return rO(t)?(e.enter("taskListCheckValueUnchecked"),e.consume(t),e.exit("taskListCheckValueUnchecked"),s):88===t||120===t?(e.enter("taskListCheckValueChecked"),e.consume(t),e.exit("taskListCheckValueChecked"),s):n(t)}function s(t){return 93===t?(e.enter("taskListCheckMarker"),e.consume(t),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),a):n(t)}function a(i){return iO(i)?t(i):sO(i)?e.check({tokenize:RB},t,n)(i):n(i)}}};function RB(e,t,n){return uO(e,function(e){return null===e?n(e):t(e)},"whitespace")}const DB={};function LB(e){const t=e||DB,n=this.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),r=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),s=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(function(e){return WL([{text:dB},{document:{91:{name:"gfmFootnoteDefinition",tokenize:xB,continuation:{tokenize:_B},exit:SB}},text:{91:{name:"gfmFootnoteCall",tokenize:kB},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:bB,resolveTo:wB}}},CB(e),{flow:{null:{name:"table",tokenize:TB,resolveAll:EB}}},{text:{91:MB}}])}(t)),r.push([{transforms:[nU],enter:{literalAutolink:Qz,literalAutolinkEmail:Xz,literalAutolinkHttp:Xz,literalAutolinkWww:Xz},exit:{literalAutolink:tU,literalAutolinkEmail:eU,literalAutolinkHttp:Jz,literalAutolinkWww:Zz}},{enter:{gfmFootnoteCallString:aU,gfmFootnoteCall:oU,gfmFootnoteDefinitionLabelString:lU,gfmFootnoteDefinition:cU},exit:{gfmFootnoteCallString:uU,gfmFootnoteCall:dU,gfmFootnoteDefinitionLabelString:fU,gfmFootnoteDefinition:hU}},{canContainEols:["delete"],enter:{strikethrough:bU},exit:{strikethrough:wU}},{enter:{table:HU,tableData:QU,tableHeader:QU,tableRow:KU},exit:{codeText:XU,table:GU,tableData:YU,tableHeader:YU,tableRow:YU}},{exit:{taskListCheckValueChecked:eB,taskListCheckValueUnchecked:eB,paragraph:tB}}]),s.push(function(e){return{extensions:[{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Kz,notInConstruct:Yz},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Kz,notInConstruct:Yz},{character:":",before:"[ps]",after:"\\/",inConstruct:Kz,notInConstruct:Yz}]},pU(e),{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:yU}],handlers:{delete:kU}},ZU(e),{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:nB}}]}}(t))}const OB=({text:e})=>e?ht.jsx("div",{className:"whitespace-pre-wrap break-words text-[#111b21] dark:text-gray-100",children:ht.jsx(Vz,{remarkPlugins:[LB],components:{strong:({children:e})=>ht.jsx("strong",{className:"font-bold",children:e}),em:({children:e})=>ht.jsx("em",{className:"italic",children:e}),del:({children:e})=>ht.jsx("del",{className:"line-through opacity-75",children:e}),code:({inline:e,children:t})=>e?ht.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 px-1.5 py-0.5 rounded text-sm font-mono",children:t}):ht.jsx("code",{className:"block bg-gray-200 dark:bg-gray-700 p-2 rounded text-sm font-mono my-1 overflow-x-auto",children:t}),a:({href:e,children:t})=>ht.jsx("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",onClick:e=>e.stopPropagation(),children:t}),p:({children:e})=>ht.jsx("span",{children:e})},children:e})}):null,FB=640,zB=768,UB=1024,BB=1280,VB=1536,qB="mobile-small",$B="mobile-large",WB="tablet",HB="desktop",GB="desktop-large",KB=()=>{const[e,t]=n.useState("undefined"!=typeof window?window.innerWidth:1024);n.useEffect(()=>{let e;const n=()=>{clearTimeout(e),e=setTimeout(()=>{t(window.innerWidth)},150)};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n),clearTimeout(e)}},[]);return n.useMemo(()=>{const t="undefined"!=typeof window?window.innerHeight:768,n=t>e,i=e>=t,r="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0),s="undefined"!=typeof window&&window.matchMedia("(hover: hover)").matches;let a;a=e<FB?qB:e<zB?$B:e<UB?WB:e<1440?HB:GB;return{width:e,height:t,isPortrait:n,isLandscape:i,hasTouch:r,hasHover:s,isTouchDevice:r&&!s,screenSize:a,isMobileSmall:e<FB,isMobileLarge:e>=FB&&e<zB,isMobile:e<zB,isTablet:e>=zB&&e<UB,isDesktop:e>=UB,isDesktopLarge:e>=1440,isAboveSm:e>=FB,isAboveMd:e>=zB,isAboveLg:e>=UB,isAboveXl:e>=BB,isAbove2xl:e>=VB,isBelowSm:e<FB,isBelowMd:e<zB,isBelowLg:e<UB,isBelowXl:e<BB,isBelow2xl:e<VB,isBetween:(t,n)=>e>=t&&e<n}},[e])},YB=({replyTo:e,onClick:t})=>{const{isMobile:n,isMobileSmall:i}=KB();return e?ht.jsxs("div",{onClick:t,className:`\n        flex items-center gap-2 mb-1 cursor-pointer\n        bg-gray-100 dark:bg-gray-800/50 \n        border-l-4 border-wa-teal\n        ${i?"px-2 py-1 rounded-r":n?"px-2.5 py-1.5 rounded-r":"px-3 py-1.5 rounded-r"}\n        hover:bg-gray-200 dark:hover:bg-gray-700/50\n        transition-colors\n        active:scale-[0.98]\n      `,children:[ht.jsx(Y,{size:i?12:n?14:16,className:"text-wa-teal shrink-0"}),ht.jsxs("div",{className:"flex-1 min-w-0",children:[ht.jsx("p",{className:"font-medium text-wa-teal "+(i||n?"text-xs":"text-sm"),children:e.sender}),ht.jsx("p",{className:"text-gray-600 dark:text-gray-400 truncate "+(i||n?"text-xs":"text-sm"),children:"image"===e.type?" Photo":"video"===e.type?" Video":"voice"===e.type?" Voice message":e.text})]})]}):null},QB=({replyCount:e,lastReply:t,onClick:n})=>{const{isMobile:i,isMobileSmall:r,isTablet:s}=KB();return e&&0!==e?ht.jsxs("div",{onClick:n,className:`\n        flex items-center gap-2 mt-1 cursor-pointer\n        ${r||i?"text-xs":"text-sm"}\n        text-wa-teal hover:underline\n        transition-all\n        active:scale-95\n      `,children:[ht.jsx(Q,{size:r?12:i?14:16,className:"shrink-0"}),ht.jsxs("span",{className:"font-medium",children:[e," ",1===e?"reply":"replies"]}),!i&&t&&ht.jsxs("span",{className:"text-gray-500 dark:text-gray-400 truncate max-w-[200px] flex items-center gap-1",children:[ht.jsx(X,{size:12,className:"shrink-0"}),t.sender,": ",t.text]})]}):null},XB=n.memo(({text:e})=>{const t=e.match(/(https?:\/\/[^\s]+)/g);if(!t)return null;const n=t[0],i=new URL(n).hostname;return ht.jsxs("div",{className:"mt-2 bg-black/5 dark:bg-white/5 rounded-lg overflow-hidden border border-black/10 dark:border-white/10 max-w-sm",children:[ht.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 relative",children:ht.jsx("img",{src:`https://picsum.photos/seed/${i}/400/200`,alt:"Preview",className:"w-full h-full object-cover"})}),ht.jsxs("div",{className:"p-2",children:[ht.jsx("h4",{className:"font-bold text-sm text-[#111b21] dark:text-gray-100 truncate",children:i}),ht.jsxs("p",{className:"text-xs text-[#667781] dark:text-gray-400 line-clamp-2",children:["Check out this interesting link from ",i,". Click to read more about this content."]}),ht.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 mt-1 block truncate",children:n})]})]})});XB.displayName="LinkPreview";const JB=n.memo(({reactions:e})=>e&&0!==Object.keys(e).length?ht.jsxs("div",{className:"absolute -bottom-2.5 left-2 bg-white dark:bg-wa-dark-paper border border-gray-100 dark:border-gray-700 rounded-full px-1.5 py-0.5 shadow-sm flex items-center gap-0.5 z-10",children:[Object.values(e).slice(0,3).map((e,t)=>ht.jsx("span",{className:"text-[10px]",children:e},t)),Object.values(e).length>1&&ht.jsx("span",{className:"text-[10px] text-gray-500 ml-0.5",children:Object.values(e).length})]}):null);JB.displayName="MessageReactions";const ZB=n.memo(({msg:e,isMe:t,isActive:n,isSelected:i,isTranslated:r,formattedTime:s,displayText:a,bubbleColor:o,fontSizeClass:l,isSelectionMode:c,messageSearchQuery:u,translationLanguage:d,mockTranslate:f,onMouseEnter:h,onMouseLeave:m,onClick:p,onContextMenu:g,onToggleSelection:v,onReply:y,onTranslate:b,onTogglePin:w,onCheckSelect:k,onAddReaction:N,onVote:j,currentUserId:T,onViewVotes:E,onViewMedia:I,onDelete:P,onScrollToMessage:A,onOpenThread:M})=>{const R=()=>t&&!e.isDeleted?"read"===e.status?ht.jsx(x,{size:14,className:"text-wa-blue"}):"delivered"===e.status?ht.jsx(x,{size:14,className:"text-gray-400"}):ht.jsx(_,{size:14,className:"text-gray-400"}):null,D=("image"===e.type||"video"===e.type||e.mediaUrls&&e.mediaUrls.length>0)&&!e.isDeleted,L=D?"p-[3px]":"p-1.5";return ht.jsxs("div",{className:`relative flex mb-3.5 md:mb-4 ${t?"justify-end":"justify-start"} ${c?"cursor-pointer hover:bg-blue-100/10 -mx-4 px-4 py-1":""} ${i?"bg-blue-100/30 dark:bg-blue-900/20":""}`,onClick:p,onContextMenu:g,children:[c&&ht.jsx("div",{className:"flex items-center mr-3 "+(t?"order-last ml-3 mr-0":""),children:ht.jsx("div",{className:"w-5 h-5 rounded border-2 flex items-center justify-center transition-all "+(i?"bg-wa-teal border-wa-teal":"border-gray-400 bg-white dark:bg-transparent"),children:i&&ht.jsx(_,{size:14,className:"text-white",strokeWidth:3})})}),ht.jsxs("div",{className:`group relative max-w-[85%] md:max-w-[65%] rounded-lg shadow-sm ${L} ${t?"rounded-tr-none":"rounded-tl-none"} ${n?"z-[50]":"z-0"}`,style:{backgroundColor:o,color:"#111b21"},onMouseEnter:h,onMouseLeave:m,children:[!e.isDeleted&&!c&&ht.jsxs("div",{className:`absolute -top-10 bg-white dark:bg-wa-dark-paper rounded-full shadow-lg p-1.5 flex items-center animate-in fade-in zoom-in duration-200 z-50 ${t?"right-0 origin-bottom-right":"left-0 origin-bottom-left"} ${n||"hidden group-hover:flex"}`,children:[ht.jsx("div",{className:"flex gap-1 overflow-x-auto no-scrollbar max-w-[120px] px-1",children:["","","","","",""].map(e=>ht.jsx("button",{onClick:t=>{t.stopPropagation(),N(e)},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full text-lg transition-transform hover:scale-125 shrink-0",children:e},e))}),ht.jsx("div",{className:"w-[1px] h-6 bg-gray-200 dark:bg-gray-700 mx-1 shrink-0"}),ht.jsxs("div",{className:"flex gap-1 shrink-0",children:[ht.jsx("button",{onClick:e=>{e.stopPropagation(),y()},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-gray-300",title:"Reply",children:ht.jsx(Y,{size:16})}),ht.jsx("button",{onClick:e=>{e.stopPropagation(),P()},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-gray-300 hover:text-red-500 dark:hover:text-red-400",title:"Delete",children:""}),"text"===e.type&&ht.jsx("button",{onClick:e=>{e.stopPropagation(),b()},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-gray-300 "+(r?"text-wa-teal":""),title:"Translate",children:ht.jsx(J,{size:16})}),ht.jsx("button",{onClick:e=>{e.stopPropagation(),w()},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-gray-300",title:"Pin",children:ht.jsx(C,{size:16,fill:e.isPinned?"currentColor":"none"})}),ht.jsx("button",{onClick:e=>{e.stopPropagation(),k()},className:"p-1.5 hover:bg-gray-100 dark:hover:bg-white/10 rounded-full text-gray-500 dark:text-gray-300",title:"Select",children:ht.jsx(Z,{size:16})})]})]}),e.isPinned&&ht.jsx("div",{className:"absolute -top-2 -right-2 bg-gray-100 dark:bg-gray-700 rounded-full p-1 shadow-sm z-10",children:ht.jsx(C,{size:10,className:"text-gray-500",fill:"currentColor"})}),e.replyTo&&ht.jsx("div",{className:"px-1 pt-1",children:ht.jsx(YB,{replyTo:e.replyTo,onClick:()=>A&&A(e.replyTo.id)})}),ht.jsx("div",{className:`${l} ${D?"":"px-1"}`,children:e.isDeleted?ht.jsxs("span",{className:"italic text-gray-500 flex items-center gap-1 pb-1",children:[ht.jsx(ee,{size:14})," ",e.text]}):ht.jsx(ht.Fragment,{children:"game_invite"===e.type?ht.jsx(MP,{message:e}):e.pollData?ht.jsx(aD,{msg:e,onVote:j,currentUserId:T,onViewVotes:()=>E(e.pollData)}):e.isViewOnce?ht.jsxs("div",{onClick:()=>{e.isViewed||I({url:e.mediaUrl,type:e.type,isViewOnce:!0,messageId:e.id})},className:"flex items-center gap-2 p-2 rounded-lg cursor-pointer "+(e.isViewed?"opacity-60":"hover:bg-black/5 dark:hover:bg-white/5"),children:[ht.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center border-2 "+(e.isViewed?"border-gray-400 text-gray-400":"border-wa-teal text-wa-teal"),children:ht.jsx("span",{className:"text-xs font-bold",children:"1"})}),ht.jsx("span",{className:"font-medium "+(e.isViewed?"text-gray-500":"text-[#111b21] dark:text-gray-100"),children:e.isViewed?"Opened":"video"===e.type?"Video":"Photo"})]}):"image"===e.type?ht.jsx("div",{className:"rounded-lg overflow-hidden cursor-pointer relative max-w-[300px] md:max-w-[350px]",onClick:()=>I({url:e.mediaUrl,type:"image"}),children:ht.jsx("img",{src:e.mediaUrl,alt:"Sent media",className:"w-full max-h-[250px] md:max-h-[300px] object-cover rounded-lg"})}):e.mediaUrls&&e.mediaUrls.length>0?ht.jsx(NP,{mediaUrls:e.mediaUrls,onImageClick:e=>I({url:e,type:"image"})}):"video"===e.type&&e.mediaUrl?ht.jsx(CP,{src:e.mediaUrl,poster:e.mediaUrl,duration:e.duration,className:"rounded-lg max-w-[300px] md:max-w-[350px] max-h-[250px] md:max-h-[300px]"}):"voice"===e.type?ht.jsxs("div",{className:"flex items-center gap-3 pr-4 min-w-[150px] py-1",children:[ht.jsx("div",{className:"w-10 h-10 rounded-full bg-wa-teal flex items-center justify-center text-white cursor-pointer relative shrink-0",children:ht.jsx(S,{size:20})}),ht.jsxs("div",{className:"flex flex-col flex-1 gap-1",children:[ht.jsx("div",{className:"h-1 bg-black/20 dark:bg-white/20 rounded-full w-full mt-2 relative overflow-hidden",children:ht.jsx("div",{className:"absolute top-0 left-0 h-full bg-gray-500 w-1/3"})}),ht.jsx("span",{className:"text-xs opacity-70",children:e.duration||"0:00"})]})]}):ht.jsxs("div",{className:"relative",children:[u?ht.jsx("span",{className:"whitespace-pre-wrap break-words text-[#111b21] dark:text-gray-100",children:a}):ht.jsx(OB,{text:e.text}),ht.jsx(XB,{text:e.text}),r&&ht.jsxs("div",{className:"mt-2 pt-1 border-t border-black/10 dark:border-white/10 animate-in fade-in duration-300",children:[ht.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-gray-500 dark:text-gray-400 mb-0.5",children:[ht.jsx(te,{size:10}),ht.jsxs("span",{className:"uppercase",children:["Translated to ",d]})]}),ht.jsx("p",{className:"whitespace-pre-wrap break-words text-[#111b21] dark:text-gray-100 italic",children:f(e.text,d)})]}),ht.jsx("span",{className:"inline-block w-16 h-3"}),ht.jsxs("span",{className:"absolute bottom-[-3px] right-0 flex items-center gap-1 text-[10px] text-gray-500 dark:text-gray-400 select-none whitespace-nowrap",children:[e.isEdited&&ht.jsx("span",{className:"italic mr-1",children:"edited"}),s," ",ht.jsx(R,{})]})]})})}),D&&!e.isDeleted&&ht.jsxs("div",{className:"absolute bottom-1 right-2 bg-black/40 text-white rounded-full px-1.5 py-0.5 backdrop-blur-sm flex items-center gap-1 select-none pointer-events-none z-10",children:[ht.jsx("span",{className:"text-[10px] text-white/90",children:s}),t&&ht.jsx(x,{size:14,className:"text-white/90"})]}),ht.jsx(JB,{reactions:e.reactions}),e.threadReplyCount>0&&ht.jsx("div",{className:"px-1 pb-1",children:ht.jsx(QB,{replyCount:e.threadReplyCount,lastReply:e.lastThreadReply,onClick:()=>M&&M(e)})})]})]})});ZB.displayName="MessageBubble";const eV=({messages:e,currentUser:t,chatContainerRef:i,messagesEndRef:r,activeMessageId:s,selectedMessages:a,isSelectionMode:o,messageSearchQuery:l,translatedMessages:c,chatSettings:u,onScrollToBottom:d,onAction:f,onDateLock:h,hiddenDates:m,mockTranslate:p,onScrollToMessage:g,onOpenThread:y,messageRefs:b,chat:w})=>{const k=nD(),x=n.useMemo(()=>{const t=[];return e.forEach(e=>{let n="Unknown Date";try{n=new Date(e.timestamp).toLocaleDateString()}catch(cZ){}const i=t[t.length-1];i&&i.date===n?i.msgs.push(e):t.push({date:n,msgs:[e]})}),t},[e]),_=e=>{var t,n;const i=e?(null==(t=null==w?void 0:w.userSettings)?void 0:t.themeColor)||(null==w?void 0:w.themeColor):(null==(n=null==w?void 0:w.userSettings)?void 0:n.incomingThemeColor)||(null==w?void 0:w.incomingThemeColor),r=e?u.outgoingBubbleColor:u.incomingBubbleColor;return i||r},S=()=>{switch(u.fontSize){case"small":return"text-[13px]";case"large":return"text-[17px]";default:return"text-[15px]"}},C=e=>{let t=e.text;if("text"===e.type&&e.text.includes("@[")&&(t=k.parseMentionsForDisplay(e.text)),"text"===e.type&&(t=cD(t,e.text.includes("@[")?null:k.parseMentionsForDisplay)),l&&"text"===e.type){const e=l.toLowerCase(),n=t=>{if("string"!=typeof t)return t;return t.split(new RegExp(`(${l})`,"gi")).map((t,n)=>t.toLowerCase()===e?ht.jsx("span",{className:"bg-yellow-200 text-black",children:t},n):t)};t=Array.isArray(t)?t.map(e=>n(e)):n(t)}return t};return ht.jsxs("div",{className:"flex-1 overflow-y-auto p-2 md:p-4 z-0 relative scroll-smooth",ref:i,children:[!l&&ht.jsx("div",{className:"flex justify-center mb-6",children:ht.jsxs("div",{className:"bg-[#FFEECD] dark:bg-[#1f2c34] text-[#54656f] dark:text-[#ffcc00] text-[10px] md:text-xs px-3 py-1.5 rounded-lg text-center shadow-sm max-w-[80%] flex items-center gap-1.5",children:[ht.jsx(v,{size:10})," Messages and calls are end-to-end encrypted. No one outside of this chat, not even WhatsApp, can read or listen to them."]})}),x.map((e,n)=>{const i=null==m?void 0:m.includes(e.date);return ht.jsxs("div",{children:[ht.jsx("div",{className:"flex justify-center mb-4 sticky top-2 z-30 cursor-pointer select-none group",onDoubleClick:()=>h(e.date),title:"Double-click to lock/unlock date",children:ht.jsxs("span",{className:"flex items-center gap-1.5 text-xs font-medium px-3 py-1.5 rounded-lg shadow-sm border uppercase tracking-wide transition-all "+(i?"bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-300 border-red-100 dark:border-red-800":"bg-white dark:bg-wa-dark-paper text-[#54656f] dark:text-gray-400 border-gray-100 dark:border-gray-800 group-hover:scale-105"),children:[i&&ht.jsx(v,{size:10})," ",e.date===(new Date).toLocaleDateString()?"Today":e.date]})}),i?ht.jsxs("div",{className:"flex flex-col items-center justify-center py-6 mb-4 opacity-60",children:[ht.jsx(v,{size:16,className:"text-gray-400 mb-1"}),ht.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:"Messages Hidden"})]}):e.msgs.map(e=>{if("system"===e.senderId||"system"===e.type)return ht.jsx("div",{className:"flex justify-center mb-3",children:ht.jsx("div",{className:"bg-[#d6e9f2] dark:bg-[#182229] text-[#54656f] dark:text-[#8696a0] text-xs px-4 py-2 rounded-lg shadow-sm max-w-[80%] text-center",children:e.content||e.text||"Group created"})},e.id);const n=e.senderId===t.id,i=s===e.id,r=a.has(e.id),d=c.has(e.id),h=new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});return ht.jsx(ZB,{msg:e,isMe:n,isActive:i,isSelected:r,isTranslated:d,formattedTime:h,displayText:C(e),bubbleColor:_(n),fontSizeClass:S(),isSelectionMode:o,messageSearchQuery:l,translationLanguage:u.translationLanguage,mockTranslate:p,currentUserId:t.id,onMouseEnter:()=>!o&&f("setActive",e.id),onMouseLeave:()=>!o&&f("setActive",null),onClick:()=>o&&f("toggleSelection",e.id),onContextMenu:t=>{t.preventDefault(),o||f("startSelection",e.id)},onToggleSelection:()=>f("toggleSelection",e.id),onReply:()=>f("reply",e),onDelete:()=>f("delete",e.id),onTranslate:()=>f("translate",e.id),onTogglePin:()=>f("togglePin",e.id),onCheckSelect:()=>f("toggleSelection",e.id),onAddReaction:t=>f("addReaction",{msgId:e.id,emoji:t}),onVote:t=>f("vote",{msg:e,optionId:t}),onViewVotes:e=>f("viewVotes",e),onViewMedia:e=>f("viewMedia",e),onScrollToMessage:g,onOpenThread:y},e.id)})]},n)}),ht.jsx("div",{ref:r})]})},tV=({parentMessage:e,onClose:t})=>{const{isMobile:i,isTablet:r,isDesktop:s}=KB(),{currentUserId:a,users:o}=YI(),{threadMessages:l,loading:c,sendReply:u,loadMore:d,hasMore:f}=(e=>{const[t,i]=n.useState([]),[r,s]=n.useState(!1),[a,o]=n.useState(!1),[l,c]=n.useState(1),u=n.useCallback(async(t=1)=>{if(e){s(!0);try{await new Promise(e=>setTimeout(e,500));const e=[];i(1===t?e:t=>[...t,...e]),o(!1),c(t)}catch(n){}finally{s(!1)}}},[e]);n.useEffect(()=>{e&&u(1)},[e,u]);const d=n.useCallback(()=>{!r&&a&&u(l+1)},[r,a,l,u]),f=n.useCallback(async e=>{const t={id:`temp_${Date.now()}`,...e,timestamp:Date.now(),sending:!0};i(e=>[t,...e]);try{await new Promise(e=>setTimeout(e,300));const e={...t,id:`msg_${Date.now()}`,sending:!1};return i(n=>n.map(n=>n.id===t.id?e:n)),e}catch(n){throw i(e=>e.filter(e=>e.id!==t.id)),n}},[]);return{threadMessages:t,loading:r,hasMore:a,loadMore:d,sendReply:f,refresh:()=>u(1)}})(e.id),[h,m]=n.useState(""),[p,g]=n.useState(!1),v=async()=>{if(h.trim()&&!p){g(!0);try{await u({text:h,senderId:a,threadId:e.id,replyToId:e.id,timestamp:Date.now()}),m("")}catch(t){}finally{g(!1)}}},y=e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),v())},b=o[e.senderId]||{name:"User"},w=()=>ht.jsxs("div",{className:"bg-wa-teal dark:bg-wa-dark-header flex items-center px-4 shrink-0 shadow-sm text-white "+(i?"h-14":"h-16"),children:[ht.jsx("button",{onClick:t,className:"mr-3 p-1 rounded-full active:bg-white/10 "+(i?"":"hover:bg-white/5"),children:i?ht.jsx(ne,{size:24}):ht.jsx(P,{size:24})}),ht.jsx("h2",{className:"font-medium "+(i?"text-lg":"text-xl"),children:"Thread"})]}),k=()=>ht.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:[ht.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[ht.jsx("img",{src:b.avatar,alt:b.name,className:"w-8 h-8 rounded-full"}),ht.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:b.name}),ht.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),ht.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:e.text})]}),x=()=>ht.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:c&&0===l.length?ht.jsx("div",{className:"flex items-center justify-center h-full",children:ht.jsx(ie,{className:"animate-spin text-gray-400",size:32})}):0===l.length?ht.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[ht.jsx("p",{className:"text-sm",children:"No replies yet"}),ht.jsx("p",{className:"text-xs mt-1",children:"Be the first to reply!"})]}):ht.jsxs(ht.Fragment,{children:[l.map(e=>{const t=o[e.senderId]||{name:"User"},n=e.senderId===a;return ht.jsx("div",{className:"flex "+(n?"justify-end":"justify-start"),children:ht.jsxs("div",{className:`max-w-[80%] ${n?"bg-wa-msgMe text-gray-900":"bg-white dark:bg-wa-dark-paper"} rounded-lg p-2.5 shadow-sm`,children:[!n&&ht.jsx("p",{className:"text-xs font-medium text-wa-teal mb-1",children:t.name}),ht.jsx("p",{className:"text-sm",children:e.text}),ht.jsxs("p",{className:"text-xs text-gray-500 mt-1 text-right",children:[new Date(e.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),e.sending&&"  Sending..."]})]})},e.id)}),f&&ht.jsx("button",{onClick:d,disabled:c,className:"text-sm text-wa-teal hover:underline disabled:opacity-50",children:c?"Loading...":"Load more"})]})}),_=()=>ht.jsx("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-wa-dark-bg "+(i?"":"p-4"),children:ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("input",{type:"text",value:h,onChange:e=>m(e.target.value),onKeyDown:y,placeholder:"Reply to thread...",className:"flex-1 rounded-full bg-gray-100 dark:bg-gray-800 outline-none text-gray-900 dark:text-gray-100 "+(i?"px-3 py-2 text-sm":"px-4 py-2.5"),disabled:p}),ht.jsx("button",{onClick:v,disabled:!h.trim()||p,className:"bg-wa-teal text-white rounded-full disabled:opacity-50 disabled:cursor-not-allowed transition-all active:scale-95 "+(i?"p-2":"p-2.5"),children:p?ht.jsx(ie,{size:20,className:"animate-spin"}):ht.jsx(M,{size:20})})]})});if(i)return ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col",children:[ht.jsx(w,{}),ht.jsx(k,{}),ht.jsx(x,{}),ht.jsx(_,{})]});const S=r?"400px":"480px";return ht.jsxs("div",{className:"fixed right-0 top-0 bottom-0 z-40 bg-white dark:bg-wa-dark-bg border-l border-gray-200 dark:border-gray-700 flex flex-col shadow-2xl animate-in slide-in-from-right duration-200",style:{width:S},children:[ht.jsx(w,{}),ht.jsx(k,{}),ht.jsx(x,{}),ht.jsx(_,{})]})};function nV(){var e=Object.create(null);function t(t){delete e[t]}this.set=function(n,i,r){if(void 0!==r&&("number"!=typeof r||isNaN(r)||r<=0))throw new Error("Cache timeout must be a positive number");var s=e[n];s&&clearTimeout(s.timeout);var a={value:i,expire:r+Date.now()};return isNaN(a.expire)||(a.timeout=setTimeout(()=>t(n),r)),e[n]=a,i},this.del=function(n){var i=!0,r=e[n];return r?(clearTimeout(r.timeout),!isNaN(r.expire)&&r.expire<Date.now()&&(i=!1)):i=!1,i&&t(n),i},this.clear=function(){for(var t in e)clearTimeout(e[t].timeout);e=Object.create(null)},this.get=function(t){var n=e[t];if(void 0!==n){if(isNaN(n.expire)||n.expire>=Date.now())return n.value;delete e[t]}return null}}const iV=new nV;iV.Cache=nV;var rV={google:{fetch:({key:e,from:t,to:n,text:i})=>[`https://translate.googleapis.com/translate_a/single?client=gtx&sl=${t}&tl=${n}&dt=t&q=${encodeURIComponent(i)}`],parse:e=>e.json().then(e=>{if(!(e=e&&e[0]&&e[0][0]&&e[0].map(e=>e[0]).join("")))throw new Error("Translation not found");return e})},yandex:{needkey:!0,fetch:({key:e,from:t,to:n,text:i})=>[`https://translate.yandex.net/api/v1.5/tr.json/translate?key=${e}&lang=${t}-${n}&text=${encodeURIComponent(i)}`,{method:"POST",body:""}],parse:e=>e.json().then(e=>{if(200!==e.code)throw new Error(e.message);return e.text[0]})},libre:{needkey:!1,fetch:({url:e="https://libretranslate.com/translate",key:t,from:n,to:i,text:r})=>[e,{method:"POST",body:JSON.stringify({q:r,source:n,target:i,api_key:t}),headers:{"Content-Type":"application/json"}}],parse:e=>e.json().then(e=>{if(!e)throw new Error("No response found");if(e.error)throw new Error(e.error);if(!e.translatedText)throw new Error("No response found");return e.translatedText})},deepl:{needkey:!0,fetch:({key:e,from:t,to:n,text:i})=>[`https://api${e.endsWith(":fx")?"-free":""}.deepl.com/v2/translate?auth_key=${e}&source_lang=${t}&target_lang=${n}&text=${i=encodeURIComponent(i)}`,{method:"POST",body:""}],parse:async e=>{if(!e.ok){if(403===e.status)throw new Error("Auth Error, please review the key for DeepL");throw new Error(`Error ${e.status}`)}return e.json().then(e=>e.translations[0].text)}}},sV={aar:"aa",abk:"ab",afr:"af",aka:"ak",alb:"sq",amh:"am",ara:"ar",arg:"an",arm:"hy",asm:"as",ava:"av",ave:"ae",aym:"ay",aze:"az",bak:"ba",bam:"bm",baq:"eu",bel:"be",ben:"bn",bih:"bh",bis:"bi",bos:"bs",bre:"br",bul:"bg",bur:"my",cat:"ca",cha:"ch",che:"ce",chi:"zh",chu:"cu",chv:"cv",cor:"kw",cos:"co",cre:"cr",cze:"cs",dan:"da",div:"dv",dut:"nl",dzo:"dz",eng:"en",epo:"eo",est:"et",ewe:"ee",fao:"fo",fij:"fj",fin:"fi",fre:"fr",fry:"fy",ful:"ff",geo:"ka",ger:"de",gla:"gd",gle:"ga",glg:"gl",glv:"gv",gre:"el",grn:"gn",guj:"gu",hat:"ht",hau:"ha",heb:"he",her:"hz",hin:"hi",hmo:"ho",hrv:"hr",hun:"hu",ibo:"ig",ice:"is",ido:"io",iii:"ii",iku:"iu",ile:"ie",ina:"ia",ind:"id",ipk:"ik",ita:"it",jav:"jv",jpn:"ja",kal:"kl",kan:"kn",kas:"ks",kau:"kr",kaz:"kk",khm:"km",kik:"ki",kin:"rw",kir:"ky",kom:"kv",kon:"kg",kor:"ko",kua:"kj",kur:"ku",lao:"lo",lat:"la",lav:"lv",lim:"li",lin:"ln",lit:"lt",ltz:"lb",lub:"lu",lug:"lg",mac:"mk",mah:"mh",mal:"ml",mao:"mi",mar:"mr",may:"ms",mlg:"mg",mlt:"mt",mon:"mn",nau:"na",nav:"nv",nbl:"nr",nde:"nd",ndo:"ng",nep:"ne",nno:"nn",nob:"nb",nor:"no",nya:"ny",oci:"oc",oji:"oj",ori:"or",orm:"om",oss:"os",pan:"pa",per:"fa",pli:"pi",pol:"pl",por:"pt",pus:"ps",que:"qu",roh:"rm",rum:"ro",run:"rn",rus:"ru",sag:"sg",san:"sa",sin:"si",slo:"sk",slv:"sl",sme:"se",smo:"sm",sna:"sn",snd:"sd",som:"so",sot:"st",spa:"es",srd:"sc",srp:"sr",ssw:"ss",sun:"su",swa:"sw",swe:"sv",tah:"ty",tam:"ta",tat:"tt",tel:"te",tgk:"tg",tgl:"tl",tha:"th",tib:"bo",tir:"ti",ton:"to",tsn:"tn",tso:"ts",tuk:"tk",tur:"tr",twi:"tw",uig:"ug",ukr:"uk",urd:"ur",uzb:"uz",ven:"ve",vie:"vi",vol:"vo",wel:"cy",wln:"wa",wol:"wo",xho:"xh",yid:"yi",yor:"yo",zha:"za",zul:"zu"},aV={afar:"aa",abkhazian:"ab",afrikaans:"af",akan:"ak",albanian:"sq",amharic:"am",arabic:"ar",aragonese:"an",armenian:"hy",assamese:"as",avaric:"av",avestan:"ae",aymara:"ay",azerbaijani:"az",bashkir:"ba",bambara:"bm",basque:"eu",belarusian:"be",bengali:"bn","bihari languages":"bh",bislama:"bi",tibetan:"bo",bosnian:"bs",breton:"br",bulgarian:"bg",burmese:"my",catalan:"ca",valencian:"ca",czech:"cs",chamorro:"ch",chechen:"ce",chinese:"zh","church slavic":"cu","old slavonic":"cu","church slavonic":"cu","old bulgarian":"cu","old church slavonic":"cu",chuvash:"cv",cornish:"kw",corsican:"co",cree:"cr",welsh:"cy",danish:"da",german:"de",divehi:"dv",dhivehi:"dv",maldivian:"dv",dutch:"nl",flemish:"nl",dzongkha:"dz",greek:"el",english:"en",esperanto:"eo",estonian:"et",ewe:"ee",faroese:"fo",persian:"fa",fijian:"fj",finnish:"fi",french:"fr","western frisian":"fy",fulah:"ff",georgian:"ka",gaelic:"gd","scottish gaelic":"gd",irish:"ga",galician:"gl",manx:"gv",guarani:"gn",gujarati:"gu",haitian:"ht","haitian creole":"ht",hausa:"ha",hebrew:"he",herero:"hz",hindi:"hi","hiri motu":"ho",croatian:"hr",hungarian:"hu",igbo:"ig",icelandic:"is",ido:"io","sichuan yi":"ii",nuosu:"ii",inuktitut:"iu",interlingue:"ie",occidental:"ie",interlingua:"ia",indonesian:"id",inupiaq:"ik",italian:"it",javanese:"jv",japanese:"ja",kalaallisut:"kl",greenlandic:"kl",kannada:"kn",kashmiri:"ks",kanuri:"kr",kazakh:"kk","central khmer":"km",kikuyu:"ki",gikuyu:"ki",kinyarwanda:"rw",kirghiz:"ky",kyrgyz:"ky",komi:"kv",kongo:"kg",korean:"ko",kuanyama:"kj",kwanyama:"kj",kurdish:"ku",lao:"lo",latin:"la",latvian:"lv",limburgan:"li",limburger:"li",limburgish:"li",lingala:"ln",lithuanian:"lt",luxembourgish:"lb",letzeburgesch:"lb","luba-katanga":"lu",ganda:"lg",macedonian:"mk",marshallese:"mh",malayalam:"ml",maori:"mi",marathi:"mr",malay:"ms",malagasy:"mg",maltese:"mt",mongolian:"mn",nauru:"na",navajo:"nv",navaho:"nv","ndebele, south":"nr","south ndebele":"nr","ndebele, north":"nd","north ndebele":"nd",ndonga:"ng",nepali:"ne","norwegian nynorsk":"nn","nynorsk, norwegian":"nn","norwegian bokml":"nb","bokml, norwegian":"nb",norwegian:"no",chichewa:"ny",chewa:"ny",nyanja:"ny",occitan:"oc",ojibwa:"oj",oriya:"or",oromo:"om",ossetian:"os",ossetic:"os",panjabi:"pa",punjabi:"pa",pali:"pi",polish:"pl",portuguese:"pt",pushto:"ps",pashto:"ps",quechua:"qu",romansh:"rm",romanian:"ro",moldavian:"ro",moldovan:"ro",rundi:"rn",russian:"ru",sango:"sg",sanskrit:"sa",sinhala:"si",sinhalese:"si",slovak:"sk",slovenian:"sl","northern sami":"se",samoan:"sm",shona:"sn",sindhi:"sd",somali:"so","sotho, southern":"st",spanish:"es",castilian:"es",sardinian:"sc",serbian:"sr",swati:"ss",sundanese:"su",swahili:"sw",swedish:"sv",tahitian:"ty",tamil:"ta",tatar:"tt",telugu:"te",tajik:"tg",tagalog:"tl",thai:"th",tigrinya:"ti",tonga:"to",tswana:"tn",tsonga:"ts",turkmen:"tk",turkish:"tr",twi:"tw",uighur:"ug",uyghur:"ug",ukrainian:"uk",urdu:"ur",uzbek:"uz",venda:"ve",vietnamese:"vi","volapk":"vo",walloon:"wa",wolof:"wo",xhosa:"xh",yiddish:"yi",yoruba:"yo",zhuang:"za",chuang:"za",zulu:"zu"};const oV=Object.values(sV).sort();var lV=e=>{if("string"!=typeof e)throw new Error('The "language" must be a string, received '+typeof e);if(e.length>100)throw new Error(`The "language" is too long at ${e.length} characters`);if(e=e.toLowerCase(),e=aV[e]||sV[e]||e,!oV.includes(e))throw new Error(`The language "${e}" is not part of the ISO 639-1`);return e};const cV=function(e={}){if(!(this instanceof cV))return new cV(e);const t={from:"en",to:"en",cache:void 0,engine:"google",key:void 0,url:void 0,languages:lV,engines:rV,keys:{}},n=async(e,t={})=>{"string"==typeof t&&(t={to:t});const i=Object.keys(t).find(e=>"from"!==e&&"to"!==e);if(i)throw new Error(`Invalid option with the name '${i}'`);t.text=e,t.from=lV(t.from||n.from),t.to=lV(t.to||n.to),t.cache=n.cache,t.engine=n.engine,t.url=n.url,t.id=`${t.url}:${t.from}:${t.to}:${t.engine}:${t.text}`,t.keys=n.keys||{};for(let o in n.keys)t.keys[o]=t.keys[o]||n.keys[o];t.key=t.key||n.key||t.keys[t.engine];const r=n.engines[t.engine],s=iV.get(t.id);if(s)return Promise.resolve(s);if(t.to===t.from)return Promise.resolve(t.text);if(r.needkey&&!t.key)throw new Error(`The engine "${t.engine}" needs a key, please provide it`);const a=r.fetch(t);return fetch(...a).then(r.parse).then(e=>iV.set(t.id,e,t.cache))};for(let i in t)n[i]=void 0===e[i]?t[i]:e[i];return n},uV=new cV;uV.Translate=cV;uV.engine="google",uV.key={}.GOOGLE_API_KEY||void 0;const dV=({isOpen:e,onClose:t,onDeleteForMe:n,onDeleteForEveryone:i,messageCount:r=1,canDeleteForEveryone:s=!0,timeWarning:a=null})=>{if(!e)return null;const o=r>1?`${r} messages`:"message";return ht.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-2xl max-w-md w-full mx-4 animate-in zoom-in duration-200",children:[ht.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[ht.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Delete ",o,"?"]}),ht.jsx("button",{onClick:t,className:"p-1 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:ht.jsx(P,{size:20,className:"text-gray-500 dark:text-gray-400"})})]}),ht.jsxs("div",{className:"p-4 space-y-3",children:[!s&&a&&ht.jsxs("div",{className:"flex items-start gap-2 p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:[ht.jsx(re,{size:18,className:"text-amber-600 dark:text-amber-400 mt-0.5 shrink-0"}),ht.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-200",children:a})]}),ht.jsxs("button",{onClick:()=>{n(),t()},className:"w-full p-3 text-left hover:bg-gray-50 dark:hover:bg-gray-700/50 rounded-lg transition-colors group",children:[ht.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100 group-hover:text-red-600 dark:group-hover:text-red-400",children:"Delete for Me"}),ht.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:["This ",o," will be removed from your chat only"]})]}),ht.jsxs("button",{onClick:()=>{s&&(i(),t())},disabled:!s,className:"w-full p-3 text-left rounded-lg transition-colors group "+(s?"hover:bg-gray-50 dark:hover:bg-gray-700/50 cursor-pointer":"opacity-50 cursor-not-allowed"),children:[ht.jsx("div",{className:"font-medium "+(s?"text-gray-900 dark:text-gray-100 group-hover:text-red-600 dark:group-hover:text-red-400":"text-gray-400 dark:text-gray-600"),children:"Delete for Everyone"}),ht.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mt-0.5",children:["This ",o," will be deleted for all chat participants"]})]})]}),ht.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700",children:ht.jsx("button",{onClick:t,className:"w-full py-2.5 px-4 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 font-medium rounded-lg transition-colors",children:"Cancel"})})]})})},fV=({contactName:e="User",contactAvatar:t=null,isGroup:n=!1})=>ht.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-8 pb-16 z-10",children:[t&&ht.jsx("div",{className:"mb-6",children:ht.jsx("img",{src:t,alt:e,className:"w-24 h-24 rounded-full object-cover shadow-lg border-4 border-white dark:border-wa-dark-bg"})}),ht.jsx("h2",{className:"text-2xl font-medium text-[#111b21] dark:text-gray-100 mb-3 text-center",children:n?`Welcome to ${e}`:`Say hello to ${e}`}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-400 text-center mb-8 max-w-sm",children:n?"Start a conversation with the group members.":"Send a message to start the conversation."}),ht.jsxs("div",{className:"flex items-center gap-2 bg-[#fef5e7] dark:bg-[#2a3942] px-4 py-3 rounded-lg max-w-md",children:[ht.jsx(v,{size:16,className:"text-[#d4a373] dark:text-[#d4a373] shrink-0"}),ht.jsx("p",{className:"text-xs text-[#54656f] dark:text-gray-300 text-center",children:"Messages are end-to-end encrypted. No one outside this chat can read them."})]})]});const hV=new class{constructor(){this.activeSessions=new Map,this.mediaRecorder=null,this.localStream=null,this.audioChunks=[]}async initSession(e,t){try{if(this.activeSessions.has(e))return{success:!1,error:"Session already active"};const n={groupId:e,userId:t,stream:await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),isRecording:!1,startTime:null};return this.activeSessions.set(e,n),{success:!0,session:n}}catch(n){return"NotAllowedError"===n.name?{success:!1,error:"Microphone permission denied"}:{success:!1,error:n.message}}}async startRecording(e){try{const t=this.activeSessions.get(e);if(!t)throw new Error("No active session for this group");return t.isRecording?{success:!1,error:"Already recording"}:(this.audioChunks=[],this.mediaRecorder=new MediaRecorder(t.stream,{mimeType:"audio/webm;codecs=opus"}),this.mediaRecorder.ondataavailable=e=>{e.data.size>0&&this.audioChunks.push(e.data)},this.mediaRecorder.start(100),t.isRecording=!0,t.startTime=Date.now(),{success:!0})}catch(t){return{success:!1,error:t.message}}}async stopRecording(e){try{const t=this.activeSessions.get(e);if(!t||!t.isRecording)throw new Error("No active recording");return new Promise(e=>{this.mediaRecorder.onstop=async()=>{const n=new Blob(this.audioChunks,{type:"audio/webm"}),i=(Date.now()-t.startTime)/1e3;t.isRecording=!1,this.audioChunks=[],e({success:!0,audioBlob:n,duration:i,audioUrl:URL.createObjectURL(n)})},this.mediaRecorder.stop()})}catch(t){return{success:!1,error:t.message}}}async broadcastAudio(e,t,n){try{return{success:!0,audioUrl:URL.createObjectURL(t),duration:n}}catch(i){return{success:!1,error:i.message}}}async endSession(e){try{const t=this.activeSessions.get(e);return t?(t.isRecording&&this.mediaRecorder&&this.mediaRecorder.stop(),t.stream&&t.stream.getTracks().forEach(e=>e.stop()),this.activeSessions.delete(e),{success:!0}):{success:!1,error:"No active session"}}catch(t){return{success:!1,error:t.message}}}hasActiveSession(e){return this.activeSessions.has(e)}isRecording(e){const t=this.activeSessions.get(e);return!!t&&t.isRecording}},mV=({isOpen:e,onClose:t,groupId:i,groupName:r,participants:s=[]})=>{const{users:a,currentUser:o}=YI(),[l,c]=n.useState(!1),[u,d]=n.useState(0),[f,h]=n.useState(null),[m,p]=n.useState(!1),[g,v]=n.useState(!1),y=n.useRef(null),b=n.useRef(null);n.useEffect(()=>(e&&i&&!hV.hasActiveSession(i)&&w(),()=>{i&&hV.hasActiveSession(i)&&hV.endSession(i),y.current&&clearInterval(y.current)}),[e,i]);const w=async()=>{v(!0),h(null);const e=await hV.initSession(i,o.id);e.success?p(!0):h(e.error),v(!1)},k=async()=>{if(!m)return void h("Microphone permission not granted");const e=await hV.startRecording(i);e.success?(c(!0),d(0),y.current=setInterval(()=>{d(e=>e+1)},1e3)):h(e.error)},x=async()=>{y.current&&clearInterval(y.current);const e=await hV.stopRecording(i);e.success?(await hV.broadcastAudio(i,e.audioBlob,e.duration),c(!1),d(0)):(h(e.error),c(!1))},_=e=>{e.preventDefault(),b.current&&clearTimeout(b.current),l&&x()};return e?ht.jsxs("div",{className:"fixed inset-0 z-[200] bg-gradient-to-br from-gray-900 via-gray-800 to-black flex flex-col animate-in fade-in duration-300",children:[ht.jsxs("div",{className:"flex items-center justify-between p-4 text-white",children:[ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("div",{className:"w-10 h-10 bg-wa-teal rounded-full flex items-center justify-center",children:ht.jsx(S,{size:20})}),ht.jsxs("div",{children:[ht.jsx("h2",{className:"font-semibold text-lg",children:r}),ht.jsx("p",{className:"text-sm text-gray-400",children:"Walkie-Talkie"})]})]}),ht.jsx("button",{onClick:()=>{l&&x(),i&&hV.hasActiveSession(i)&&hV.endSession(i),t()},className:"p-2 hover:bg-white/10 rounded-full transition-colors",children:ht.jsx(P,{size:24})})]}),ht.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 pb-20",children:[f&&ht.jsxs("div",{className:"mb-6 bg-red-500/20 border border-red-500/50 rounded-lg p-4 flex items-center gap-3 text-white max-w-md",children:[ht.jsx(re,{size:20,className:"flex-shrink-0"}),ht.jsx("p",{className:"text-sm",children:f})]}),g?ht.jsxs("div",{className:"text-center text-white",children:[ht.jsx("div",{className:"w-16 h-16 border-4 border-wa-teal border-t-transparent rounded-full animate-spin mx-auto mb-4"}),ht.jsx("p",{className:"text-lg",children:"Initializing microphone..."})]}):m?ht.jsxs(ht.Fragment,{children:[ht.jsxs("div",{className:"relative mb-6 sm:mb-8",children:[ht.jsx("button",{onMouseDown:e=>{e.preventDefault(),b.current=setTimeout(()=>{k()},100)},onMouseUp:_,onMouseLeave:_,onTouchStart:e=>{e.preventDefault(),b.current=setTimeout(()=>{k()},100)},onTouchEnd:e=>{e.preventDefault(),b.current&&clearTimeout(b.current),l&&x()},className:"w-32 h-32 sm:w-40 sm:h-40 rounded-full flex items-center justify-center transition-all duration-200 active:scale-95 select-none "+(l?"bg-red-500 shadow-[0_0_40px_rgba(239,68,68,0.6)] scale-110":"bg-wa-teal shadow-[0_0_30px_rgba(0,128,105,0.4)] hover:scale-105"),style:{touchAction:"none"},children:ht.jsx(S,{size:56,className:"text-white sm:w-16 sm:h-16 "+(l?"animate-pulse":"")})}),l&&ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"absolute inset-0 w-32 h-32 sm:w-40 sm:h-40 rounded-full bg-red-500/30 animate-ping"}),ht.jsx("div",{className:"absolute inset-0 w-32 h-32 sm:w-40 sm:h-40 rounded-full bg-red-500/20 animate-pulse"})]})]}),ht.jsx("div",{className:"text-center text-white mb-6 sm:mb-8 px-4",children:l?ht.jsxs(ht.Fragment,{children:[ht.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[ht.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-red-500 rounded-full animate-pulse"}),ht.jsx("p",{className:"text-xl sm:text-2xl font-bold font-mono",children:(C=u,`${Math.floor(C/60)}:${(C%60).toString().padStart(2,"0")}`)})]}),ht.jsx("p",{className:"text-base sm:text-lg text-gray-300",children:"Hold to talk..."})]}):ht.jsxs(ht.Fragment,{children:[ht.jsx("p",{className:"text-lg sm:text-xl font-semibold mb-1",children:"Press & Hold to Talk"}),ht.jsx("p",{className:"text-xs sm:text-sm text-gray-400",children:"Release to send"})]})}),ht.jsxs("div",{className:"bg-white/5 backdrop-blur-sm rounded-2xl p-3 sm:p-4 max-w-md w-full mx-4",children:[ht.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3 text-white",children:[ht.jsx(se,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),ht.jsxs("span",{className:"text-xs sm:text-sm font-medium",children:["Participants (",s.length,")"]})]}),ht.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.slice(0,8).map(e=>{const t=a[e];return ht.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 bg-white/10 rounded-full px-2 py-1 sm:px-3 sm:py-1.5",children:[ht.jsx("img",{src:(null==t?void 0:t.avatar)||"https://via.placeholder.com/32",alt:null==t?void 0:t.name,className:"w-5 h-5 sm:w-6 sm:h-6 rounded-full"}),ht.jsx("span",{className:"text-xs sm:text-sm text-white",children:(null==t?void 0:t.name)||"User"})]},e)}),s.length>8&&ht.jsx("div",{className:"flex items-center justify-center bg-white/10 rounded-full px-3 py-1.5",children:ht.jsxs("span",{className:"text-sm text-white",children:["+",s.length-8," more"]})})]})]})]}):ht.jsxs("div",{className:"text-center text-white max-w-md",children:[ht.jsx(re,{size:48,className:"mx-auto mb-4 text-orange-400"}),ht.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Microphone Access Required"}),ht.jsx("p",{className:"text-gray-400 mb-6",children:"Please grant microphone permission to use walkie-talkie"}),ht.jsx("button",{onClick:w,className:"px-6 py-3 bg-wa-teal text-white rounded-full font-medium hover:bg-wa-teal/90 transition-colors",children:"Grant Permission"})]})]}),m&&!g&&ht.jsx("div",{className:"p-6 bg-black/30 backdrop-blur-sm border-t border-white/10",children:ht.jsx("div",{className:"max-w-md mx-auto text-center",children:ht.jsxs("p",{className:"text-gray-400 text-sm",children:[" ",ht.jsx("span",{className:"font-medium",children:"Tip:"})," Press and hold the button to speak. Your voice will be broadcasted to all group members."]})})})]}):null;var C};const pV=new class{constructor(){this.activeSessions=new Map,this.listeners=new Map}async createSession(e,t,n){try{const i=`music_${e}_${Date.now()}`,r=$T(vI,`musicSessions/${i}`),s={id:i,chatId:e,createdBy:t,createdAt:Date.now(),musicType:n.type,musicUrl:n.url,musicTitle:n.title||"Unknown",musicDuration:n.duration||0,thumbnailUrl:n.thumbnail,isPlaying:!1,currentTime:0,participants:[t],youtubeId:n.youtubeId};return await HT(r,s),this.activeSessions.set(e,s),{success:!0,session:s}}catch(i){return{success:!1,error:i.message}}}async joinSession(e,t){try{const n=$T(vI,`musicSessions/${e}`),i=($T(vI,`musicSessions/${e}/participants`),this.activeSessions.get(e));if(i&&!i.participants.includes(t)){const e=[...i.participants,t];await GT(n,{participants:e})}return{success:!0}}catch(n){return{success:!1,error:n.message}}}async updatePlaybackState(e,t,n){try{const i=$T(vI,`musicSessions/${e}`);return await GT(i,{isPlaying:t,currentTime:n,lastUpdated:Date.now()}),{success:!0}}catch(i){return{success:!1,error:i.message}}}async seek(e,t){try{const n=$T(vI,`musicSessions/${e}`);return await GT(n,{currentTime:t,lastUpdated:Date.now()}),{success:!0}}catch(n){return{success:!1,error:n.message}}}subscribeToSession(e,t){const n=$T(vI,`musicSessions/${e}`);return XT(n,e=>{const n=e.val();n&&(this.activeSessions.set(n.chatId,n),t(n))}),this.listeners.set(e,()=>JT(n)),()=>{const t=this.listeners.get(e);t&&t(),this.listeners.delete(e)}}async endSession(e){try{const t=$T(vI,`music Sessions/${e}`);await HT(t,null);const n=Array.from(this.activeSessions.values()).find(t=>t.id===e);n&&this.activeSessions.delete(n.chatId);const i=this.listeners.get(e);return i&&i(),this.listeners.delete(e),{success:!0}}catch(t){return{success:!1,error:t.message}}}getActiveSession(e){return this.activeSessions.get(e)}extractYouTubeId(e){const t=[/(?:youtube\.com\/watch\?v=|youtu\.be\/)([a-zA-Z0-9_-]{11})/,/youtube\.com\/embed\/([a-zA-Z0-9_-]{11})/,/youtube\.com\/v\/([a-zA-Z0-9_-]{11})/];for(const n of t){const t=e.match(n);if(t)return t[1]}return null}},gV=({isOpen:e,onClose:t,chatId:i,onSessionCreated:r})=>{const[s,a]=n.useState("youtube"),[o,l]=n.useState(""),[c,u]=n.useState(null),[d,f]=n.useState(null),[h,m]=n.useState(!1),p=n.useRef(null);return e?ht.jsx("div",{className:"fixed inset-0 z-[150] bg-black/50 backdrop-blur-sm flex items-center justify-center p-3 sm:p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-2xl shadow-2xl w-full max-w-md overflow-hidden animate-in zoom-in-95 duration-200",children:[ht.jsxs("div",{className:"flex items-center justify-between p-3 sm:p-4 border-b border-gray-200 dark:border-gray-700",children:[ht.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[ht.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 dark:bg-blue-900/20 rounded-full flex items-center justify-center",children:ht.jsx(K,{size:18,className:"text-blue-600 dark:text-blue-400 sm:w-5 sm:h-5"})}),ht.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Share Music"})]}),ht.jsx("button",{onClick:t,className:"p-1.5 sm:p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:ht.jsx(P,{size:18,className:"text-gray-600 dark:text-gray-400 sm:w-5 sm:h-5"})})]}),ht.jsxs("div",{className:"p-3 sm:p-4 space-y-3 sm:space-y-4",children:[ht.jsxs("div",{className:"flex gap-2",children:[ht.jsxs("button",{onClick:()=>a("youtube"),className:"flex-1 flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg font-medium text-sm sm:text-base transition-all "+("youtube"===s?"bg-blue-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:[ht.jsx(ae,{size:18,className:"sm:w-5 sm:h-5"}),ht.jsx("span",{className:"hidden xs:inline",children:"YouTube"}),ht.jsx("span",{className:"xs:hidden",children:"YT"})]}),ht.jsxs("button",{onClick:()=>a("local"),className:"flex-1 flex items-center justify-center gap-1.5 sm:gap-2 px-3 sm:px-4 py-2.5 sm:py-3 rounded-lg font-medium text-sm sm:text-base transition-all "+("local"===s?"bg-blue-500 text-white shadow-md":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"),children:[ht.jsx(oe,{size:18,className:"sm:w-5 sm:h-5"}),ht.jsx("span",{className:"hidden xs:inline",children:"Local File"}),ht.jsx("span",{className:"xs:hidden",children:"File"})]})]}),"youtube"===s&&ht.jsxs("div",{children:[ht.jsx("label",{className:"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"YouTube URL"}),ht.jsx("input",{type:"url",value:o,onChange:e=>l(e.target.value),placeholder:"https://www.youtube.com/watch?v=...",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 bg-gray-50 dark:bg-gray-800 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none text-sm sm:text-base text-gray-900 dark:text-gray-100"}),ht.jsx("p",{className:"mt-1.5 sm:mt-2 text-[10px] sm:text-xs text-gray-500 dark:text-gray-400",children:"Paste a YouTube video URL to share with the group"})]}),"local"===s&&ht.jsxs("div",{children:[ht.jsx("input",{ref:p,type:"file",accept:"audio/*",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n){if(!n.type.startsWith("audio/"))return void f("Please select an audio file (MP3, WAV, etc.)");u(n),f(null)}},className:"hidden"}),ht.jsxs("button",{onClick:()=>{var e;return null==(e=p.current)?void 0:e.click()},className:"w-full px-3 sm:px-4 py-6 sm:py-8 border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg hover:border-blue-500 dark:hover:border-blue-400 transition-colors flex flex-col items-center gap-2",children:[ht.jsx(oe,{size:28,className:"text-gray-400 sm:w-8 sm:h-8"}),ht.jsx("span",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-300 text-center px-2",children:c?c.name:"Click to select audio file"}),ht.jsx("span",{className:"text-[10px] sm:text-xs text-gray-500 dark:text-gray-400",children:"MP3, WAV, OGG, etc."})]})]}),d&&ht.jsxs("div",{className:"flex items-start gap-2 p-2.5 sm:p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:[ht.jsx(re,{size:16,className:"text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5 sm:w-[18px] sm:h-[18px]"}),ht.jsx("p",{className:"text-xs sm:text-sm text-red-700 dark:text-red-300",children:d})]}),ht.jsx("div",{className:"p-2.5 sm:p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:ht.jsx("p",{className:"text-[10px] sm:text-xs text-blue-700 dark:text-blue-300",children:" All group members will be able to listen together with synchronized playback."})})]}),ht.jsxs("div",{className:"p-3 sm:p-4 border-t border-gray-200 dark:border-gray-700 flex gap-2 sm:gap-3",children:[ht.jsx("button",{onClick:t,className:"flex-1 px-3 sm:px-4 py-2 sm:py-2.5 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-lg text-sm sm:text-base font-medium hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:async()=>{f(null),m(!0);try{let e;if("youtube"===s){const t=pV.extractYouTubeId(o);if(!t)return f("Invalid YouTube URL. Please enter a valid YouTube link."),void m(!1);e={type:"youtube",url:o,youtubeId:t,title:"YouTube Video",thumbnail:`https://img.youtube.com/vi/${t}/default.jpg`}}else{if(!c)return f("Please select an audio file"),void m(!1);e={type:"local",url:URL.createObjectURL(c),title:c.name,duration:0}}const n=await pV.createSession(i,"currentUserId",e);n.success?(r(n.session),t()):f(n.error||"Failed to create music session")}catch(e){f(e.message||"Something went wrong")}finally{m(!1)}},disabled:h||"youtube"===s&&!o||"local"===s&&!c,className:"flex-1 px-3 sm:px-4 py-2 sm:py-2.5 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm sm:text-base font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-1.5 sm:gap-2",children:h?ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),ht.jsx("span",{className:"text-xs sm:text-base",children:"Creating..."})]}):ht.jsxs(ht.Fragment,{children:[ht.jsx(K,{size:16,className:"sm:w-[18px] sm:h-[18px]"}),ht.jsx("span",{children:"Share Music"})]})})]})]})}):null},vV=({session:e,onClose:t})=>{const[i,r]=n.useState(!1),[s,a]=n.useState(0),[o,l]=n.useState(0),[c,u]=n.useState(!1),[d,f]=n.useState({x:20,y:window.innerHeight-180}),[h,m]=n.useState(!1),[p,g]=n.useState({x:0,y:0}),v=n.useRef(null),y=n.useRef(null),b=n.useRef(null);n.useEffect(()=>{if(!e)return;return pV.subscribeToSession(e.id,t=>{t.isPlaying!==i&&(r(t.isPlaying),"youtube"===e.musicType&&b.current?t.isPlaying?b.current.playVideo():b.current.pauseVideo():y.current&&(t.isPlaying?y.current.play():y.current.pause())),Math.abs(t.currentTime-s)>2&&(a(t.currentTime),"youtube"===e.musicType&&b.current?b.current.seekTo(t.currentTime):y.current&&(y.current.currentTime=t.currentTime))})},[e]),n.useEffect(()=>{if("youtube"===(null==e?void 0:e.musicType)&&e.youtubeId)if(window.YT)w();else{const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",document.body.appendChild(e),window.onYouTubeIframeAPIReady=()=>{w()}}},[e]);const w=()=>{b.current=new window.YT.Player("youtube-player",{height:"0",width:"0",videoId:e.youtubeId,events:{onReady:e=>{l(e.target.getDuration())},onStateChange:e=>{e.data===window.YT.PlayerState.PLAYING?i||k():e.data===window.YT.PlayerState.PAUSED&&i&&k()}}});const t=setInterval(()=>{var e;(null==(e=b.current)?void 0:e.getCurrentTime)&&a(b.current.getCurrentTime())},1e3);return()=>clearInterval(t)};n.useEffect(()=>{"local"===(null==e?void 0:e.musicType)&&y.current&&(y.current.addEventListener("loadedmetadata",()=>{l(y.current.duration)}),y.current.addEventListener("timeupdate",()=>{a(y.current.currentTime)}))},[e]);const k=async()=>{const t=!i;r(t),await pV.updatePlaybackState(e.id,t,s)},x=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;n.useEffect(()=>{const e=e=>{if(!h)return;const t=e.clientX-p.x,n=e.clientY-p.y,i=window.innerWidth-320,r=window.innerHeight-(c?60:160);f({x:Math.max(0,Math.min(t,i)),y:Math.max(0,Math.min(n,r))})},t=()=>{m(!1)};return h&&(window.addEventListener("mousemove",e),window.addEventListener("mouseup",t)),()=>{window.removeEventListener("mousemove",e),window.removeEventListener("mouseup",t)}},[h,p]);if(!e)return null;const _=c?240:320,S=c?60:160;return ht.jsxs("div",{ref:v,className:"fixed z-[150] bg-gradient-to-br from-purple-600 to-blue-600 rounded-2xl shadow-2xl transition-all duration-300 "+(h?"cursor-grabbing":"cursor-grab"),style:{left:`${d.x}px`,top:`${d.y}px`,width:`min(${_}px, calc(100vw - 32px))`,height:`${S}px`,minWidth:"200px"},onMouseDown:e=>{e.target.closest(".player-controls")||(m(!0),g({x:e.clientX-d.x,y:e.clientY-d.y}))},children:["youtube"===e.musicType&&ht.jsx("div",{id:"youtube-player",style:{display:"none"}}),"local"===e.musicType&&ht.jsx("audio",{ref:y,src:e.musicUrl}),ht.jsxs("div",{className:"flex items-center justify-between p-2 sm:p-3 border-b border-white/20",children:[ht.jsxs("div",{className:"flex-1 min-w-0",children:[ht.jsx("h4",{className:"text-white font-medium text-xs sm:text-sm truncate",children:e.musicTitle}),!c&&ht.jsxs("p",{className:"text-white/70 text-[10px] sm:text-xs",children:[e.participants.length," listening"]})]}),ht.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 ml-2",children:[ht.jsx("button",{onClick:e=>{e.stopPropagation(),u(!c)},className:"p-1 sm:p-1.5 hover:bg-white/10 rounded-full transition-colors",children:c?ht.jsx(le,{size:14,className:"text-white sm:w-4 sm:h-4"}):ht.jsx(ce,{size:14,className:"text-white sm:w-4 sm:h-4"})}),ht.jsx("button",{onClick:n=>{n.stopPropagation(),(async()=>{await pV.endSession(e.id),t()})()},className:"p-1 sm:p-1.5 hover:bg-white/10 rounded-full transition-colors",children:ht.jsx(P,{size:14,className:"text-white sm:w-4 sm:h-4"})})]})]}),!c&&ht.jsxs("div",{className:"p-3 sm:p-4 player-controls",onClick:e=>e.stopPropagation(),children:[ht.jsx("div",{className:"w-full h-1 sm:h-1.5 bg-white/20 rounded-full mb-3 sm:mb-4 cursor-pointer group",onClick:async t=>{const n=t.currentTarget.getBoundingClientRect(),i=(t.clientX-n.left)/n.width*o;a(i),await pV.seek(e.id,i),"youtube"===e.musicType&&b.current?b.current.seekTo(i):y.current&&(y.current.currentTime=i)},children:ht.jsx("div",{className:"h-full bg-white rounded-full transition-all group-hover:h-1.5 sm:group-hover:h-2",style:{width:s/o*100+"%"}})}),ht.jsxs("div",{className:"flex items-center justify-between",children:[ht.jsxs("span",{className:"text-white/70 text-[10px] sm:text-xs font-mono whitespace-nowrap",children:[x(s)," / ",x(o)]}),ht.jsx("button",{onClick:k,className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-white/20 hover:bg-white/30 flex items-center justify-center transition-all hover:scale-105",children:i?ht.jsx(ue,{size:18,className:"text-white fill-white sm:w-5 sm:h-5"}):ht.jsx(j,{size:18,className:"text-white fill-white ml-0.5 sm:w-5 sm:h-5"})}),ht.jsx(de,{size:16,className:"text-white/70 sm:w-[18px] sm:h-[18px]"})]})]})]})},yV=(e,t)=>e,bV=()=>{var e,t,i,s,a,o,l,c;const u=r(),d=SP(),{toggleStarMessage:f,deleteForMe:h,deleteForEveryone:m,canDeleteForEveryone:p,hiddenMessages:g,isFollowing:y,openGameInvite:b}=YI(),w=n.useRef(null),[k,x]=n.useState(!1),[_,C]=n.useState(!1),[N,j]=n.useState(null),[E,I]=n.useState(!1),[R,D]=n.useState(null),[L,F]=n.useState(null);(()=>{const[e,t]=n.useState(!1),[i,r]=n.useState(0),[s,a]=n.useState(null),[o,l]=n.useState(null),[c,u]=n.useState(null),d=n.useRef(null),f=n.useRef([]),h=n.useRef(null),m=n.useRef(null),p=n.useCallback(async()=>{try{u(null);const e=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}});m.current=e;const n=new MediaRecorder(e,{mimeType:"audio/webm;codecs=opus"});d.current=n,f.current=[],n.ondataavailable=e=>{e.data.size>0&&f.current.push(e.data)},n.onstop=()=>{const e=new Blob(f.current,{type:"audio/webm"}),t=URL.createObjectURL(e);a(e),l(t),m.current&&m.current.getTracks().forEach(e=>e.stop())},n.start(),t(!0),r(0),h.current=setInterval(()=>{r(e=>e+1)},1e3)}catch(e){u("Unable to access microphone. Please grant permission.")}},[]),g=n.useCallback(()=>{d.current&&e&&(d.current.stop(),t(!1),h.current&&clearInterval(h.current))},[e]),v=n.useCallback(()=>{g(),a(null),l(null),r(0),o&&URL.revokeObjectURL(o)},[g,o]),y=n.useCallback(()=>{a(null),l(null),r(0),u(null),o&&URL.revokeObjectURL(o)},[o])})(),n.useRef(null),nD();const[U,B]=n.useState(null),[V,q]=n.useState(null),[$,W]=n.useState(!1),[H,G]=n.useState(!1),[K,Q]=n.useState(null),X=!!R&&p(R.timestamp),Z=!X&&R?"You can only delete for everyone within 1 hour of sending the message.":null,ee=n.useMemo(()=>{if(d.chat)return d.chat;const e=u.state;if(d.chatId&&(null==e?void 0:e.contactId))return{id:d.chatId,type:"individual",contactId:e.contactId,isGroup:!1,participants:[d.currentUserId,e.contactId],unreadCount:0};if(d.chatId){const e=d.chatId.split("_");let t=null;for(const n of e)if("chat"!==n&&"me"!==n&&isNaN(n)&&n!==d.currentUserId&&d.users[n]){t=n;break}return t?{id:d.chatId,type:"individual",contactId:t,isGroup:!1,participants:[d.currentUserId,t],unreadCount:0}:{id:d.chatId,type:"individual",contactId:null,isGroup:!1,participants:[d.currentUserId],unreadCount:0}}return null},[d.chat,d.chatId,d.currentUserId,d.users,u.state]),te=n.useMemo(()=>{if(ee&&!ee.isGroup){const e=u.state;if((null==e?void 0:e.contactId)&&e.contactId===ee.contactId)return{id:e.contactId,name:e.contactName||"User",avatar:e.contactAvatar,about:e.contactAbout||"Hey there! I am using WhatsApp."};if(ee.contactId)return d.users[ee.contactId]}return null},[ee,d.users,u.state]);if(!ee)return ht.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500 bg-wa-bg",children:[ht.jsx("p",{children:"Unable to load chat"}),ht.jsx("button",{onClick:d.navigateToChats,className:"mt-4 text-wa-teal",children:"Go back"})]});const ie=ee,re=te,se=(d.messageSearchQuery?d.chatMessages.filter(e=>e.text.toLowerCase().includes(d.messageSearchQuery.toLowerCase())):d.chatMessages).filter(e=>!(g[d.chatId]||[]).includes(e.id));return ht.jsxs("div",{className:"flex flex-col h-full bg-[#EFEAE2] dark:bg-[#0b141a] relative",children:[ht.jsx("div",{className:"absolute inset-0 opacity-40 pointer-events-none z-0",style:{backgroundImage:'url("https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png")',backgroundRepeat:"repeat",backgroundSize:"400px"}}),k&&ht.jsx(TP,{onClose:()=>x(!1),onSend:e=>{d.chatId&&d.addMessage(d.chatId," Drawing","image",void 0,e),x(!1)}}),_&&ht.jsx(EP,{onClose:()=>C(!1),onSend:e=>{d.handleSendPoll(e),C(!1)}}),L&&!L.isViewOnce&&ht.jsx(AP,{file:L,onClose:()=>F(null),onSend:(e,t)=>{L&&d.chatId&&(d.addMessage(d.chatId,e,L.type,void 0,L.url,void 0,void 0,t),F(null),d.setShowAttachMenu(!1))},footerElement:ht.jsx("div",{className:"bg-[#2a3942] rounded-full px-3 py-1 text-gray-300 text-xs cursor-pointer hover:bg-[#374248] flex items-center gap-1 truncate max-w-[200px]",children:ht.jsx("span",{className:"truncate",children:ie.isGroup?ie.groupName:null==re?void 0:re.name})})}),L&&L.isViewOnce&&ht.jsxs("div",{className:"fixed inset-0 z-[110] bg-black flex flex-col animate-in fade-in duration-200",children:[ht.jsxs("div",{className:"flex items-center justify-between p-4 z-20 absolute top-0 w-full",children:[ht.jsx("button",{onClick:()=>F(null),className:"p-2 rounded-full hover:bg-white/10 text-white transition-colors",children:ht.jsx(ne,{size:24})}),ht.jsx("div",{className:"text-white font-medium",children:"View Once"}),ht.jsx("div",{className:"w-10"})]}),ht.jsx("div",{className:"flex-1 flex items-center justify-center p-4",children:"video"===L.type?ht.jsx("video",{src:L.url,controls:!0,autoPlay:!0,className:"max-w-full max-h-full"}):ht.jsx("img",{src:L.url,alt:"View Once",className:"max-w-full max-h-full object-contain"})})]}),d.dateLockTarget&&ht.jsx("div",{className:"fixed inset-0 z-[150] flex items-center justify-center bg-black/50 backdrop-blur-sm p-3 sm:p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-xl shadow-2xl w-full max-w-[340px] sm:max-w-xs p-5 sm:p-6 flex flex-col items-center",children:[ht.jsx("div",{className:"w-12 h-12 bg-wa-teal rounded-full flex items-center justify-center mb-4 text-white",children:ht.jsx(v,{size:24})}),ht.jsx("h3",{className:"text-base sm:text-lg font-medium text-[#111b21] dark:text-gray-100 mb-1",children:(null==(t=null==(e=ie.userSettings)?void 0:e.hiddenDates)?void 0:t.includes(d.dateLockTarget))?"Unlock Date":"Lock Date"}),ht.jsxs("p",{className:"text-xs text-[#667781] dark:text-gray-400 mb-5 sm:mb-6 text-center",children:["Enter Daily PIN to ",(null==(s=null==(i=ie.userSettings)?void 0:i.hiddenDates)?void 0:s.includes(d.dateLockTarget))?"show":"hide"," messages from ",ht.jsx("br",{}),ht.jsx("strong",{children:d.dateLockTarget})]}),ht.jsxs("form",{onSubmit:d.handleLockVerify,className:"w-full flex flex-col items-center",children:[ht.jsx("input",{type:"password",inputMode:"numeric",pattern:"[0-9]*",maxLength:4,value:d.lockPin,onChange:e=>{d.setLockPin(e.target.value),d.setLockError("")},className:"w-full text-center text-xl sm:text-2xl tracking-[0.5em] font-medium py-2 border-b-2 border-wa-teal bg-transparent outline-none mb-2 text-[#111b21] dark:text-gray-100 placeholder-transparent touch-manipulation",placeholder:"****",autoFocus:!0}),d.lockError&&ht.jsx("p",{className:"text-red-500 text-xs mb-4 font-medium",children:d.lockError}),ht.jsxs("div",{className:"flex gap-3 w-full mt-4",children:[ht.jsx("button",{type:"button",onClick:()=>{d.setDateLockTarget(null),d.setLockPin(""),d.setLockError("")},className:"flex-1 py-2.5 text-wa-teal font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors touch-manipulation",children:"Cancel"}),ht.jsx("button",{type:"submit",className:"flex-1 py-2.5 bg-wa-teal text-white font-medium rounded-full shadow-sm hover:shadow-md transition-all touch-manipulation",children:(null==(o=null==(a=ie.userSettings)?void 0:a.hiddenDates)?void 0:o.includes(d.dateLockTarget))?"Unlock":"Lock"})]})]})]})}),ht.jsx(dV,{isOpen:E,onClose:()=>{I(!1),D(null)},onDeleteForMe:()=>{R&&(h(d.chatId,[R.id]),d.setActiveMessageId(null))},onDeleteForEveryone:()=>{R&&(m(d.chatId,[R.id]),d.setActiveMessageId(null))},messageCount:1,canDeleteForEveryone:X,timeWarning:Z}),d.isSelectionMode?ht.jsxs("div",{className:"h-[60px] bg-wa-teal dark:bg-wa-dark-header flex items-center px-4 gap-6 text-white z-10 shrink-0 shadow-md",children:[ht.jsxs("div",{className:"flex items-center gap-4",children:[ht.jsx("button",{onClick:()=>{d.setIsSelectionMode(!1),d.setSelectedMessages(new Set)},children:ht.jsx(P,{size:24})}),ht.jsx("span",{className:"font-bold text-xl",children:d.selectedMessages.size})]}),ht.jsx("div",{className:"flex-1"}),ht.jsx("div",{className:"flex-1"}),ht.jsxs("div",{className:"flex items-center gap-6",children:[ht.jsx("button",{children:ht.jsx(Y,{size:24,className:"scale-x-[-1]"})}),ht.jsx("button",{onClick:()=>{d.selectedMessages.forEach(e=>{f(d.chatId,e)}),d.setIsSelectionMode(!1),d.setSelectedMessages(new Set)},children:ht.jsx(fe,{size:24})}),1===d.selectedMessages.size&&(()=>{const e=Array.from(d.selectedMessages)[0],t=d.chatMessages.find(t=>t.id===e);return t&&"text"===t.type&&ht.jsx("button",{onClick:()=>{d.handleTranslate(e),d.setIsSelectionMode(!1),d.setSelectedMessages(new Set)},title:"Translate",children:ht.jsx(J,{size:24})})})(),ht.jsx("button",{onClick:d.handleDeleteSelected,children:ht.jsx(A,{size:24})}),ht.jsx("button",{children:ht.jsx(he,{size:24})})]})]}):d.isSearchOpen?ht.jsx(sD,{messages:d.chatMessages,users:d.users,onResultSelect:e=>{q(e);const t=document.getElementById(`msg-${e.id}`);t&&t.scrollIntoView({behavior:"smooth",block:"center"})},onClose:()=>{d.setIsSearchOpen(!1),q(null)}}):ht.jsxs("div",{className:"h-[60px] bg-wa-grayBg dark:bg-wa-dark-header flex items-center px-4 justify-between border-b border-wa-border dark:border-wa-dark-border z-10 shrink-0",children:[ht.jsxs("div",{className:"flex items-center gap-3 cursor-pointer flex-1 min-w-0 mr-2",onClick:d.navigateToInfo,children:[ht.jsx("button",{onClick:e=>{e.stopPropagation(),d.navigateToChats()},className:"md:hidden mr-1 shrink-0",children:ht.jsx(ne,{size:24,className:"text-[#54656f] dark:text-gray-400"})}),ht.jsx("img",{src:ie.isGroup?"https://picsum.photos/300":null==re?void 0:re.avatar,alt:"Avatar",className:"w-10 h-10 rounded-full object-cover shrink-0"}),ht.jsxs("div",{className:"flex flex-col justify-center min-w-0",children:[ht.jsx("h2",{className:"text-[#111b21] dark:text-gray-100 font-medium text-base truncate",children:ie.isGroup?ie.groupName:null==re?void 0:re.name}),(()=>{var e;const{typingUsers:t,onlineUsers:n,lastSeen:i,users:r}=d,s=((null==t?void 0:t[d.chatId])||[]).filter(e=>e!==d.currentUserId);if(s.length>0)return ht.jsx(RP,{typingUserIds:s,users:r});if(!ie.isGroup&&re){if(null==n?void 0:n.has(re.id))return ht.jsxs("div",{className:"flex items-center gap-1.5",children:[ht.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-400",children:"online"})]});{const e=null==i?void 0:i[re.id],t=e?`last seen ${(e=>{if(!e)return"online";const t=new Date,n=new Date(e),i=t-n,r=Math.floor(i/6e4),s=Math.floor(i/36e5),a=Math.floor(i/864e5);return r<1?"just now":1===r?"1 minute ago":r<60?`${r} minutes ago`:1===s?"1 hour ago":s<24?`${s} hours ago`:1===a?"yesterday":a<7?`${a} days ago`:a<30?`${Math.floor(a/7)} week${Math.floor(a/7)>1?"s":""} ago`:n.toLocaleDateString("en-US",{month:"short",day:"numeric",year:t.getFullYear()!==n.getFullYear()?"numeric":void 0})})(e)}`:"";return ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-400",children:t})}}return ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-400 overflow-x-auto whitespace-nowrap no-scrollbar",children:(null==(e=ie.groupParticipants)?void 0:e.map(e=>{var t;return null==(t=r[e])?void 0:t.name}).join(", "))||"click for info"})})()]})]}),ht.jsxs("div",{className:"flex items-center gap-2 md:gap-4 text-wa-teal dark:text-wa-teal shrink-0",children:[ht.jsx("button",{onClick:()=>re&&d.startCall(re.id,"video"),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:ht.jsx(T,{size:24})}),ht.jsx("button",{onClick:()=>re&&d.startCall(re.id,"voice"),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full",children:ht.jsx(me,{size:22})}),ht.jsx("button",{className:"hidden md:block p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full",onClick:()=>d.setIsSearchOpen(!0),children:ht.jsx(z,{size:22,className:"text-[#54656f] dark:text-gray-400"})}),ht.jsxs("div",{className:"relative",children:[ht.jsx("button",{onClick:()=>d.setIsMenuOpen(!d.isMenuOpen),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full text-[#54656f] dark:text-gray-400",children:ht.jsx(pe,{size:22})}),d.isMenuOpen&&ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d.setIsMenuOpen(!1)}),ht.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl border border-wa-border dark:border-wa-dark-border z-50 py-2 origin-top-right animate-in fade-in zoom-in-95 duration-200",children:[ht.jsx("button",{onClick:()=>{d.navigateToInfo(),d.setIsMenuOpen(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-wa-dark-hover text-[#111b21] dark:text-gray-100 text-[15px]",children:ie.isGroup?"Group info":"Contact info"}),ht.jsx("button",{onClick:()=>{d.setIsSearchOpen(!0),d.setIsMenuOpen(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-wa-dark-hover text-[#111b21] dark:text-gray-100 text-[15px]",children:"Search"}),ht.jsx("button",{onClick:()=>{d.deleteMessages(d.chatId,[],!0),d.setIsMenuOpen(!1)},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-wa-dark-hover text-[#111b21] dark:text-gray-100 text-[15px]",children:"Clear chat"}),ht.jsx("button",{onClick:()=>{d.setIsMenuOpen(!1),d.navigateToChats()},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-wa-dark-hover text-[#111b21] dark:text-gray-100 text-[15px]",children:"Close chat"})]})]})]})]})]}),0===se.length?ht.jsx(fV,{contactName:ie.isGroup?ie.groupName:null==re?void 0:re.name,contactAvatar:ie.isGroup?"https://picsum.photos/300":null==re?void 0:re.avatar,isGroup:ie.isGroup}):ht.jsx(eV,{messages:se,currentUser:{id:d.currentUserId},chatContainerRef:d.chatContainerRef,messagesEndRef:d.messagesEndRef,activeMessageId:d.activeMessageId,selectedMessages:d.selectedMessages,isSelectionMode:d.isSelectionMode,messageSearchQuery:d.messageSearchQuery,translatedMessages:d.translatedMessages,chatSettings:d.chatSettings,chat:ie,hiddenDates:null==(l=null==ie?void 0:ie.userSettings)?void 0:l.hiddenDates,mockTranslate:yV,onDateLock:d.handleDateLock||d.setDateLockTarget,onAction:(e,t)=>{switch(e){case"setActive":d.setActiveMessageId(t);break;case"startSelection":d.setIsSelectionMode(!0),d.setSelectedMessages(new Set([t]));break;case"toggleSelection":d.toggleSelection(t);break;case"reply":d.handleReply(t);break;case"translate":d.handleTranslate(t);break;case"togglePin":d.togglePinMessage(d.chatId,t),d.setActiveMessageId(null);break;case"addReaction":d.addReaction(d.chatId,t.msgId,t.emoji),d.setActiveMessageId(null);break;case"vote":d.handleVote(t.msg.id,t.optionId);break;case"viewVotes":j(t);break;case"viewMedia":const{url:e,type:n,isViewOnce:i,messageId:r}=t;i&&r?(F({url:e,type:n,isViewOnce:i,messageId:r}),d.markMessageAsViewed(d.chatId,r)):F({url:e,type:n});break;case"delete":const s=t,a=d.chatMessages.find(e=>e.id===s);D(a),I(!0)}}}),d.editingMessage&&ht.jsxs("div",{className:"bg-wa-tealBg dark:bg-wa-tealDark/20 px-4 py-2 border-l-4 border-wa-teal flex justify-between items-center z-10 mx-2 mt-2 rounded-lg animate-in slide-in-from-bottom-2 duration-200",children:[ht.jsxs("div",{className:"flex flex-col text-sm max-w-[90%]",children:[ht.jsx("span",{className:"text-wa-teal font-medium text-xs",children:"Editing message"}),ht.jsx("span",{className:"truncate text-gray-600 dark:text-gray-300",children:d.editingMessage.text})]}),ht.jsx("button",{onClick:()=>d.handleCancelEdit(),children:ht.jsx(P,{size:20,className:"text-gray-500"})})]}),d.replyTo&&ht.jsxs("div",{className:"bg-gray-100 dark:bg-wa-dark-paper px-4 py-2 border-l-4 border-wa-teal flex justify-between items-center z-10 mx-2 mt-2 rounded-lg",children:[ht.jsxs("div",{className:"flex flex-col text-sm max-w-[90%]",children:[ht.jsxs("span",{className:"text-wa-teal font-medium text-xs",children:["Replying to ",(null==(c=d.users[d.replyTo.senderId])?void 0:c.name)||"User"]}),ht.jsx("span",{className:"truncate text-gray-600 dark:text-gray-300",children:d.replyTo.text})]}),ht.jsx("button",{onClick:()=>d.setReplyTo(null),children:ht.jsx(P,{size:20,className:"text-gray-500"})})]}),d.isSelectionMode?ht.jsx("div",{className:"p-3 bg-wa-grayBg dark:bg-wa-dark-header border-t border-wa-border dark:border-wa-dark-border z-10 flex items-center justify-center text-sm text-gray-500",children:"Selection Mode Active"}):ie.isGroup||!(null==re?void 0:re.isPrivate)||y(re.id)||re.id===d.currentUserId?d.isRecording?ht.jsxs("div",{className:"p-2 md:p-3 bg-wa-grayBg dark:bg-wa-dark-header border-t border-wa-border dark:border-wa-dark-border z-10 flex items-center gap-4 animate-in slide-in-from-bottom-2 duration-200",children:[ht.jsx("button",{onClick:d.cancelRecording,className:"p-3 text-red-500 hover:bg-black/5 rounded-full transition-colors",children:ht.jsx(A,{size:22})}),ht.jsxs("div",{className:"flex-1 flex items-center gap-3",children:[ht.jsxs("div",{className:"flex items-center gap-2 text-[#54656f] dark:text-gray-300 text-lg font-mono",children:[ht.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500 animate-pulse"}),(ae=d.recordingSeconds,`${Math.floor(ae/60)}:${(ae%60).toString().padStart(2,"0")}`)]}),ht.jsx("span",{className:"text-xs text-[#667781] dark:text-gray-500 animate-pulse",children:"Recording..."})]}),ht.jsx("button",{onClick:d.finishRecording,className:"p-3 bg-wa-teal text-white rounded-full shadow-md hover:scale-105 transition-transform",children:ht.jsx(M,{size:20,className:"ml-0.5"})})]}):ht.jsxs("div",{className:"p-2 md:p-3 bg-wa-grayBg dark:bg-wa-dark-header border-t border-wa-border dark:border-wa-dark-border z-10 flex items-center gap-2 relative",children:[ht.jsx("input",{type:"file",ref:w,className:"hidden",onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n)if(n.type.startsWith("image/")||n.type.startsWith("video/")){const e=URL.createObjectURL(n),t=n.type.startsWith("video/")?"video":"image";F({url:e,file:n,type:t})}else d.addMessage(d.chatId,` ${n.name}`,"text");e.target.value=""}}),d.showAttachMenu&&ht.jsx(dD,{onSelect:e=>{if(w.current){if("gallery"===e||"camera"===e)w.current.accept="image/*,video/*",w.current.click();else if("document"===e)w.current.accept="*/*",w.current.click();else if("draw"===e)x(!0);else if("poll"===e)C(!0);else if("location"===e)navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{const{latitude:t,longitude:n}=e.coords,i=`https://www.google.com/maps/search/?api=1&query=${t},${n}`;d.addMessage(d.chatId,` My Current Location\n${i}`,"text")},e=>{alert("Unable to retrieve location. Please check your permissions.")}):alert("Geolocation is not supported by this browser.");else{if("game"===e)return b({isGroup:(null==ie?void 0:ie.isGroup)||!1,chatId:null==ie?void 0:ie.id,opponentId:(null==ie?void 0:ie.isGroup)?"group":null==ie?void 0:ie.contactId}),void d.setShowAttachMenu(!1);if("walkie-talkie"===e)return void((null==ie?void 0:ie.isGroup)&&(W(!0),d.setShowAttachMenu(!1)));if("music"===e)return G(!0),void d.setShowAttachMenu(!1);alert(`${e} feature coming soon!`)}d.setShowAttachMenu(!1)}},onClose:()=>d.setShowAttachMenu(!1),isGroup:(null==ie?void 0:ie.isGroup)||!1}),ht.jsxs("div",{className:"relative",children:[ht.jsx("button",{onClick:()=>d.setShowPicker(!d.showPicker),className:"p-2 text-[#54656f] dark:text-gray-400 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors",children:ht.jsx(O,{size:24})}),d.showPicker&&ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>d.setShowPicker(!1)}),ht.jsx(LM,{onEmojiSelect:e=>{d.setInputText(d.inputText+e),d.setShowPicker(!1)},onClose:()=>d.setShowPicker(!1)})]})]}),ht.jsx("button",{onClick:()=>d.setShowAttachMenu(!d.showAttachMenu),className:"p-2 rounded-full transition-colors transition-transform "+(d.showAttachMenu?"bg-black/10 dark:bg-white/10 rotate-45 text-[#54656f] dark:text-gray-300":"text-[#54656f] dark:text-gray-400 hover:bg-black/5"),children:ht.jsx(ge,{size:24})}),ht.jsx("div",{className:"flex-1 bg-white dark:bg-wa-dark-input rounded-lg flex items-center px-4 py-2",children:ht.jsx("input",{type:"text",className:"w-full bg-transparent outline-none text-[#111b21] dark:text-gray-100 placeholder:text-[#667781] dark:placeholder:text-gray-500 text-[15px]",placeholder:"Type a message",value:d.inputText,onChange:d.setInputText,onKeyDown:d.handleKeyDown})}),d.inputText.trim()?ht.jsx("button",{onClick:()=>d.handleSendMessage(),className:"p-3 bg-wa-teal text-white rounded-full shadow-md hover:scale-105 transition-transform",children:ht.jsx(M,{size:20,className:"ml-0.5"})}):ht.jsx("button",{onClick:d.startRecording,className:"p-3 bg-wa-teal text-white rounded-full shadow-md hover:scale-105 transition-transform active:scale-95",children:ht.jsx(S,{size:20})})]}):ht.jsx("div",{className:"p-4 bg-wa-grayBg dark:bg-wa-dark-header border-t border-wa-border dark:border-wa-dark-border z-10 flex flex-col items-center justify-center text-center gap-2",children:ht.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"You cannot message this account because they are private and you are not following them."})}),N&&ht.jsx(oD,{pollData:N,onClose:()=>j(null)}),(null==ie?void 0:ie.isGroup)&&ht.jsx(mV,{isOpen:$,onClose:()=>W(!1),groupId:ie.id,groupName:ie.groupName,participants:ie.groupParticipants||[]}),ht.jsx(gV,{isOpen:H,onClose:()=>G(!1),chatId:null==ie?void 0:ie.id,onSessionCreated:e=>{Q(e)}}),K&&ht.jsx(vV,{session:K,onClose:()=>{Q(null)}}),d.activeThreadId&&(()=>{const e=d.chatMessages.find(e=>e.id===d.activeThreadId);return e?ht.jsx(tV,{parentMessage:e,onClose:d.handleCloseThread}):null})()]});var ae},wV=Object.freeze(Object.defineProperty({__proto__:null,default:bV},Symbol.toStringTag,{value:"Module"})),kV=["","","","","","","",""],xV=({updates:e,initialIndex:t,onClose:i})=>{const{users:r,startChat:s,addMessage:o,currentUserId:l,deleteStatusUpdate:c}=YI(),[u,d]=n.useState(t),[f,h]=n.useState(0),[m,p]=n.useState(!1),[g,v]=n.useState(""),[y,w]=n.useState(!1),[k]=n.useState(()=>(()=>{const e=Math.floor(6*Math.random())+2;return[{id:"u1",name:"Alice Johnson",time:"Just now"},{id:"u2",name:"Bob Smith",time:"2 minutes ago"},{id:"u3",name:"Carol Danvers",time:"5 minutes ago"},{id:"u4",name:"David Goggins",time:"10 minutes ago"},{id:"u5",name:"Eve Polastri",time:"12 minutes ago"},{id:"u6",name:"Fiona Gallagher",time:"15 minutes ago"},{id:"u7",name:"George Costanza",time:"Today, 10:15 AM"},{id:"u8",name:"Hannah Lee",time:"Today, 10:30 AM"}].sort(()=>.5-Math.random()).slice(0,e)})()),x=n.useRef(null);n.useEffect(()=>{d(t)},[t]),n.useEffect(()=>{if(h(0),m||y)return;const e=100/(5e3/30),t=setInterval(()=>{h(t=>t>=100?(_(),0):t+e)},30);return()=>clearInterval(t)},[u,e.length,m,y]),n.useEffect(()=>{m&&x.current&&x.current.focus()},[m]);const _=()=>{u<e.length-1?d(e=>e+1):i()},S=(t=g)=>{if(!t.trim())return;const n=e[u],i=s(n.userId);o(i,`Replying to status: ${t}`,"text"),v(""),p(!1)},C=()=>{const t=e[u];c(t.id),1===e.length?i():u===e.length-1&&d(e=>e-1)};if(!e||0===e.length||!e[u])return null;const N=e[u],j=r[N.userId],T=N.userId===l;if(!j&&!T)return null;const E=N.imageUrl||`https://picsum.photos/seed/${N.id}/600/1000`,I=T?{name:"My Status",avatar:r[l].avatar}:j;return a.createPortal(ht.jsxs("div",{className:"fixed inset-0 left-0 right-0 top-0 bottom-0 w-screen h-screen z-[9999] bg-black flex flex-col animate-in fade-in duration-200 font-sans",children:[ht.jsx("div",{className:"flex gap-1 p-2 pt-4 absolute top-0 w-full z-20",children:e.map((e,t)=>ht.jsx("div",{className:"h-1 flex-1 bg-white/30 rounded-full overflow-hidden",children:ht.jsx("div",{className:"h-full bg-white transition-all duration-30 ease-linear",style:{width:t<u?"100%":t===u?`${f}%`:"0%"}})},t))}),ht.jsxs("div",{className:"flex items-center justify-between px-4 py-8 z-20 text-white mt-4",children:[ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("button",{onClick:i,className:"md:hidden",children:ht.jsx(ne,{size:24})}),ht.jsx("img",{src:I.avatar,className:"w-10 h-10 rounded-full border border-white",alt:I.name}),ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("span",{className:"font-semibold text-sm",children:I.name}),ht.jsx("span",{className:"text-xs opacity-80",children:new Date(N.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]}),ht.jsxs("div",{className:"flex items-center gap-4",children:[T&&ht.jsx("button",{onClick:e=>{e.stopPropagation(),C()},className:"p-2 hover:bg-white/10 rounded-full transition-colors",title:"Delete",children:ht.jsx(A,{size:20})}),ht.jsx(P,{size:24,className:"cursor-pointer hidden md:block hover:opacity-80",onClick:i})]})]}),ht.jsxs("div",{className:"absolute inset-0 flex z-10",children:[ht.jsx("div",{className:"w-1/3 h-full",onClick:()=>{u>0&&d(e=>e-1)}}),ht.jsx("div",{className:"w-2/3 h-full",onClick:_})]}),ht.jsxs("div",{className:"flex-1 relative flex items-center justify-center bg-gray-900 pointer-events-none",children:[ht.jsx("img",{src:E,className:"max-h-full max-w-full object-contain",alt:"Status"}),N.caption&&ht.jsx("div",{className:"absolute bottom-32 w-full text-center text-white bg-black/50 p-4 backdrop-blur-sm",children:N.caption})]}),!T&&ht.jsxs("div",{className:"absolute bottom-0 w-full z-30 transition-all duration-300 "+(m?"bg-black/80 backdrop-blur-md pb-4 pt-2 h-auto":"h-24 bg-gradient-to-t from-black/80 to-transparent"),children:[m&&ht.jsx("div",{className:"flex justify-center gap-4 mb-4 animate-in slide-in-from-bottom-5 duration-300 px-4 flex-wrap",children:kV.map(e=>ht.jsx("button",{onClick:t=>{t.stopPropagation(),(e=>{S(e)})(e)},className:"text-3xl hover:scale-125 transition-transform",children:e},e))}),ht.jsx("div",{className:"px-4 w-full flex flex-col items-center",children:m?ht.jsxs("div",{className:"flex items-center gap-2 w-full max-w-lg",children:[ht.jsx("input",{ref:x,type:"text",placeholder:"Type a reply...",className:"flex-1 bg-white/20 border border-white/30 rounded-full px-4 py-2 text-white placeholder:text-white/70 outline-none backdrop-blur-sm",value:g,onChange:e=>v(e.target.value),onKeyDown:e=>"Enter"===e.key&&S(),onBlur:()=>!g&&p(!1)}),ht.jsx("button",{onClick:e=>{e.stopPropagation(),S()},className:"p-2 bg-wa-teal rounded-full text-white shadow-lg disabled:opacity-50",disabled:!g.trim(),children:ht.jsx(M,{size:20,className:"ml-0.5"})})]}):ht.jsxs("div",{onClick:e=>{e.stopPropagation(),p(!0)},className:"flex flex-col items-center gap-1 cursor-pointer opacity-80 hover:opacity-100 transition-opacity mb-4",children:[ht.jsx(U,{size:20,className:"text-white"}),ht.jsx("span",{className:"text-white text-sm font-medium",children:"Reply"})]})})]}),T&&ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"absolute bottom-8 w-full flex flex-col items-center gap-4 z-50 pointer-events-auto",children:ht.jsxs("div",{onClick:e=>{e.stopPropagation(),w(!0)},className:"flex items-center gap-2 text-white/90 bg-black/40 px-4 py-2 rounded-full backdrop-blur-sm cursor-pointer hover:bg-black/60 transition-colors",children:[ht.jsx(b,{size:16}),ht.jsxs("span",{className:"text-sm font-medium",children:[k.length," views"]})]})}),y&&ht.jsxs("div",{className:"absolute inset-x-0 bottom-0 top-20 z-[60] bg-white dark:bg-[#111b21] rounded-t-2xl shadow-2xl animate-in slide-in-from-bottom-full duration-300 flex flex-col",children:[ht.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-800 flex items-center justify-between",children:[ht.jsxs("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 flex items-center gap-2",children:["Viewed by ",k.length]}),ht.jsx("button",{onClick:()=>w(!1),className:"p-2 bg-gray-100 dark:bg-white/10 rounded-full",children:ht.jsx(P,{size:20,className:"text-gray-500 dark:text-gray-300"})})]}),ht.jsx("div",{className:"flex-1 overflow-y-auto p-2",children:k.map(e=>{const t=Object.values(r).find(t=>t.id===e.id)||{avatar:"https://picsum.photos/200"};return ht.jsxs("div",{className:"flex items-center gap-4 p-3 hover:bg-gray-50 dark:hover:bg-white/5 rounded-lg transition-colors",children:[ht.jsx("img",{src:t.avatar,alt:"",className:"w-10 h-10 rounded-full object-cover"}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h4",{className:"text-sm font-medium text-[#111b21] dark:text-gray-100",children:e.name}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:e.time})]})]},e.id)})}),ht.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-gray-800 flex justify-center",children:ht.jsxs("button",{onClick:e=>{e.stopPropagation(),C(),w(!1)},className:"flex items-center gap-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 px-6 py-2 rounded-full transition-colors font-medium",children:[ht.jsx(A,{size:18})," Delete Status Update"]})})]})]})]}),document.body)},_V=[{id:"n1",name:"Sarah Connor",distance:.5,avatar:"https://picsum.photos/seed/sarah/200"},{id:"n2",name:"John Wick",distance:2.1,avatar:"https://picsum.photos/seed/wick/200"},{id:"n3",name:"Ellen Ripley",distance:4.5,avatar:"https://picsum.photos/seed/ellen/200"},{id:"n4",name:"Luke Skywalker",distance:8,avatar:"https://picsum.photos/seed/luke/200"},{id:"n5",name:"Tony Stark",distance:12.5,avatar:"https://picsum.photos/seed/tony/200"},{id:"n6",name:"Natasha Romanoff",distance:.8,avatar:"https://picsum.photos/seed/nat/200"},{id:"n7",name:"Bruce Wayne",distance:15,avatar:"https://picsum.photos/seed/bruce/200"},{id:"n8",name:"Peter Parker",distance:3.2,avatar:"https://picsum.photos/seed/peter/200"}],SV=({update:e,isViewed:t,onClick:n})=>{const{users:i}=YI(),r=i[e.userId];return r?ht.jsxs("div",{onClick:n,className:"flex items-center gap-4 px-4 py-3 active:bg-wa-grayBg dark:active:bg-wa-dark-paper hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors cursor-pointer",children:[ht.jsx("div",{className:"p-[2px] rounded-full border-2 "+(t?"border-gray-300 dark:border-gray-600":"border-wa-lightGreen"),children:ht.jsx("img",{src:r.avatar,alt:"",className:"w-12 h-12 rounded-full object-cover border border-white dark:border-wa-dark-bg"})}),ht.jsxs("div",{className:"flex-1 border-b border-wa-border dark:border-wa-dark-border pb-3 -mb-3",children:[ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-200 font-medium",children:r.name}),ht.jsx("p",{className:"text-[13px] text-[#667781] dark:text-gray-500",children:yP(e.timestamp)})]})]}):null},CV=()=>{const e=i(),{users:t,currentUserId:r,statusUpdates:s,channels:a,addStatusUpdate:o,searchQuery:l,chats:c,setChats:u,securitySettings:d,followUser:f,unfollowUser:h,isFollowing:m,followedUsers:p,getMutualConnectionsCount:g}=YI(),y=t[r];if(!y||!r)return ht.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-wa-dark-bg",children:ht.jsxs("div",{className:"text-center",children:[ht.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-wa-teal mx-auto mb-4"}),ht.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading updates..."})]})});const[b,k]=n.useState(!1),[x,_]=n.useState(!1),[S,C]=n.useState(!1),[N,j]=n.useState(!1),[T,E]=n.useState(""),[I,P]=n.useState(""),[A,M]=n.useState(!1),[D,L]=n.useState(5),[O,F]=n.useState([]),[V,q]=n.useState(""),[$,H]=n.useState({}),G=n.useRef(null),[K,Y]=n.useState(null),[Q,X]=n.useState({isOpen:!1,updates:[],startIndex:0}),{myUpdates:J,recentUpdates:Z,viewedUpdates:ee,archivedUpdates:te}=n.useMemo(()=>{const e=new Set(c.filter(e=>e.isArchived).map(e=>e.contactId)),n=s.filter(e=>{if(!l)return!0;const n=t[e.userId];return n&&n.name.toLowerCase().includes(l.toLowerCase())}),i=[],a=[],o=[],u=[];return n.forEach(t=>{t.userId===r?i.push(t):e.has(t.userId)?a.push(t):t.viewed?u.push(t):o.push(t)}),{myUpdates:i,archivedUpdates:a,recentUpdates:o,viewedUpdates:u}},[s,c,r,l,t]),ie=n.useMemo(()=>_V.filter(e=>e.distance<=D),[D]);n.useEffect(()=>{(async()=>{try{const e=await zI.getAllUsers(100);e.success&&e.users.length>0?F(e.users):F([])}catch(e){F([])}})()},[t,r]);const re=(e,t)=>{X({isOpen:!0,updates:e,startIndex:t})},se=(e,t)=>{const n={id:`s_${Date.now()}`,userId:r,timestamp:(new Date).toISOString(),imageUrl:(null==t?void 0:t.url)||"https://picsum.photos/seed/text/800/1200",caption:e,viewed:!1};o(n),Y(null)},ae=e=>{var t;null==e||e.stopPropagation(),null==(t=G.current)||t.click()};return y?(te.some(e=>!e.viewed),ht.jsxs("div",{className:"flex flex-col pb-20 bg-white dark:bg-wa-dark-bg min-h-full relative",children:[ht.jsxs("div",{className:"hidden md:flex h-[60px] bg-wa-grayBg dark:bg-wa-dark-header items-center gap-3 px-4 shrink-0 border-b border-wa-border dark:border-wa-dark-border text-[#111b21] dark:text-gray-100 transition-colors sticky top-0 z-10",children:[ht.jsx("button",{onClick:()=>e("/chats"),className:"p-2 -ml-2 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium md:text-lg",children:"Updates"})]}),ht.jsxs("div",{className:"flex items-center justify-between px-4 py-4 md:hidden",children:[ht.jsx("h1",{className:"text-xl font-medium text-[#111b21] dark:text-gray-100",children:"Updates"}),ht.jsxs("div",{className:"flex items-center gap-4",children:[ht.jsx("button",{className:"text-[#111b21] dark:text-gray-100",children:ht.jsx(w,{size:22,onClick:ae})}),ht.jsx("button",{className:"text-[#111b21] dark:text-gray-100",children:ht.jsx(z,{size:22})}),ht.jsxs("div",{className:"relative",children:[ht.jsx("button",{onClick:()=>k(!b),className:"p-2 -mr-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors",children:ht.jsx(pe,{size:20,className:"text-[#54656f] dark:text-gray-400"})}),b&&ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>k(!1)}),ht.jsxs("div",{className:"absolute right-0 top-full mt-1 w-48 bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl border border-wa-border dark:border-gray-700 z-50 py-2 animate-in fade-in zoom-in-95 duration-200 origin-top-right",children:[ht.jsx("button",{onClick:()=>{k(!1),e("/status/privacy")},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-wa-dark-hover text-[#111b21] dark:text-gray-100 text-[15px]",children:"Status privacy"}),ht.jsx("button",{onClick:()=>k(!1),className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-wa-dark-hover text-[#111b21] dark:text-gray-100 text-[15px]",children:"Settings"})]})]})]})]})]}),ht.jsx("input",{type:"file",accept:"image/*,video/*",className:"hidden",ref:G,onChange:e=>{var t;const n=null==(t=e.target.files)?void 0:t[0];if(n){const e=URL.createObjectURL(n),t=n.type.startsWith("video/")?"video":"image";Y({url:e,file:n,type:t}),se("New update",{url:e})}e.target.value=""}}),N&&ht.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-xl shadow-2xl w-full max-w-xs p-6 flex flex-col items-center",children:[ht.jsx(v,{size:24,className:"mb-4 text-wa-teal"}),ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-2",children:"Locked Status"}),ht.jsx("input",{type:"password",value:T,onChange:e=>E(e.target.value),className:"border-b-2 border-wa-teal outline-none text-center text-xl w-full mb-4 bg-transparent dark:text-white",autoFocus:!0}),I&&ht.jsx("p",{className:"text-red-500 text-xs mb-2",children:I}),ht.jsx("button",{onClick:e=>(e=>{null==e||e.preventDefault();const t=d.chatLockPassword||"0000";T===t?(j(!1),_(!0)):(P("Incorrect PIN"),E(""))})(e),className:"w-full bg-wa-teal text-white py-2 rounded-full",children:"Unlock"}),ht.jsx("button",{onClick:()=>j(!1),className:"w-full text-wa-teal py-2 mt-2",children:"Cancel"})]})}),Q.isOpen&&ht.jsx(xV,{updates:Q.updates,initialIndex:Q.startIndex,onClose:()=>{X(e=>({...e,isOpen:!1}))}}),ht.jsxs("div",{className:"mb-4",children:[(!l||y.name.toLowerCase().includes(l.toLowerCase()))&&ht.jsxs("div",{onClick:()=>{J.length>0?re(J,0):ae()},className:"flex items-center gap-4 px-4 py-3 cursor-pointer active:bg-wa-grayBg dark:active:bg-wa-dark-paper hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors group",children:[ht.jsxs("div",{className:"relative",children:[ht.jsx("div",{className:"p-[2px] rounded-full border-2 "+(J.length>0?"border-wa-lightGreen":"border-transparent"),children:ht.jsx("img",{src:y.avatar,alt:"Me",className:"w-12 h-12 rounded-full object-cover"})}),0===J.length&&ht.jsx("div",{className:"absolute bottom-0 right-0 bg-wa-lightGreen rounded-full w-5 h-5 flex items-center justify-center border-2 border-white dark:border-wa-dark-bg text-white",children:ht.jsx(R,{size:14,strokeWidth:3})})]}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-200 font-medium",children:"My Status"}),ht.jsx("p",{className:"text-[14px] text-[#667781] dark:text-gray-500",children:J.length>0?yP(J[0].timestamp):"Tap to add status update"})]})]}),Z.length>0&&ht.jsxs("div",{className:"mt-2",children:[ht.jsx("div",{className:"px-4 text-[14px] font-semibold text-[#667781] dark:text-gray-400 mb-2",children:"Recent updates"}),Z.map((e,t)=>ht.jsx(SV,{update:e,isViewed:!1,onClick:()=>re(Z,t)},e.id))]}),ee.length>0&&ht.jsxs("div",{className:"mt-2",children:[ht.jsxs("div",{onClick:()=>C(!S),className:"flex items-center justify-between px-4 py-2 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",children:[ht.jsx("div",{className:"text-[#667781] dark:text-gray-400 text-[14px] font-semibold",children:"Viewed updates"}),ht.jsx("div",{className:"text-[#667781] dark:text-gray-400",children:S?ht.jsx(U,{size:16}):ht.jsx(B,{size:16})})]}),S&&ht.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200",children:ee.map((e,t)=>ht.jsx(SV,{update:e,isViewed:!0,onClick:()=>re(ee,t)},e.id))})]}),te.length>0&&ht.jsxs("div",{className:"mt-2",children:[ht.jsxs("div",{onClick:()=>{x?_(!1):(E(""),P(""),j(!0))},className:"flex items-center justify-between px-4 py-2 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",children:[ht.jsx("div",{className:"text-[#667781] dark:text-gray-400 text-[14px] font-semibold",children:"Muted updates"}),ht.jsx("div",{className:"text-[#667781] dark:text-gray-400",children:x?ht.jsx(U,{size:16}):ht.jsx(B,{size:16})})]}),x&&ht.jsx("div",{className:"animate-in slide-in-from-top-2 duration-200 opacity-70",children:te.map((e,t)=>ht.jsx(SV,{update:e,isViewed:!0,onClick:()=>re(te,t)},e.id))})]})]}),ht.jsx("div",{className:"h-[1px] bg-wa-border dark:bg-wa-dark-border mx-4 my-2"}),ht.jsxs("div",{className:"mt-2",children:[ht.jsxs("div",{onClick:()=>C(!S),className:"flex items-center justify-between px-4 py-3 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",children:[ht.jsxs("div",{children:[ht.jsx("h2",{className:"text-lg font-bold text-[#111b21] dark:text-gray-100",children:"Find People"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-400",children:"Discover new connections"})]}),ht.jsx("div",{className:"text-[#667781] dark:text-gray-400",children:S?ht.jsx(U,{size:20}):ht.jsx(B,{size:20})})]}),S&&ht.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200 px-4 pb-4",children:[ht.jsx("div",{className:"mb-3",children:ht.jsxs("div",{className:"relative",children:[ht.jsx("input",{type:"text",placeholder:"Search suggested users...",value:V,onChange:e=>q(e.target.value),className:"w-full px-4 py-2 pl-10 bg-gray-100 dark:bg-gray-800 text-[#111b21] dark:text-gray-100 rounded-lg border-none outline-none focus:ring-2 focus:ring-blue-500 transition-all text-sm"}),ht.jsx(z,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"})]})}),ht.jsx("div",{className:"mb-2",children:(()=>{const n=((e,t,n)=>Object.values(e).filter(e=>e.id!==t&&!n(e.id)))(O.reduce((e,t)=>({...e,[t.id]:t}),{}),r,m),i=((e,t)=>{if(!t||!t.trim())return e;const n=t.toLowerCase();return e.filter(e=>e.name.toLowerCase().includes(n)||e.about&&e.about.toLowerCase().includes(n))})(n,V);if(0===i.length)return ht.jsx("div",{className:"py-8 text-center text-gray-500 dark:text-gray-400 text-sm",children:V.trim()?`No users found matching "${V}"`:0===O.length?"No users in database yet. Add users to see suggestions!":"No suggestions available. All database users are already connected!"});const s=Math.ceil(i.length/2),a=i.slice(0,s),o=i.slice(s),l=n=>ht.jsxs("div",{className:"flex-shrink-0 w-[140px] border border-gray-200 dark:border-gray-700 rounded-xl p-3 flex flex-col items-center gap-2 bg-white dark:bg-wa-dark-paper shadow-sm hover:shadow-md transition-all",children:[ht.jsx("div",{onClick:()=>(async n=>{try{const i=t[n];if(!i)return void alert("User not found.");const s=await RI.createDirectChat(r,n);s.success&&e(`/chat/${s.chatId}`,{state:{contactId:n,contactName:i.name,contactAvatar:i.avatar,contactAbout:i.about}})}catch(i){alert("Unable to create chat. Please try again.")}})(n.id),className:"cursor-pointer",children:ht.jsx("img",{src:n.avatar,alt:n.name,className:"w-16 h-16 rounded-full object-cover"})}),ht.jsxs("div",{className:"text-center w-full",children:[ht.jsx("h4",{className:"text-sm font-medium text-[#111b21] dark:text-gray-100 truncate",children:n.name}),$[n.id]>0&&ht.jsxs("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:[$[n.id]," mutual"]})]}),ht.jsx("button",{onClick:()=>{m(n.id)?h(n.id):f(n.id)},className:"w-full py-1.5 rounded-lg text-xs font-semibold transition-all "+(m(n.id)?"bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300":"bg-blue-500 text-white hover:bg-blue-600"),children:m(n.id)?"Following":"Follow"})]},n.id);return ht.jsxs("div",{className:"space-y-3",children:[a.length>0&&ht.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 no-scrollbar",children:a.map(l)}),o.length>0&&ht.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 no-scrollbar",children:o.map(l)})]})})()})]})]}),!l&&ht.jsxs("div",{className:"border-t border-wa-border dark:border-wa-dark-border mt-8",children:[ht.jsxs("div",{onClick:()=>M(!A),className:"flex items-center justify-between px-4 py-4 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",children:[ht.jsxs("div",{className:"flex items-center gap-4",children:[ht.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-600",children:ht.jsx(W,{size:20})}),ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("h3",{className:"text-[16px] text-[#111b21] dark:text-gray-200 font-medium",children:"Find People Nearby"}),ht.jsx("p",{className:"text-[13px] text-[#667781] dark:text-gray-500",children:"See who is around you"})]})]}),ht.jsx("div",{className:"text-[#667781] dark:text-gray-400",children:A?ht.jsx(U,{size:20}):ht.jsx(B,{size:20})})]}),A&&ht.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200 pb-4",children:[ht.jsx("div",{className:"px-4 py-3 flex gap-2 overflow-x-auto no-scrollbar",children:[1,5,10,20,50].map(e=>ht.jsxs("button",{onClick:t=>{t.stopPropagation(),L(e)},className:"px-3 py-1 rounded-full text-xs font-medium whitespace-nowrap transition-colors shadow-sm\n                                       "+(D===e?"bg-wa-teal text-white":"bg-gray-100 dark:bg-wa-dark-header text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-wa-dark-hover"),children:["Within ",e," km"]},e))}),ht.jsx("div",{className:"flex gap-3 overflow-x-auto px-4 pb-2 no-scrollbar",children:ie.map(e=>ht.jsxs("div",{className:"w-[140px] shrink-0 border border-gray-200 dark:border-gray-700 rounded-xl p-3 flex flex-col items-center gap-2 bg-white dark:bg-wa-dark-paper shadow-sm",children:[ht.jsxs("div",{className:"relative",children:[ht.jsx("img",{src:e.avatar,className:"w-14 h-14 rounded-full object-cover",alt:""}),ht.jsxs("div",{className:"absolute -bottom-1 -right-1 bg-white dark:bg-wa-dark-paper rounded-full px-1.5 py-0.5 border border-gray-100 dark:border-gray-700 shadow-sm flex items-center gap-0.5",children:[ht.jsx(W,{size:8,className:"text-blue-500"}),ht.jsxs("span",{className:"text-[9px] font-bold text-gray-600 dark:text-gray-300",children:[e.distance,"km"]})]})]}),ht.jsx("div",{className:"text-center w-full mb-1",children:ht.jsx("h4",{className:"text-sm font-medium text-[#111b21] dark:text-gray-100 truncate",children:e.name})}),ht.jsx("button",{className:"w-full py-1.5 bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400 hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors rounded-full text-xs font-bold",children:"Say Hi "})]},e.id))})]})]}),ht.jsx("div",{onClick:()=>se("Text Status",null),className:"fixed bottom-[148px] right-6 w-10 h-10 bg-wa-grayBg dark:bg-wa-dark-paper shadow-md rounded-full flex items-center justify-center text-[#54656f] dark:text-white transition-colors cursor-pointer z-40 hover:scale-105",children:ht.jsx(ve,{size:18})}),ht.jsx("div",{onClick:e=>ae(e),className:"fixed bottom-[76px] right-5 w-14 h-14 bg-wa-teal dark:bg-wa-tealDark shadow-[0_4px_10px_rgba(0,0,0,0.3)] rounded-full flex items-center justify-center text-white transition-colors cursor-pointer z-40 hover:scale-105",children:ht.jsx(w,{size:24})})]})):null},NV=Object.freeze(Object.defineProperty({__proto__:null,default:CV},Symbol.toStringTag,{value:"Module"})),jV=()=>{const e=i(),{statusPrivacy:t,setStatusPrivacy:r,chats:s,users:a}=YI(),[o,l]=n.useState(t),c=Object.values(a),u=c.filter(e=>"follower"===e.connectionType).length,d=c.filter(e=>"following"===e.connectionType).length,f=s.filter(e=>e.isArchived).length,h=({type:e,label:t,sub:n,count:i})=>ht.jsxs("div",{onClick:()=>l(e),className:"flex items-center justify-between py-4 cursor-pointer hover:bg-black/5 dark:hover:bg-white/5 transition-colors -mx-6 px-6",children:[ht.jsxs("div",{className:"flex items-center gap-4",children:[ht.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors shrink-0 "+(o===e?"border-wa-teal":"border-gray-400 dark:border-gray-500"),children:o===e&&ht.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-wa-teal"})}),ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("span",{className:"text-[#111b21] dark:text-gray-100 font-normal text-base",children:t}),n&&ht.jsx("span",{className:"text-[#667781] dark:text-gray-500 text-sm mt-0.5",children:n})]})]}),void 0!==i&&i>0&&ht.jsx("span",{className:"text-[#667781] dark:text-gray-500 text-sm font-medium",children:i})]});return ht.jsxs("div",{className:"flex flex-col h-full bg-[#f0f2f5] dark:bg-[#111b21]",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal dark:bg-wa-dark-header flex items-center gap-3 px-4 text-white shrink-0 shadow-sm transition-colors",children:[ht.jsx("button",{onClick:()=>e("/status"),className:"p-1 -ml-2 rounded-full active:bg-black/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Status privacy"})]}),ht.jsxs("div",{className:"p-4 flex-1 overflow-y-auto",children:[ht.jsx("p",{className:"text-[#667781] dark:text-gray-400 text-sm mb-4 px-2 font-medium",children:"Who can see my status updates"}),ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-sm px-6 overflow-hidden",children:[ht.jsx(h,{type:"all",label:"All Friends",sub:"Followers, followings, and archived list"}),ht.jsx("div",{className:"border-t border-gray-100 dark:border-gray-800"}),ht.jsx(h,{type:"followers",label:"Only Followers",sub:"People who follow you",count:u}),ht.jsx("div",{className:"border-t border-gray-100 dark:border-gray-800"}),ht.jsx(h,{type:"followings",label:"Only Followings",sub:"People you follow",count:d}),ht.jsx("div",{className:"border-t border-gray-100 dark:border-gray-800"}),ht.jsx(h,{type:"archive",label:"Only Archived Friends",sub:"Friends in your archive list",count:f})]}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-400 text-[13px] mt-4 px-2 leading-relaxed",children:"Changes to your privacy settings won't affect status updates that you've sent already."}),o!==t&&ht.jsx("div",{className:"flex justify-center mt-10",children:ht.jsx("button",{onClick:()=>{r(o),e("/status")},className:"bg-wa-teal text-white px-10 py-3 rounded-full font-bold shadow-md active:scale-95 transition-transform tracking-wide",children:"Done"})})]})]})},TV=Object.freeze(Object.defineProperty({__proto__:null,default:jV},Symbol.toStringTag,{value:"Module"}));const EV=new class extends EI{constructor(){super(),this.collectionName="statusUpdates"}async postStatus(e,t){try{const n=ux(gI,this.collectionName),i=new Date;i.setHours(i.getHours()+24);const r={userId:e,type:t.type||"image",mediaUrl:t.mediaUrl||null,text:t.text||null,caption:t.caption||null,backgroundColor:t.backgroundColor||null,timestamp:P_(),expiresAt:i.toISOString(),viewers:[],privacy:t.privacy||"contacts",selectedContacts:t.selectedContacts||[]},s=await C_(n,r);return{success:!0,statusId:s.id,status:{id:s.id,...r}}}catch(n){throw TI(n)}}async deleteStatus(e){try{const t=dx(gI,this.collectionName,e);return await S_(t),{success:!0}}catch(t){throw TI(t)}}async markAsViewed(e,t){try{const n=dx(gI,this.collectionName,e);return await __(n,{viewers:A_({userId:t,viewedAt:(new Date).toISOString()})}),{success:!0}}catch(n){throw TI(n)}}async getUserStatuses(e){try{const t=(new Date).toISOString(),n=t_(ux(gI,this.collectionName),i_("userId","==",e),i_("expiresAt",">",t),a_("expiresAt","desc"),a_("timestamp","desc")),i=await k_(n);return{success:!0,statuses:i.docs.map(e=>({id:e.id,...e.data()}))}}catch(t){throw TI(t)}}async getVisibleStatuses(e,t,n=[]){try{const i=(new Date).toISOString(),r=t_(ux(gI,this.collectionName),i_("userId","in",[...t,e]),i_("expiresAt",">",i),a_("expiresAt","desc"),a_("timestamp","desc"));let s=(await k_(r)).docs.map(e=>({id:e.id,...e.data()}));return s=s.filter(t=>t.userId===e||(!(n&&n.length>0)||n.includes(t.userId))),{success:!0,statuses:s}}catch(i){throw TI(i)}}subscribeToStatuses(e,t){const n=[i_("expiresAt",">",(new Date).toISOString()),a_("expiresAt","desc"),a_("timestamp","desc")];return this.subscribeToCollection(this.collectionName,n,e,t)}},IV={auth:II,user:zI,chat:RI,message:LI,status:EV,call:rP,settings:PI},PV=({recordingUrl:e,duration:t,participants:i=[],timestamp:r})=>{const[s,a]=n.useState(!1),[o,l]=n.useState(0),[c,u]=n.useState(t||0),d=n.useRef(null);n.useEffect(()=>{const e=d.current;if(!e)return;const t=()=>{u(e.duration)},n=()=>{l(e.currentTime)},i=()=>{a(!1),l(0)};return e.addEventListener("loadedmetadata",t),e.addEventListener("timeupdate",n),e.addEventListener("ended",i),()=>{e.removeEventListener("loadedmetadata",t),e.removeEventListener("timeupdate",n),e.removeEventListener("ended",i)}},[]);const f=e=>`${Math.floor(e/60)}:${Math.floor(e%60).toString().padStart(2,"0")}`;return ht.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 dark:from-gray-800 dark:to-gray-900 rounded-xl p-4 border border-blue-200 dark:border-gray-700",children:[ht.jsx("audio",{ref:d,src:e,preload:"metadata"}),ht.jsxs("div",{className:"flex items-start justify-between mb-3",children:[ht.jsxs("div",{children:[ht.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ht.jsx("div",{className:"w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:ht.jsx(ye,{size:16,className:"text-white"})}),ht.jsx("span",{className:"font-semibold text-gray-800 dark:text-gray-100",children:"Missed Call Recording"})]}),r&&ht.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 ml-10",children:(e=>{const t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})(r)})]}),ht.jsx("button",{onClick:()=>{const t=document.createElement("a");t.href=e,t.download=`call-recording-${r||Date.now()}.webm`,t.click()},className:"p-2 hover:bg-white/50 dark:hover:bg-gray-700 rounded-full transition-colors",title:"Download recording",children:ht.jsx(be,{size:18,className:"text-gray-700 dark:text-gray-300"})})]}),i.length>0&&ht.jsxs("div",{className:"mb-3",children:[ht.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-1",children:"Participants:"}),ht.jsx("div",{className:"flex flex-wrap gap-1",children:i.map((e,t)=>ht.jsx("span",{className:"text-xs bg-white/60 dark:bg-gray-700 px-2 py-1 rounded-full text-gray-700 dark:text-gray-300",children:e},t))})]}),ht.jsxs("div",{className:"space-y-2",children:[ht.jsx("div",{className:"w-full h-2 bg-gray-300 dark:bg-gray-700 rounded-full cursor-pointer group relative",onClick:e=>{const t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*c;d.current&&(d.current.currentTime=n,l(n))},children:ht.jsx("div",{className:"h-full bg-blue-500 rounded-full transition-all",style:{width:o/c*100+"%"},children:ht.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-4 h-4 bg-blue-500 rounded-full opacity-0 group-hover:opacity-100 transition-opacity shadow-lg"})})}),ht.jsxs("div",{className:"flex items-center justify-between",children:[ht.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-mono",children:f(o)}),ht.jsx("button",{onClick:()=>{d.current&&(s?d.current.pause():d.current.play(),a(!s))},className:"w-10 h-10 rounded-full bg-blue-500 hover:bg-blue-600 flex items-center justify-center transition-all hover:scale-105 active:scale-95",children:s?ht.jsx(ue,{size:18,className:"text-white fill-white"}):ht.jsx(j,{size:18,className:"text-white fill-white ml-0.5"})}),ht.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-mono",children:f(c)})]})]})]})},AV=({count:e})=>{if(!e||0===e)return null;const t=e>99?"99+":e;return ht.jsx("div",{className:"absolute -top-1 -right-1 min-w-[20px] h-5 px-1.5 bg-red-500 rounded-full flex items-center justify-center shadow-lg border-2 border-white dark:border-gray-900 animate-in zoom-in duration-200",children:ht.jsx("span",{className:"text-[10px] font-bold text-white leading-none",children:t})})},MV=()=>{const e=i(),{users:t,searchQuery:r,currentUser:s}=YI(),{startCall:a}=vP(),{calls:o,loading:l}=(e=>{const[t,i]=n.useState([]),[r,s]=n.useState(!1),[a,o]=n.useState(null);return{calls:t,loading:r,error:a,fetchCalls:n.useCallback(async(t=50)=>{if(e)try{s(!0),o(null);const{calls:n}=await IV.call.getCallHistory(e,t);return i(n),n}catch(n){throw o(n.message),n}finally{s(!1)}},[e]),logCall:n.useCallback(async t=>{try{return o(null),await IV.call.logCall({...t,userId:e})}catch(n){throw o(n.message),n}},[e]),updateCallDuration:n.useCallback(async(e,t)=>{try{return o(null),await IV.call.updateCallDuration(e,t)}catch(n){throw o(n.message),n}},[]),deleteCall:n.useCallback(async e=>{try{o(null);const t=await IV.call.deleteCall(e);return t.success&&i(t=>t.filter(t=>t.id!==e)),t}catch(t){throw o(t.message),t}},[])}})(null==s?void 0:s.id),[c,u]=n.useState("all"),[d,f]=n.useState(null),h=o.filter(e=>{const n=t[e.contactId];return!!n&&(!(r&&!n.name.toLowerCase().includes(r.toLowerCase()))&&(("missed"!==c||"missed"===e.status)&&(("audio"!==c||"audio"===e.type)&&("video"!==c||"video"===e.type))))}).sort((e,t)=>{var n,i,r,s;const a=(null==(i=null==(n=e.timestamp)?void 0:n.toMillis)?void 0:i.call(n))||e.timestamp||0;return((null==(s=null==(r=t.timestamp)?void 0:r.toMillis)?void 0:s.call(r))||t.timestamp||0)-a}),m=o.filter(e=>"missed"===e.status).length;return ht.jsxs("div",{className:"flex flex-col pb-20 bg-white dark:bg-wa-dark-bg min-h-full",children:[ht.jsxs("div",{className:"hidden md:flex h-[60px] bg-wa-grayBg dark:bg-wa-dark-header items-center gap-3 px-4 shrink-0 border-b border-wa-border dark:border-wa-dark-border text-[#111b21] dark:text-gray-100 transition-colors sticky top-0 z-10",children:[ht.jsx("button",{onClick:()=>e("/chats"),className:"p-2 -ml-2 rounded-full hover:bg-black/10 dark:hover:bg-white/10 transition-colors",children:ht.jsx(ne,{size:24})}),ht.jsxs("h2",{className:"text-xl font-medium md:text-lg flex items-center gap-2",children:["Calls",m>0&&ht.jsx(AV,{count:m})]}),ht.jsx("div",{className:"ml-auto"}),ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("button",{onClick:()=>u("all"),className:"px-3 py-1.5 rounded-full text-sm transition-colors "+("all"===c?"bg-wa-teal text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:"All"}),ht.jsxs("button",{onClick:()=>u("missed"),className:"px-3 py-1.5 rounded-full text-sm transition-colors "+("missed"===c?"bg-red-500 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"),children:[ht.jsx(we,{size:14,className:"inline mr-1"}),"Missed"]})]})]}),!r&&ht.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 cursor-pointer active:bg-wa-grayBg dark:active:bg-wa-dark-paper hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",children:[ht.jsx("div",{className:"w-12 h-12 rounded-full bg-wa-teal flex items-center justify-center text-white",children:ht.jsx(ke,{size:24,className:"-rotate-45"})}),ht.jsxs("div",{children:[ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-100 font-medium",children:"Create call link"}),ht.jsx("p",{className:"text-[13px] text-[#667781] dark:text-gray-500",children:"Share a link for your WhatsApp call"})]})]}),ht.jsx("div",{className:"px-4 py-2 text-[#667781] dark:text-gray-400 text-[15px] font-medium mt-2",children:r?"Search Results":"Recent"}),l?ht.jsx("div",{className:"flex items-center justify-center py-10",children:ht.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-wa-teal"})}):0===h.length?ht.jsx("div",{className:"flex flex-col items-center justify-center py-10 text-[#667781] dark:text-gray-500 text-sm",children:ht.jsxs("p",{children:["No calls found ",r?`matching "${r}"`:""]})}):h.map(e=>{var n,i;const r=t[e.contactId];if(!r)return null;const s="missed"===e.status,o=e.recordingUrl;return ht.jsxs("div",{className:"border-b border-wa-border dark:border-wa-dark-border last:border-b-0",children:[ht.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 cursor-pointer active:bg-wa-grayBg dark:active:bg-wa-dark-paper hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",onClick:()=>{return t=e.contactId,n=e.type,void a(t,n);var t,n},children:[ht.jsxs("div",{className:"relative",children:[ht.jsx("img",{src:r.avatar,alt:r.name,className:"w-12 h-12 rounded-full object-cover"}),s&&ht.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center border-2 border-white dark:border-wa-dark-bg",children:ht.jsx(we,{size:10,className:"text-white"})})]}),ht.jsxs("div",{className:"flex-1 flex justify-between items-center",children:[ht.jsxs("div",{children:[ht.jsx("h3",{className:"text-[17px] font-medium "+(s?"text-red-500":"text-[#111b21] dark:text-gray-100"),children:r.name}),ht.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:["incoming"===e.direction&&ht.jsx(xe,{size:16,className:"text-wa-lightGreen"}),"outgoing"===e.direction&&ht.jsx(_e,{size:16,className:"text-wa-lightGreen"}),"missed"===e.status&&ht.jsx(we,{size:16,className:"text-red-500"}),ht.jsxs("span",{className:"text-[13px] text-[#667781] dark:text-gray-500",children:[yP((null==(n=e.timestamp)?void 0:n.toMillis)?e.timestamp.toMillis():e.timestamp),e.duration>0&&` (${Math.floor(e.duration/60)}:${(e.duration%60).toString().padStart(2,"0")})`]})]}),o&&ht.jsxs("button",{onClick:t=>((e,t)=>{e.stopPropagation(),f(d===t?null:t)})(t,e.id),className:"text-xs text-wa-teal hover:underline mt-1",children:[d===e.id?"Hide":"View"," Recording"]})]}),ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("div",{className:"text-wa-teal dark:text-wa-teal p-2 rounded-full hover:bg-gray-100 dark:hover:bg-white/10 transition-colors",children:"audio"===e.type?ht.jsx(me,{size:22}):ht.jsx(T,{size:24})}),ht.jsx("button",{onClick:t=>(async(e,t)=>{e.stopPropagation(),window.confirm("Delete this call from history?")&&await rP.deleteCall(t)})(t,e.id),className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-full transition-colors",title:"Delete call",children:ht.jsx(A,{size:18})})]})]})]}),o&&d===e.id&&ht.jsx("div",{className:"px-4 pb-4 bg-gray-50 dark:bg-gray-800/50",children:ht.jsx(PV,{recordingUrl:e.recordingUrl,duration:e.recordingDuration,participants:[r.name],timestamp:(null==(i=e.timestamp)?void 0:i.toMillis)?e.timestamp.toMillis():e.timestamp})})]},e.id)})]})},RV=Object.freeze(Object.defineProperty({__proto__:null,default:MV},Symbol.toStringTag,{value:"Module"})),DV=({onClose:e})=>{const{chats:t,messages:n,users:i,currentUserId:r}=YI(),s=[];return Object.keys(n).forEach(e=>{const r=n[e],a=t.find(t=>t.id===e);a&&r.forEach(t=>{var n,r;t.isStarred&&s.push({...t,chatId:e,chatName:a.isGroup?a.groupName:(null==(n=i[a.contactId])?void 0:n.name)||"Unknown",chatAvatar:a.isGroup?"https://picsum.photos/300":null==(r=i[a.contactId])?void 0:r.avatar})})}),s.sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp)),ht.jsxs("div",{className:"absolute inset-0 z-20 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal dark:bg-wa-dark-header flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Starred Messages"})]}),ht.jsx("div",{className:"flex-1 overflow-y-auto bg-wa-bg dark:bg-wa-dark-bg p-4 flex flex-col gap-2",children:0===s.length?ht.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[#667781] dark:text-gray-500 gap-4 mt-20",children:[ht.jsx("div",{className:"w-32 h-32 bg-gray-100 dark:bg-white/5 rounded-full flex items-center justify-center",children:ht.jsx(fe,{size:48,className:"text-[#667781] opacity-50"})}),ht.jsx("p",{className:"font-medium text-lg",children:"No starred messages yet."}),ht.jsx("p",{className:"text-sm text-center px-10 text-[#667781]",children:"Tap and hold on any message to star it, so you can easily find it later."})]}):s.map(e=>ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg p-3 shadow-sm border border-wa-border dark:border-white/5 flex flex-col gap-1 cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[ht.jsxs("div",{className:"flex justify-between items-center mb-1",children:[ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("img",{src:e.chatAvatar,alt:"",className:"w-6 h-6 rounded-full object-cover"}),ht.jsx("span",{className:"text-xs font-bold text-[#111b21] dark:text-gray-200",children:e.chatName}),ht.jsxs("span",{className:"text-[10px] text-[#667781] dark:text-gray-500",children:[" ",yP(e.timestamp)]})]}),ht.jsx(I,{size:16,className:"text-[#667781] dark:text-gray-500"})]}),ht.jsxs("div",{className:"text-sm text-[#111b21] dark:text-gray-100 pl-8",children:["text"===e.type&&e.text,"image"===e.type&&ht.jsxs("div",{className:"flex items-center gap-1 italic text-gray-500",children:[ht.jsx(q,{size:14}),ht.jsx("span",{className:"text-xs",children:"Photo"})]}),"video"===e.type&&ht.jsxs("div",{className:"flex items-center gap-1 italic text-gray-500",children:[ht.jsx(q,{size:14}),ht.jsx("span",{className:"text-xs",children:"Video"})]}),"voice"===e.type&&ht.jsxs("div",{className:"flex items-center gap-1 italic text-gray-500",children:[ht.jsx(S,{size:14}),ht.jsx("span",{className:"text-xs",children:"Voice Message"})]}),e.pollData&&ht.jsxs("div",{className:"flex items-center gap-1 italic text-gray-500",children:[ht.jsx(H,{size:14}),ht.jsxs("span",{className:"text-xs",children:["Poll: ",e.pollData.question]})]})]})]},e.id))})]})},LV=[{id:"none",label:"None"},{id:"shine",label:"Shine"},{id:"wave",label:"Wave"}],OV=({onClose:e})=>{const{users:t}=YI(),[i,r]=n.useState(["u12","u14","u4"]);return ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Restricted Accounts"})]}),ht.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[ht.jsx("div",{className:"text-sm text-[#667781] dark:text-gray-400 mb-4 px-2",children:"Blocked contacts will no longer be able to call you or send you messages."}),ht.jsx("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-sm border border-wa-border dark:border-gray-700 overflow-hidden",children:0===i.length?ht.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No restricted accounts."}):i.map(e=>{const n=t[e];return n?ht.jsxs("div",{className:"flex items-center gap-4 p-4 border-b border-gray-100 dark:border-gray-700 last:border-0 hover:bg-gray-50 dark:hover:bg-white/5 transition-colors",children:[ht.jsx("img",{src:n.avatar,alt:n.name,className:"w-10 h-10 rounded-full object-cover grayscale opacity-70"}),ht.jsxs("div",{className:"flex-1 min-w-0",children:[ht.jsx("h3",{className:"text-[#111b21] dark:text-gray-100 font-medium truncate",children:n.name}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500 truncate",children:n.phone})]}),ht.jsx("button",{onClick:()=>(e=>{r(t=>t.filter(t=>t!==e))})(e),className:"text-xs font-medium text-red-500 border border-red-200 dark:border-red-900/30 px-3 py-1.5 rounded-full hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:"Unblock"})]},e):null})}),ht.jsxs("div",{className:"mt-6 flex items-center gap-4 px-4 py-3 text-[#111b21] dark:text-gray-200 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-lg transition-colors border border-dashed border-gray-300 dark:border-gray-700",children:[ht.jsx("div",{className:"w-6 flex justify-center",children:ht.jsx(R,{size:20,className:"text-[#667781] dark:text-gray-400"})}),ht.jsx("span",{className:"text-sm font-medium",children:"Add to restricted list..."})]})]})]})},FV=({onClose:e})=>{const{language:t,setLanguage:i,appConfig:r,chatSettings:s,updateChatSettings:a}=YI(),{t:o,i18n:l}=An(),[c,u]=n.useState("app"),d=[{name:"English",code:"en"},{name:"Spanish",code:"es"},{name:"Hindi",code:"hi"},{name:"Telugu",code:"te"},{name:"Tamil",code:"ta"},{name:"Kannada",code:"kn"},{name:"Malayalam",code:"ml"},{name:"Bengali",code:"bn"},{name:"Gujarati",code:"gu"},{name:"Punjabi",code:"pa"},{name:"Marathi",code:"mr"},{name:"French",code:"fr"},{name:"German",code:"de"},{name:"Japanese",code:"ja"}],f=d.find(e=>l.language===e.code)||d[0],h=d.find(e=>e.name===s.translationLanguage)||d[0];return ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:o("settings.language")})]}),ht.jsx("div",{className:"bg-white dark:bg-wa-dark-paper border-b border-wa-border dark:border-gray-700 px-4 pt-2",children:ht.jsxs("div",{className:"flex gap-1",children:[ht.jsx("button",{onClick:()=>u("app"),className:"flex-1 py-3 text-sm font-medium transition-all "+("app"===c?"text-wa-teal border-b-2 border-wa-teal":"text-gray-500 dark:text-gray-400"),children:o("settings.appLanguage")}),ht.jsx("button",{onClick:()=>u("translation"),className:"flex-1 py-3 text-sm font-medium transition-all "+("translation"===c?"text-wa-teal border-b-2 border-wa-teal":"text-gray-500 dark:text-gray-400"),children:o("settings.translationLanguage")})]})}),ht.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-wa-dark-bg",children:"app"===c?ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper shadow-sm",children:[ht.jsx("p",{className:"px-4 py-3 text-sm text-[#54656f] dark:text-gray-400",children:"Choose your preferred language for the app interface"}),d.map(e=>ht.jsxs("div",{onClick:()=>(e=>{l.changeLanguage(e.code),i(e.name)})(e),className:"flex items-center justify-between px-4 py-4 hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover cursor-pointer transition-colors border-b border-gray-100 dark:border-gray-800 last:border-0",children:[ht.jsx("span",{className:"text-[#111b21] dark:text-gray-100 text-base",children:e.name}),f.code===e.code&&ht.jsx(_,{size:20,className:"text-wa-teal"})]},e.code))]}):ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper shadow-sm",children:[ht.jsx("p",{className:"px-4 py-3 text-sm text-[#54656f] dark:text-gray-400",children:"Select the target language for message translation"}),d.map(e=>ht.jsxs("div",{onClick:()=>(e=>{a({translationLanguage:e.name})})(e),className:"flex items-center justify-between px-4 py-4 hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover cursor-pointer transition-colors border-b border-gray-100 dark:border-gray-800 last:border-0",children:[ht.jsx("span",{className:"text-[#111b21] dark:text-gray-100 text-base",children:e.name}),h.name===e.name&&ht.jsx(_,{size:20,className:"text-wa-teal"})]},e.code))]})})]})},zV=({onClose:e})=>{const{logoEffect:t,setLogoEffect:n}=YI();return ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Logo Effects"})]}),ht.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-wa-dark-bg",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper shadow-sm",children:[ht.jsx("p",{className:"px-4 py-3 text-sm text-[#54656f] dark:text-gray-400",children:"Choose an animation effect for your name display"}),LV.map(i=>ht.jsxs("div",{onClick:()=>{n(i.id),e()},className:"flex items-center justify-between px-4 py-4 hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover cursor-pointer transition-colors border-b border-gray-100 dark:border-gray-800 last:border-0",children:[ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:i.label}),"none"!==i.id&&ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm",children:"shine"===i.id?"Shiny animation effect":"Wavy animation effect"})]}),t===i.id&&ht.jsx(_,{size:20,className:"text-wa-teal"})]},i.id))]})})]})},UV=({onClose:e})=>{const{securitySettings:t,updateSecuritySettings:i}=YI(),[r,s]=n.useState(null),[a,o]=n.useState(""),[l,c]=n.useState(""),[u,d]=n.useState("");return ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Manage Passwords"})]}),ht.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:r?ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper p-6 rounded-lg shadow-sm border border-wa-border dark:border-gray-700",children:[ht.jsxs("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-6",children:["Set ","daily"===r?"App Lock":"chat"===r?"Chat Lock":"Archive Lock"," Password"]}),ht.jsxs("div",{className:"space-y-4",children:[ht.jsxs("div",{children:[ht.jsx("label",{className:"block text-sm text-[#54656f] dark:text-gray-400 mb-1",children:"New Password"}),ht.jsx("input",{type:"password",value:a,onChange:e=>o(e.target.value),className:"w-full p-3 bg-wa-grayBg dark:bg-wa-dark-input rounded-lg outline-none text-[#111b21] dark:text-gray-100 border border-transparent focus:border-wa-teal transition-colors",placeholder:"Enter new PIN",autoFocus:!0})]}),ht.jsxs("div",{children:[ht.jsx("label",{className:"block text-sm text-[#54656f] dark:text-gray-400 mb-1",children:"Confirm Password"}),ht.jsx("input",{type:"password",value:l,onChange:e=>c(e.target.value),className:"w-full p-3 bg-wa-grayBg dark:bg-wa-dark-input rounded-lg outline-none text-[#111b21] dark:text-gray-100 border border-transparent focus:border-wa-teal transition-colors",placeholder:"Confirm new PIN"})]})]}),u&&ht.jsx("p",{className:`mt - 3 text - sm font - medium ${u.includes("updated")?"text-green-500":"text-red-500"} `,children:u}),ht.jsxs("div",{className:"flex gap-3 mt-8",children:[ht.jsx("button",{onClick:()=>{s(null),d(""),o(""),c("")},className:"flex-1 py-2.5 text-wa-teal font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:()=>{a.length<4?d("Password must be at least 4 characters"):a===l?("daily"===r?(i({dailyLockPassword:a}),d("App Lock Password updated!")):"chat"===r?(i({chatLockPassword:a}),d("Chat Lock Password updated!")):"archive"===r&&(i({archiveLockPassword:a}),d("Archive Lock Password updated!")),setTimeout(()=>{s(null),o(""),c(""),d("")},1e3)):d("Passwords do not match")},className:"flex-1 py-2.5 bg-wa-teal text-white font-medium rounded-full shadow-sm hover:shadow-md transition-all",children:"Save"})]})]}):ht.jsxs("div",{className:"space-y-6",children:[ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-sm border border-wa-border dark:border-gray-700 overflow-hidden",children:[ht.jsxs("div",{className:"p-4 flex items-center gap-4 border-b border-gray-100 dark:border-gray-700",children:[ht.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900/30 flex items-center justify-center text-blue-500",children:ht.jsx(Me,{size:20})}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h3",{className:"text-base font-medium text-[#111b21] dark:text-gray-100",children:"App Lock (Daily)"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:"Passcode required to open WhatsApp"})]})]}),ht.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[ht.jsxs("div",{className:"text-sm text-[#111b21] dark:text-gray-300",children:["Status: ",ht.jsx("span",{className:"font-medium text-wa-teal",children:t.dailyLockPassword?"Set":"Not Set"})]}),ht.jsx("button",{onClick:()=>s("daily"),className:"text-sm font-medium text-wa-teal hover:underline",children:"Change"})]})]}),ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-sm border border-wa-border dark:border-gray-700 overflow-hidden",children:[ht.jsxs("div",{className:"p-4 flex items-center gap-4 border-b border-gray-100 dark:border-gray-700",children:[ht.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center text-green-500",children:ht.jsx(v,{size:20})}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h3",{className:"text-base font-medium text-[#111b21] dark:text-gray-100",children:"Chat Lock"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:"Passcode to access locked chats"})]})]}),ht.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[ht.jsxs("div",{className:"text-sm text-[#111b21] dark:text-gray-300",children:["Status: ",ht.jsx("span",{className:"font-medium text-wa-teal",children:t.chatLockPassword?"Set":"Not Set"})]}),ht.jsx("button",{onClick:()=>s("chat"),className:"text-sm font-medium text-wa-teal hover:underline",children:"Change"})]})]}),ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-sm border border-wa-border dark:border-gray-700 overflow-hidden",children:[ht.jsxs("div",{className:"p-4 flex items-center gap-4 border-b border-gray-100 dark:border-gray-700",children:[ht.jsx("div",{className:"w-10 h-10 rounded-full bg-purple-100 dark:bg-purple-900/30 flex items-center justify-center text-purple-500",children:ht.jsx(k,{size:20})}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h3",{className:"text-base font-medium text-[#111b21] dark:text-gray-100",children:"Archive Lock"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:"Passcode to access archive folder"})]})]}),ht.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-white/5 flex justify-between items-center",children:[ht.jsxs("div",{className:"text-sm text-[#111b21] dark:text-gray-300",children:["Status: ",ht.jsx("span",{className:"font-medium text-wa-teal",children:t.archiveLockPassword?"Set":"Not Set"})]}),ht.jsx("button",{onClick:()=>s("archive"),className:"text-sm font-medium text-wa-teal hover:underline",children:"Change"})]})]}),ht.jsx("div",{className:"text-center p-4",children:ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:"These passwords are saved locally on your device for this demo."})})]})})]})},BV=({onClose:e})=>{const{chatSettings:t,updateChatSettings:i,appConfig:r}=YI(),s=n.useRef(null),a=n.useRef(null),[o,l]=n.useState(null),c=()=>{switch(t.fontSize){case"small":return"text-[13px]";case"large":return"text-[17px]";default:return"text-[15px]"}},u=(e,t)=>{var n;const r=null==(n=e.target.files)?void 0:n[0];if(r){if(r.size>819200)return void l("Image is too large. Please select an image under 800KB.");l(null);const e=new FileReader;e.onloadend=()=>{try{i("chatList"===t?{chatListBackgroundImage:e.result}:{contactInfoBackgroundImage:e.result})}catch(n){l("Storage quota exceeded. Try a smaller image.")}},e.readAsDataURL(r)}e.target.value=""},d=(null==r?void 0:r.bubbleColors)||["#D9FDD3","#FFFFFF"];return ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Chat Settings"})]}),ht.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[ht.jsxs("div",{className:"mb-8",children:[ht.jsx("h3",{className:"text-sm font-medium text-wa-teal mb-3 uppercase px-2",children:"Preview"}),ht.jsxs("div",{className:"rounded-lg shadow-md overflow-hidden bg-wa-bg relative h-64 border border-wa-border dark:border-gray-700 flex flex-col p-4",style:{backgroundImage:'url("https://user-images.githubusercontent.com/15075759/28719144-86dc0f70-73b1-11e7-911d-60d70fcded21.png")',backgroundRepeat:"repeat",backgroundSize:"400px"},children:[ht.jsx("div",{className:"absolute inset-0 bg-white/40 dark:bg-black/40 pointer-events-none"}),ht.jsxs("div",{className:"relative z-10 flex flex-col gap-3 justify-end h-full",children:[ht.jsxs("div",{className:`self-start max-w-[80%] p-2 rounded-lg rounded-tl-none shadow-sm ${c()} `,style:{backgroundColor:t.incomingBubbleColor,color:"#111b21"},children:["Hi there! How does this look?",ht.jsx("span",{className:"text-[10px] text-gray-500 block text-right mt-1",children:"10:00 AM"})]}),ht.jsxs("div",{className:`self-end max-w-[80%] p-2 rounded-lg rounded-tr-none shadow-sm ${c()} `,style:{backgroundColor:t.outgoingBubbleColor,color:"#111b21"},children:["This customization is amazing! ",ht.jsxs("span",{className:"text-[10px] text-gray-500 block text-right mt-1 flex justify-end gap-1 items-center",children:["10:01 AM ",ht.jsx(_,{size:14,className:"text-blue-500"})]})]})]})]})]}),ht.jsxs("div",{className:"mb-8 px-2",children:[ht.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[ht.jsx(L,{size:20,className:"text-wa-gray"}),ht.jsx("h3",{className:"text-base font-medium text-[#111b21] dark:text-gray-100",children:"Font Size"})]}),ht.jsx("div",{className:"flex bg-wa-grayBg dark:bg-wa-dark-header rounded-lg p-1",children:["small","medium","large"].map(e=>ht.jsx("button",{onClick:()=>i({fontSize:e}),className:`flex-1 py-2 rounded-md text-sm capitalize transition-all ${t.fontSize===e?"bg-white dark:bg-wa-dark-paper shadow-sm text-wa-teal font-medium":"text-gray-500"} `,children:e},e))})]}),ht.jsxs("div",{className:"mb-8 px-2",children:[ht.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[ht.jsx(Ae,{size:20,className:"text-wa-gray"}),ht.jsx("h3",{className:"text-base font-medium text-[#111b21] dark:text-gray-100",children:"App Color"})]}),ht.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 no-scrollbar",children:["#008069","#0088CC","#7B61FF","#E91E63","#2E7D32","#FF6F00","#1A237E","#EC407A","#10B981","#F59E0B","#FF5722","#9C27B0"].map(e=>ht.jsx("button",{onClick:()=>i({appColor:e}),className:"w-10 h-10 rounded-full shrink-0 border-2 transition-transform hover:scale-110 "+(t.appColor===e?"border-black dark:border-white scale-110":"border-gray-300 dark:border-gray-600"),style:{backgroundColor:e}},e))})]}),ht.jsxs("div",{className:"mb-8 px-2",children:[ht.jsx("h3",{className:"text-base font-medium text-[#111b21] dark:text-gray-100 mb-3",children:"Incoming Bubble Color"}),ht.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 no-scrollbar mb-6",children:d.map(e=>ht.jsx("button",{onClick:()=>i({incomingBubbleColor:e}),className:`w-10 h-10 rounded-full shrink-0 border-2 transition-transform hover:scale-110 shadow-sm ${t.incomingBubbleColor===e?"border-wa-teal":"border-gray-200 dark:border-gray-600"} `,style:{backgroundColor:e}},e))}),ht.jsx("h3",{className:"text-base font-medium text-[#111b21] dark:text-gray-100 mb-3",children:"Outgoing Bubble Color"}),ht.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 no-scrollbar",children:d.map(e=>ht.jsx("button",{onClick:()=>i({outgoingBubbleColor:e}),className:`w-10 h-10 rounded-full shrink-0 border-2 transition-transform hover:scale-110 shadow-sm ${t.outgoingBubbleColor===e?"border-wa-teal":"border-gray-200 dark:border-gray-600"} `,style:{backgroundColor:e}},e))})]}),ht.jsxs("div",{className:"mb-8 px-2",children:[ht.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[ht.jsx(q,{size:20,className:"text-wa-gray"}),ht.jsx("h3",{className:"text-base font-medium text-[#111b21] dark:text-gray-100",children:"Custom Backgrounds"})]}),o&&ht.jsxs("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-3 rounded-lg text-sm flex items-center gap-2",children:[ht.jsx(P,{size:16})," ",o]}),ht.jsxs("div",{className:"mb-4",children:[ht.jsx("label",{className:"text-sm text-[#54656f] dark:text-gray-400 mb-2 block",children:"Chat List Background"}),ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("div",{className:"w-16 h-16 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-white/5 overflow-hidden flex items-center justify-center relative group",children:t.chatListBackgroundImage?ht.jsx("img",{src:t.chatListBackgroundImage,alt:"Chat List Bg",className:"w-full h-full object-cover"}):ht.jsx("span",{className:"text-xs text-gray-400",children:"None"})}),ht.jsxs("div",{className:"flex flex-col gap-2",children:[ht.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:s,onChange:e=>u(e,"chatList")}),ht.jsxs("button",{onClick:()=>{var e;return null==(e=s.current)?void 0:e.click()},className:"px-4 py-1.5 bg-wa-teal text-white text-xs rounded-full shadow-sm hover:brightness-110 flex items-center gap-2",children:[ht.jsx(oe,{size:14})," Upload"]}),t.chatListBackgroundImage&&ht.jsxs("button",{onClick:()=>i({chatListBackgroundImage:null}),className:"px-4 py-1.5 bg-red-100 text-red-600 text-xs rounded-full hover:bg-red-200 flex items-center gap-2",children:[ht.jsx(A,{size:14})," Reset"]})]})]})]}),ht.jsxs("div",{children:[ht.jsx("label",{className:"text-sm text-[#54656f] dark:text-gray-400 mb-2 block",children:"Contact Info Background"}),ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("div",{className:"w-16 h-16 rounded-lg border border-gray-200 dark:border-gray-700 bg-gray-100 dark:bg-white/5 overflow-hidden flex items-center justify-center relative group",children:t.contactInfoBackgroundImage?ht.jsx("img",{src:t.contactInfoBackgroundImage,alt:"Contact Info Bg",className:"w-full h-full object-cover"}):ht.jsx("span",{className:"text-xs text-gray-400",children:"None"})}),ht.jsxs("div",{className:"flex flex-col gap-2",children:[ht.jsx("input",{type:"file",accept:"image/*",className:"hidden",ref:a,onChange:e=>u(e,"contactInfo")}),ht.jsxs("button",{onClick:()=>{var e;return null==(e=a.current)?void 0:e.click()},className:"px-4 py-1.5 bg-wa-teal text-white text-xs rounded-full shadow-sm hover:brightness-110 flex items-center gap-2",children:[ht.jsx(oe,{size:14})," Upload"]}),t.contactInfoBackgroundImage&&ht.jsxs("button",{onClick:()=>i({contactInfoBackgroundImage:null}),className:"px-4 py-1.5 bg-red-100 text-red-600 text-xs rounded-full hover:bg-red-200 flex items-center gap-2",children:[ht.jsx(A,{size:14})," Reset"]})]})]})]})]})]})]})},VV=({onClose:e})=>{const{chats:t,messages:i,users:r,chatDocuments:s}=YI(),[a,o]=n.useState("all"),l=(e,t)=>{switch(e){case"image":return 1.2*t;case"video":return 12*t;case"voice":return.5*t;case"text":return.001*t;case"doc":return 2.5*t;default:return 0}},c=n.useMemo(()=>{let e=0,n=0,r=0,o=0;const c={};Object.keys(i).forEach(t=>{let a=0;if(i[t].forEach(t=>{if(t.isDeleted)return;let n=0;"image"===t.type?n=l("image",1):"video"===t.type?n=l("video",1):"voice"===t.type?n=l("voice",1):"text"===t.type&&(n=l("text",1)),"image"===t.type||"video"===t.type?e+=n:"voice"===t.type?r+=n:o+=n,a+=n}),s[t]){const e=l("doc",s[t].length);n+=e,a+=e}c[t]=a});const u=e+n+r+o,d=t.map(e=>{let t=c[e.id]||0;if("media"===a){const n=i[e.id]||[],r=n.filter(e=>"image"===e.type).length,s=n.filter(e=>"video"===e.type).length;t=l("image",r)+l("video",s)}else if("files"===a){const n=s[e.id]||[];t=l("doc",n.length)}return{...e,size:t}}).sort((e,t)=>t.size-e.size);return{media:e,files:n,audio:r,other:o,total:u,sortedChats:d}},[i,t,s,a]),u=[{label:"Media",value:c.media,color:"#008069"},{label:"Files",value:c.files,color:"#34B7F1"},{label:"Audio",value:c.audio,color:"#FFB347"},{label:"Other",value:c.other,color:"#8696a0"}],d=2*Math.PI*36;let f=0;return ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Storage and Data"})]}),ht.jsxs("div",{className:"flex-1 overflow-y-auto bg-gray-50 dark:bg-wa-dark-bg",children:[ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper p-6 mb-2 shadow-sm flex flex-col items-center",children:[ht.jsxs("div",{className:"relative w-48 h-48 mb-6",children:[ht.jsxs("svg",{viewBox:"0 0 100 100",className:"transform -rotate-90 w-full h-full",children:[ht.jsx("circle",{cx:"50",cy:"50",r:36,stroke:"#e9edef",strokeWidth:"12",fill:"none",className:"dark:stroke-gray-700"}),c.total>0&&u.map(e=>{const t=e.value/c.total,n=`${t*d} ${d} `,i=-f;return f+=t*d,ht.jsx("circle",{cx:"50",cy:"50",r:36,fill:"none",stroke:e.color,strokeWidth:"12",strokeDasharray:n,strokeDashoffset:i,className:"transition-all duration-500 ease-out"},e.label)})]}),ht.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[ht.jsxs("span",{className:"text-3xl font-light text-[#111b21] dark:text-gray-100",children:[c.total.toFixed(1)," ",ht.jsx("span",{className:"text-sm font-medium",children:"MB"})]}),ht.jsx("span",{className:"text-xs text-[#667781] dark:text-gray-500 uppercase font-medium",children:"Used"})]})]}),ht.jsx("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3 w-full max-w-xs",children:u.map(e=>ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("span",{className:"text-sm text-[#111b21] dark:text-gray-200",children:e.label}),ht.jsxs("span",{className:"text-xs text-[#667781] dark:text-gray-500",children:[e.value.toFixed(1)," MB"]})]})]},e.label))})]}),ht.jsx("div",{className:"bg-white dark:bg-wa-dark-paper mb-2 shadow-sm p-2 sticky top-0 z-10 border-b border-wa-border dark:border-gray-700",children:ht.jsx("div",{className:"flex gap-2",children:["all","media","files"].map(e=>ht.jsx("button",{onClick:()=>o(e),className:`flex - 1 py - 2 rounded - full text - sm font - medium transition - colors capitalize\n                                    ${a===e?"bg-wa-teal text-white shadow-sm":"bg-gray-100 dark:bg-wa-dark-hover text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/10"}\n`,children:e},e))})}),ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper shadow-sm",children:[ht.jsx("h3",{className:"px-4 py-3 text-sm font-bold text-[#54656f] dark:text-gray-400 uppercase tracking-wide",children:"all"===a?"Manage Storage":`Largest ${a} `}),c.sortedChats.map(e=>{var t;const n=r[e.contactId],i=e.isGroup?e.groupName:null==n?void 0:n.name,s=e.isGroup?"https://picsum.photos/300":null==n?void 0:n.avatar;return e.size<.1?null:ht.jsxs("div",{className:"flex items-center gap-4 px-4 py-3 hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover cursor-pointer transition-colors border-b border-gray-100 dark:border-gray-800 last:border-0",children:[ht.jsx("img",{src:s,alt:"",className:"w-10 h-10 rounded-full object-cover"}),ht.jsxs("div",{className:"flex-1 min-w-0",children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 font-medium truncate",children:i}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:e.isGroup?`${null==(t=e.groupParticipants)?void 0:t.length} participants`:"Contact"})]}),ht.jsx("div",{className:"text-right",children:ht.jsxs("span",{className:"text-wa-teal dark:text-wa-teal font-bold text-sm block",children:[e.size.toFixed(1)," MB"]})})]},e.id)}),c.sortedChats.every(e=>e.size<.1)&&ht.jsx("div",{className:"py-8 text-center text-gray-500 text-sm",children:"No significant data found for this filter."})]})]})]})},qV=({onClose:e})=>{const[t,i]=n.useState("everyone"),[r,s]=n.useState("everyone"),[a,o]=n.useState(!0);return ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Privacy"})]}),ht.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-sm border border-wa-border dark:border-gray-700 overflow-hidden mb-6",children:[ht.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700",children:[ht.jsx("h3",{className:"text-wa-teal font-medium text-sm mb-4",children:"Who can see my personal info"}),ht.jsx("div",{className:"flex justify-between items-center mb-6",children:ht.jsxs("div",{children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:"Last seen and online"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm capitalize",children:t})]})}),ht.jsx("div",{className:"flex justify-between items-center mb-6",children:ht.jsxs("div",{children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:"Profile photo"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm capitalize",children:r})]})}),ht.jsx("div",{className:"flex justify-between items-center",children:ht.jsxs("div",{children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:"About"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm",children:"Everyone"})]})})]}),ht.jsx("div",{className:"p-4",children:ht.jsxs("div",{className:"flex justify-between items-center",children:[ht.jsxs("div",{className:"flex-1 pr-4",children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base mb-1",children:"Read receipts"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm",children:"If turned off, you won't send or receive Read receipts. Read receipts are always sent for group chats."})]}),ht.jsx("div",{onClick:()=>o(!a),className:`w-10 h-6 rounded-full relative cursor-pointer transition-colors ${a?"bg-wa-teal":"bg-gray-300 dark:bg-gray-600"} `,children:ht.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all shadow-sm "+(a?"left-5":"left-1")})})]})})]})})]})},$V=({onClose:e})=>{const[t,i]=n.useState(!0),[r,s]=n.useState(!0);return ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Notifications"})]}),ht.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-sm border border-wa-border dark:border-gray-700 overflow-hidden",children:[ht.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer",onClick:()=>i(!t),children:[ht.jsxs("div",{children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:"Conversation tones"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm",children:"Play sounds for incoming and outgoing messages."})]}),ht.jsx("div",{className:"w-10 h-6 shrink-0 rounded-full relative transition-colors "+(t?"bg-wa-teal":"bg-gray-300 dark:bg-gray-600"),children:ht.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all shadow-sm "+(t?"left-5":"left-1")})})]}),ht.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-gray-700 flex justify-between items-center hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer",onClick:()=>s(!r),children:[ht.jsxs("div",{children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:"Reaction Notifications"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm",children:"Show notifications for reactions to messages you send"})]}),ht.jsx("div",{className:"w-10 h-6 shrink-0 rounded-full relative transition-colors "+(r?"bg-wa-teal":"bg-gray-300 dark:bg-gray-600"),children:ht.jsx("div",{className:"absolute top-1 w-4 h-4 bg-white rounded-full transition-all shadow-sm "+(r?"left-5":"left-1")})})]}),ht.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer",children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:"Messages"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm",children:"Default (Note)"})]}),ht.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer",children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:"Groups"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm",children:"Default (Note)"})]}),ht.jsxs("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer",children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:"Calls"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm",children:"Default (Ring)"})]})]})})]})},WV=({onClose:e})=>ht.jsxs("div",{className:"fixed inset-0 z-50 bg-white dark:bg-wa-dark-bg flex flex-col animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:e,className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Help"})]}),ht.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:ht.jsx("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-sm border border-wa-border dark:border-gray-700 overflow-hidden flex flex-col",children:[{label:"Help Center",sub:"Get help, contact us"},{label:"Terms and Privacy Policy",sub:""},{label:"App Info",sub:"Version 2.24.1.0"}].map((e,t)=>ht.jsx("div",{className:"p-4 flex items-center gap-4 hover:bg-gray-50 dark:hover:bg-white/5 cursor-pointer border-b border-gray-100 dark:border-gray-800 last:border-0",children:ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-base",children:e.label}),e.sub&&ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-sm",children:e.sub})]})},t))})})]}),HV=()=>{const e=i(),{theme:t,toggleTheme:r,currentUser:s,updateUserProfile:a,language:o,setLanguage:l,logoEffect:c,setLogoEffect:u,appConfig:d,chatSettings:f,updateChatSettings:h,logout:m}=YI();if(!s)return ht.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-wa-dark-bg",children:ht.jsxs("div",{className:"text-center",children:[ht.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-wa-teal mx-auto mb-4"}),ht.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."})]})});const[p,g]=n.useState(!1),[v,y]=n.useState((null==s?void 0:s.name)||""),[b,k]=n.useState((null==s?void 0:s.about)||""),[x,_]=n.useState((null==s?void 0:s.avatar)||""),[S,C]=n.useState(!1),[N,j]=n.useState(!1),[T,E]=n.useState(!1),[I,P]=n.useState(!1),[A,M]=n.useState(!1),[R,D]=n.useState(!1),[L,O]=n.useState(!1),[F,z]=n.useState(!1),[U,B]=n.useState(!1),[V,q]=n.useState(!1);null==d||d.languages;const $=({icon:e,label:t,sub:n,action:i,onClick:r})=>ht.jsxs("div",{onClick:r,className:"flex items-center gap-4 px-5 py-4 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover active:bg-[#e9edef] dark:active:bg-wa-dark-paper transition-colors",children:[ht.jsx("div",{className:"text-[#667781] dark:text-gray-400",children:e}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h3",{className:"text-[16px] text-[#111b21] dark:text-gray-200",children:t}),n&&ht.jsx("p",{className:"text-[13px] text-[#667781] dark:text-gray-500",children:n})]}),i&&ht.jsx("div",{children:i})]});return S?ht.jsx(FV,{onClose:()=>C(!1)}):N?ht.jsx(zV,{onClose:()=>j(!1)}):T?ht.jsx(BV,{onClose:()=>E(!1)}):I?ht.jsx(UV,{onClose:()=>P(!1)}):A?ht.jsx(VV,{onClose:()=>M(!1)}):R?ht.jsx(OV,{onClose:()=>D(!1)}):L?ht.jsx(DV,{onClose:()=>O(!1)}):F?ht.jsx(qV,{onClose:()=>z(!1)}):U?ht.jsx($V,{onClose:()=>B(!1)}):V?ht.jsx(WV,{onClose:()=>q(!1)}):ht.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-wa-dark-bg pb-20 overflow-y-auto transition-colors relative",children:[ht.jsxs("div",{className:"hidden md:flex h-[60px] bg-wa-teal items-center gap-3 px-4 shrink-0 shadow-sm text-white sticky top-0 z-10",children:[ht.jsx("button",{onClick:()=>e("/chats"),className:"p-1 -ml-1 rounded-full hover:bg-white/10 transition-colors",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Settings"})]}),ht.jsxs("div",{className:"flex gap-4 px-4 py-6 border-b border-wa-border dark:border-wa-dark-border hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors items-start",children:[ht.jsxs("div",{className:"relative shrink-0 mt-1",children:[ht.jsx("img",{src:p?x:s.avatar,alt:"Me",className:"w-16 h-16 rounded-full object-cover transition-all",onError:e=>{e.target.src="https://picsum.photos/200"}}),p&&ht.jsx("div",{className:"absolute inset-0 bg-black/30 rounded-full flex items-center justify-center",children:ht.jsx(w,{size:20,className:"text-white opacity-80"})}),!p&&ht.jsx("button",{onClick:()=>g(!0),className:"absolute bottom-0 right-0 bg-wa-teal rounded-full p-1 text-white border-2 border-white dark:border-wa-dark-bg shadow-sm",children:ht.jsx(ve,{size:12})})]}),ht.jsx("div",{className:"flex-1 min-w-0",children:p?ht.jsxs("div",{className:"flex flex-col gap-4 w-full animate-in fade-in duration-200",children:[ht.jsxs("div",{className:"flex flex-col gap-1",children:[ht.jsx("label",{className:"text-[11px] font-bold text-wa-teal dark:text-wa-teal uppercase tracking-wider",children:"Name"}),ht.jsx("input",{type:"text",value:v,onChange:e=>y(e.target.value),placeholder:"Your Name",className:"bg-transparent border-b-2 border-wa-teal py-1 text-[#111b21] dark:text-gray-100 outline-none w-full text-base"})]}),ht.jsxs("div",{className:"flex flex-col gap-1",children:[ht.jsx("label",{className:"text-[11px] font-bold text-wa-teal dark:text-wa-teal uppercase tracking-wider",children:"About"}),ht.jsx("input",{type:"text",value:b,onChange:e=>k(e.target.value),placeholder:"About",className:"bg-transparent border-b border-gray-300 dark:border-gray-600 focus:border-wa-teal py-1 text-sm text-[#111b21] dark:text-gray-100 outline-none w-full transition-colors"})]}),ht.jsxs("div",{className:"flex flex-col gap-1",children:[ht.jsx("label",{className:"text-[11px] font-bold text-wa-teal dark:text-wa-teal uppercase tracking-wider",children:"Avatar URL"}),ht.jsx("input",{type:"text",value:x,onChange:e=>_(e.target.value),placeholder:"https://...",className:"bg-transparent border-b border-gray-300 dark:border-gray-600 focus:border-wa-teal py-1 text-xs text-gray-500 dark:text-gray-400 outline-none w-full font-mono transition-colors"})]}),ht.jsxs("div",{className:"flex gap-3 mt-1 justify-end",children:[ht.jsx("button",{onClick:()=>{y(s.name),k(s.about),_(s.avatar),g(!1)},className:"text-sm text-wa-teal hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover px-4 py-2 rounded-full transition-colors font-medium",children:"Cancel"}),ht.jsx("button",{onClick:()=>{v.trim()&&(a(v,b,x),g(!1))},className:"text-sm bg-wa-teal text-white px-5 py-2 rounded-full shadow-sm hover:shadow-md hover:brightness-110 transition-all font-medium",children:"Save"})]})]}):ht.jsxs("div",{className:"flex flex-col justify-center h-16",children:[ht.jsx("h2",{className:"text-xl text-[#111b21] dark:text-gray-100 font-medium truncate",children:s.name}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-400 truncate text-sm",children:s.about})]})})]}),ht.jsxs("div",{className:"py-2",children:[ht.jsx($,{onClick:()=>O(!0),icon:ht.jsx(fe,{size:24}),label:"Starred Messages"}),ht.jsx($,{onClick:r,icon:"dark"===t?ht.jsx(Se,{size:24}):ht.jsx(Ce,{size:24}),label:"Appearance",sub:`Theme: ${"dark"===t?"Dark":"Light"} `}),ht.jsx($,{onClick:()=>C(!0),icon:ht.jsx(te,{size:24}),label:"Language",sub:`App: ${o} | Translation: ${f.translationLanguage||"Not set"}`}),ht.jsx($,{onClick:()=>j(!0),icon:ht.jsx(Ne,{size:24}),label:"Logo Effects",sub:"none"===c?"None":"shine"===c?"Shine Effect":"Wave Effect"}),ht.jsx($,{onClick:()=>E(!0),icon:ht.jsx(Q,{size:24}),label:"Chats",sub:"Theme, wallpapers, colors, font size"}),ht.jsx($,{onClick:()=>P(!0),icon:ht.jsx(je,{size:24}),label:"Security",sub:"Manage Passwords"}),ht.jsx($,{onClick:()=>D(!0),icon:ht.jsx(Te,{size:24}),label:"Restricted Accounts",sub:"Manage blocked contacts"}),ht.jsx($,{onClick:()=>e("/privacy"),icon:ht.jsx(X,{size:24}),label:"Privacy",sub:"Block contacts, disappearing messages"}),ht.jsx($,{onClick:()=>B(!0),icon:ht.jsx(Ee,{size:24}),label:"Notifications",sub:"Message, group & call tones"}),ht.jsx($,{onClick:()=>M(!0),icon:ht.jsx(Ie,{size:24}),label:"Storage and data",sub:"Network usage, auto-download"}),ht.jsx($,{onClick:()=>q(!0),icon:ht.jsx(Pe,{size:24}),label:"Help",sub:"Help center, contact us, privacy policy"})]}),ht.jsx("div",{className:"mt-6 mb-8 px-4",children:ht.jsxs("button",{onClick:()=>{window.confirm("Are you sure you want to logout?")&&(m(),e("/login"))},className:"w-full bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 py-3.5 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2 border border-red-200 dark:border-red-900/50 shadow-sm hover:shadow",children:[ht.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[ht.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),ht.jsx("polyline",{points:"16 17 21 12 16 7"}),ht.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),"Logout"]})}),ht.jsxs("div",{className:"mt-8 flex flex-col items-center text-[#667781] dark:text-gray-500 text-xs gap-1",children:[ht.jsx("span",{children:"from"}),ht.jsx("span",{className:"font-bold text-black dark:text-white text-sm",children:"GLOBAL CHAT"})]})]})},GV=Object.freeze(Object.defineProperty({__proto__:null,default:HV},Symbol.toStringTag,{value:"Module"})),KV=()=>{const e=i(),{startChat:t,createGroup:r,chats:s,users:a,currentUserId:o,isFollowing:l}=YI(),[c,u]=n.useState("following"),[d,f]=n.useState(""),[h,m]=n.useState(!1),[p,g]=n.useState(1),[v,y]=n.useState(new Set),[b,k]=n.useState(""),[x,S]=n.useState("all"),[C,N]=n.useState([]);n.useEffect(()=>{if(!o)return;(async()=>{try{const e=await FI.getFollowers(o);if(e.success&&e.followers){const t=e.followers.map(e=>e.followerId),n=Object.values(a).filter(e=>t.includes(e.id));N(n)}}catch(e){}})()},[o,a]);const j=new Set(s.filter(e=>e.isLocked).map(e=>e.contactId)),T=Object.values(a).filter(e=>e.id!==o),E=T.filter(e=>l(e.id)),I=C,A=s.filter(e=>e.isGroup),M=async n=>{const i=await t(n);e(`/chat/${i}`)},R=e=>{S(e),y(new Set),k(""),g(1),m(!0)},D=e=>{y(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},L=async()=>{if(b.trim())try{const t=await r(b,Array.from(v));e(`/chat/${t}`)}catch(t){const n=`c_g_${Date.now()}`;e(`/chat/${n}`)}},O=({id:e,label:t})=>ht.jsxs("button",{onClick:()=>u(e),className:"flex-1 py-3 text-sm font-medium uppercase transition-all relative "+(c===e?"text-wa-teal dark:text-wa-teal":"text-[#54656f] dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5"),children:[t,c===e&&ht.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-wa-teal rounded-t-full"})]}),F=({type:e})=>ht.jsx("span",{className:"text-[10px] px-1.5 py-0.5 rounded-full font-medium uppercase tracking-wide ml-2 "+("following"===e?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400"),children:e});if(h){const e=("following"===x?E:T).filter(e=>e.name.toLowerCase().includes(d.toLowerCase())).filter(e=>!j.has(e.id)).sort((e,t)=>e.name.localeCompare(t.name));return ht.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-wa-dark-bg",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal dark:bg-wa-dark-header flex items-center px-4 shrink-0 shadow-sm text-white transition-colors",children:[ht.jsx("button",{onClick:()=>{2===p?g(1):m(!1)},className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h2",{className:"text-xl font-medium",children:"New Group"}),ht.jsx("p",{className:"text-xs opacity-80",children:1===p?"Add participants":"Add subject"})]})]}),1===p&&ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"p-2 border-b border-wa-border dark:border-wa-dark-border",children:ht.jsxs("div",{className:"bg-wa-grayBg dark:bg-wa-dark-input rounded-lg px-4 py-2 flex items-center gap-4 text-wa-gray dark:text-gray-400 h-9 transition-colors",children:[ht.jsx(z,{size:18}),ht.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search...",className:"bg-transparent outline-none text-sm w-full text-black dark:text-white placeholder:text-wa-gray dark:placeholder:text-gray-500",value:d,onChange:e=>f(e.target.value)})]})}),v.size>0&&ht.jsx("div",{className:"flex gap-2 p-2 overflow-x-auto border-b border-wa-border dark:border-wa-dark-border no-scrollbar",children:Array.from(v).map(e=>{const t=a[e];return ht.jsxs("div",{onClick:()=>D(e),className:"flex items-center gap-1 bg-gray-100 dark:bg-wa-dark-paper rounded-full pl-1 pr-2 py-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-white/10",children:[ht.jsx("img",{src:null==t?void 0:t.avatar,className:"w-5 h-5 rounded-full",alt:""}),ht.jsx("span",{className:"text-xs text-[#111b21] dark:text-gray-200",children:null==t?void 0:t.name.split(" ")[0]}),ht.jsx(P,{size:12,className:"text-gray-500"})]},e)})}),ht.jsx("div",{className:"flex-1 overflow-y-auto pb-20",children:e.map(e=>{const t=v.has(e.id);return ht.jsxs("div",{onClick:()=>D(e.id),className:"flex items-center gap-4 px-4 py-3 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover active:bg-[#e9edef] dark:active:bg-wa-dark-paper transition-colors",children:[ht.jsxs("div",{className:"relative",children:[ht.jsx("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}),t&&ht.jsx("div",{className:"absolute -bottom-1 -right-1 bg-wa-teal rounded-full p-0.5 border-2 border-white dark:border-wa-dark-bg",children:ht.jsx(_,{size:10,className:"text-white",strokeWidth:3})})]}),ht.jsx("div",{className:"flex-1 border-b border-wa-border dark:border-wa-dark-border pb-3 -mb-3 flex items-center justify-between",children:ht.jsxs("div",{children:[ht.jsxs("div",{className:"flex items-center",children:[ht.jsx("h3",{className:"text-[17px] font-medium text-[#111b21] dark:text-gray-100",children:e.name}),e.connectionType&&"contact"!==e.connectionType&&ht.jsx(F,{type:e.connectionType})]}),ht.jsx("p",{className:"text-[14px] text-[#667781] dark:text-gray-500 truncate",children:e.about})]})})]},e.id)})}),v.size>0&&ht.jsx("div",{className:"absolute bottom-6 right-6 z-20",children:ht.jsx("button",{onClick:()=>g(2),className:"w-14 h-14 bg-wa-teal rounded-full shadow-lg flex items-center justify-center text-white hover:brightness-110 active:scale-95 transition-all",children:ht.jsx(Re,{size:24})})})]}),2===p&&ht.jsxs("div",{className:"flex flex-col items-center pt-8 px-6 animate-in slide-in-from-right duration-300",children:[ht.jsxs("div",{className:"w-24 h-24 bg-gray-200 dark:bg-wa-dark-header rounded-full flex items-center justify-center text-gray-500 mb-8 cursor-pointer hover:opacity-80 transition-opacity relative",children:[ht.jsx(w,{size:32}),ht.jsx("span",{className:"absolute text-[10px] bottom-4 font-medium",children:"ADD ICON"})]}),ht.jsx("div",{className:"w-full border-b-2 border-wa-teal mb-2",children:ht.jsx("input",{autoFocus:!0,type:"text",className:"w-full bg-transparent outline-none text-lg py-2 text-[#111b21] dark:text-gray-100 placeholder:text-gray-400",placeholder:"Type group subject",value:b,onChange:e=>k(e.target.value),maxLength:25})}),ht.jsxs("div",{className:"w-full flex justify-between text-gray-400 text-xs mb-8",children:[ht.jsx("span",{children:"Provide a group subject and optional group icon"}),ht.jsxs("span",{children:[b.length,"/25"]})]}),ht.jsxs("div",{className:"w-full bg-gray-50 dark:bg-wa-dark-header rounded-lg p-4 mb-4",children:[ht.jsxs("h3",{className:"text-sm font-medium text-[#111b21] dark:text-gray-200 mb-2",children:["Participants: ",v.size]}),ht.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from(v).map(e=>{var t;return ht.jsx("span",{className:"text-xs bg-gray-200 dark:bg-white/10 px-2 py-1 rounded-full text-gray-700 dark:text-gray-300",children:null==(t=a[e])?void 0:t.name.split(" ")[0]},e)})})]}),ht.jsx("button",{onClick:L,disabled:!b.trim(),className:`w-14 h-14 rounded-full shadow-lg flex items-center justify-center text-white transition-all mt-4\n                            ${b.trim()?"bg-wa-teal hover:scale-105 active:scale-95":"bg-gray-300 dark:bg-gray-700 cursor-not-allowed"}\n                        `,children:ht.jsx(_,{size:24,strokeWidth:3})})]})]})}return ht.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-wa-dark-bg",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal dark:bg-wa-dark-header flex items-center gap-3 px-4 text-white shrink-0 shadow-sm md:bg-wa-grayBg md:border-b md:border-wa-border md:dark:border-wa-dark-border md:text-black md:dark:text-white transition-colors",children:[ht.jsx("button",{onClick:()=>e("/chats"),className:"p-1 -ml-2 rounded-full active:bg-black/10",children:ht.jsx(ne,{size:24})}),ht.jsx("div",{className:"flex-1",children:ht.jsx("h2",{className:"text-xl font-medium md:text-lg",children:"New Chat"})}),ht.jsx(z,{size:22,className:"md:hidden"})]}),ht.jsxs("div",{className:"flex border-b border-wa-border dark:border-wa-dark-border bg-white dark:bg-wa-dark-bg shrink-0 sticky top-0 z-10",children:[ht.jsx(O,{id:"following",label:"Following"}),ht.jsx(O,{id:"followers",label:"Followers"}),ht.jsx(O,{id:"groups",label:"Groups"})]}),ht.jsx("div",{className:"p-2 border-b border-wa-border dark:border-wa-dark-border bg-white dark:bg-wa-dark-bg",children:ht.jsxs("div",{className:"bg-wa-grayBg dark:bg-wa-dark-input rounded-lg px-4 py-2 flex items-center gap-4 text-wa-gray dark:text-gray-400 h-9 transition-colors",children:[ht.jsx(z,{size:18}),ht.jsx("input",{type:"text",placeholder:"groups"===c?"Search groups":"Search contacts",className:"bg-transparent outline-none text-sm w-full text-black dark:text-white placeholder:text-wa-gray dark:placeholder:text-gray-500",value:d,onChange:e=>f(e.target.value)})]})}),ht.jsxs("div",{className:"flex-1 overflow-y-auto pb-4",children:["following"===c&&ht.jsxs(ht.Fragment,{children:[ht.jsxs("div",{onClick:()=>R("following"),className:"flex items-center gap-4 px-4 py-3 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover active:bg-[#e9edef] dark:active:bg-wa-dark-paper transition-colors group",children:[ht.jsx("div",{className:"w-10 h-10 rounded-full bg-wa-teal dark:bg-wa-tealDark flex items-center justify-center text-white group-hover:scale-110 transition-transform",children:ht.jsx(se,{size:20})}),ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-100 font-medium",children:"New Group with Friends"})]}),ht.jsxs("div",{className:"px-4 py-2 text-[#667781] dark:text-gray-400 text-xs font-medium uppercase tracking-wide bg-gray-50 dark:bg-white/5",children:["Following (",E.length,")"]}),E.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())).map(e=>ht.jsxs("div",{onClick:()=>M(e.id),className:"flex items-center gap-4 px-4 py-3 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",children:[ht.jsx("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}),ht.jsxs("div",{className:"flex-1 border-b border-wa-border dark:border-wa-dark-border pb-3 -mb-3",children:[ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-100 font-medium",children:e.name}),ht.jsx("p",{className:"text-[14px] text-[#667781] dark:text-gray-500 truncate",children:e.about})]})]},e.id))]}),"followers"===c&&ht.jsxs(ht.Fragment,{children:[ht.jsxs("div",{className:"px-4 py-2 text-[#667781] dark:text-gray-400 text-xs font-medium uppercase tracking-wide bg-gray-50 dark:bg-white/5",children:["Followers (",I.length,")"]}),I.filter(e=>e.name.toLowerCase().includes(d.toLowerCase())).map(e=>ht.jsxs("div",{onClick:()=>M(e.id),className:"flex items-center gap-4 px-4 py-3 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",children:[ht.jsx("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}),ht.jsxs("div",{className:"flex-1 border-b border-wa-border dark:border-wa-dark-border pb-3 -mb-3",children:[ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-100 font-medium",children:e.name}),ht.jsx("p",{className:"text-[14px] text-[#667781] dark:text-gray-500 truncate",children:e.about})]})]},e.id)),0===I.length&&ht.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No followers yet."})]}),"groups"===c&&ht.jsxs(ht.Fragment,{children:[ht.jsxs("div",{onClick:()=>R("all"),className:"flex items-center gap-4 px-4 py-3 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover active:bg-[#e9edef] dark:active:bg-wa-dark-paper transition-colors group",children:[ht.jsx("div",{className:"w-10 h-10 rounded-full bg-wa-teal dark:bg-wa-tealDark flex items-center justify-center text-white group-hover:scale-110 transition-transform",children:ht.jsx(se,{size:20})}),ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-100 font-medium",children:"Create New Group"})]}),ht.jsxs("div",{className:"px-4 py-2 text-[#667781] dark:text-gray-400 text-xs font-medium uppercase tracking-wide bg-gray-50 dark:bg-white/5",children:["My Groups (",A.length,")"]}),A.filter(e=>(e.groupName||"").toLowerCase().includes(d.toLowerCase())).map(t=>{var n;return ht.jsxs("div",{onClick:()=>{return n=t.id,void e(`/chat/${n}`);var n},className:"flex items-center gap-4 px-4 py-3 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",children:[ht.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center text-gray-500 dark:text-gray-300",children:ht.jsx(se,{size:20})}),ht.jsxs("div",{className:"flex-1 border-b border-wa-border dark:border-wa-dark-border pb-3 -mb-3",children:[ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-100 font-medium",children:t.groupName}),ht.jsxs("p",{className:"text-[14px] text-[#667781] dark:text-gray-500 truncate",children:[null==(n=t.groupParticipants)?void 0:n.length," participants"]})]})]},t.id)}),0===A.length&&ht.jsx("div",{className:"p-8 text-center text-gray-400 text-sm",children:"No groups found."})]})]})]})},YV=Object.freeze(Object.defineProperty({__proto__:null,default:KV},Symbol.toStringTag,{value:"Module"})),QV=({onClick:e,disabled:t=!1,size:n=16,className:i=""})=>ht.jsx("button",{onClick:e,disabled:t,className:`p-1.5 rounded-full border border-gray-300 dark:border-gray-600 \n                 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\n                 disabled:opacity-50 disabled:cursor-not-allowed\n                 ${i}`,title:"Edit",children:ht.jsx(De,{size:n,className:"text-gray-600 dark:text-gray-300"})});const XV=new class{async generateInviteLink(e,t,n=72){const i=this.generateLinkId(),r=new Date(Date.now()+60*n*60*1e3),s={linkId:i,groupId:e,createdBy:t,createdAt:new Date,expiresAt:r,uses:0,maxUses:null,isActive:!0};return await x_(dx(gI,"groupInviteLinks",i),s),`${window.location.origin}/#/join/${i}`}async getGroupInviteLink(e){try{const t=t_(ux(gI,"groupInviteLinks"),i_("groupId","==",e),i_("isActive","==",!0)),n=await k_(t);if(!n.empty){const e=n.docs[0].data();return e.expiresAt.toDate()<new Date?null:`${window.location.origin}/#/join/${e.linkId}`}return null}catch(t){return null}}async resetInviteLink(e,t){try{const n=t_(ux(gI,"groupInviteLinks"),i_("groupId","==",e),i_("isActive","==",!0)),i=(await k_(n)).docs.map(e=>x_(e.ref,{isActive:!1},{merge:!0}));return await Promise.all(i),await this.generateInviteLink(e,t)}catch(n){throw n}}async validateInviteLink(e){try{const t=dx(gI,"groupInviteLinks",e),n=await b_(t);if(!n.exists())return{success:!1,error:"Invalid invite link"};const i=n.data();return i.isActive?i.expiresAt.toDate()<new Date?{success:!1,error:"This link has expired"}:i.maxUses&&i.uses>=i.maxUses?{success:!1,error:"This link has reached its maximum uses"}:{success:!0,groupId:i.groupId}:{success:!1,error:"This link has been revoked"}}catch(t){return{success:!1,error:"Failed to validate link"}}}async recordLinkUsage(e){try{const t=dx(gI,"groupInviteLinks",e),n=await b_(t);if(n.exists()){const e=n.data();return await x_(t,{uses:e.uses+1},{merge:!0}),!0}return!1}catch(t){return!1}}generateLinkId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array.from({length:12},()=>e[Math.floor(62*Math.random())]).join("")}},JV=[{name:"Default",value:""},{name:"Blue",value:"#d1e4f9"},{name:"Red",value:"#fec5c5"},{name:"Purple",value:"#e2d5f7"},{name:"Orange",value:"#ffe4c4"},{name:"Teal",value:"#ccf2f4"}],ZV=()=>{var e,t,r,o,l,c,u,d,f,h,m,p,g,b,w,x,S,C,N,j,E,M,D;const{chatId:L}=s(),O=i(),{chats:F,messages:U,currentUser:q,currentUserId:$,users:W,updateChatTheme:H,toggleChatLock:G,toggleArchiveChat:K,securitySettings:Y,chatDocuments:Q,chatSettings:X,updateGroupRole:J,updateGroupSettings:Z,addGroupParticipants:ee,updateGroupInfo:te}=YI(),[ie,re]=n.useState("public"),[se,ae]=n.useState(!1),[oe,le]=n.useState(!1),[ce,ue]=n.useState(""),[de,fe]=n.useState(""),[he,me]=n.useState("chat_lock"),[ge,ve]=n.useState("all"),[ye,we]=n.useState(!1),[xe,_e]=n.useState(!1),[Se,Ce]=n.useState("Default (Yes)"),[Ne,je]=n.useState(!1),[Ie,Pe]=n.useState([]),[Re,De]=n.useState({isOpen:!1,startIndex:0}),$e=n.useRef(null),[We,He]=n.useState(!1),[Ge,Ke]=n.useState(!1),[Ye,Qe]=n.useState(!1),Xe=n.useRef(null),[Je,Ze]=n.useState({top:0,right:0}),[et,tt]=n.useState(!1),[nt,it]=n.useState(""),[rt,st]=n.useState(new Set),[at,ot]=n.useState(!1),[lt,ct]=n.useState(""),[ut,dt]=n.useState(""),[ft,mt]=n.useState(!1),[pt,gt]=n.useState(!1),[vt,yt]=n.useState(""),[bt,wt]=n.useState(""),[kt,xt]=n.useState(!1),[_t,St]=n.useState(""),[Ct,Nt]=n.useState(!1),[jt,Tt]=n.useState(!1),Et=F.find(e=>e.id===L);if(n.useEffect(()=>{if((null==Et?void 0:Et.isGroup)&&Et.groupParticipants){const e=Et.groupParticipants.filter(e=>e!==$&&Math.random()>.6).map((e,t)=>({id:`gs_${e}_${t}`,userId:e,timestamp:new Date(Date.now()-864e5*Math.random()).toISOString(),imageUrl:`https://picsum.photos/seed/gs_${e}/400/800`,caption:`Status update in ${Et.groupName}`,viewed:!1}));Pe(e)}},[null==Et?void 0:Et.id,null==Et?void 0:Et.isGroup,null==Et?void 0:Et.groupName,null==Et?void 0:Et.groupParticipants,$]),!Et)return null;const It=Et.isGroup,Pt=It?null:W[Et.contactId],At=U[Et.id]||[],Mt=At.filter(e=>e.isPinned),Rt=It&&(null==(e=Et.groupRoles)?void 0:e[$])||"member",Dt="owner"===Rt,Lt="admin"===Rt||Dt,Ot=Lt||"all"===(null==(t=Et.groupSettings)?void 0:t.addMembers),Ft=It&&("all"===(null==(r=Et.groupSettings)?void 0:r.editInfo)||"admins"===(null==(o=Et.groupSettings)?void 0:o.editInfo)&&Lt);n.useEffect(()=>{Et&&It&&(yt(Et.groupName||""),wt(Et.groupDescription||""))},[Et,It]);const zt=e=>{var t;try{const n=new Date(e).toLocaleDateString();return null==(t=Et.hiddenDates)?void 0:t.includes(n)}catch(cZ){return!1}},Ut=At.filter(e=>"image"===e.type),Bt=At.filter(e=>"video"===e.type),Vt=Ut.filter(e=>!zt(e.timestamp)),qt=Bt.filter(e=>!zt(e.timestamp)),$t=Ut.filter(e=>zt(e.timestamp)),Wt=Bt.filter(e=>zt(e.timestamp)),Ht=L&&Q[L]?Q[L]:[],Gt="private"===ie?$t:Vt,Kt="private"===ie?Wt:qt,Yt=[...Gt,...Kt].sort((e,t)=>new Date(t.timestamp).getTime()-new Date(e.timestamp).getTime()),Qt=At.filter(e=>"private"===ie?zt(e.timestamp):!zt(e.timestamp)),Xt=Qt.filter(e=>"text"===e.type).length,Jt={images:{count:Gt.length,size:1.5*Gt.length,color:"#008069"},videos:{count:Kt.length,size:15*Kt.length,color:"#34B7F1"},docs:{count:Ht.length,size:4.5,color:"#FFB347"},text:{count:Xt,size:5e-4*Xt,color:"#8696a0"}},Zt=Jt.images.size+Jt.videos.size+Jt.docs.size+Jt.text.size,en=Qt.length,tn=It?Et.groupName:null==Pt?void 0:Pt.name,nn=It?`Group  ${null==(l=Et.groupParticipants)?void 0:l.length} participants`:null==Pt?void 0:Pt.phone,rn=It?"https://picsum.photos/300":null==Pt?void 0:Pt.avatar,sn=e=>{"private"!==e||se?re(e):(me("private_tab"),ue(""),fe(""),le(!0))},an=()=>{const e="private_tab"===he?Y.dailyLockPassword||"":Y.chatLockPassword||"";ce===e?"private_tab"===he?(ae(!0),re("private"),le(!1)):L&&(G(L),le(!1),Et.isLocked||O("/chats")):(fe("Incorrect PIN"),ue(""))},on=e=>{var t;if(!Dt||e===$)return;const n=null==(t=Et.groupRoles)?void 0:t[e];J(Et.id,e,"admin"===n?"member":"admin")},ln=n.useCallback(e=>{st(t=>{const n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},[]),cn=n.useCallback(()=>{0!==rt.size&&L&&(ee(L,Array.from(rt)),tt(!1),st(new Set),it(""))},[rt,L,ee]),un=n.useCallback(e=>{L&&H(L,e,"outgoing")},[L,H]),dn=n.useCallback(e=>{L&&H(L,e,"incoming")},[L,H]),fn=()=>{const e=Y.archiveLockPassword||"0000";lt===e?(K(L),ot(!1),ct("")):(dt("Incorrect PIN"),ct(""))},hn=async()=>{if(!vt.trim()||vt===Et.groupName)return void mt(!1);(await te(L,{groupName:vt.trim()})).success&&mt(!1)},mn=async()=>{try{await navigator.clipboard.writeText(_t),Tt(!0),setTimeout(()=>Tt(!1),2e3)}catch(e){}},pn=e=>{if(!e&&Et.isLocked)return ht.jsxs("div",{className:"flex flex-col items-center justify-center py-10 px-4 text-center bg-gray-50/80 dark:bg-white/5 mx-4 mb-4 rounded-lg border border-dashed border-gray-300 dark:border-gray-700 backdrop-blur-sm",children:[ht.jsx("div",{className:"w-12 h-12 bg-wa-grayBg dark:bg-gray-700 rounded-full flex items-center justify-center mb-3 text-gray-500",children:ht.jsx(v,{size:20})}),ht.jsx("h4",{className:"text-sm font-medium text-[#111b21] dark:text-gray-100",children:"Media Locked"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500 mt-1 max-w-[220px]",children:"Media is hidden because this chat is locked."})]});switch(ge){case"all":return ht.jsxs("div",{className:"p-1",children:[Yt.length>0?ht.jsx("div",{className:"grid grid-cols-3 gap-1",children:Yt.slice(0,9).map(e=>{var t;return ht.jsxs("div",{className:"aspect-square relative cursor-pointer bg-gray-100 dark:bg-gray-800",children:["image"===e.type&&ht.jsx("img",{src:e.mediaUrl||(null==(t=e.mediaUrls)?void 0:t[0]),className:"w-full h-full object-cover",alt:""}),"video"===e.type&&ht.jsx("div",{className:"w-full h-full flex items-center justify-center bg-black/10 text-white",children:ht.jsx(T,{size:24,fill:"currentColor"})})]},e.id)})}):ht.jsx("div",{className:"py-8 text-center text-[#667781] dark:text-gray-500 text-sm bg-white/50 dark:bg-black/20 rounded-lg",children:e?"No private media found":"No public media found"}),Yt.length>9&&ht.jsx("button",{className:"w-full py-3 text-wa-teal text-sm font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover transition-colors",children:"View all media"})]});case"images":return ht.jsx("div",{className:"p-1",children:Gt.length>0?ht.jsx("div",{className:"grid grid-cols-3 gap-1",children:Gt.map(e=>{var t;return ht.jsx("div",{className:"aspect-square relative cursor-pointer",children:ht.jsx("img",{src:e.mediaUrl||(null==(t=e.mediaUrls)?void 0:t[0]),className:"w-full h-full object-cover",alt:""})},e.id)})}):ht.jsx("div",{className:"py-8 text-center text-[#667781] dark:text-gray-500 text-sm bg-white/50 dark:bg-black/20 rounded-lg",children:"No images found"})});case"videos":return ht.jsx("div",{className:"p-1",children:Kt.length>0?ht.jsx("div",{className:"grid grid-cols-3 gap-1",children:Kt.map(e=>ht.jsxs("div",{className:"aspect-square relative cursor-pointer bg-black/80 flex items-center justify-center text-white",children:[ht.jsx(T,{size:32}),ht.jsx("span",{className:"absolute bottom-1 right-1 text-[10px] bg-black/60 px-1 rounded",children:e.duration})]},e.id))}):ht.jsx("div",{className:"py-8 text-center text-[#667781] dark:text-gray-500 text-sm bg-white/50 dark:bg-black/20 rounded-lg",children:"No videos found"})});case"doc":return e?ht.jsx("div",{className:"py-8 text-center text-[#667781] dark:text-gray-500 text-sm bg-white/50 dark:bg-black/20 rounded-lg",children:"No private documents"}):ht.jsx("div",{className:"flex flex-col",children:Ht.length>0?Ht.map(e=>ht.jsxs("div",{className:"flex items-center gap-3 p-3 hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50 cursor-pointer border-b border-gray-100 dark:border-gray-800 last:border-0 bg-white/60 dark:bg-wa-dark-header/60 backdrop-blur-sm",children:[ht.jsx("div",{className:"w-10 h-10 bg-red-100 dark:bg-red-900/20 rounded-lg flex items-center justify-center text-red-500",children:ht.jsx(V,{size:20})}),ht.jsxs("div",{className:"flex-1 min-w-0",children:[ht.jsx("h4",{className:"text-[#111b21] dark:text-gray-100 text-sm font-medium truncate",children:e.name}),ht.jsxs("p",{className:"text-[#667781] dark:text-gray-500 text-xs",children:[e.size,"  ",e.date,"  ",e.type.toUpperCase()]})]}),ht.jsx(be,{size:18,className:"text-[#667781] dark:text-gray-500"})]},e.id)):ht.jsx("div",{className:"py-8 text-center text-[#667781] dark:text-gray-500 text-sm bg-white/50 dark:bg-black/20 rounded-lg",children:"No documents found"})});case"analysis":const t=[{label:"Videos",value:Jt.videos.size,color:Jt.videos.color},{label:"Images",value:Jt.images.size,color:Jt.images.color},{label:"Docs",value:Jt.docs.size,color:Jt.docs.color},{label:"Text",value:Jt.text.size,color:Jt.text.color}],n=36,i=2*Math.PI*n;let r=0;return ht.jsxs("div",{className:"p-5 bg-white/60 dark:bg-wa-dark-header/60 backdrop-blur-sm",children:[ht.jsxs("div",{className:"flex flex-col items-center mb-6",children:[ht.jsx("h4",{className:"text-sm font-medium text-[#111b21] dark:text-gray-100 mb-4 self-start",children:e?"Private Storage":"Public Storage"}),ht.jsxs("div",{className:"relative w-48 h-48",children:[ht.jsxs("svg",{viewBox:"0 0 100 100",className:"transform -rotate-90 w-full h-full",children:[ht.jsx("circle",{cx:"50",cy:"50",r:n,stroke:"#e9edef",strokeWidth:"12",fill:"none",className:"dark:stroke-gray-700"}),Zt>0&&t.map((e,t)=>{const s=e.value/Zt,a=`${s*i} ${i}`,o=-r;return r+=s*i,ht.jsx("circle",{cx:"50",cy:"50",r:n,fill:"none",stroke:e.color,strokeWidth:"12",strokeDasharray:a,strokeDashoffset:o,className:"transition-all duration-500 ease-out"},e.label)})]}),ht.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[ht.jsx("span",{className:"text-3xl font-light text-[#111b21] dark:text-gray-100",children:Zt.toFixed(1)}),ht.jsx("span",{className:"text-xs text-[#667781] dark:text-gray-500 uppercase font-medium",children:"MB Used"})]})]})]}),ht.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6 px-2",children:t.map(e=>ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("span",{className:"text-sm text-[#111b21] dark:text-gray-200",children:e.label}),ht.jsxs("span",{className:"text-xs text-[#667781] dark:text-gray-500",children:[e.value.toFixed(1)," MB"]})]})]},e.label))}),ht.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-800 pt-4",children:[ht.jsx("h4",{className:"text-sm font-medium text-[#111b21] dark:text-gray-100 mb-3",children:e?"Private Activity":"Public Activity"}),ht.jsxs("div",{className:"space-y-3",children:[ht.jsxs("div",{className:"flex justify-between items-center text-sm",children:[ht.jsx("span",{className:"text-[#667781] dark:text-gray-400",children:"Total Messages"}),ht.jsx("span",{className:"font-medium text-[#111b21] dark:text-gray-100",children:en})]}),ht.jsxs("div",{className:"flex justify-between items-center text-sm",children:[ht.jsx("span",{className:"text-[#667781] dark:text-gray-400",children:"Text Messages"}),ht.jsx("span",{className:"font-medium text-[#111b21] dark:text-gray-100",children:Jt.text.count})]}),ht.jsxs("div",{className:"flex justify-between items-center text-sm",children:[ht.jsx("span",{className:"text-[#667781] dark:text-gray-400",children:"Media Files"}),ht.jsx("span",{className:"font-medium text-[#111b21] dark:text-gray-100",children:Jt.images.count+Jt.videos.count})]})]})]})]});default:return null}},gn=e=>ht.jsxs("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm mb-3 shadow-sm transition-colors overflow-hidden rounded-lg",children:[ht.jsxs("div",{className:"px-4 py-3 flex items-center justify-between border-b border-gray-100 dark:border-gray-800 cursor-pointer hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50",onClick:()=>we(!ye),children:[ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("h3",{className:"text-sm text-[#111b21] dark:text-gray-100 font-medium flex items-center gap-2",children:e?"Private Media":"Media, Docs & Analysis"}),ht.jsx("p",{className:"text-[10px] text-gray-400",children:e?`${Yt.length} secured files`:`${Yt.length} files  ${Ht.length} docs`})]}),ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("span",{className:"text-xs text-[#667781] dark:text-gray-500",children:ye?"Hide":"View"}),ht.jsx(I,{size:16,className:"text-[#667781] dark:text-gray-400 transition-transform duration-200 "+(ye?"rotate-90":"")})]})]}),ye&&ht.jsxs("div",{className:"animate-in slide-in-from-top-2 duration-200",children:[ht.jsx("div",{className:"flex gap-2 px-4 py-3 overflow-x-auto no-scrollbar border-b border-gray-100 dark:border-gray-800",children:["all","images","videos","doc","analysis"].map(e=>ht.jsx("button",{onClick:()=>ve(e),className:`px-3 py-1.5 rounded-full text-xs font-medium capitalize transition-colors whitespace-nowrap\n                                   ${ge===e?"bg-wa-teal text-white shadow-sm":"bg-gray-100 dark:bg-wa-dark-paper text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-white/10"}\n                               `,children:"doc"===e?"Docs":e},e))}),ht.jsx("div",{className:"min-h-[150px]",children:pn(e)}),"analysis"!==ge&&!e&&!Et.isLocked&&ht.jsxs("div",{className:"border-t border-gray-100 dark:border-gray-800",children:[ht.jsxs("div",{className:"flex items-center justify-between px-4 py-3 cursor-pointer hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50",onClick:()=>_e(!xe),children:[ht.jsx("span",{className:"text-sm text-[#111b21] dark:text-gray-100",children:"Media visibility"}),ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("span",{className:"text-xs text-[#667781] dark:text-gray-500",children:Se}),ht.jsx(I,{size:16,className:"text-[#667781] dark:text-gray-400 transition-transform duration-200 "+(xe?"rotate-90":"")})]})]}),xe&&ht.jsxs("div",{className:"px-6 pb-4 animate-in slide-in-from-top-2 duration-200",children:[ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500 mb-3 leading-relaxed",children:"Show newly downloaded media from this chat in your device's gallery?"}),ht.jsx("div",{className:"flex flex-col gap-3",children:["Default (Yes)","Yes","No"].map(e=>ht.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group",children:[ht.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center transition-colors "+(Se===e?"border-wa-teal":"border-gray-400 dark:border-gray-500 group-hover:border-gray-600"),children:Se===e&&ht.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-wa-teal"})}),ht.jsx("span",{className:"text-sm text-[#111b21] dark:text-gray-100",children:e}),ht.jsx("input",{type:"radio",name:"mediaVisibility",className:"hidden",checked:Se===e,onChange:()=>Ce(e)})]},e))})]})]})]})]}),vn=X.contactInfoBackgroundImage?{backgroundImage:`url(${X.contactInfoBackgroundImage})`,backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"}:{};if(et){const e=Object.values(W).filter(e=>{var t;return e.id!==$&&!(null==(t=Et.groupParticipants)?void 0:t.includes(e.id))&&e.name.toLowerCase().includes(nt.toLowerCase())});return ht.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-wa-dark-bg animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal dark:bg-wa-dark-header flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:()=>tt(!1),className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h2",{className:"text-xl font-medium",children:"Add participants"}),rt.size>0&&ht.jsxs("span",{className:"text-xs opacity-80",children:[rt.size," selected"]})]})]}),ht.jsx("div",{className:"p-2 border-b border-wa-border dark:border-wa-dark-border bg-white dark:bg-wa-dark-bg",children:ht.jsxs("div",{className:"bg-wa-grayBg dark:bg-wa-dark-input rounded-lg px-4 py-2 flex items-center gap-4 text-wa-gray dark:text-gray-400 h-9",children:[ht.jsx(z,{size:18}),ht.jsx("input",{autoFocus:!0,type:"text",placeholder:"Search...",className:"bg-transparent outline-none text-sm w-full text-black dark:text-white placeholder:text-wa-gray dark:placeholder:text-gray-500",value:nt,onChange:e=>it(e.target.value)})]})}),rt.size>0&&ht.jsx("div",{className:"flex gap-2 p-2 overflow-x-auto border-b border-wa-border dark:border-wa-dark-border no-scrollbar bg-white dark:bg-wa-dark-bg",children:Array.from(rt).map(e=>{const t=W[e];return ht.jsxs("div",{onClick:()=>ln(e),className:"flex items-center gap-1 bg-gray-100 dark:bg-wa-dark-paper rounded-full pl-1 pr-2 py-1 cursor-pointer hover:bg-gray-200 dark:hover:bg-white/10 shrink-0",children:[ht.jsx("img",{src:null==t?void 0:t.avatar,className:"w-5 h-5 rounded-full",alt:""}),ht.jsx("span",{className:"text-xs text-[#111b21] dark:text-gray-200",children:null==t?void 0:t.name.split(" ")[0]}),ht.jsx(P,{size:12,className:"text-gray-500"})]},e)})}),ht.jsxs("div",{className:"flex-1 overflow-y-auto pb-20",children:[e.map(e=>{const t=rt.has(e.id);return ht.jsxs("div",{onClick:()=>ln(e.id),className:"flex items-center gap-4 px-4 py-3 cursor-pointer hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover active:bg-[#e9edef] dark:active:bg-wa-dark-paper transition-colors",children:[ht.jsxs("div",{className:"relative",children:[ht.jsx("img",{src:e.avatar,alt:e.name,className:"w-10 h-10 rounded-full object-cover"}),t&&ht.jsx("div",{className:"absolute -bottom-1 -right-1 bg-wa-teal rounded-full p-0.5 border-2 border-white dark:border-wa-dark-bg",children:ht.jsx(_,{size:10,className:"text-white",strokeWidth:3})})]}),ht.jsxs("div",{className:"flex-1 border-b border-wa-border dark:border-wa-dark-border pb-3 -mb-3",children:[ht.jsx("h3",{className:"text-[17px] font-medium text-[#111b21] dark:text-gray-100",children:e.name}),ht.jsx("p",{className:"text-[14px] text-[#667781] dark:text-gray-500 truncate",children:e.about})]})]},e.id)}),0===e.length&&ht.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No contacts available to add."})]}),rt.size>0&&ht.jsx("div",{className:"absolute bottom-6 right-6 z-20",children:ht.jsx("button",{onClick:cn,className:"w-14 h-14 bg-wa-teal rounded-full shadow-lg flex items-center justify-center text-white hover:brightness-110 active:scale-95 transition-all",children:ht.jsx(_,{size:24,strokeWidth:3})})})]})}return Ge?ht.jsxs("div",{className:"flex flex-col h-full bg-[#f0f2f5] dark:bg-[#111b21] animate-in slide-in-from-right duration-200",children:[ht.jsxs("div",{className:"h-[60px] bg-wa-teal dark:bg-wa-dark-header flex items-center px-4 shrink-0 shadow-sm text-white",children:[ht.jsx("button",{onClick:()=>Ke(!1),className:"mr-3 p-1 rounded-full active:bg-white/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium",children:"Group permissions"})]}),ht.jsxs("div",{className:"p-4 flex-col gap-4",children:[ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-header rounded-lg shadow-sm p-4",children:[ht.jsxs("div",{className:"flex justify-between items-center mb-1",children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Edit group info"}),ht.jsx("div",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-white/10 "+(Lt?"text-green-600":"text-gray-500"),children:"all"===(null==(c=Et.groupSettings)?void 0:c.editInfo)?"All participants":"Only admins"})]}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500 mb-4",children:"Choose who can change the group's subject, icon, and description."}),Lt&&ht.jsxs("div",{className:"flex gap-2",children:[ht.jsx("button",{onClick:()=>Z(Et.id,{editInfo:"all"}),className:"flex-1 py-2 text-sm rounded border "+("all"===(null==(u=Et.groupSettings)?void 0:u.editInfo)?"border-wa-teal text-wa-teal bg-green-50 dark:bg-green-900/10":"border-gray-300 text-gray-500"),children:"All"}),ht.jsx("button",{onClick:()=>Z(Et.id,{editInfo:"admins"}),className:"flex-1 py-2 text-sm rounded border "+("admins"===(null==(d=Et.groupSettings)?void 0:d.editInfo)?"border-wa-teal text-wa-teal bg-green-50 dark:bg-green-900/10":"border-gray-300 text-gray-500"),children:"Admins"})]})]}),ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-header rounded-lg shadow-sm p-4 mt-4",children:[ht.jsxs("div",{className:"flex justify-between items-center mb-1",children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Send messages"}),ht.jsx("div",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-white/10 "+(Lt?"text-green-600":"text-gray-500"),children:"all"===(null==(f=Et.groupSettings)?void 0:f.sendMessages)?"All participants":"Only admins"})]}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500 mb-4",children:"Choose who can send messages to this group."}),Lt&&ht.jsxs("div",{className:"flex gap-2",children:[ht.jsx("button",{onClick:()=>Z(Et.id,{sendMessages:"all"}),className:"flex-1 py-2 text-sm rounded border "+("all"===(null==(h=Et.groupSettings)?void 0:h.sendMessages)?"border-wa-teal text-wa-teal bg-green-50 dark:bg-green-900/10":"border-gray-300 text-gray-500"),children:"All"}),ht.jsx("button",{onClick:()=>Z(Et.id,{sendMessages:"admins"}),className:"flex-1 py-2 text-sm rounded border "+("admins"===(null==(m=Et.groupSettings)?void 0:m.sendMessages)?"border-wa-teal text-wa-teal bg-green-50 dark:bg-green-900/10":"border-gray-300 text-gray-500"),children:"Admins"})]})]}),ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-header rounded-lg shadow-sm p-4 mt-4",children:[ht.jsxs("div",{className:"flex justify-between items-center mb-1",children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Add other participants"}),ht.jsx("div",{className:"text-xs px-2 py-1 rounded bg-gray-100 dark:bg-white/10 "+(Lt?"text-green-600":"text-gray-500"),children:"all"===(null==(p=Et.groupSettings)?void 0:p.addMembers)?"All participants":"Only admins"})]}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500 mb-4",children:"Choose who can add other participants to this group."}),Lt&&ht.jsxs("div",{className:"flex gap-2",children:[ht.jsx("button",{onClick:()=>Z(Et.id,{addMembers:"all"}),className:"flex-1 py-2 text-sm rounded border "+("all"===(null==(g=Et.groupSettings)?void 0:g.addMembers)?"border-wa-teal text-wa-teal bg-green-50 dark:bg-green-900/10":"border-gray-300 text-gray-500"),children:"All"}),ht.jsx("button",{onClick:()=>Z(Et.id,{addMembers:"admins"}),className:"flex-1 py-2 text-sm rounded border "+("admins"===(null==(b=Et.groupSettings)?void 0:b.addMembers)?"border-wa-teal text-wa-teal bg-green-50 dark:bg-green-900/10":"border-gray-300 text-gray-500"),children:"Admins"})]})]}),ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-header rounded-lg shadow-sm p-4 mt-4 flex justify-between items-center",children:[ht.jsxs("div",{className:"flex-1 mr-4",children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100 mb-1",children:"Approve new participants"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:"When turned on, admins must approve anyone who wants to join the group."})]}),ht.jsx("div",{onClick:()=>{var e;return Lt&&Z(Et.id,{approveMembers:!(null==(e=Et.groupSettings)?void 0:e.approveMembers)})},className:"w-10 h-6 rounded-full p-1 transition-colors cursor-pointer shrink-0 "+((null==(w=Et.groupSettings)?void 0:w.approveMembers)?"bg-wa-teal":"bg-gray-300 dark:bg-gray-600"),children:ht.jsx("div",{className:"bg-white w-4 h-4 rounded-full shadow-sm transition-transform "+((null==(x=Et.groupSettings)?void 0:x.approveMembers)?"translate-x-4":"")})})]}),Dt&&ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-header rounded-lg shadow-sm p-4 mt-4 flex justify-between items-center",children:[ht.jsxs("div",{className:"flex items-center gap-3 flex-1 mr-4",children:[ht.jsx("div",{className:"w-9 h-9 bg-blue-50 dark:bg-blue-900/20 rounded-full flex items-center justify-center shrink-0",children:ht.jsx(Le,{size:18,className:"text-blue-500"})}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100 mb-1",children:"Show History to New Members"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:!1!==(null==(S=Et.groupSettings)?void 0:S.showHistoryToNewMembers)?"New members can see all past messages":"New members only see messages after joining"})]})]}),ht.jsx("div",{onClick:()=>{var e;Dt&&Z(Et.id,{showHistoryToNewMembers:!(!1!==(null==(e=Et.groupSettings)?void 0:e.showHistoryToNewMembers))})},className:`w-10 h-6 rounded-full p-1 transition-colors shrink-0 ${Dt?"cursor-pointer":"cursor-not-allowed opacity-50"} ${!1!==(null==(C=Et.groupSettings)?void 0:C.showHistoryToNewMembers)?"bg-wa-teal":"bg-gray-300 dark:bg-gray-600"}`,children:ht.jsx("div",{className:"bg-white w-4 h-4 rounded-full shadow-sm transition-transform "+(!1!==(null==(N=Et.groupSettings)?void 0:N.showHistoryToNewMembers)?"translate-x-4":"")})})]}),Dt&&ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-header rounded-lg shadow-sm mt-4 overflow-hidden",children:[ht.jsxs("div",{className:"p-4 flex justify-between items-center cursor-pointer hover:bg-gray-50 dark:hover:bg-white/5",onClick:()=>Qe(!Ye),children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Edit group admins"}),ht.jsx(B,{size:20,className:"transition-transform "+(Ye?"rotate-180":"")})]}),Ye&&ht.jsx("div",{className:"border-t border-gray-100 dark:border-gray-700 max-h-60 overflow-y-auto",children:null==(j=Et.groupParticipants)?void 0:j.filter(e=>e!==$).map(e=>{var t;const n=W[e],i=null==(t=Et.groupRoles)?void 0:t[e];return ht.jsxs("div",{className:"flex items-center justify-between px-4 py-3 hover:bg-gray-50 dark:hover:bg-white/5",children:[ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("img",{src:n.avatar,className:"w-8 h-8 rounded-full",alt:""}),ht.jsx("span",{className:"text-sm font-medium dark:text-gray-200",children:n.name})]}),ht.jsx("button",{onClick:()=>on(e),className:"text-xs px-3 py-1.5 rounded-full border "+("admin"===i?"border-red-200 text-red-500 hover:bg-red-50":"border-green-200 text-green-600 hover:bg-green-50"),children:"admin"===i?"Dismiss":"Make Admin"})]},e)})})]})]})]}):ht.jsxs("div",{className:"flex flex-col h-full overflow-y-auto relative "+(X.contactInfoBackgroundImage?"":"bg-[#f0f2f5] dark:bg-[#0b141a]"),style:vn,children:[Re.isOpen&&ht.jsx(xV,{updates:Ie,initialIndex:Re.startIndex,onClose:()=>De({isOpen:!1,startIndex:0})}),oe&&a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl w-full max-w-xs p-6 flex flex-col items-center",children:[ht.jsx("div",{className:"w-12 h-12 rounded-full flex items-center justify-center mb-4 text-white "+("private_tab"===he?"bg-blue-500":"bg-wa-teal"),children:"private_tab"===he?ht.jsx(Me,{size:24}):ht.jsx(v,{size:24})}),ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-2",children:"private_tab"===he?"Private Access":Et.isLocked?"Unlock Chat":"Lock Chat"}),ht.jsxs("p",{className:"text-sm text-[#667781] dark:text-gray-400 mb-6 text-center",children:["Enter ","private_tab"===he?"Daily Lock PIN":"Chat Lock PIN"]}),ht.jsx("input",{type:"password",maxLength:4,value:ce,onChange:e=>{ue(e.target.value),fe("")},onKeyDown:e=>"Enter"===e.key&&an(),className:"w-full text-center text-2xl tracking-[0.5em] font-medium py-2 border-b-2 border-wa-teal bg-transparent outline-none mb-2 text-[#111b21] dark:text-gray-100 placeholder-transparent",placeholder:"****",autoFocus:!0}),de&&ht.jsx("p",{className:"text-red-500 text-xs mb-4",children:de}),ht.jsxs("div",{className:"flex gap-3 w-full mt-4",children:[ht.jsx("button",{onClick:()=>le(!1),className:"flex-1 py-2 text-wa-teal font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:an,className:"flex-1 py-2 bg-wa-teal text-white font-medium rounded-full shadow-sm hover:shadow-md transition-all",children:"Verify"})]})]})}),document.body),at&&a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl w-full max-w-xs p-6 flex flex-col items-center",children:[ht.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mb-4 text-white",children:ht.jsx(k,{size:24})}),ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-2",children:"Archive Lock"}),ht.jsxs("p",{className:"text-sm text-[#667781] dark:text-gray-400 mb-6 text-center",children:["Enter PIN to ",Et.isArchived?"unarchive":"archive"," chat"]}),ht.jsx("input",{type:"password",maxLength:4,value:lt,onChange:e=>{ct(e.target.value),dt("")},onKeyDown:e=>"Enter"===e.key&&fn(),className:"w-full text-center text-2xl tracking-[0.5em] font-medium py-2 border-b-2 border-purple-500 bg-transparent outline-none mb-2 text-[#111b21] dark:text-gray-100 placeholder-transparent",placeholder:"****",autoFocus:!0}),ut&&ht.jsx("p",{className:"text-red-500 text-xs mb-4",children:ut}),ht.jsxs("div",{className:"flex gap-3 w-full mt-4",children:[ht.jsx("button",{onClick:()=>ot(!1),className:"flex-1 py-2 text-purple-500 font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:fn,className:"flex-1 py-2 bg-purple-500 text-white font-medium rounded-full shadow-sm hover:shadow-md transition-all",children:"Unlock"})]})]})}),document.body),kt&&a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",onClick:()=>xt(!1),children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl w-full max-w-md p-6",onClick:e=>e.stopPropagation(),children:[ht.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100",children:"Group Invite Link"}),ht.jsx("button",{onClick:()=>xt(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:ht.jsx(P,{size:20,className:"text-gray-600 dark:text-gray-400"})})]}),Ct?ht.jsx("div",{className:"flex items-center justify-center py-12",children:ht.jsx("div",{className:"w-12 h-12 border-4 border-wa-teal border-t-transparent rounded-full animate-spin"})}):ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"flex justify-center mb-4",children:ht.jsx("div",{className:"p-3 bg-white rounded-lg border-2 border-gray-200 dark:border-gray-700",children:ht.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(_t)}`,alt:"QR Code",className:"w-48 h-48"})})}),ht.jsxs("div",{className:"bg-gray-50 dark:bg-wa-dark-bg rounded-lg p-3 mb-4 flex items-center gap-2",children:[ht.jsx("input",{type:"text",value:_t,readOnly:!0,className:"flex-1 bg-transparent text-sm text-[#111b21] dark:text-gray-100 outline-none truncate"}),ht.jsxs("button",{onClick:mn,className:"px-4 py-1.5 bg-wa-teal text-white rounded-lg text-sm hover:bg-wa-tealDark transition-colors flex items-center gap-1.5",children:[ht.jsx(Oe,{size:16}),jt?"Copied!":"Copy"]})]}),ht.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-4 text-center",children:"Anyone with this link can join this group"}),ht.jsxs("div",{className:"flex gap-3",children:[ht.jsxs("button",{onClick:async()=>{Nt(!0);try{const e=await XV.resetInviteLink(L,$);St(e),Tt(!1)}catch(e){}finally{Nt(!1)}},className:"flex-1 py-2.5 text-red-500 border border-red-200 dark:border-red-900/30 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors flex items-center justify-center gap-2",disabled:Ct,children:[ht.jsx(Fe,{size:18}),"Reset Link"]}),ht.jsxs("button",{onClick:async()=>{if(navigator.share)try{await navigator.share({title:`Join ${Et.groupName}`,text:`Join our group "${Et.groupName}" on WhatsApp`,url:_t})}catch(e){e.name}else mn()},className:"flex-1 py-2.5 bg-wa-teal text-white rounded-lg hover:bg-wa-tealDark transition-colors flex items-center justify-center gap-2",children:[ht.jsx(ze,{size:18}),"Share Link"]})]})]})]})}),document.body),X.contactInfoBackgroundImage&&ht.jsx("div",{className:"fixed inset-0 bg-white/40 dark:bg-black/40 pointer-events-none z-0 backdrop-blur-[2px]"}),ht.jsxs("div",{className:"h-[60px] bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-md flex items-center justify-between px-4 shrink-0 shadow-sm sticky top-0 z-10 transition-colors",children:[ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("button",{onClick:()=>O(`/chat/${L}`),className:"text-wa-gray dark:text-gray-400",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-lg text-[#111b21] dark:text-gray-100 font-medium",children:It?"Group Info":"User Info"})]}),It&&ht.jsxs("div",{className:"relative",children:[ht.jsx("button",{ref:Xe,onClick:e=>{if(e.stopPropagation(),!We&&Xe.current){const e=Xe.current.getBoundingClientRect();Ze({top:e.bottom+5,right:window.innerWidth-e.right})}He(!We)},className:"p-2 -mr-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 text-wa-gray dark:text-gray-400 transition-colors",children:ht.jsx(pe,{size:22})}),We&&a.createPortal(ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"fixed inset-0 z-[60]",onClick:()=>He(!1)}),ht.jsx("div",{className:"fixed w-48 bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl border border-wa-border dark:border-gray-700 z-[61] py-2 animate-in fade-in zoom-in-95 duration-200 origin-top-right",style:{top:Je.top,right:Je.right},children:ht.jsx("button",{onClick:()=>{He(!1),Ke(!0)},className:"w-full text-left px-4 py-3 hover:bg-gray-100 dark:hover:bg-wa-dark-hover text-[#111b21] dark:text-gray-100 text-[15px]",children:"Group permissions"})})]}),document.body)]})]}),ht.jsxs("div",{className:"flex-1 pb-10 relative z-10",children:[ht.jsxs("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm flex flex-col items-center py-6 mb-3 shadow-sm transition-colors rounded-b-lg",children:[ht.jsxs("div",{className:"relative w-28 h-28 mb-4 group cursor-pointer perspective-[1000px]",children:[ht.jsxs("div",{className:"relative w-full h-full transition-all duration-700 [transform-style:preserve-3d] group-hover:[transform:rotateY(180deg)]",children:[ht.jsx("div",{className:"absolute inset-0 w-full h-full [backface-visibility:hidden]",children:ht.jsx("img",{src:rn,alt:"Avatar",className:"w-full h-full rounded-full object-cover shadow-sm ring-2 ring-white dark:ring-wa-dark-bg"})}),ht.jsx("div",{className:"absolute inset-0 w-full h-full rounded-full bg-white flex items-center justify-center [transform:rotateY(180deg)] [backface-visibility:hidden] shadow-sm ring-2 ring-wa-teal overflow-hidden",children:ht.jsx("img",{src:`https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${L}`,alt:"QR Code",className:"w-3/4 h-3/4 object-contain opacity-90"})})]}),ht.jsx("div",{className:"absolute bottom-0 right-0 bg-white dark:bg-wa-dark-paper rounded-full p-1 shadow-md opacity-80 group-hover:opacity-0 transition-opacity",children:ht.jsx(Ue,{size:12,className:"text-wa-teal"})})]}),ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx("h1",{className:"text-2xl text-[#111b21] dark:text-gray-100 font-normal",children:tn}),It&&Ft&&ht.jsx(QV,{onClick:()=>mt(!0),size:18})]}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-500 text-base mb-2",children:nn}),It&&ht.jsxs("div",{className:"flex items-center justify-center gap-2 px-6 max-w-md mx-auto",children:[ht.jsx("p",{className:"text-[#667781] dark:text-gray-400 text-sm text-center italic",children:Et.groupDescription||"No description"}),Ft&&ht.jsx(QV,{onClick:()=>gt(!0),size:14})]}),ht.jsxs("div",{className:"flex p-1 bg-gray-100 dark:bg-wa-dark-paper rounded-lg w-64 shadow-inner mt-4",children:[ht.jsx("button",{onClick:()=>sn("public"),className:"flex-1 py-1.5 text-sm font-medium rounded-md transition-all "+("public"===ie?"bg-white dark:bg-wa-dark-header text-wa-teal shadow-sm":"text-gray-500 dark:text-gray-400"),children:"Public"}),ht.jsxs("button",{onClick:()=>sn("private"),className:"flex-1 py-1.5 text-sm font-medium rounded-md transition-all flex items-center justify-center gap-1.5 "+("private"===ie?"bg-white dark:bg-wa-dark-header text-wa-teal shadow-sm":"text-gray-500 dark:text-gray-400"),children:["Private",!se&&ht.jsx(v,{size:12})]})]})]}),"public"===ie&&ht.jsxs(ht.Fragment,{children:[ht.jsxs("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm mb-3 shadow-sm transition-colors rounded-lg",children:[ht.jsxs("div",{className:"flex items-center gap-4 px-6 py-4 cursor-pointer hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50",children:[ht.jsx("div",{className:"w-6 flex justify-center text-wa-gray dark:text-gray-400",children:ht.jsx(Ee,{size:22})}),ht.jsx("div",{className:"flex-1",children:ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Notifications"})})]}),ht.jsxs("div",{className:"flex items-center gap-4 px-6 py-4 cursor-pointer hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50",children:[ht.jsx("div",{className:"w-6 flex justify-center text-wa-gray dark:text-gray-400",children:ht.jsx(z,{size:22})}),ht.jsx("div",{className:"flex-1",children:ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Search messages"})})]})]}),gn(!1),It&&ht.jsxs("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm mb-3 shadow-sm transition-colors overflow-hidden rounded-lg",children:[ht.jsxs("div",{className:"px-4 py-3 flex items-center justify-between border-b border-gray-100 dark:border-gray-800 cursor-pointer hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50",onClick:()=>je(!Ne),children:[ht.jsxs("div",{className:"flex flex-col",children:[ht.jsxs("h3",{className:"text-sm text-[#667781] dark:text-gray-400 font-medium flex items-center gap-2",children:["Group Status",ht.jsx(B,{size:14,className:"transition-transform duration-200 "+(Ne?"rotate-180":"")})]}),ht.jsxs("p",{className:"text-[10px] text-gray-400",children:[Ie.length," updates"]})]}),ht.jsx(Be,{size:20,className:"text-[#667781] dark:text-gray-400"})]}),Ne&&ht.jsxs("div",{className:"p-4 overflow-x-auto no-scrollbar flex gap-4 animate-in slide-in-from-top-2 duration-200",children:[ht.jsxs("div",{className:"flex flex-col items-center gap-1 cursor-pointer shrink-0",onClick:()=>{var e;return null==(e=$e.current)?void 0:e.click()},children:[ht.jsxs("div",{className:"relative w-14 h-14",children:[ht.jsx("img",{src:q.avatar,className:"w-full h-full rounded-full object-cover opacity-80",alt:"Me"}),ht.jsx("div",{className:"absolute bottom-0 right-0 bg-wa-teal text-white rounded-full p-1 border-2 border-white dark:border-wa-dark-bg",children:ht.jsx(R,{size:12,strokeWidth:3})})]}),ht.jsx("span",{className:"text-xs text-[#111b21] dark:text-gray-100 font-medium mt-1",children:"Add"})]}),ht.jsx("input",{type:"file",ref:$e,className:"hidden",accept:"image/*,video/*",onChange:e=>{if(e.target.files&&e.target.files[0]){const t=e.target.files[0],n=URL.createObjectURL(t),i={id:`gs_me_${Date.now()}`,userId:$,timestamp:(new Date).toISOString(),imageUrl:n,caption:"New group status",viewed:!1};Pe(e=>[i,...e])}$e.current&&($e.current.value="")}}),Ie.map((e,t)=>{const n=W[e.userId]||(e.userId===$?q:null);return n?ht.jsxs("div",{className:"flex flex-col items-center gap-1 cursor-pointer shrink-0",onClick:()=>De({isOpen:!0,startIndex:t}),children:[ht.jsx("div",{className:"w-14 h-14 rounded-full p-[2px] border-2 border-wa-teal",children:ht.jsx("img",{src:n.avatar,className:"w-full h-full rounded-full object-cover",alt:n.name})}),ht.jsx("span",{className:"text-xs text-[#111b21] dark:text-gray-100 font-medium mt-1 w-16 truncate text-center",children:n.name.split(" ")[0]})]},e.id):null}),0===Ie.length&&ht.jsx("div",{className:"flex items-center justify-center text-xs text-gray-400 italic px-4",children:"No recent updates"})]})]}),ht.jsxs("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm mb-3 shadow-sm transition-colors px-6 py-6 rounded-lg",children:[ht.jsxs("div",{className:"mb-8 mt-2",children:[ht.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[ht.jsx("div",{className:"w-6 flex justify-center text-wa-gray dark:text-gray-400",children:ht.jsx(Ae,{size:22})}),ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100 font-medium",children:"My Message Theme"})]}),ht.jsx("div",{className:"flex gap-4 pl-10 overflow-x-auto no-scrollbar pb-2 -mr-6 pr-6",children:JV.map(e=>{var t;const n=((null==(t=Et.userSettings)?void 0:t.themeColor)||Et.themeColor||"")===e.value;return ht.jsx("button",{onClick:()=>un(e.value),className:"w-10 h-10 shrink-0 rounded-full flex items-center justify-center relative shadow-sm transition-transform hover:scale-105 "+(n?"border-2 border-wa-teal":"border-2 border-gray-200 dark:border-gray-600"),style:{backgroundColor:e.value||"#D9FDD3"},title:e.name,children:n&&ht.jsx(_,{size:16,strokeWidth:3,className:"text-black/60"})},e.name)})})]}),ht.jsxs("div",{className:"mb-8",children:[ht.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[ht.jsx("div",{className:"w-6 flex justify-center text-wa-gray dark:text-gray-400",children:ht.jsx(Ae,{size:22})}),ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100 font-medium",children:"Sender Message Theme"})]}),ht.jsx("div",{className:"flex gap-4 pl-10 overflow-x-auto no-scrollbar pb-2 -mr-6 pr-6",children:JV.map(e=>{var t;const n=((null==(t=Et.userSettings)?void 0:t.incomingThemeColor)||Et.incomingThemeColor||"")===e.value;return ht.jsx("button",{onClick:()=>dn(e.value),className:"w-10 h-10 shrink-0 rounded-full flex items-center justify-center relative shadow-sm transition-transform hover:scale-105 "+(n?"border-2 border-wa-teal":"border-2 border-gray-200 dark:border-gray-600"),style:{backgroundColor:e.value||"#FFFFFF"},title:e.name,children:n&&ht.jsx(_,{size:16,strokeWidth:3,className:"text-black/60"})},e.name)})})]}),ht.jsxs("div",{className:"flex items-center gap-4 cursor-pointer py-2 mb-4",onClick:()=>{Y.archiveLockPassword&&""!==Y.archiveLockPassword?(ot(!0),ct(""),dt("")):K(L)},children:[ht.jsx("div",{className:"w-6 flex justify-center text-wa-gray dark:text-gray-400",children:ht.jsx(k,{size:22})}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Archive Chat"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:"Hide this chat in archived folder"})]}),ht.jsx("div",{className:"w-10 h-6 rounded-full p-1 transition-colors "+(Et.isArchived?"bg-wa-teal":"bg-gray-300 dark:bg-gray-600"),children:ht.jsx("div",{className:"bg-white w-4 h-4 rounded-full shadow-sm transition-transform "+(Et.isArchived?"translate-x-4":"")})})]}),ht.jsxs("div",{className:"flex items-center gap-4 cursor-pointer py-2",onClick:()=>{me("chat_lock"),ue(""),fe(""),le(!0)},children:[ht.jsx("div",{className:"w-6 flex justify-center text-wa-gray dark:text-gray-400",children:ht.jsx(v,{size:22})}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Chat Lock"}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:"Require PIN to access this chat"})]}),ht.jsx("div",{className:"w-10 h-6 rounded-full p-1 transition-colors "+(Et.isLocked?"bg-wa-teal":"bg-gray-300 dark:bg-gray-600"),children:ht.jsx("div",{className:"bg-white w-4 h-4 rounded-full shadow-sm transition-transform "+(Et.isLocked?"translate-x-4":"")})})]})]}),Mt.length>0&&ht.jsxs("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm mb-3 shadow-sm transition-colors rounded-lg overflow-hidden",children:[ht.jsxs("div",{className:"px-6 py-3 text-sm text-wa-teal dark:text-wa-teal font-medium uppercase bg-white/50 dark:bg-black/10",children:[Mt.length," Pinned Messages"]}),Mt.map(e=>{var t;return ht.jsxs("div",{className:"px-6 py-3 hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50 cursor-pointer border-t border-wa-border dark:border-wa-dark-border",children:[ht.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[ht.jsx("span",{className:"text-xs font-bold text-wa-gray dark:text-gray-400",children:e.senderId===$?"You":null==(t=W[e.senderId])?void 0:t.name}),ht.jsx("span",{className:"text-xs text-wa-gray dark:text-gray-500",children:yP(e.timestamp)})]}),ht.jsx("p",{className:"text-sm text-[#111b21] dark:text-gray-200 line-clamp-2",children:e.text})]},e.id)})]}),!It&&(null==Pt?void 0:Pt.about)&&ht.jsxs("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm mb-3 shadow-sm px-6 py-4 transition-colors rounded-lg",children:[ht.jsx("h3",{className:"text-sm text-wa-teal dark:text-wa-teal font-medium mb-1",children:"About"}),ht.jsx("p",{className:"text-base text-[#111b21] dark:text-gray-100",children:Pt.about})]}),It&&ht.jsxs("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm mb-3 shadow-sm transition-colors rounded-lg overflow-hidden",children:[ht.jsxs("div",{className:"px-6 py-3 text-sm text-[#667781] dark:text-gray-400 bg-white/50 dark:bg-black/10",children:[null==(E=Et.groupParticipants)?void 0:E.length," participants"]}),Ot&&ht.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50 cursor-pointer",onClick:()=>tt(!0),children:[ht.jsx("div",{className:"w-10 h-10 rounded-full bg-wa-teal flex items-center justify-center text-white shrink-0",children:ht.jsx(Ve,{size:22})}),ht.jsx("div",{className:"flex-1",children:ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Add participants"})}),ht.jsx("div",{className:"text-gray-400 hover:text-wa-teal cursor-pointer",onClick:e=>{e.stopPropagation(),(async()=>{xt(!0),Nt(!0),Tt(!1);try{let e=await XV.getGroupInviteLink(L);e||(e=await XV.generateInviteLink(L,$)),St(e)}catch(e){}finally{Nt(!1)}})()},children:ht.jsx(ke,{size:20})})]}),null==(M=Et.groupParticipants)?void 0:M.map(e=>{var t;const n=W[e]||(e===$?q:null);if(!n)return null;const i=null==(t=Et.groupRoles)?void 0:t[e];return ht.jsxs("div",{className:"flex items-center gap-4 px-6 py-3 hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50 cursor-pointer relative group",children:[ht.jsx("img",{src:n.avatar,alt:"",className:"w-10 h-10 rounded-full"}),ht.jsxs("div",{className:"flex-1",children:[ht.jsxs("div",{className:"flex justify-between items-center",children:[ht.jsxs("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:[n.name," ",e===$&&"(You)"]}),i&&"member"!==i&&ht.jsx("span",{className:"text-[10px] px-2 py-0.5 rounded-full border "+("owner"===i?"border-blue-200 text-blue-600 bg-blue-50":"border-green-200 text-green-600 bg-green-50"),children:"owner"===i?"Group Creator":"Group Admin"})]}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:n.about})]}),Dt&&e!==$&&ht.jsx("button",{onClick:t=>{t.stopPropagation(),on(e)},className:"absolute right-4 top-1/2 -translate-y-1/2 hidden group-hover:flex px-3 py-1 bg-white dark:bg-wa-dark-paper shadow-sm rounded-full text-xs font-medium border border-gray-200 dark:border-gray-700",children:"admin"===i?"Dismiss Admin":"Make Admin"})]},e)})]}),ht.jsxs("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm shadow-sm transition-colors rounded-lg overflow-hidden",children:[It&&ht.jsxs("div",{className:"flex items-center gap-4 px-6 py-4 cursor-pointer hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50 text-red-500",children:[ht.jsx("div",{className:"w-6 flex justify-center",children:ht.jsx(qe,{size:22})}),ht.jsx("h3",{className:"text-base",children:"Exit group"})]}),ht.jsxs("div",{className:"flex items-center gap-4 px-6 py-4 cursor-pointer hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50 text-red-500",children:[ht.jsx("div",{className:"w-6 flex justify-center",children:ht.jsx(A,{size:22})}),ht.jsxs("h3",{className:"text-base",children:["Report ",It?"group":"user"]})]}),!It&&ht.jsxs("div",{className:"flex items-center gap-4 px-6 py-4 cursor-pointer hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50 text-red-500",children:[ht.jsx("div",{className:"w-6 flex justify-center",children:ht.jsx(Te,{size:22})}),ht.jsxs("h3",{className:"text-base",children:["Block ",(null==Pt?void 0:Pt.name)||"user"]})]})]})]}),"private"===ie&&ht.jsxs("div",{className:"animate-in fade-in slide-in-from-right-2 duration-200",children:[ht.jsxs("div",{className:"mx-4 mb-4 p-4 bg-blue-50/90 dark:bg-blue-900/40 rounded-lg border border-blue-100 dark:border-blue-900/30 flex gap-3 backdrop-blur-sm",children:[ht.jsx(Me,{size:24,className:"text-blue-500 shrink-0"}),ht.jsxs("div",{className:"flex-col",children:[ht.jsx("h3",{className:"text-sm font-bold text-blue-700 dark:text-blue-400 mb-1",children:"Private Secure Zone"}),ht.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300",children:"Items in this tab are encrypted and require authentication to view."})]})]}),gn(!0),ht.jsx("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm mb-3 shadow-sm transition-colors px-6 py-4 mt-3 rounded-lg",children:ht.jsxs("div",{className:"flex items-center gap-4 opacity-50",children:[ht.jsx("div",{className:"w-6 flex justify-center text-wa-gray dark:text-gray-400",children:ht.jsx(y,{size:22})}),ht.jsxs("div",{className:"flex-1",children:[ht.jsx("h3",{className:"text-base text-[#111b21] dark:text-gray-100",children:"Hidden Messages"}),ht.jsxs("p",{className:"text-xs text-[#667781] dark:text-gray-500",children:[(null==(D=Et.hiddenDates)?void 0:D.length)||0," locked dates found"]})]})]})}),ht.jsx("div",{className:"bg-white/90 dark:bg-wa-dark-header/90 backdrop-blur-sm shadow-sm transition-colors px-6 py-4 rounded-lg",children:ht.jsx("button",{onClick:()=>{ae(!1),re("public")},className:"w-full py-2 border border-wa-teal text-wa-teal rounded-full font-medium text-sm hover:bg-wa-grayBg/50 dark:hover:bg-wa-dark-hover/50 transition-colors",children:"Lock Private View"})})]})]}),ft&&a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl w-full max-w-sm p-6",children:[ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-4",children:"Edit Group Name"}),ht.jsx("input",{type:"text",value:vt,onChange:e=>yt(e.target.value),onKeyDown:e=>"Enter"===e.key&&hn(),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg \n                                     bg-white dark:bg-wa-dark-input text-[#111b21] dark:text-gray-100 \n                                     outline-none focus:border-wa-teal transition-colors",placeholder:"Enter group name",autoFocus:!0,maxLength:50}),ht.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[vt.length,"/50"]}),ht.jsxs("div",{className:"flex gap-3 mt-6",children:[ht.jsx("button",{onClick:()=>{mt(!1),yt(Et.groupName||"")},className:"flex-1 py-2 text-wa-teal font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:hn,disabled:!vt.trim(),className:"flex-1 py-2 bg-wa-teal text-white font-medium rounded-full shadow-sm \n                                         hover:shadow-md transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Save"})]})]})}),document.body),pt&&a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl w-full max-w-sm p-6",children:[ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-4",children:"Edit Group Description"}),ht.jsx("textarea",{value:bt,onChange:e=>wt(e.target.value),className:"w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg \n                                     bg-white dark:bg-wa-dark-input text-[#111b21] dark:text-gray-100 \n                                     outline-none focus:border-wa-teal transition-colors resize-none",placeholder:"Add a group description",rows:4,autoFocus:!0,maxLength:200}),ht.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[bt.length,"/200"]}),ht.jsxs("div",{className:"flex gap-3 mt-6",children:[ht.jsx("button",{onClick:()=>{gt(!1),wt(Et.groupDescription||"")},className:"flex-1 py-2 text-wa-teal font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:async()=>{const e=bt.trim();if(e===(Et.groupDescription||""))return void gt(!1);(await te(L,{groupDescription:e})).success&&gt(!1)},className:"flex-1 py-2 bg-wa-teal text-white font-medium rounded-full shadow-sm \n                                         hover:shadow-md transition-all",children:"Save"})]})]})}),document.body)]})},eq=Object.freeze(Object.defineProperty({__proto__:null,default:ZV},Symbol.toStringTag,{value:"Module"})),tq=()=>{const e=i(),{chats:t,messages:r,toggleArchiveChat:s,users:o,securitySettings:l}=YI(),[c,u]=n.useState("following"),[d,f]=n.useState(null),[h,m]=n.useState(""),[p,g]=n.useState(""),[y,b]=n.useState(null),[w,x]=n.useState(""),[_,S]=n.useState(""),C=t.filter(e=>e.isArchived).filter(e=>{if("groups"===c)return e.isGroup;if(e.isGroup)return!1;const t=(parseInt(e.contactId.replace(/\D/g,""))||0)%2!=0;return"following"===c?t:!t}),N=()=>{const e=l.archiveLockPassword||"0000";h===e?(s(d),f(null),m("")):(g("Incorrect PIN"),m(""))},j=t=>{t.isLocked&&l.chatLockPassword&&""!==l.chatLockPassword?(b(t.id),x(""),S("")):e(`/chat/${t.id}`)},T=()=>{const t=l.chatLockPassword||"0000";w===t?(e(`/chat/${y}`),b(null),x("")):(S("Incorrect PIN"),x(""))},E=({id:e,label:t})=>ht.jsxs("button",{onClick:()=>u(e),className:"flex-1 py-3 text-sm font-medium uppercase transition-all relative "+(c===e?"text-wa-teal dark:text-wa-teal bg-white dark:bg-wa-dark-bg":"text-[#54656f] dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-white/5"),children:[t,c===e&&ht.jsx("span",{className:"absolute bottom-0 left-0 w-full h-[3px] bg-wa-teal rounded-t-full"})]});return ht.jsxs("div",{className:"flex flex-col h-full bg-white dark:bg-wa-dark-bg",children:[d&&a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl w-full max-w-xs p-6 flex flex-col items-center",children:[ht.jsx("div",{className:"w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mb-4 text-white",children:ht.jsx($e,{size:24})}),ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-2",children:"Archive Lock"}),ht.jsx("p",{className:"text-sm text-[#667781] dark:text-gray-400 mb-6 text-center",children:"Enter PIN to unarchive chat"}),ht.jsx("input",{type:"password",maxLength:4,value:h,onChange:e=>{m(e.target.value),g("")},onKeyDown:e=>"Enter"===e.key&&N(),className:"w-full text-center text-2xl tracking-[0.5em] font-medium py-2 border-b-2 border-purple-500 bg-transparent outline-none mb-2 text-[#111b21] dark:text-gray-100 placeholder-transparent",placeholder:"****",autoFocus:!0}),p&&ht.jsx("p",{className:"text-red-500 text-xs mb-4",children:p}),ht.jsxs("div",{className:"flex gap-3 w-full mt-4",children:[ht.jsx("button",{onClick:()=>f(null),className:"flex-1 py-2 text-purple-500 font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:N,className:"flex-1 py-2 bg-purple-500 text-white font-medium rounded-full shadow-sm hover:shadow-md transition-all",children:"Unlock"})]})]})}),document.body),y&&a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper rounded-lg shadow-xl w-full max-w-xs p-6 flex flex-col items-center",children:[ht.jsx("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mb-4 text-white",children:ht.jsx(v,{size:24})}),ht.jsx("h3",{className:"text-lg font-medium text-[#111b21] dark:text-gray-100 mb-2",children:"Locked Chat"}),ht.jsx("p",{className:"text-sm text-[#667781] dark:text-gray-400 mb-6 text-center",children:"Enter PIN to access locked chat"}),ht.jsx("input",{type:"password",maxLength:4,value:w,onChange:e=>{x(e.target.value),S("")},onKeyDown:e=>"Enter"===e.key&&T(),className:"w-full text-center text-2xl tracking-[0.5em] font-medium py-2 border-b-2 border-green-500 bg-transparent outline-none mb-2 text-[#111b21] dark:text-gray-100 placeholder-transparent",placeholder:"****",autoFocus:!0}),_&&ht.jsx("p",{className:"text-red-500 text-xs mb-4",children:_}),ht.jsxs("div",{className:"flex gap-3 w-full mt-4",children:[ht.jsx("button",{onClick:()=>b(null),className:"flex-1 py-2 text-green-500 font-medium hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:"Cancel"}),ht.jsx("button",{onClick:T,className:"flex-1 py-2 bg-green-500 text-white font-medium rounded-full shadow-sm hover:shadow-md transition-all",children:"Unlock"})]})]})}),document.body),ht.jsxs("div",{className:"h-[60px] bg-wa-teal dark:bg-wa-dark-header flex items-center gap-3 px-4 text-white shrink-0 shadow-sm md:bg-wa-grayBg md:border-b md:border-wa-border md:dark:border-wa-dark-border md:text-black md:dark:text-white transition-colors",children:[ht.jsx("button",{onClick:()=>e("/chats"),className:"p-1 -ml-2 rounded-full active:bg-black/10",children:ht.jsx(ne,{size:24})}),ht.jsx("h2",{className:"text-xl font-medium md:text-lg",children:"Archived"})]}),ht.jsxs("div",{className:"flex border-b border-wa-border dark:border-wa-dark-border bg-white dark:bg-wa-dark-bg shrink-0",children:[ht.jsx(E,{id:"following",label:"Following"}),ht.jsx(E,{id:"followers",label:"Followers"}),ht.jsx(E,{id:"groups",label:"Groups"})]}),ht.jsxs("div",{className:"flex-1 overflow-y-auto pb-4",children:[0===C.length?ht.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-[#667781] dark:text-gray-400 p-8 text-center",children:[ht.jsx("div",{className:"w-20 h-20 bg-wa-grayBg dark:bg-wa-dark-header rounded-full flex items-center justify-center mb-4",children:ht.jsx(k,{size:32,className:"opacity-40"})}),ht.jsxs("p",{className:"text-sm",children:["No archived chats in ",c]})]}):C.map(e=>{const t=o[e.contactId],n=r[e.id]||[],i=n.length>0?n[n.length-1]:null;return ht.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 hover:bg-wa-grayBg dark:hover:bg-wa-dark-hover cursor-pointer active:bg-[#e9edef] dark:active:bg-wa-dark-paper transition-colors group relative",children:[ht.jsxs("div",{className:"relative shrink-0",onClick:()=>j(e),children:[e.isGroup?ht.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 dark:bg-gray-700 flex items-center justify-center grayscale opacity-80",children:ht.jsx(se,{size:24,className:"text-gray-500 dark:text-gray-400"})}):ht.jsx("img",{src:(null==t?void 0:t.avatar)||"https://picsum.photos/300",alt:(null==t?void 0:t.name)||e.groupName,className:"w-12 h-12 rounded-full object-cover grayscale opacity-80"}),e.isLocked&&ht.jsx("div",{className:"absolute top-0 right-0 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center border border-white dark:border-wa-dark-bg",children:ht.jsx(v,{size:10,className:"text-white"})})]}),ht.jsxs("div",{className:"flex-1 border-b border-wa-border dark:border-wa-dark-border pb-3 -mb-3 min-w-0",onClick:()=>j(e),children:[ht.jsxs("div",{className:"flex justify-between items-center mb-0.5",children:[ht.jsx("h3",{className:"text-[17px] text-[#111b21] dark:text-gray-100 font-normal truncate",children:e.isGroup?e.groupName:null==t?void 0:t.name}),ht.jsx("span",{className:"text-[12px] text-[#667781] dark:text-gray-400",children:yP(e.timestamp)})]}),ht.jsx("div",{className:"text-[14px] text-[#667781] dark:text-gray-400 truncate",children:i?i.text:"No messages"})]}),ht.jsx("button",{onClick:t=>{var n;t.stopPropagation(),n=e.id,l.archiveLockPassword&&""!==l.archiveLockPassword?(f(n),m(""),g("")):s(n)},className:"absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-white dark:bg-wa-dark-paper shadow-md rounded-full text-purple-500 md:opacity-0 md:group-hover:opacity-100 transition-opacity flex",title:"Unarchive",children:ht.jsx($e,{size:18})})]},e.id)}),ht.jsx("div",{className:"px-8 py-6 text-center text-xs text-[#667781] dark:text-gray-500",children:"Archived chats will remain archived when you receive a new message if you change your settings."})]})]})},nq=Object.freeze(Object.defineProperty({__proto__:null,default:tq},Symbol.toStringTag,{value:"Module"})),iq=({targetUserId:e,className:t="",isPrivate:i=!1})=>{const{isFollowing:r,followedUsers:s,outgoingRequests:a,currentUser:o,followUser:l,unfollowUser:c}=YI(),[u,d]=n.useState(!1),f=r(e),h=a.includes(e);if((null==o?void 0:o.id)===e)return null;const m=async t=>{if(t.stopPropagation(),!u){d(!0);try{f?confirm("Are you sure you want to unfollow this user?")&&await c(e):h?await c(e):await l(e)}catch(n){}finally{d(!1)}}};return f?ht.jsx("button",{onClick:m,disabled:u,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all\n                    bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 \n                    hover:bg-red-50 hover:text-red-600 dark:hover:bg-red-900/20 dark:hover:text-red-400\n                    ${t}`,children:u?ht.jsx("span",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):ht.jsxs(ht.Fragment,{children:[ht.jsx(We,{size:18}),ht.jsx("span",{children:"Following"})]})}):h?ht.jsx("button",{onClick:m,disabled:u,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all\n                    bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 \n                    hover:bg-gray-200 dark:hover:bg-gray-600\n                    ${t}`,children:u?ht.jsx("span",{className:"w-5 h-5 border-2 border-current border-t-transparent rounded-full animate-spin"}):ht.jsxs(ht.Fragment,{children:[ht.jsx(ye,{size:18}),ht.jsx("span",{children:"Requested"})]})}):ht.jsx("button",{onClick:m,disabled:u,className:`flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-all\n                bg-blue-500 text-white hover:bg-blue-600 active:scale-95 shadow-sm\n                ${t}`,children:u?ht.jsx("span",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):ht.jsxs(ht.Fragment,{children:[ht.jsx(Ve,{size:18}),ht.jsx("span",{children:"Follow"})]})})},rq=()=>{const{userId:e}=s(),t=i(),{users:r,currentUserId:a,followUser:o,unfollowUser:l,isFollowing:c,followersCount:u,followingCount:d}=YI(),[f,h]=n.useState(null),[m,p]=n.useState({followersCount:0,followingCount:0}),[g,y]=n.useState(0),[b,w]=n.useState(!0),k=e===a;n.useEffect(()=>{(async()=>{w(!0);const t=r[e];t&&h(t);try{const t=await FI.getFollowStats(e);if(t.success&&p(t.stats),!k&&a){const{success:t,following:n}=await FI.getFollowing(e);if(t&&n){const e=n.map(e=>e.followingId),t=await FI.getFollowing(a);if(t.success){const n=t.following.map(e=>e.followingId).filter(t=>e.includes(t));y(n.length)}}}}catch(n){}w(!1)})()},[e,r,a,k]);const x=k||!(null==f?void 0:f.isPrivate)||c(e);return b?ht.jsx("div",{className:"flex items-center justify-center h-screen bg-white dark:bg-wa-dark",children:ht.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading profile..."})}):f?ht.jsxs("div",{className:"min-h-screen bg-white dark:bg-wa-dark",children:[ht.jsx("div",{className:"sticky top-0 bg-white dark:bg-wa-dark-bg border-b border-gray-200 dark:border-gray-700 z-10",children:ht.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[ht.jsx("button",{onClick:()=>t(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:ht.jsx(ne,{size:24,className:"text-gray-700 dark:text-gray-200"})}),ht.jsx("div",{children:ht.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Profile"})})]})}),ht.jsxs("div",{className:"max-w-2xl mx-auto",children:[ht.jsx("div",{className:"relative h-32 bg-gradient-to-r from-blue-500 to-purple-500"}),ht.jsxs("div",{className:"px-6 -mt-16 pb-6",children:[ht.jsxs("div",{className:"flex flex-col items-center text-center mb-6",children:[ht.jsx("div",{className:"relative mb-4",children:ht.jsx("img",{src:f.avatar,alt:f.name,className:"w-32 h-32 rounded-full border-4 border-white dark:border-gray-800 object-cover shadow-lg"})}),ht.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100 mb-1",children:f.name}),ht.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 max-w-md",children:f.about||"Hey there! I am using WhatsApp."}),x&&ht.jsxs("div",{className:"flex gap-8 mb-6",children:[ht.jsxs("div",{className:"text-center",children:[ht.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:k?u:m.followersCount}),ht.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Followers"})]}),ht.jsxs("div",{className:"text-center",children:[ht.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:k?d:m.followingCount}),ht.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Following"})]})]}),!k&&g>0&&ht.jsxs("div",{className:"flex items-center gap-2 text-blue-600 dark:text-blue-400 mb-4",children:[ht.jsx(se,{size:18}),ht.jsxs("span",{className:"text-sm font-medium",children:[g," mutual connection",g>1?"s":""]})]}),!k&&ht.jsxs("div",{className:"flex gap-3 w-full max-w-sm",children:[ht.jsx(iq,{targetUserId:e,className:"flex-1",isPrivate:(null==f?void 0:f.isPrivate)||!1}),c(e)&&ht.jsxs("button",{onClick:async()=>{const n=(await SI(async()=>{const{default:e}=await Promise.resolve().then(()=>DI);return{default:e}},void 0)).default;try{const i=await n.createDirectChat(a,e);if(i.success)if(i.isNew&&i.chat){const{chats:n}=YI(),r={...i.chat,contactId:e,contactName:(null==f?void 0:f.name)||"User",contactAvatar:null==f?void 0:f.avatar,unreadCount:0};t(`/chat/${i.chatId}`,{state:{newChat:r}})}else t(`/chat/${i.chatId}`)}catch(i){alert("Unable to create chat. Please try again.")}},className:"flex-1 py-3 rounded-lg font-medium bg-green-500 text-white hover:bg-green-600 active:scale-95 transition-all flex items-center justify-center gap-2",children:[ht.jsx(Q,{size:18}),"Message"]})]})]}),!x&&ht.jsxs("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center bg-gray-50 dark:bg-gray-800/50 rounded-xl mt-6 mx-6 border border-gray-100 dark:border-gray-800",children:[ht.jsx("div",{className:"p-3 bg-gray-100 dark:bg-gray-700 rounded-full mb-3",children:ht.jsx(v,{className:"w-6 h-6 text-gray-400 dark:text-gray-500"})}),ht.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"This account is private"}),ht.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm max-w-xs",children:"Follow this account to see their photos and updates."})]}),x&&ht.jsxs("div",{className:"mt-8 border-t border-gray-200 dark:border-gray-700 pt-6 px-6",children:[ht.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Information"}),ht.jsxs("div",{className:"space-y-3",children:[f.phone&&ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("span",{className:"text-gray-500 dark:text-gray-400 w-24",children:"Phone"}),ht.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:f.phone})]}),f.email&&ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("span",{className:"text-gray-500 dark:text-gray-400 w-24",children:"Email"}),ht.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:f.email})]})]})]}),k&&ht.jsx("div",{className:"px-6 mt-6",children:ht.jsxs("button",{onClick:()=>t("/follow-requests"),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-xl hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:[ht.jsxs("div",{className:"flex items-center gap-3",children:[ht.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-full text-blue-600 dark:text-blue-400",children:ht.jsx(se,{size:20})}),ht.jsxs("div",{className:"text-left",children:[ht.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:"Follow Requests"}),ht.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Manage incoming requests"})]})]}),ht.jsx(I,{size:20,className:"text-gray-400"})]})})]})]})]}):ht.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-white dark:bg-wa-dark",children:[ht.jsx("div",{className:"text-gray-500 dark:text-gray-400 mb-4",children:"User not found"}),ht.jsx("button",{onClick:()=>t(-1),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"Go Back"})]})},sq=Object.freeze(Object.defineProperty({__proto__:null,default:rq},Symbol.toStringTag,{value:"Module"})),aq=()=>{const{markUserOnline:e,markUserOffline:t,currentUserId:i}=YI();n.useEffect(()=>{if(!i)return;e(i);const n=()=>{document.hidden?t(i):e(i)},r=()=>{t(i)};return document.addEventListener("visibilitychange",n),window.addEventListener("beforeunload",r),()=>{t(i),document.removeEventListener("visibilitychange",n),window.removeEventListener("beforeunload",r)}},[i,e,t])},oq=({icon:e,title:t,desc:n,onClick:i,color:r})=>ht.jsxs("button",{onClick:i,className:"flex flex-col items-center justify-center p-4 rounded-xl bg-gray-50 dark:bg-wa-dark-header border border-gray-100 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-wa-dark-hover transition-all active:scale-95 group",children:[ht.jsx("div",{className:`w-12 h-12 rounded-full ${r} flex items-center justify-center text-white mb-3 shadow-sm group-hover:scale-110 transition-transform`,children:e}),ht.jsx("h3",{className:"text-[#111b21] dark:text-gray-100 font-medium mb-1",children:t}),ht.jsx("p",{className:"text-xs text-[#667781] dark:text-gray-400 text-center",children:n})]}),lq=({isOpen:e,isGroup:t,onClose:n,onSelectGame:i})=>e?a.createPortal(ht.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black/60 backdrop-blur-sm animate-in fade-in duration-200",children:ht.jsxs("div",{className:"bg-white dark:bg-wa-dark-paper w-full md:w-[450px] md:rounded-2xl rounded-t-2xl p-6 shadow-2xl animate-in slide-in-from-bottom-10 duration-300",children:[ht.jsxs("div",{className:"flex justify-between items-center mb-6",children:[ht.jsx("h2",{className:"text-xl font-medium text-[#111b21] dark:text-gray-100",children:"Start a Game"}),ht.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 dark:hover:bg-wa-dark-hover rounded-full transition-colors",children:ht.jsx(P,{size:24,className:"text-[#54656f] dark:text-gray-400"})})]}),ht.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[!t&&ht.jsx(oq,{icon:ht.jsx(He,{size:24}),title:"Chess",desc:"Play standard chess",color:"bg-purple-500",onClick:()=>i("chess")}),ht.jsx(oq,{icon:ht.jsx(Ge,{size:24}),title:"Ludo",desc:"Classic board game",color:"bg-red-500",onClick:()=>i("ludo")}),ht.jsx(oq,{icon:ht.jsx(F,{size:24}),title:"Snake & Ladders",desc:"Board game with snakes",color:"bg-green-500",onClick:()=>i("snake")}),ht.jsx(oq,{icon:ht.jsx("span",{className:"text-xl font-bold",children:"#"}),title:"Tic-Tac-Toe",desc:"Classic 3x3 game",color:"bg-blue-600",onClick:()=>i("tictactoe")})]}),ht.jsxs("p",{className:"text-center text-xs text-[#667781] dark:text-gray-500",children:["Games are played in real-time. ",t?"Group members can watch or join.":"Your opponent will be invited instantly."]})]})}),document.body):null,cq=n.createContext({});function uq(e){const t=n.useRef(null);return null===t.current&&(t.current=e()),t.current}const dq="undefined"!=typeof window,fq=dq?n.useLayoutEffect:n.useEffect,hq=n.createContext(null);function mq(e,t){-1===e.indexOf(t)&&e.push(t)}function pq(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const gq=(e,t,n)=>n>t?t:n<e?e:n;const vq={},yq=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function bq(e){return"object"==typeof e&&null!==e}const wq=e=>/^0[^.\s]+$/u.test(e);function kq(e){let t;return()=>(void 0===t&&(t=e()),t)}const xq=e=>e,_q=(e,t)=>n=>t(e(n)),Sq=(...e)=>e.reduce(_q),Cq=(e,t,n)=>{const i=t-e;return 0===i?1:(n-e)/i};class Nq{constructor(){this.subscriptions=[]}add(e){return mq(this.subscriptions,e),()=>pq(this.subscriptions,e)}notify(e,t,n){const i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){const i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jq=e=>1e3*e,Tq=e=>e/1e3;function Eq(e,t){return t?e*(1e3/t):0}const Iq=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function Pq(e,t,n,i){if(e===t&&n===i)return xq;const r=t=>function(e,t,n,i,r){let s,a,o=0;do{a=t+(n-t)/2,s=Iq(a,i,r)-e,s>0?n=a:t=a}while(Math.abs(s)>1e-7&&++o<12);return a}(t,0,1,e,n);return e=>0===e||1===e?e:Iq(r(e),t,i)}const Aq=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Mq=e=>t=>1-e(1-t),Rq=Pq(.33,1.53,.69,.99),Dq=Mq(Rq),Lq=Aq(Dq),Oq=e=>(e*=2)<1?.5*Dq(e):.5*(2-Math.pow(2,-10*(e-1))),Fq=e=>1-Math.sin(Math.acos(e)),zq=Mq(Fq),Uq=Aq(Fq),Bq=Pq(.42,0,1,1),Vq=Pq(0,0,.58,1),qq=Pq(.42,0,.58,1),$q=e=>Array.isArray(e)&&"number"==typeof e[0],Wq={linear:xq,easeIn:Bq,easeInOut:qq,easeOut:Vq,circIn:Fq,circInOut:Uq,circOut:zq,backIn:Dq,backInOut:Lq,backOut:Rq,anticipate:Oq},Hq=e=>{if($q(e)){e.length;const[t,n,i,r]=e;return Pq(t,n,i,r)}return"string"==typeof e?Wq[e]:e},Gq=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Kq(e,t){let n=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=Gq.reduce((e,t)=>(e[t]=function(e){let t=new Set,n=new Set,i=!1,r=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(t){s.has(t)&&(l.schedule(t),e()),t(a)}const l={schedule:(e,r=!1,a=!1)=>{const o=a&&i?t:n;return r&&s.add(e),o.has(e)||o.add(e),e},cancel:e=>{n.delete(e),s.delete(e)},process:e=>{a=e,i?r=!0:(i=!0,[t,n]=[n,t],t.forEach(o),t.clear(),i=!1,r&&(r=!1,l.process(e)))}};return l}(s),e),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:h,postRender:m}=a,p=()=>{const s=vq.useManualTiming?r.timestamp:performance.now();n=!1,vq.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(s-r.timestamp,40),1)),r.timestamp=s,r.isProcessing=!0,o.process(r),l.process(r),c.process(r),u.process(r),d.process(r),f.process(r),h.process(r),m.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(p))};return{schedule:Gq.reduce((t,s)=>{const o=a[s];return t[s]=(t,s=!1,a=!1)=>(n||(n=!0,i=!0,r.isProcessing||e(p)),o.schedule(t,s,a)),t},{}),cancel:e=>{for(let t=0;t<Gq.length;t++)a[Gq[t]].cancel(e)},state:r,steps:a}}const{schedule:Yq,cancel:Qq,state:Xq,steps:Jq}=Kq("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:xq,!0);let Zq;function e$(){Zq=void 0}const t$={now:()=>(void 0===Zq&&t$.set(Xq.isProcessing||vq.useManualTiming?Xq.timestamp:performance.now()),Zq),set:e=>{Zq=e,queueMicrotask(e$)}},n$=e=>t=>"string"==typeof t&&t.startsWith(e),i$=n$("--"),r$=n$("var(--"),s$=e=>!!r$(e)&&a$.test(e.split("/*")[0].trim()),a$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,o$={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},l$={...o$,transform:e=>gq(0,1,e)},c$={...o$,default:1},u$=e=>Math.round(1e5*e)/1e5,d$=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;const f$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,h$=(e,t)=>n=>Boolean("string"==typeof n&&f$.test(n)&&n.startsWith(e)||t&&!function(e){return null==e}(n)&&Object.prototype.hasOwnProperty.call(n,t)),m$=(e,t,n)=>i=>{if("string"!=typeof i)return i;const[r,s,a,o]=i.match(d$);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},p$={...o$,transform:e=>Math.round((e=>gq(0,255,e))(e))},g$={test:h$("rgb","red"),parse:m$("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:i=1})=>"rgba("+p$.transform(e)+", "+p$.transform(t)+", "+p$.transform(n)+", "+u$(l$.transform(i))+")"};const v$={test:h$("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:g$.transform},y$=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),b$=y$("deg"),w$=y$("%"),k$=y$("px"),x$=y$("vh"),_$=y$("vw"),S$=(()=>({...w$,parse:e=>w$.parse(e)/100,transform:e=>w$.transform(100*e)}))(),C$={test:h$("hsl","hue"),parse:m$("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:i=1})=>"hsla("+Math.round(e)+", "+w$.transform(u$(t))+", "+w$.transform(u$(n))+", "+u$(l$.transform(i))+")"},N$={test:e=>g$.test(e)||v$.test(e)||C$.test(e),parse:e=>g$.test(e)?g$.parse(e):C$.test(e)?C$.parse(e):v$.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?g$.transform(e):C$.transform(e),getAnimatableNone:e=>{const t=N$.parse(e);return t.alpha=0,N$.transform(t)}},j$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;const T$="number",E$="color",I$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function P$(e){const t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[];let s=0;const a=t.replace(I$,e=>(N$.test(e)?(i.color.push(s),r.push(E$),n.push(N$.parse(e))):e.startsWith("var(")?(i.var.push(s),r.push("var"),n.push(e)):(i.number.push(s),r.push(T$),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:a,indexes:i,types:r}}function A$(e){return P$(e).values}function M$(e){const{split:t,types:n}=P$(e),i=t.length;return e=>{let r="";for(let s=0;s<i;s++)if(r+=t[s],void 0!==e[s]){const t=n[s];r+=t===T$?u$(e[s]):t===E$?N$.transform(e[s]):e[s]}return r}}const R$=e=>"number"==typeof e?0:N$.test(e)?N$.getAnimatableNone(e):e;const D$={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match(d$))?void 0:t.length)||0)+((null==(n=e.match(j$))?void 0:n.length)||0)>0},parse:A$,createTransformer:M$,getAnimatableNone:function(e){const t=A$(e);return M$(e)(t.map(R$))}};function L$(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function O$(e,t){return n=>n>0?t:e}const F$=(e,t,n)=>e+(t-e)*n,z$=(e,t,n)=>{const i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},U$=[v$,g$,C$];function B$(e){const t=(n=e,U$.find(e=>e.test(n)));var n;if(!Boolean(t))return!1;let i=t.parse(e);return t===C$&&(i=function({hue:e,saturation:t,lightness:n,alpha:i}){e/=360,n/=100;let r=0,s=0,a=0;if(t/=100){const i=n<.5?n*(1+t):n+t-n*t,o=2*n-i;r=L$(o,i,e+1/3),s=L$(o,i,e),a=L$(o,i,e-1/3)}else r=s=a=n;return{red:Math.round(255*r),green:Math.round(255*s),blue:Math.round(255*a),alpha:i}}(i)),i}const V$=(e,t)=>{const n=B$(e),i=B$(t);if(!n||!i)return O$(e,t);const r={...n};return e=>(r.red=z$(n.red,i.red,e),r.green=z$(n.green,i.green,e),r.blue=z$(n.blue,i.blue,e),r.alpha=F$(n.alpha,i.alpha,e),g$.transform(r))},q$=new Set(["none","hidden"]);function $$(e,t){return n=>F$(e,t,n)}function W$(e){return"number"==typeof e?$$:"string"==typeof e?s$(e)?O$:N$.test(e)?V$:K$:Array.isArray(e)?H$:"object"==typeof e?N$.test(e)?V$:G$:O$}function H$(e,t){const n=[...e],i=n.length,r=e.map((e,n)=>W$(e)(e,t[n]));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function G$(e,t){const n={...e,...t},i={};for(const r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=W$(e[r])(e[r],t[r]));return e=>{for(const t in i)n[t]=i[t](e);return n}}const K$=(e,t)=>{const n=D$.createTransformer(t),i=P$(e),r=P$(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?q$.has(e)&&!r.values.length||q$.has(t)&&!i.values.length?function(e,t){return q$.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):Sq(H$(function(e,t){const n=[],i={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const s=t.types[r],a=e.indexes[s][i[s]],o=e.values[a]??0;n[r]=o,i[s]++}return n}(i,r),r.values),n):O$(e,t)};function Y$(e,t,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof n)return F$(e,t,n);return W$(e)(e,t)}const Q$=e=>{const t=({timestamp:t})=>e(t);return{start:(e=!0)=>Yq.update(t,e),stop:()=>Qq(t),now:()=>Xq.isProcessing?Xq.timestamp:t$.now()}},X$=(e,t,n=10)=>{let i="";const r=Math.max(Math.round(t/n),2);for(let s=0;s<r;s++)i+=Math.round(1e4*e(s/(r-1)))/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},J$=2e4;function Z$(e){let t=0;let n=e.next(t);for(;!n.done&&t<J$;)t+=50,n=e.next(t);return t>=J$?1/0:t}function eW(e,t,n){const i=Math.max(t-5,0);return Eq(n-e(i),t-i)}const tW=100,nW=10,iW=1,rW=0,sW=800,aW=.3,oW=.3,lW={granular:.01,default:2},cW={granular:.005,default:.5},uW=.01,dW=10,fW=.05,hW=1,mW=.001;function pW({duration:e=sW,bounce:t=aW,velocity:n=rW,mass:i=iW}){let r,s,a=1-t;a=gq(fW,hW,a),e=gq(uW,dW,Tq(e)),a<1?(r=t=>{const i=t*a,r=i*e,s=i-n,o=vW(t,a),l=Math.exp(-r);return mW-s/o*l},s=t=>{const i=t*a*e,s=i*n+n,o=Math.pow(a,2)*Math.pow(t,2)*e,l=Math.exp(-i),c=vW(Math.pow(t,2),a);return(-r(t)+mW>0?-1:1)*((s-o)*l)/c}):(r=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,s=t=>Math.exp(-t*e)*(e*e*(n-t)));const o=function(e,t,n){let i=n;for(let r=1;r<gW;r++)i-=e(i)/t(i);return i}(r,s,5/e);if(e=jq(e),isNaN(o))return{stiffness:tW,damping:nW,duration:e};{const t=Math.pow(o,2)*i;return{stiffness:t,damping:2*a*Math.sqrt(i*t),duration:e}}}const gW=12;function vW(e,t){return e*Math.sqrt(1-t*t)}const yW=["duration","bounce"],bW=["stiffness","damping","mass"];function wW(e,t){return t.some(t=>void 0!==e[t])}function kW(e=oW,t=aW){const n="object"!=typeof e?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:i,restDelta:r}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=function(e){let t={velocity:rW,stiffness:tW,damping:nW,mass:iW,isResolvedFromDuration:!1,...e};if(!wW(e,bW)&&wW(e,yW))if(e.visualDuration){const n=e.visualDuration,i=2*Math.PI/(1.2*n),r=i*i,s=2*gq(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:iW,stiffness:r,damping:s}}else{const n=pW(e);t={...t,...n,mass:iW},t.isResolvedFromDuration=!0}return t}({...n,velocity:-Tq(n.velocity||0)}),m=f||0,p=c/(2*Math.sqrt(l*u)),g=a-s,v=Tq(Math.sqrt(l/u)),y=Math.abs(g)<5;let b;if(i||(i=y?lW.granular:lW.default),r||(r=y?cW.granular:cW.default),p<1){const e=vW(v,p);b=t=>{const n=Math.exp(-p*v*t);return a-n*((m+p*v*g)/e*Math.sin(e*t)+g*Math.cos(e*t))}}else if(1===p)b=e=>a-Math.exp(-v*e)*(g+(m+v*g)*e);else{const e=v*Math.sqrt(p*p-1);b=t=>{const n=Math.exp(-p*v*t),i=Math.min(e*t,300);return a-n*((m+p*v*g)*Math.sinh(i)+e*g*Math.cosh(i))/e}}const w={calculatedDuration:h&&d||null,next:e=>{const t=b(e);if(h)o.done=e>=d;else{let n=0===e?m:0;p<1&&(n=0===e?jq(m):eW(b,e,t));const s=Math.abs(n)<=i,l=Math.abs(a-t)<=r;o.done=s&&l}return o.value=o.done?a:t,o},toString:()=>{const e=Math.min(Z$(w),J$),t=X$(t=>w.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return w}function xW({keyframes:e,velocity:t=0,power:n=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=e[0],f={done:!1,value:d},h=e=>void 0===o?l:void 0===l||Math.abs(o-e)<Math.abs(l-e)?o:l;let m=n*t;const p=d+m,g=void 0===a?p:a(p);g!==p&&(m=g-d);const v=e=>-m*Math.exp(-e/i),y=e=>g+v(e),b=e=>{const t=v(e),n=y(e);f.done=Math.abs(t)<=c,f.value=f.done?g:n};let w,k;const x=e=>{var t;(t=f.value,void 0!==o&&t<o||void 0!==l&&t>l)&&(w=e,k=kW({keyframes:[f.value,h(f.value)],velocity:eW(y,e,f.value),damping:r,stiffness:s,restDelta:c,restSpeed:u}))};return x(0),{calculatedDuration:null,next:e=>{let t=!1;return k||void 0!==w||(t=!0,b(e),x(e)),void 0!==w&&e>=w?k.next(e-w):(!t&&b(e),f)}}}function _W(e,t,{clamp:n=!0,ease:i,mixer:r}={}){const s=e.length;if(t.length,1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=function(e,t,n){const i=[],r=n||vq.mix||Y$,s=e.length-1;for(let a=0;a<s;a++){let n=r(e[a],e[a+1]);if(t){const e=Array.isArray(t)?t[a]||xq:t;n=Sq(e,n)}i.push(n)}return i}(t,i,r),l=o.length,c=n=>{if(a&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);const r=Cq(e[i],e[i+1],n);return o[i](r)};return n?t=>c(gq(e[0],e[s-1],t)):c}function SW(e){const t=[0];return function(e,t){const n=e[e.length-1];for(let i=1;i<=t;i++){const r=Cq(0,t,i);e.push(F$(n,1,r))}}(t,e.length-1),t}function CW({duration:e=300,keyframes:t,times:n,ease:i="easeInOut"}){const r=(e=>Array.isArray(e)&&"number"!=typeof e[0])(i)?i.map(Hq):Hq(i),s={done:!1,value:t[0]},a=function(e,t){return e.map(e=>e*t)}(n&&n.length===t.length?n:SW(t),e),o=_W(a,t,{ease:Array.isArray(r)?r:(l=t,c=r,l.map(()=>c||qq).splice(0,l.length-1))});var l,c;return{calculatedDuration:e,next:t=>(s.value=o(t),s.done=t>=e,s)}}kW.applyToOptions=e=>{const t=function(e,t=100,n){const i=n({...e,keyframes:[0,t]}),r=Math.min(Z$(i),J$);return{type:"keyframes",ease:e=>i.next(r*e).value/t,duration:Tq(r)}}(e,100,kW);return e.ease=t.ease,e.duration=jq(t.duration),e.type="keyframes",e};const NW=e=>null!==e;function jW(e,{repeat:t,repeatType:n="loop"},i,r=1){const s=e.filter(NW),a=r<0||t&&"loop"!==n&&t%2==1?0:s.length-1;return a&&void 0!==i?i:s[a]}const TW={decay:xW,inertia:xW,tween:CW,keyframes:CW,spring:kW};function EW(e){"string"==typeof e.type&&(e.type=TW[e.type])}class IW{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const PW=e=>e/100;class AW extends IW{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;const{motionValue:n}=this.options;n&&n.updatedAt!==t$.now()&&this.tick(t$.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(t=(e=this.options).onStop)||t.call(e))},this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}initAnimation(){const{options:e}=this;EW(e);const{type:t=CW,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:s=0}=e;let{keyframes:a}=e;const o=t||CW;o!==CW&&"number"!=typeof a[0]&&(this.mixKeyframes=Sq(PW,Y$(a[0],a[1])),a=[0,100]);const l=o({...e,keyframes:a});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-s})),null===l.calculatedDuration&&(l.calculatedDuration=Z$(l));const{calculatedDuration:c}=l;this.calculatedDuration=c,this.resolvedDuration=c+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);const{delay:l=0,keyframes:c,repeat:u,repeatType:d,repeatDelay:f,type:h,onUpdate:m,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let y=this.currentTime,b=n;if(u){const e=Math.min(this.currentTime,i)/a;let t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,t=Math.min(t,u+1);Boolean(t%2)&&("reverse"===d?(n=1-n,f&&(n-=f/a)):"mirror"===d&&(b=s)),y=gq(0,1,n)*a}const w=v?{done:!1,value:c[0]}:b.next(y);r&&(w.value=r(w.value));let{done:k}=w;v||null===o||(k=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const x=null===this.holdTime&&("finished"===this.state||"running"===this.state&&k);return x&&h!==xW&&(w.value=jW(c,this.options,p,this.speed)),m&&m(w.value),x&&this.finish(),w}then(e,t){return this.finished.then(e,t)}get duration(){return Tq(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tq(e)}get time(){return Tq(this.currentTime)}set time(e){var t;e=jq(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null==(t=this.driver)||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(t$.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Tq(this.currentTime))}play(){var e,t;if(this.isStopped)return;const{driver:n=Q$,startTime:i}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null==(t=(e=this.options).onPlay)||t.call(e);const r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=i??r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(t$.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null==(t=(e=this.options).onComplete)||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(t=(e=this.options).onCancel)||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(t=this.driver)||t.stop(),e.observe(this)}}const MW=e=>180*e/Math.PI,RW=e=>{const t=MW(Math.atan2(e[1],e[0]));return LW(t)},DW={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:RW,rotateZ:RW,skewX:e=>MW(Math.atan(e[1])),skewY:e=>MW(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},LW=e=>((e%=360)<0&&(e+=360),e),OW=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),FW=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),zW={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:OW,scaleY:FW,scale:e=>(OW(e)+FW(e))/2,rotateX:e=>LW(MW(Math.atan2(e[6],e[5]))),rotateY:e=>LW(MW(Math.atan2(-e[2],e[0]))),rotateZ:RW,rotate:RW,skewX:e=>MW(Math.atan(e[4])),skewY:e=>MW(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function UW(e){return e.includes("scale")?1:0}function BW(e,t){if(!e||"none"===e)return UW(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(n)i=zW,r=n;else{const t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=DW,r=t}if(!r)return UW(t);const s=i[t],a=r[1].split(",").map(VW);return"function"==typeof s?s(a):a[s]}function VW(e){return parseFloat(e.trim())}const qW=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],$W=(()=>new Set(qW))(),WW=e=>e===o$||e===k$,HW=new Set(["x","y","z"]),GW=qW.filter(e=>!HW.has(e));const KW={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>BW(t,"x"),y:(e,{transform:t})=>BW(t,"y")};KW.translateX=KW.x,KW.translateY=KW.y;const YW=new Set;let QW=!1,XW=!1,JW=!1;function ZW(){if(XW){const e=Array.from(YW).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{const t=function(e){const t=[];return GW.forEach(n=>{const i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();const t=n.get(e);t&&t.forEach(([t,n])=>{var i;null==(i=e.getValue(t))||i.set(n)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}XW=!1,QW=!1,YW.forEach(e=>e.complete(JW)),YW.clear()}function eH(){YW.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(XW=!0)})}class tH{constructor(e,t,n,i,r,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=s}scheduleResolve(){this.state="scheduled",this.isAsync?(YW.add(this),QW||(QW=!0,Yq.read(eH),Yq.resolveKeyframes(ZW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(null===e[0]){const r=null==i?void 0:i.get(),s=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){const i=n.readValue(t,s);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=s),i&&void 0===r&&i.set(e[0])}!function(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),YW.delete(this)}cancel(){"scheduled"===this.state&&(YW.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}}const nH=kq(()=>void 0!==window.ScrollTimeline),iH={};function rH(e,t){const n=kq(e);return()=>iH[t]??n()}const sH=rH(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(cZ){return!1}return!0},"linearEasing"),aH=([e,t,n,i])=>`cubic-bezier(${e}, ${t}, ${n}, ${i})`,oH={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:aH([0,.65,.55,1]),circOut:aH([.55,0,1,.45]),backIn:aH([.31,.01,.66,-.59]),backOut:aH([.33,1.53,.69,.99])};function lH(e,t){return e?"function"==typeof e?sH()?X$(e,t):"ease-out":$q(e)?aH(e):Array.isArray(e)?e.map(e=>lH(e,t)||oH.easeOut):oH[e]:void 0}function cH(e,t,n,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[t]:n};l&&(u.offset=l);const d=lH(o,r);Array.isArray(d)&&(u.easing=d);const f={delay:i,duration:r,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"};c&&(f.pseudoElement=c);return e.animate(u,f)}function uH(e){return"function"==typeof e&&"applyToOptions"in e}class dH extends IW{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:s=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=Boolean(r),this.allowFlatten=s,this.options=e,e.type;const l=function({type:e,...t}){return uH(e)&&sH()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}(e);this.animation=cH(t,n,i,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){const e=jW(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){(e=>e.startsWith("--"))(t)?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null==o||o(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null==(t=(e=this.animation).finish)||t.call(e)}cancel(){try{this.animation.cancel()}catch(cZ){}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||null==(t=(e=this.animation).commitStyles)||t.call(e)}get duration(){var e,t;const n=(null==(t=null==(e=this.animation.effect)?void 0:e.getComputedTiming)?void 0:t.call(e).duration)||0;return Tq(Number(n))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Tq(e)}get time(){return Tq(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=jq(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var n;return this.allowFlatten&&(null==(n=this.animation.effect)||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&nH()?(this.animation.timeline=e,xq):t(this)}}const fH={anticipate:Oq,backInOut:Lq,circInOut:Uq};function hH(e){"string"==typeof e.ease&&e.ease in fH&&(e.ease=fH[e.ease])}class mH extends dH{constructor(e){hH(e),EW(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:n,onComplete:i,element:r,...s}=this.options;if(!t)return;if(void 0!==e)return void t.set(e);const a=new AW({...s,autoplay:!1}),o=jq(this.finishedTime??this.time);t.setWithVelocity(a.sample(o-10).value,a.sample(o).value,10),a.stop()}}const pH=(e,t)=>"zIndex"!==t&&(!("number"!=typeof e&&!Array.isArray(e))||!("string"!=typeof e||!D$.test(e)&&"0"!==e||e.startsWith("url(")));function gH(e){e.duration=0,e.type="keyframes"}const vH=new Set(["opacity","clipPath","filter","transform"]),yH=kq(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class bH extends IW{constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s="loop",keyframes:a,name:o,motionValue:l,element:c,...u}){var d;super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null==(e=this.stopTimeline)||e.call(this)),null==(t=this.keyframeResolver)||t.cancel()},this.createdAt=t$.now();const f={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:r,repeatType:s,name:o,motionValue:l,element:c,...u},h=(null==c?void 0:c.KeyframeResolver)||tH;this.keyframeResolver=new h(a,(e,t,n)=>this.onKeyframesResolved(e,t,f,!n),o,l,c),null==(d=this.keyframeResolver)||d.scheduleResolve()}onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;const{name:r,type:s,velocity:a,delay:o,isHandoff:l,onUpdate:c}=n;this.resolvedAt=t$.now(),function(e,t,n,i){const r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;const s=e[e.length-1],a=pH(r,t),o=pH(s,t);return!(!a||!o)&&(function(e){const t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||uH(n))&&i)}(e,r,s,a)||(!vq.instantAnimations&&o||null==c||c(jW(e,n,t)),e[0]=e[e.length-1],gH(n),n.repeat=0);const u={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},d=!l&&function(e){var t;const{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:a,type:o}=e;if(!((null==(t=null==n?void 0:n.owner)?void 0:t.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return yH()&&i&&vH.has(i)&&("transform"!==i||!c)&&!l&&!r&&"mirror"!==s&&0!==a&&"inertia"!==o}(u)?new mH({...u,element:u.motionValue.owner.current}):new AW(u);d.finished.then(()=>this.notifyFinished()).catch(xq),this.pendingTimeline&&(this.stopTimeline=d.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=d}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||(null==(e=this.keyframeResolver)||e.resume(),JW=!0,eH(),ZW(),JW=!1),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null==(e=this.keyframeResolver)||e.cancel()}}const wH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kH(e,t,n=1){const[i,r]=function(e){const t=wH.exec(e);if(!t)return[,];const[,n,i,r]=t;return[`--${n??i}`,r]}(e);if(!i)return;const s=window.getComputedStyle(t).getPropertyValue(i);if(s){const e=s.trim();return yq(e)?parseFloat(e):e}return s$(r)?kH(r,t,n+1):r}function xH(e,t){return(null==e?void 0:e[t])??(null==e?void 0:e.default)??e}const _H=new Set(["width","height","top","left","right","bottom",...qW]),SH=e=>t=>t.test(e),CH=[o$,k$,w$,b$,_$,x$,{test:e=>"auto"===e,parse:e=>e}],NH=e=>CH.find(SH(e));function jH(e){return"number"==typeof e?0===e:null===e||("none"===e||"0"===e||wq(e))}const TH=new Set(["brightness","contrast","saturate","opacity"]);function EH(e){const[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[i]=n.match(d$)||[];if(!i)return e;const r=n.replace(i,"");let s=TH.has(t)?1:0;return i!==n&&(s*=100),t+"("+s+r+")"}const IH=/\b([a-z-]*)\(.*?\)/gu,PH={...D$,getAnimatableNone:e=>{const t=e.match(IH);return t?t.map(EH).join(" "):e}},AH={...o$,transform:Math.round},MH={borderWidth:k$,borderTopWidth:k$,borderRightWidth:k$,borderBottomWidth:k$,borderLeftWidth:k$,borderRadius:k$,radius:k$,borderTopLeftRadius:k$,borderTopRightRadius:k$,borderBottomRightRadius:k$,borderBottomLeftRadius:k$,width:k$,maxWidth:k$,height:k$,maxHeight:k$,top:k$,right:k$,bottom:k$,left:k$,padding:k$,paddingTop:k$,paddingRight:k$,paddingBottom:k$,paddingLeft:k$,margin:k$,marginTop:k$,marginRight:k$,marginBottom:k$,marginLeft:k$,backgroundPositionX:k$,backgroundPositionY:k$,...{rotate:b$,rotateX:b$,rotateY:b$,rotateZ:b$,scale:c$,scaleX:c$,scaleY:c$,scaleZ:c$,skew:b$,skewX:b$,skewY:b$,distance:k$,translateX:k$,translateY:k$,translateZ:k$,x:k$,y:k$,z:k$,perspective:k$,transformPerspective:k$,opacity:l$,originX:S$,originY:S$,originZ:k$},zIndex:AH,fillOpacity:l$,strokeOpacity:l$,numOctaves:AH},RH={...MH,color:N$,backgroundColor:N$,outlineColor:N$,fill:N$,stroke:N$,borderColor:N$,borderTopColor:N$,borderRightColor:N$,borderBottomColor:N$,borderLeftColor:N$,filter:PH,WebkitFilter:PH},DH=e=>RH[e];function LH(e,t){let n=DH(e);return n!==PH&&(n=D$),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const OH=new Set(["auto","none","0"]);class FH extends tH{constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let o=0;o<e.length;o++){let n=e[o];if("string"==typeof n&&(n=n.trim(),s$(n))){const i=kH(n,t.current);void 0!==i&&(e[o]=i),o===e.length-1&&(this.finalKeyframe=n)}}if(this.resolveNoneKeyframes(),!_H.has(n)||2!==e.length)return;const[i,r]=e,s=NH(i),a=NH(r);if(s!==a)if(WW(s)&&WW(a))for(let o=0;o<e.length;o++){const t=e[o];"string"==typeof t&&(e[o]=parseFloat(t))}else KW[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,n=[];for(let i=0;i<e.length;i++)(null===e[i]||jH(e[i]))&&n.push(i);n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){const t=e[r];"string"==typeof t&&!OH.has(t)&&P$(t).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=LH(n,i)}(e,n,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=KW[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=KW[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach(([e,n])=>{t.getValue(e).set(n)}),this.resolveNoneKeyframes()}}const zH=(e,t)=>t&&"number"==typeof e?t.transform(e):e;function UH(e){return bq(e)&&"offsetHeight"in e}class BH{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{var t;const n=t$.now();if(this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev&&(null==(t=this.events.change)||t.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){var t;this.current=e,this.updatedAt=t$.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=(t=this.current,!isNaN(parseFloat(t))))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Nq);const n=this.events[e].add(t);return"change"===e?()=>{n(),Yq.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null==(e=this.events.change)||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=t$.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||e-this.updatedAt>30)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,30);return Eq(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null==(e=this.dependents)||e.clear(),null==(t=this.events.destroy)||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function VH(e,t){return new BH(e,t)}const{schedule:qH}=Kq(queueMicrotask,!1),$H={x:!1,y:!1};function WH(){return $H.x||$H.y}function HH(e,t){const n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document;const i=(null==n?void 0:n[e])??t.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}(e),i=new AbortController;return[n,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function GH(e){return!("touch"===e.pointerType||WH())}const KH=(e,t)=>!!t&&(e===t||KH(e,t.parentElement)),YH=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary,QH=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);const XH=new WeakSet;function JH(e){return t=>{"Enter"===t.key&&e(t)}}function ZH(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function eG(e){return YH(e)&&!WH()}function tG(e,t,n={}){const[i,r,s]=HH(e,n),a=e=>{const i=e.currentTarget;if(!eG(e))return;XH.add(i);const s=t(i,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),XH.has(i)&&XH.delete(i),eG(e)&&"function"==typeof s&&s(e,{success:t})},o=e=>{a(e,i===window||i===document||n.useGlobalTarget||KH(i,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return i.forEach(e=>{var t;(n.useGlobalTarget?window:e).addEventListener("pointerdown",a,r),UH(e)&&(e.addEventListener("focus",e=>((e,t)=>{const n=e.currentTarget;if(!n)return;const i=JH(()=>{if(XH.has(n))return;ZH(n,"down");const e=JH(()=>{ZH(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>ZH(n,"cancel"),t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)})(e,r)),t=e,QH.has(t.tagName)||-1!==t.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}function nG(e){return bq(e)&&"ownerSVGElement"in e}const iG=e=>Boolean(e&&e.getVelocity),rG=[...CH,N$,D$],sG=n.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function aG(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function oG(...e){return n.useCallback(function(...e){return t=>{let n=!1;const i=e.map(e=>{const i=aG(e,t);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let t=0;t<i.length;t++){const n=i[t];"function"==typeof n?n():aG(e[t],null)}}}}(...e),e)}class lG extends n.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const e=t.offsetParent,n=UH(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function cG({children:e,isPresent:t,anchorX:i,root:r}){const s=n.useId(),a=n.useRef(null),o=n.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=n.useContext(sG),c=oG(a,null==e?void 0:e.ref);return n.useInsertionEffect(()=>{const{width:e,height:n,top:c,left:u,right:d}=o.current;if(t||!a.current||!e||!n)return;const f="left"===i?`left: ${u}`:`right: ${d}`;a.current.dataset.motionPopId=s;const h=document.createElement("style");l&&(h.nonce=l);const m=r??document.head;return m.appendChild(h),h.sheet&&h.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${n}px !important;\n            ${f}px !important;\n            top: ${c}px !important;\n          }\n        `),()=>{m.contains(h)&&m.removeChild(h)}},[t]),ht.jsx(lG,{isPresent:t,childRef:a,sizeRef:o,children:n.cloneElement(e,{ref:c})})}const uG=({children:e,initial:t,isPresent:i,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:o,anchorX:l,root:c})=>{const u=uq(dG),d=n.useId();let f=!0,h=n.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:i,custom:s,onExitComplete:e=>{u.set(e,!0);for(const t of u.values())if(!t)return;r&&r()},register:e=>(u.set(e,!1),()=>u.delete(e))}),[i,u,r]);return a&&f&&(h={...h}),n.useMemo(()=>{u.forEach((e,t)=>u.set(t,!1))},[i]),n.useEffect(()=>{!i&&!u.size&&r&&r()},[i]),"popLayout"===o&&(e=ht.jsx(cG,{isPresent:i,anchorX:l,root:c,children:e})),ht.jsx(hq.Provider,{value:h,children:e})};function dG(){return new Map}function fG(e=!0){const t=n.useContext(hq);if(null===t)return[!0,null];const{isPresent:i,onExitComplete:r,register:s}=t,a=n.useId();n.useEffect(()=>{if(e)return s(a)},[e]);const o=n.useCallback(()=>e&&r&&r(a),[a,r,e]);return!i&&r?[!1,o]:[!0]}const hG=e=>e.key||"";function mG(e){const t=[];return n.Children.forEach(e,e=>{n.isValidElement(e)&&t.push(e)}),t}const pG=({children:e,custom:t,initial:i=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,d]=fG(o),f=n.useMemo(()=>mG(e),[e]),h=o&&!u?[]:f.map(hG),m=n.useRef(!0),p=n.useRef(f),g=uq(()=>new Map),[v,y]=n.useState(f),[b,w]=n.useState(f);fq(()=>{m.current=!1,p.current=f;for(let e=0;e<b.length;e++){const t=hG(b[e]);h.includes(t)?g.delete(t):!0!==g.get(t)&&g.set(t,!1)}},[b,h.length,h.join("-")]);const k=[];if(f!==v){let e=[...f];for(let t=0;t<b.length;t++){const n=b[t],i=hG(n);h.includes(i)||(e.splice(t,0,n),k.push(n))}return"wait"===a&&k.length&&(e=k),w(mG(e)),y(f),null}const{forceRender:x}=n.useContext(cq);return ht.jsx(ht.Fragment,{children:b.map(e=>{const n=hG(e),v=!(o&&!u)&&(f===b||h.includes(n));return ht.jsx(uG,{isPresent:v,initial:!(m.current&&!i)&&void 0,custom:t,presenceAffectsLayout:s,mode:a,root:c,onExitComplete:v?void 0:()=>{if(!g.has(n))return;g.set(n,!0);let e=!0;g.forEach(t=>{t||(e=!1)}),e&&(null==x||x(),w(p.current),o&&(null==d||d()),r&&r())},anchorX:l,children:e},n)})})},gG=n.createContext({strict:!1}),vG={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yG={};for(const uZ in vG)yG[uZ]={isEnabled:e=>vG[uZ].some(t=>!!e[t])};const bG=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wG(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bG.has(e)}let kG=e=>!wG(e);try{"function"==typeof(xG=require("@emotion/is-prop-valid").default)&&(kG=e=>e.startsWith("on")?!wG(e):xG(e))}catch{}var xG;const _G=n.createContext({});function SG(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function CG(e){return"string"==typeof e||Array.isArray(e)}const NG=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jG=["initial",...NG];function TG(e){return SG(e.animate)||jG.some(t=>CG(e[t]))}function EG(e){return Boolean(TG(e)||e.variants)}function IG(e){const{initial:t,animate:i}=function(e,t){if(TG(e)){const{initial:t,animate:n}=e;return{initial:!1===t||CG(t)?t:void 0,animate:CG(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,n.useContext(_G));return n.useMemo(()=>({initial:t,animate:i}),[PG(t),PG(i)])}function PG(e){return Array.isArray(e)?e.join(" "):e}function AG(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const MG={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e){if(!k$.test(e))return e;e=parseFloat(e)}return`${AG(e,t.target.x)}% ${AG(e,t.target.y)}%`}},RG={correct:(e,{treeScale:t,projectionDelta:n})=>{const i=e,r=D$.parse(e);if(r.length>5)return i;const s=D$.createTransformer(e),a="number"!=typeof r[0]?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;r[0+a]/=o,r[1+a]/=l;const c=F$(o,l,.5);return"number"==typeof r[2+a]&&(r[2+a]/=c),"number"==typeof r[3+a]&&(r[3+a]/=c),s(r)}},DG={borderRadius:{...MG,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:MG,borderTopRightRadius:MG,borderBottomLeftRadius:MG,borderBottomRightRadius:MG,boxShadow:RG};function LG(e,{layout:t,layoutId:n}){return $W.has(e)||e.startsWith("origin")||(t||void 0!==n)&&(!!DG[e]||"opacity"===e)}const OG={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},FG=qW.length;function zG(e,t,n){const{style:i,vars:r,transformOrigin:s}=e;let a=!1,o=!1;for(const l in t){const e=t[l];if($W.has(l))a=!0;else if(i$(l))r[l]=e;else{const t=zH(e,MH[l]);l.startsWith("origin")?(o=!0,s[l]=t):i[l]=t}}if(t.transform||(a||n?i.transform=function(e,t,n){let i="",r=!0;for(let s=0;s<FG;s++){const a=qW[s],o=e[a];if(void 0===o)continue;let l=!0;if(l="number"==typeof o?o===(a.startsWith("scale")?1:0):0===parseFloat(o),!l||n){const e=zH(o,MH[a]);l||(r=!1,i+=`${OG[a]||a}(${e}) `),n&&(t[a]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),o){const{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin=`${e} ${t} ${n}`}}const UG=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function BG(e,t,n){for(const i in t)iG(t[i])||LG(i,n)||(e[i]=t[i])}function VG(e,t){const i={};return BG(i,e.style||{},e),Object.assign(i,function({transformTemplate:e},t){return n.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{}};return zG(n,t,e),Object.assign({},n.vars,n.style)},[t])}(e,t)),i}function qG(e,t){const n={},i=VG(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-"+("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const $G={offset:"stroke-dashoffset",array:"stroke-dasharray"},WG={offset:"strokeDashoffset",array:"strokeDasharray"};function HG(e,{attrX:t,attrY:n,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:a=0,...o},l,c,u){if(zG(e,o,c),l)return void(e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox));e.attrs=e.style,e.style={};const{attrs:d,style:f}=e;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(null==u?void 0:u.transformBox)??"fill-box",delete d.transformBox),void 0!==t&&(d.x=t),void 0!==n&&(d.y=n),void 0!==i&&(d.scale=i),void 0!==r&&function(e,t,n=1,i=0,r=!0){e.pathLength=1;const s=r?$G:WG;e[s.offset]=k$.transform(-i);const a=k$.transform(t),o=k$.transform(n);e[s.array]=`${a} ${o}`}(d,r,s,a,!1)}const GG=()=>({style:{},transform:{},transformOrigin:{},vars:{},attrs:{}}),KG=e=>"string"==typeof e&&"svg"===e.toLowerCase();function YG(e,t,i,r){const s=n.useMemo(()=>{const n={style:{},transform:{},transformOrigin:{},vars:{},attrs:{}};return HG(n,t,KG(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){const t={};BG(t,e.style,e),s.style={...t,...s.style}}return s}const QG=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function XG(e){return"string"==typeof e&&!e.includes("-")&&!!(QG.indexOf(e)>-1||/[A-Z]/u.test(e))}function JG(e,t,i,{latestValues:r},s,a=!1){const o=(XG(e)?YG:qG)(t,r,s,e),l=function(e,t,n){const i={};for(const r in e)"values"===r&&"object"==typeof e.values||(kG(r)||!0===n&&wG(r)||!t&&!wG(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"==typeof e,a),c=e!==n.Fragment?{...l,...o,ref:i}:{},{children:u}=t,d=n.useMemo(()=>iG(u)?u.get():u,[u]);return n.createElement(e,{...c,children:d})}function ZG(e){const t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function eK(e,t,n,i){if("function"==typeof t){const[r,s]=ZG(i);t=t(void 0!==n?n:e.custom,r,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){const[r,s]=ZG(i);t=t(void 0!==n?n:e.custom,r,s)}return t}function tK(e){return iG(e)?e.get():e}function nK(e,t,n,i){const r={},s=i(e,{});for(const f in s)r[f]=tK(s[f]);let{initial:a,animate:o}=e;const l=TG(e),c=EG(e);t&&c&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let u=!!n&&!1===n.initial;u=u||!1===a;const d=u?o:a;if(d&&"boolean"!=typeof d&&!SG(d)){const t=Array.isArray(d)?d:[d];for(let n=0;n<t.length;n++){const i=eK(e,t[n]);if(i){const{transitionEnd:e,transition:t,...n}=i;for(const i in n){let e=n[i];if(Array.isArray(e)){e=e[u?e.length-1:0]}null!==e&&(r[i]=e)}for(const i in e)r[i]=e[i]}}}return r}const iK=e=>(t,i)=>{const r=n.useContext(_G),s=n.useContext(hq),a=()=>function({scrapeMotionValuesFromProps:e,createRenderState:t},n,i,r){return{latestValues:nK(n,i,r,e),renderState:t()}}(e,t,r,s);return i?a():uq(a)};function rK(e,t,n){var i;const{style:r}=e,s={};for(const a in r)(iG(r[a])||t.style&&iG(t.style[a])||LG(a,e)||void 0!==(null==(i=null==n?void 0:n.getValue(a))?void 0:i.liveStyle))&&(s[a]=r[a]);return s}const sK=iK({scrapeMotionValuesFromProps:rK,createRenderState:UG});function aK(e,t,n){const i=rK(e,t,n);for(const r in e)if(iG(e[r])||iG(t[r])){i[-1!==qW.indexOf(r)?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r]=e[r]}return i}const oK=iK({scrapeMotionValuesFromProps:aK,createRenderState:GG}),lK=Symbol.for("motionComponentSymbol");function cK(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function uK(e,t,i){return n.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),i&&("function"==typeof i?i(n):cK(i)&&(i.current=n))},[t])}const dK=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),fK="data-"+dK("framerAppearId"),hK=n.createContext({});function mK(e,t,i,r,s){var a,o;const{visualElement:l}=n.useContext(_G),c=n.useContext(gG),u=n.useContext(hq),d=n.useContext(sG).reducedMotion,f=n.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:i,presenceContext:u,blockInitialAnimation:!!u&&!1===u.initial,reducedMotionConfig:d}));const h=f.current,m=n.useContext(hK);!h||h.projection||!s||"html"!==h.type&&"svg"!==h.type||function(e,t,n,i){const{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:pK(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:Boolean(a)||o&&cK(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,crossfade:u,layoutScroll:l,layoutRoot:c})}(f.current,i,s,m);const p=n.useRef(!1);n.useInsertionEffect(()=>{h&&p.current&&h.update(i,u)});const g=i[fK],v=n.useRef(Boolean(g)&&!(null==(a=window.MotionHandoffIsComplete)?void 0:a.call(window,g))&&(null==(o=window.MotionHasOptimisedAnimation)?void 0:o.call(window,g)));return fq(()=>{h&&(p.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),v.current&&h.animationState&&h.animationState.animateChanges())}),n.useEffect(()=>{h&&(!v.current&&h.animationState&&h.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var e;null==(e=window.MotionHandoffMarkAsComplete)||e.call(window,g)}),v.current=!1),h.enteringChildren=void 0)}),h}function pK(e){if(e)return!1!==e.options.allowProjection?e.projection:pK(e.parent)}function gK(e,{forwardMotionProps:t=!1}={},i,r){i&&function(e){for(const t in e)yG[t]={...yG[t],...e[t]}}(i);const s=XG(e)?oK:sK;function a(i,a){let o;const l={...n.useContext(sG),...i,layoutId:vK(i)},{isStatic:c}=l,u=IG(i),d=s(i,c);if(!c&&dq){n.useContext(gG).strict;const t=function(e){const{drag:t,layout:n}=yG;if(!t&&!n)return{};const i={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(l);o=t.MeasureLayout,u.visualElement=mK(e,d,l,r,t.ProjectionNode)}return ht.jsxs(_G.Provider,{value:u,children:[o&&u.visualElement?ht.jsx(o,{visualElement:u.visualElement,...l}):null,JG(e,i,uK(d,u.visualElement,a),d,c,t)]})}a.displayName=`motion.${"string"==typeof e?e:`create(${e.displayName??e.name??""})`}`;const o=n.forwardRef(a);return o[lK]=e,o}function vK({layoutId:e}){const t=n.useContext(cq).id;return t&&void 0!==e?t+"-"+e:e}function yK(e,t){if("undefined"==typeof Proxy)return gK;const n=new Map,i=(n,i)=>gK(n,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(r,s)=>"create"===s?i:(n.has(s)||n.set(s,gK(s,void 0,e,t)),n.get(s))})}function bK({top:e,left:t,right:n,bottom:i}){return{x:{min:t,max:n},y:{min:e,max:i}}}function wK(e){return void 0===e||1===e}function kK({scale:e,scaleX:t,scaleY:n}){return!wK(e)||!wK(t)||!wK(n)}function xK(e){return kK(e)||_K(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _K(e){return SK(e.x)||SK(e.y)}function SK(e){return e&&"0%"!==e}function CK(e,t,n){return n+t*(e-n)}function NK(e,t,n,i,r){return void 0!==r&&(e=CK(e,r,i)),CK(e,n,i)+t}function jK(e,t=0,n=1,i,r){e.min=NK(e.min,t,n,i,r),e.max=NK(e.max,t,n,i,r)}function TK(e,{x:t,y:n}){jK(e.x,t.translate,t.scale,t.originPoint),jK(e.y,n.translate,n.scale,n.originPoint)}const EK=.999999999999,IK=1.0000000000001;function PK(e,t){e.min=e.min+t,e.max=e.max+t}function AK(e,t,n,i,r=.5){jK(e,t,n,F$(e.min,e.max,r),i)}function MK(e,t){AK(e.x,t.x,t.scaleX,t.scale,t.originX),AK(e.y,t.y,t.scaleY,t.scale,t.originY)}function RK(e,t){return bK(function(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}const DK=()=>({x:{min:0,max:0},y:{min:0,max:0}}),LK={current:null},OK={current:!1};const FK=new WeakMap;const zK=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class UK{scrapeMotionValuesFromProps(e,t,n){return{}}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tH,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const e=t$.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,Yq.render(this.render,!1,!0))};const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=Boolean(r),this.isControllingVariants=TG(t),this.isVariantNode=EG(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=Boolean(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(t,{},this);for(const d in u){const e=u[d];void 0!==o[d]&&iG(e)&&e.set(o[d])}}mount(e){var t;this.current=e,FK.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),OK.current||function(){if(OK.current=!0,dq)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>LK.current=e.matches;e.addEventListener("change",t),t()}else LK.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||LK.current),null==(t=this.parent)||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Qq(this.notifyUpdate),Qq(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null==(e=this.parent)||e.removeChild(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=$W.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&Yq.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let r;window.MotionCheckAppearSync&&(r=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{i(),r&&r(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in yG){const t=yG[e];if(!t)continue;const{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):{x:{min:0,max:0},y:{min:0,max:0}}}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let n=0;n<zK.length;n++){const t=zK[n];this.propEventSubscriptions[t]&&(this.propEventSubscriptions[t](),delete this.propEventSubscriptions[t]);const i=e["on"+t];i&&(this.propEventSubscriptions[t]=this.on(t,i))}this.prevMotionValues=function(e,t,n){for(const i in t){const r=t[i],s=n[i];if(iG(r))e.addValue(i,r);else if(iG(s))e.addValue(i,VH(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){const t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{const t=e.getStaticValue(i);e.addValue(i,VH(void 0!==t?t:r,{owner:e}))}}for(const i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=VH(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){let n=void 0===this.latestValues[e]&&this.current?this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];var i;return null!=n&&("string"==typeof n&&(yq(n)||wq(n))?n=parseFloat(n):(i=n,!rG.find(SH(i))&&D$.test(t)&&(n=LH(e,t))),this.setBaseTarget(e,iG(n)?n.get():n)),iG(n)?n.get():n}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:n}=this.props;let i;if("string"==typeof n||"object"==typeof n){const r=eK(this.props,n,null==(t=this.presenceContext)?void 0:t.custom);r&&(i=r[e])}if(n&&void 0!==i)return i;const r=this.getBaseTargetFromProps(this.props,e);return void 0===r||iG(r)?void 0!==this.initialValues[e]&&void 0===i?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new Nq),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}scheduleRenderMicrotask(){qH.render(this.render)}}class BK extends UK{constructor(){super(...arguments),this.KeyframeResolver=FH}sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:n}){delete t[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;iG(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function VK(e,{style:t,vars:n},i,r){const s=e.style;let a;for(a in t)s[a]=t[a];for(a in null==r||r.applyProjectionStyles(s,i),n)s.setProperty(a,n[a])}class qK extends BK{constructor(){super(...arguments),this.type="html",this.renderInstance=VK}readValueFromInstance(e,t){var n,i;if($W.has(t))return(null==(n=this.projection)?void 0:n.isProjecting)?UW(t):((e,t)=>{const{transform:n="none"}=getComputedStyle(e);return BW(n,t)})(e,t);{const n=(i=e,window.getComputedStyle(i)),r=(i$(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof r?r.trim():r}}measureInstanceViewportBox(e,{transformPagePoint:t}){return RK(e,t)}build(e,t,n){zG(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return rK(e,t,n)}}const $K=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);class WK extends BK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=DK}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if($W.has(t)){const e=DH(t);return e&&e.default||0}return t=$K.has(t)?t:dK(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return aK(e,t,n)}build(e,t,n){HG(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){!function(e,t,n,i){VK(e,t,void 0,i);for(const r in t.attrs)e.setAttribute($K.has(r)?r:dK(r),t.attrs[r])}(e,t,0,i)}mount(e){this.isSVGTag=KG(e.tagName),super.mount(e)}}const HK=(e,t)=>XG(e)?new WK(t):new qK(t,{allowProjection:e!==n.Fragment});function GK(e,t,n){const i=e.getProps();return eK(i,t,void 0!==n?n:i.custom,e)}const KK=e=>Array.isArray(e);function YK(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,VH(n))}function QK(e){return KK(e)?e[e.length-1]||0:e}function XK(e,t){const n=e.getValue("willChange");if(i=n,Boolean(iG(i)&&i.add))return n.add(t);if(!n&&vq.WillChange){const n=new vq.WillChange("auto");e.addValue("willChange",n),n.add(t)}var i}function JK(e){return e.props[fK]}const ZK=e=>null!==e;const eY={type:"spring",stiffness:500,damping:25,restSpeed:10},tY={type:"keyframes",duration:.8},nY={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iY=(e,{keyframes:t})=>t.length>2?tY:$W.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===t[1]?2*Math.sqrt(550):30,restSpeed:10}:eY:nY;const rY=(e,t,n,i={},r,s)=>a=>{const o=xH(i,e)||{},l=o.delay||i.delay||0;let{elapsed:c=0}=i;c-=jq(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-c,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:r};(function({when:e,delay:t,delayChildren:n,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length})(o)||Object.assign(u,iY(e,u)),u.duration&&(u.duration=jq(u.duration)),u.repeatDelay&&(u.repeatDelay=jq(u.repeatDelay)),void 0!==u.from&&(u.keyframes[0]=u.from);let d=!1;if((!1===u.type||0===u.duration&&!u.repeatDelay)&&(gH(u),0===u.delay&&(d=!0)),(vq.instantAnimations||vq.skipAnimations)&&(d=!0,gH(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!s&&void 0!==t.get()){const e=function(e,{repeat:t,repeatType:n="loop"}){const i=e.filter(ZK);return i[t&&"loop"!==n&&t%2==1?0:i.length-1]}(u.keyframes,o);if(void 0!==e)return void Yq.update(()=>{u.onUpdate(e),u.onComplete()})}return o.isSync?new AW(u):new bH(u)};function sY({protectedKeys:e,needsAnimating:t},n){const i=e.hasOwnProperty(n)&&!0!==t[n];return t[n]=!1,i}function aY(e,t,{delay:n=0,transitionOverride:i,type:r}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...o}=t;i&&(s=i);const l=[],c=r&&e.animationState&&e.animationState.getState()[r];for(const u in o){const t=e.getValue(u,e.latestValues[u]??null),i=o[u];if(void 0===i||c&&sY(c,u))continue;const r={delay:n,...xH(s||{},u)},a=t.get();if(void 0!==a&&!t.isAnimating&&!Array.isArray(i)&&i===a&&!r.velocity)continue;let d=!1;if(window.MotionHandoffAnimation){const t=JK(e);if(t){const e=window.MotionHandoffAnimation(t,u,Yq);null!==e&&(r.startTime=e,d=!0)}}XK(e,u),t.start(rY(u,t,i,e.shouldReduceMotion&&_H.has(u)?{type:!1}:r,e,d));const f=t.animation;f&&l.push(f)}return a&&Promise.all(l).then(()=>{Yq.update(()=>{a&&function(e,t){const n=GK(e,t);let{transitionEnd:i={},transition:r={},...s}=n||{};s={...s,...i};for(const a in s)YK(e,a,QK(s[a]))}(e,a)})}),l}function oY(e,t,n,i=0,r=1){const s=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*i;return"function"==typeof n?n(s,a):1===r?s*i:o-s*i}function lY(e,t,n={}){var i;const r=GK(e,t,"exit"===n.type?null==(i=e.presenceContext)?void 0:i.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const a=r?()=>Promise.all(aY(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(i=0)=>{const{delayChildren:r=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t,n=0,i=0,r=0,s=1,a){const o=[];for(const l of e.variantChildren)l.notify("AnimationStart",t),o.push(lY(l,t,{...a,delay:n+("function"==typeof i?0:i)+oY(e.variantChildren,l,i,r,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,i,r,a,o,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}return Promise.all([a(),o(n.delay)])}function cY(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}const uY=jG.length;function dY(e){if(!e)return;if(!e.isControllingVariants){const t=e.parent&&dY(e.parent)||{};return void 0!==e.props.initial&&(t.initial=e.props.initial),t}const t={};for(let n=0;n<uY;n++){const i=jG[n],r=e.props[i];(CG(r)||!1===r)&&(t[i]=r)}return t}const fY=[...NG].reverse(),hY=NG.length;function mY(e){return t=>Promise.all(t.map(({animation:t,options:n})=>function(e,t,n={}){let i;if(e.notify("AnimationStart",t),Array.isArray(t)){const r=t.map(t=>lY(e,t,n));i=Promise.all(r)}else if("string"==typeof t)i=lY(e,t,n);else{const r="function"==typeof t?GK(e,t,n.custom):t;i=Promise.all(aY(e,r,n))}return i.then(()=>{e.notify("AnimationComplete",t)})}(e,t,n)))}function pY(e){let t=mY(e),n=yY(),i=!0;const r=t=>(n,i)=>{var r;const s=GK(e,i,"exit"===t?null==(r=e.presenceContext)?void 0:r.custom:void 0);if(s){const{transition:e,transitionEnd:t,...i}=s;n={...n,...i,...t}}return n};function s(s){const{props:a}=e,o=dY(e.parent)||{},l=[],c=new Set;let u={},d=1/0;for(let t=0;t<hY;t++){const f=fY[t],h=n[f],m=void 0!==a[f]?a[f]:o[f],p=CG(m),g=f===s?h.isActive:null;!1===g&&(d=t);let v=m===o[f]&&m!==a[f]&&p;if(v&&i&&e.manuallyAnimateOnMount&&(v=!1),h.protectedKeys={...u},!h.isActive&&null===g||!m&&!h.prevProp||SG(m)||"boolean"==typeof m)continue;const y=gY(h.prevProp,m);let b=y||f===s&&h.isActive&&!v&&p||t>d&&p,w=!1;const k=Array.isArray(m)?m:[m];let x=k.reduce(r(f),{});!1===g&&(x={});const{prevResolvedValues:_={}}=h,S={..._,...x},C=t=>{b=!0,c.has(t)&&(w=!0,c.delete(t)),h.needsAnimating[t]=!0;const n=e.getValue(t);n&&(n.liveStyle=!1)};for(const e in S){const t=x[e],n=_[e];if(u.hasOwnProperty(e))continue;let i=!1;i=KK(t)&&KK(n)?!cY(t,n):t!==n,i?null!=t?C(e):c.add(e):void 0!==t&&c.has(e)?C(e):h.protectedKeys[e]=!0}h.prevProp=m,h.prevResolvedValues=x,h.isActive&&(u={...u,...x}),i&&e.blockInitialAnimation&&(b=!1);const N=v&&y;b&&(!N||w)&&l.push(...k.map(t=>{const n={type:f};if("string"==typeof t&&i&&!N&&e.manuallyAnimateOnMount&&e.parent){const{parent:i}=e,r=GK(i,t);if(i.enteringChildren&&r){const{delayChildren:t}=r.transition||{};n.delay=oY(i.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(c.size){const t={};if("boolean"!=typeof a.initial){const n=GK(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}c.forEach(n=>{const i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=i??null}),l.push({animation:t})}let f=Boolean(l.length);return!i||!1!==a.initial&&a.initial!==a.animate||e.manuallyAnimateOnMount||(f=!1),i=!1,f?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,i){var r;if(n[t].isActive===i)return Promise.resolve();null==(r=e.variantChildren)||r.forEach(e=>{var n;return null==(n=e.animationState)?void 0:n.setActive(t,i)}),n[t].isActive=i;const a=s(t);for(const e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=yY()}}}function gY(e,t){return"string"==typeof t?t!==e:!!Array.isArray(t)&&!cY(t,e)}function vY(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function yY(){return{animate:vY(!0),whileInView:vY(),whileHover:vY(),whileTap:vY(),whileDrag:vY(),whileFocus:vY(),exit:vY()}}class bY{constructor(e){this.isMounted=!1,this.node=e}update(){}}let wY=0;const kY={animation:{Feature:class extends bY{constructor(e){super(e),e.animationState||(e.animationState=pY(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();SG(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}}},exit:{Feature:class extends bY{constructor(){super(...arguments),this.id=wY++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}}};function xY(e,t,n,i={passive:!0}){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}function _Y(e){return{point:{x:e.pageX,y:e.pageY}}}function SY(e,t,n,i){return xY(e,t,(e=>t=>YH(t)&&e(t,_Y(t)))(n),i)}function CY(e){return e.max-e.min}function NY(e,t,n,i=.5){e.origin=i,e.originPoint=F$(t.min,t.max,e.origin),e.scale=CY(n)/CY(t),e.translate=F$(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function jY(e,t,n,i){NY(e.x,t.x,n.x,i?i.originX:void 0),NY(e.y,t.y,n.y,i?i.originY:void 0)}function TY(e,t,n){e.min=n.min+t.min,e.max=e.min+CY(t)}function EY(e,t,n){e.min=t.min-n.min,e.max=e.min+CY(t)}function IY(e,t,n){EY(e.x,t.x,n.x),EY(e.y,t.y,n.y)}function PY(e){return[e("x"),e("y")]}const AY=({current:e})=>e?e.ownerDocument.defaultView:null,MY=(e,t)=>Math.abs(e-t);class RY{constructor(e,t,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!this.lastMoveEvent||!this.lastMoveEventInfo)return;const e=OY(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){const n=MY(e.x,t.x),i=MY(e.y,t.y);return Math.sqrt(n**2+i**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;const{point:i}=e,{timestamp:r}=Xq;this.history.push({...i,timestamp:r});const{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=DY(t,this.transformPagePoint),Yq.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();const{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!this.lastMoveEvent||!this.lastMoveEventInfo)return;const s=OY("pointercancel"===e.type?this.lastMoveEventInfo:DY(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),i&&i(e,s)},!YH(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;const a=DY(_Y(e),this.transformPagePoint),{point:o}=a,{timestamp:l}=Xq;this.history=[{...o,timestamp:l}];const{onSessionStart:c}=t;c&&c(e,OY(a,this.history)),this.removeListeners=Sq(SY(this.contextWindow,"pointermove",this.handlePointerMove),SY(this.contextWindow,"pointerup",this.handlePointerUp),SY(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qq(this.updatePoint)}}function DY(e,t){return t?{point:t(e.point)}:e}function LY(e,t){return{x:e.x-t.x,y:e.y-t.y}}function OY({point:e},t){return{point:e,delta:LY(e,zY(t)),offset:LY(e,FY(t)),velocity:UY(t,.1)}}function FY(e){return e[0]}function zY(e){return e[e.length-1]}function UY(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null;const r=zY(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>jq(t)));)n--;if(!i)return{x:0,y:0};const s=Tq(r.timestamp-i.timestamp);if(0===s)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function BY(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function VY(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}const qY=.35;function $Y(e,t,n){return{min:WY(e,t),max:WY(e,n)}}function WY(e,t){return"number"==typeof e?e:e[t]||0}const HY=new WeakMap;class GY{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;const{dragSnapToOrigin:r}=this.getProps();this.panSession=new RY(e,{onSessionStart:e=>{const{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(_Y(e).point)},onStart:(e,t)=>{const{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock="x"===(s=n)||"y"===s?$H[s]?null:($H[s]=!0,()=>{$H[s]=!1}):$H.x||$H.y?null:($H.x=$H.y=!0,()=>{$H.x=$H.y=!1}),!this.openDragLock))return;var s;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),PY(e=>{let t=this.getAxisMotionValue(e).get()||0;if(w$.test(t)){const{projection:n}=this.visualElement;if(n&&n.layout){const i=n.layout.layoutBox[e];if(i){t=CY(i)*(parseFloat(t)/100)}}}this.originPoint[e]=t}),r&&Yq.postRender(()=>r(e,t)),XK(this.visualElement,"transform");const{animationState:a}=this.visualElement;a&&a.setActive("whileDrag",!0)},onMove:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;const{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;const{offset:a}=t;if(i&&null===this.currentDirection)return this.currentDirection=function(e,t=10){let n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(a),void(null!==this.currentDirection&&r&&r(this.currentDirection));this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},onSessionEnd:(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},resumeAnimation:()=>PY(e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())})},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:r,distanceThreshold:n,contextWindow:AY(this.visualElement)})}stop(e,t){const n=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!n)return;const{velocity:s}=i;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Yq.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){const{drag:i}=this.getProps();if(!n||!KY(e,i,this.currentDirection))return;const r=this.getAxisMotionValue(e);let s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,{min:t,max:n},i){return void 0!==t&&e<t?e=i?F$(t,e,i.min):Math.max(e,t):void 0!==n&&e>n&&(e=i?F$(n,e,i.max):Math.min(e,n)),e}(s,this.constraints[e],this.elastic[e])),r.set(s)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,r=this.constraints;t&&cK(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!t||!i)&&function(e,{top:t,left:n,bottom:i,right:r}){return{x:BY(e.x,n,r),y:BY(e.y,t,i)}}(i.layoutBox,t),this.elastic=function(e=qY){return!1===e?e=0:!0===e&&(e=qY),{x:$Y(e,"left","right"),y:$Y(e,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&PY(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){const n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!cK(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const r=function(e,t,n){const i=RK(e,n),{scroll:r}=t;return r&&(PK(i.x,r.offset.x),PK(i.y,r.offset.y)),i}(n,i.root,this.visualElement.getTransformPagePoint());let s=function(e,t){return{x:VY(e.x,t.x),y:VY(e.y,t.y)}}(i.layout.layoutBox,r);if(t){const e=t(function({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}(s));this.hasMutatedConstraints=!!e,e&&(s=bK(e))}return s}startAnimation(e){const{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{},l=PY(a=>{if(!KY(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});const c=i?200:1e6,u=i?40:1e7,d={type:"inertia",velocity:n?e[a]:0,bounceStiffness:c,bounceDamping:u,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(a,d)});return Promise.all(l).then(a)}startAxisValueAnimation(e,t){const n=this.getAxisMotionValue(e);return XK(this.visualElement,e),n.start(rY(e,n,0,t,this.visualElement,!1))}stopAnimation(){PY(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){PY(e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()})}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[t];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){PY(t=>{const{drag:n}=this.getProps();if(!KY(t,n,this.currentDirection))return;const{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){const{min:n,max:s}=i.layout.layoutBox[t];r.set(e[t]-F$(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!cK(t)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};PY(e=>{const t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){const n=t.get();i[e]=function(e,t){let n=.5;const i=CY(e),r=CY(t);return r>i?n=Cq(t.min,t.max-i,e.min):i>r&&(n=Cq(e.min,e.max-r,t.min)),gq(0,1,n)}({min:n,max:n},this.constraints[e])}});const{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),PY(t=>{if(!KY(t,e,null))return;const n=this.getAxisMotionValue(t),{min:r,max:s}=this.constraints[t];n.set(F$(r,s,i[t]))})}addListeners(){if(!this.visualElement.current)return;HY.set(this.visualElement,this);const e=SY(this.visualElement.current,"pointerdown",e=>{const{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{const{dragConstraints:e}=this.getProps();cK(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),Yq.read(t);const r=xY(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t})=>{this.isDragging&&t&&(PY(t=>{const n=this.getAxisMotionValue(t);n&&(this.originPoint[t]+=e[t].translate,n.set(n.get()+e[t].translate))}),this.visualElement.render())});return()=>{r(),e(),i(),s&&s()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=qY,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:a}}}function KY(e,t,n){return!(!0!==t&&t!==e||null!==n&&n!==e)}const YY=e=>(t,n)=>{e&&Yq.postRender(()=>e(t,n))};const QY={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let XY=!1;class JY extends n.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),XY&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),QY.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,{projection:s}=n;return s?(s.isPresent=r,XY=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==r?s.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?s.promote():s.relegate()||Yq.postRender(()=>{const e=s.getStack();e&&e.members.length||this.safeToRemove()})),null):null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qH.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;XY=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZY(e){const[t,i]=fG(),r=n.useContext(cq);return ht.jsx(JY,{...e,layoutGroup:r,switchLayoutGroup:n.useContext(hK),isPresent:t,safeToRemove:i})}const eQ=(e,t)=>e.depth-t.depth;class tQ{constructor(){this.children=[],this.isDirty=!1}add(e){mq(this.children,e),this.isDirty=!0}remove(e){pq(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eQ),this.isDirty=!1,this.children.forEach(e)}}const nQ=["TopLeft","TopRight","BottomLeft","BottomRight"],iQ=nQ.length,rQ=e=>"string"==typeof e?parseFloat(e):e,sQ=e=>"number"==typeof e||k$.test(e);function aQ(e,t){return void 0!==e[t]?e[t]:e.borderRadius}const oQ=cQ(0,.5,zq),lQ=cQ(.5,.95,xq);function cQ(e,t,n){return i=>i<e?0:i>t?1:n(Cq(e,t,i))}function uQ(e,t){e.min=t.min,e.max=t.max}function dQ(e,t){uQ(e.x,t.x),uQ(e.y,t.y)}function fQ(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function hQ(e,t,n,i,r){return e=CK(e-=t,1/n,i),void 0!==r&&(e=CK(e,1/r,i)),e}function mQ(e,t,[n,i,r],s,a){!function(e,t=0,n=1,i=.5,r,s=e,a=e){w$.test(t)&&(t=parseFloat(t),t=F$(a.min,a.max,t/100)-a.min);if("number"!=typeof t)return;let o=F$(s.min,s.max,i);e===s&&(o-=t),e.min=hQ(e.min,t,n,o,r),e.max=hQ(e.max,t,n,o,r)}(e,t[n],t[i],t[r],t.scale,s,a)}const pQ=["x","scaleX","originX"],gQ=["y","scaleY","originY"];function vQ(e,t,n,i){mQ(e.x,t,pQ,n?n.x:void 0,i?i.x:void 0),mQ(e.y,t,gQ,n?n.y:void 0,i?i.y:void 0)}function yQ(e){return 0===e.translate&&1===e.scale}function bQ(e){return yQ(e.x)&&yQ(e.y)}function wQ(e,t){return e.min===t.min&&e.max===t.max}function kQ(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function xQ(e,t){return kQ(e.x,t.x)&&kQ(e.y,t.y)}function _Q(e){return CY(e.x)/CY(e.y)}function SQ(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class CQ{constructor(){this.members=[]}add(e){mq(this.members,e),e.scheduleRender()}remove(e){if(pq(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){const t=this.members.findIndex(t=>e===t);if(0===t)return!1;let n;for(let i=t;i>=0;i--){const e=this.members[i];if(!1!==e.isPresent){n=e;break}}return!!n&&(this.promote(n),!0)}promote(e,t){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const NQ=["","X","Y","Z"];let jQ=0;function TQ(e,t,n,i){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function EQ(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=JK(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:t,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Yq,!(t||i))}const{parent:i}=e;i&&!i.hasCheckedOptimisedAppear&&EQ(i)}function IQ({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(e={},n=(null==t?void 0:t())){this.id=jQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(MQ),this.nodes.forEach(UQ),this.nodes.forEach(BQ),this.nodes.forEach(RQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?[...n.path,n]:[],this.parent=n,this.depth=n?n.depth+1:0;for(let t=0;t<this.path.length;t++)this.path[t].shouldResetTransform=!0;this.root===this&&(this.nodes=new tQ)}addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new Nq),this.eventHandlers.get(e).add(t)}notifyListeners(e,...t){const n=this.eventHandlers.get(e);n&&n.notify(...t)}hasListeners(e){return this.eventHandlers.has(e)}mount(t){if(this.instance)return;var n;this.isSVG=nG(t)&&!(nG(n=t)&&"svg"===n.tagName),this.instance=t;const{layoutId:i,layout:r,visualElement:s}=this.options;if(s&&!s.current&&s.mount(t),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(r||i)&&(this.isLayoutDirty=!0),e){let n,i=0;const r=()=>this.root.updateBlockedByResize=!1;Yq.read(()=>{i=window.innerWidth}),e(t,()=>{const e=window.innerWidth;e!==i&&(i=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){const n=t$.now(),i=({timestamp:r})=>{const s=r-n;s>=t&&(Qq(i),e(s-t))};return Yq.setup(i,!0),()=>Qq(i)}(r,250),QY.hasAnimatedSinceResize&&(QY.hasAnimatedSinceResize=!1,this.nodes.forEach(zQ)))})}i&&this.root.registerSharedNode(i,this),!1!==this.options.animate&&s&&(i||r)&&this.addEventListener("didUpdate",({delta:e,hasLayoutChanged:t,hasRelativeLayoutChanged:n,layout:i})=>{if(this.isTreeAnimationBlocked())return this.target=void 0,void(this.relativeTarget=void 0);const r=this.options.transition||s.getDefaultTransition()||GQ,{onLayoutAnimationStart:a,onLayoutAnimationComplete:o}=s.getProps(),l=!this.targetLayout||!xQ(this.targetLayout,i),c=!t&&n;if(this.options.layoutRoot||this.resumeFrom||c||t&&(l||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const t={...xH(r,"layout"),onPlay:a,onComplete:o};(s.shouldReduceMotion||this.options.layoutRoot)&&(t.delay=0,t.type=!1),this.startAnimation(t),this.setAnimationOrigin(e,c)}else t||zQ(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=i})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qq(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(VQ),this.animationId++)}getTransformTemplate(){const{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(e=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked())return void(this.options.onExitComplete&&this.options.onExitComplete());if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&EQ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let r=0;r<this.path.length;r++){const e=this.path[r];e.shouldResetTransform=!0,e.updateScroll("snapshot"),e.options.layoutRoot&&e.willUpdate(!1)}const{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;const i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){this.updateScheduled=!1;if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(LQ);if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(OQ);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(FQ),this.nodes.forEach(PQ),this.nodes.forEach(AQ)):this.nodes.forEach(OQ),this.clearAllSnapshots();const e=t$.now();Xq.delta=gq(0,1e3/60,e-Xq.timestamp),Xq.timestamp=e,Xq.isProcessing=!0,Jq.update.process(Xq),Jq.preRender.process(Xq),Jq.render.process(Xq),Xq.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qH.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DQ),this.sharedNodes.forEach(qQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yq.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yq.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||CY(this.snapshot.measuredBox.x)||CY(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance)return;if(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let n=0;n<this.path.length;n++){this.path[n].updateScroll()}const e=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(e="measure"){let t=Boolean(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){const t=i(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!r)return;const e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!bQ(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,s=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||xK(this.latestValues)||s)&&(r(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(e=!0){const t=this.measurePageBox();let n=this.removeElementScroll(t);var i;return e&&(n=this.removeTransform(n)),QQ((i=n).x),QQ(i.y),{animationId:this.root.animationId,measuredBox:t,layoutBox:n,latestValues:{},source:this.id}}measurePageBox(){var e;const{visualElement:t}=this.options;if(!t)return{x:{min:0,max:0},y:{min:0,max:0}};const n=t.measureViewportBox();if(!((null==(e=this.scroll)?void 0:e.wasRoot)||this.path.some(JQ))){const{scroll:e}=this.root;e&&(PK(n.x,e.offset.x),PK(n.y,e.offset.y))}return n}removeElementScroll(e){var t;const n={x:{min:0,max:0},y:{min:0,max:0}};if(dQ(n,e),null==(t=this.scroll)?void 0:t.wasRoot)return n;for(let i=0;i<this.path.length;i++){const t=this.path[i],{scroll:r,options:s}=t;t!==this.root&&r&&s.layoutScroll&&(r.wasRoot&&dQ(n,e),PK(n.x,r.offset.x),PK(n.y,r.offset.y))}return n}applyTransform(e,t=!1){const n={x:{min:0,max:0},y:{min:0,max:0}};dQ(n,e);for(let i=0;i<this.path.length;i++){const e=this.path[i];!t&&e.options.layoutScroll&&e.scroll&&e!==e.root&&MK(n,{x:-e.scroll.offset.x,y:-e.scroll.offset.y}),xK(e.latestValues)&&MK(n,e.latestValues)}return xK(this.latestValues)&&MK(n,this.latestValues),n}removeTransform(e){const t={x:{min:0,max:0},y:{min:0,max:0}};dQ(t,e);for(let n=0;n<this.path.length;n++){const e=this.path[n];if(!e.instance)continue;if(!xK(e.latestValues))continue;kK(e.latestValues)&&e.updateSnapshot();const i=DK();dQ(i,e.measurePageBox()),vQ(t,e.latestValues,e.snapshot?e.snapshot.layoutBox:void 0,i)}return xK(this.latestValues)&&vQ(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xq.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(e=!1){var t;const n=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=n.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=n.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=n.isSharedProjectionDirty);const i=Boolean(this.resumingFrom)||this!==n;if(!(e||i&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(t=this.parent)?void 0:t.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:r,layoutId:s}=this.options;if(!this.layout||!r&&!s)return;this.resolvedRelativeTargetAt=Xq.timestamp;const a=this.getClosestProjectingParent();var o,l,c;(a&&this.linkedParentVersion!==a.layoutVersion&&!a.options.layoutRoot&&this.removeRelativeTarget(),this.targetDelta||this.relativeTarget||(a&&a.layout?this.createRelativeTarget(a,this.layout.layoutBox,a.layout.layoutBox):this.removeRelativeTarget()),this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o=this.target,l=this.relativeTarget,c=this.relativeParent.target,TY(o.x,l.x,c.x),TY(o.y,l.y,c.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.layoutBox):dQ(this.target,this.layout.layoutBox),TK(this.target,this.targetDelta)):dQ(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,a&&Boolean(a.resumingFrom)===Boolean(this.resumingFrom)&&!a.options.layoutScroll&&a.target&&1!==this.animationProgress?this.createRelativeTarget(a,this.target,a.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(this.parent&&!kK(this.parent.latestValues)&&!_K(this.parent.latestValues))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return Boolean((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(e,t,n){this.relativeParent=e,this.linkedParentVersion=e.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},IY(this.relativeTargetOrigin,t,n),dQ(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var e;const t=this.getLead(),n=Boolean(this.resumingFrom)||this!==t;let i=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===Xq.timestamp&&(i=!1),i)return;const{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=Boolean(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!r&&!s)return;dQ(this.layoutCorrected,this.layout.layoutBox);const a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n,i=!1){const r=n.length;if(!r)return;let s,a;t.x=t.y=1;for(let o=0;o<r;o++){s=n[o],a=s.projectionDelta;const{visualElement:r}=s.options;r&&r.props.style&&"contents"===r.props.style.display||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&MK(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,TK(e,a)),i&&xK(s.latestValues)&&MK(e,s.latestValues))}t.x<IK&&t.x>EK&&(t.x=1),t.y<IK&&t.y>EK&&(t.y=1)}(this.layoutCorrected,this.treeScale,this.path,n),!t.layout||t.target||1===this.treeScale.x&&1===this.treeScale.y||(t.target=t.layout.layoutBox,t.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}});const{target:l}=t;l?(this.projectionDelta&&this.prevProjectionDelta?(fQ(this.prevProjectionDelta.x,this.projectionDelta.x),fQ(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),jY(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&SQ(this.projectionDelta.x,this.prevProjectionDelta.x)&&SQ(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l))):this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender())}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(e=!0){var t;if(null==(t=this.options.visualElement)||t.scheduleRender(),e){const e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}}}setAnimationOrigin(e,t=!1){const n=this.snapshot,i=n?n.latestValues:{},r={...this.latestValues},s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!t;const a={x:{min:0,max:0},y:{min:0,max:0}},o=(n?n.source:void 0)!==(this.layout?this.layout.source:void 0),l=this.getStack(),c=!l||l.members.length<=1,u=Boolean(o&&!c&&!0===this.options.crossfade&&!this.path.some(HQ));let d;this.animationProgress=0,this.mixTargetDelta=t=>{const n=t/1e3;var l,f;$Q(s.x,e.x,n),$Q(s.y,e.y,n),this.setTargetDelta(s),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(IY(a,this.layout.layoutBox,this.relativeParent.layout.layoutBox),function(e,t,n,i){WQ(e.x,t.x,n.x,i),WQ(e.y,t.y,n.y,i)}(this.relativeTarget,this.relativeTargetOrigin,a,n),d&&(l=this.relativeTarget,f=d,wQ(l.x,f.x)&&wQ(l.y,f.y))&&(this.isProjectionDirty=!1),d||(d={x:{min:0,max:0},y:{min:0,max:0}}),dQ(d,this.relativeTarget)),o&&(this.animationValues=r,function(e,t,n,i,r,s){r?(e.opacity=F$(0,n.opacity??1,oQ(i)),e.opacityExit=F$(t.opacity??1,0,lQ(i))):s&&(e.opacity=F$(t.opacity??1,n.opacity??1,i));for(let a=0;a<iQ;a++){const r=`border${nQ[a]}Radius`;let s=aQ(t,r),o=aQ(n,r);void 0===s&&void 0===o||(s||(s=0),o||(o=0),0===s||0===o||sQ(s)===sQ(o)?(e[r]=Math.max(F$(rQ(s),rQ(o),i),0),(w$.test(o)||w$.test(s))&&(e[r]+="%")):e[r]=o)}(t.rotate||n.rotate)&&(e.rotate=F$(t.rotate||0,n.rotate||0,i))}(r,i,this.latestValues,n,u,c)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=n},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(e){var t,n,i;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(),null==(i=null==(n=this.resumingFrom)?void 0:n.currentAnimation)||i.stop(),this.pendingAnimation&&(Qq(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yq.update(()=>{QY.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=VH(0)),this.currentAnimation=function(e,t,n){const i=iG(e)?e:VH(e);return i.start(rY("",i,t,n)),i.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{},onComplete:()=>{e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const e=this.getLead();let{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&XQ(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||{x:{min:0,max:0},y:{min:0,max:0}};const t=CY(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;const i=CY(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}dQ(t,n),MK(t,r),jY(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new CQ);this.sharedNodes.get(e).add(t);const n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){const e=this.getStack();return!e||e.lead===this}getLead(){var e;const{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;const{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){const{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote({needsReset:e,transition:t,preserveFollowOpacity:n}={}){const i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){const e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){const{visualElement:e}=this.options;if(!e)return;let t=!1;const{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;const i={};n.z&&TQ("z",e,i,this.animationValues);for(let r=0;r<NQ.length;r++)TQ(`rotate${NQ[r]}`,e,i,this.animationValues),TQ(`skew${NQ[r]}`,e,i,this.animationValues);e.render();for(const r in i)e.setStaticValue(r,i[r]),this.animationValues&&(this.animationValues[r]=i[r]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible)return void(e.visibility="hidden");const n=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=tK(null==t?void 0:t.pointerEvents)||"",void(e.transform=n?n(this.latestValues,""):"none");const i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target)return this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=tK(null==t?void 0:t.pointerEvents)||""),void(this.hasProjected&&!xK(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1));e.visibility="";const r=i.animationValues||i.latestValues;this.applyTransformsToTarget();let s=function(e,t,n){let i="";const r=e.x.translate/t.x,s=e.y.translate/t.y,a=(null==n?void 0:n.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),1===t.x&&1===t.y||(i+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:e,rotate:t,rotateX:r,rotateY:s,skewX:a,skewY:o}=n;e&&(i=`perspective(${e}px) ${i}`),t&&(i+=`rotate(${t}deg) `),r&&(i+=`rotateX(${r}deg) `),s&&(i+=`rotateY(${s}deg) `),a&&(i+=`skewX(${a}deg) `),o&&(i+=`skewY(${o}deg) `)}const o=e.x.scale*t.x,l=e.y.scale*t.y;return 1===o&&1===l||(i+=`scale(${o}, ${l})`),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);n&&(s=n(r,s)),e.transform=s;const{x:a,y:o}=this.projectionDelta;e.transformOrigin=`${100*a.origin}% ${100*o.origin}% 0`,i.animationValues?e.opacity=i===this?r.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit:e.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(const l in DG){if(void 0===r[l])continue;const{correct:t,applyTo:n,isCSSVariable:a}=DG[l],o="none"===s?r[l]:t(r[l],i);if(n){const t=n.length;for(let i=0;i<t;i++)e[n[i]]=o}else a?this.options.visualElement.renderState.vars[l]=o:e[l]=o}this.options.layoutId&&(e.pointerEvents=i===this?tK(null==t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop()}),this.root.nodes.forEach(LQ),this.root.sharedNodes.clear()}}}function PQ(e){e.updateLayout()}function AQ(e){var t;const n=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:t,measuredBox:i}=e.layout,{animationType:r}=e.options,s=n.source!==e.layout.source;"size"===r?PY(e=>{const i=s?n.measuredBox[e]:n.layoutBox[e],r=CY(i);i.min=t[e].min,i.max=i.min+r}):XQ(r,n.layoutBox,t)&&PY(i=>{const r=s?n.measuredBox[i]:n.layoutBox[i],a=CY(t[i]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+a)});const a={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};jY(a,t,n.layoutBox);const o={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};s?jY(o,e.applyTransform(i,!0),n.measuredBox):jY(o,t,n.layoutBox);const l=!bQ(a);let c=!1;if(!e.resumeFrom){const i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){const{snapshot:r,layout:s}=i;if(r&&s){const a={x:{min:0,max:0},y:{min:0,max:0}};IY(a,n.layoutBox,r.layoutBox);const o={x:{min:0,max:0},y:{min:0,max:0}};IY(o,t,s.layoutBox),xQ(a,o)||(c=!0),i.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:c})}else if(e.isLead()){const{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function MQ(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=Boolean(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function RQ(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function DQ(e){e.clearSnapshot()}function LQ(e){e.clearMeasurements()}function OQ(e){e.isLayoutDirty=!1}function FQ(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function zQ(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function UQ(e){e.resolveTargetDelta()}function BQ(e){e.calcProjection()}function VQ(e){e.resetSkewAndRotation()}function qQ(e){e.removeLeadSnapshot()}function $Q(e,t,n){e.translate=F$(t.translate,0,n),e.scale=F$(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function WQ(e,t,n,i){e.min=F$(t.min,n.min,i),e.max=F$(t.max,n.max,i)}function HQ(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}const GQ={duration:.45,ease:[.4,0,.1,1]},KQ=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),YQ=KQ("applewebkit/")&&!KQ("chrome/")?Math.round:xq;function QQ(e){e.min=YQ(e.min),e.max=YQ(e.max)}function XQ(e,t,n){return"position"===e||"preserve-aspect"===e&&(i=_Q(t),r=_Q(n),s=.2,!(Math.abs(i-r)<=s));var i,r,s}function JQ(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}const ZQ=IQ({attachResizeListener:(e,t)=>xY(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),eX={current:void 0},tX=IQ({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!eX.current){const e=new ZQ({});e.mount(window),e.setOptions({layoutScroll:!0}),eX.current=e}return eX.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>Boolean("fixed"===window.getComputedStyle(e).position)}),nX={pan:{Feature:class extends bY{constructor(){super(...arguments),this.removePointerDownListener=xq}onPointerDown(e){this.session=new RY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AY(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:YY(e),onStart:YY(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&Yq.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=SY(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}},drag:{Feature:class extends bY{constructor(e){super(e),this.removeGroupControls=xq,this.removeListeners=xq,this.controls=new GY(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||xq}unmount(){this.removeGroupControls(),this.removeListeners()}},ProjectionNode:tX,MeasureLayout:ZY}};function iX(e,t,n){const{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);const r=i["onHover"+n];r&&Yq.postRender(()=>r(t,_Y(t)))}function rX(e,t,n){const{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);const r=i["onTap"+("End"===n?"":n)];r&&Yq.postRender(()=>r(t,_Y(t)))}const sX=new WeakMap,aX=new WeakMap,oX=e=>{const t=sX.get(e.target);t&&t(e)},lX=e=>{e.forEach(oX)};function cX(e,t,n){const i=function({root:e,...t}){const n=e||document;aX.has(n)||aX.set(n,{});const i=aX.get(n),r=JSON.stringify(t);return i[r]||(i[r]=new IntersectionObserver(lX,{root:e,...t})),i[r]}(t);return sX.set(e,n),i.observe(e),()=>{sX.delete(e),i.unobserve(e)}}const uX={some:0,all:1};const dX={inView:{Feature:class extends bY{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof i?i:uX[i]};return cX(this.node.current,s,e=>{const{isIntersecting:t}=e;if(this.isInView===t)return;if(this.isInView=t,r&&!t&&this.hasEnteredView)return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);const{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),s=t?n:i;s&&s(e)})}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}(e,t))&&this.startObserver()}unmount(){}}},tap:{Feature:class extends bY{mount(){const{current:e}=this.node;e&&(this.unmount=tG(e,(e,t)=>(rX(this.node,t,"Start"),(e,{success:t})=>rX(this.node,e,t?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends bY{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(cZ){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sq(xY(this.node.current,"focus",()=>this.onFocus()),xY(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}},hover:{Feature:class extends bY{mount(){const{current:e}=this.node;e&&(this.unmount=function(e,t,n={}){const[i,r,s]=HH(e,n),a=e=>{if(!GH(e))return;const{target:n}=e,i=t(n,e);if("function"!=typeof i||!n)return;const s=e=>{GH(e)&&(i(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,r)};return i.forEach(e=>{e.addEventListener("pointerenter",a,r)}),s}(e,(e,t)=>(iX(this.node,t,"Start"),e=>iX(this.node,e,"End"))))}unmount(){}}}},fX=yK({...kY,...dX,...nX,...{layout:{ProjectionNode:tX,MeasureLayout:ZY}}},HK);class hX{constructor(){this.componentControls=new Set}subscribe(e){return this.componentControls.add(e),()=>this.componentControls.delete(e)}start(e,t){this.componentControls.forEach(n=>{n.start(e.nativeEvent||e,t)})}cancel(){this.componentControls.forEach(e=>{e.cancel()})}stop(){this.componentControls.forEach(e=>{e.stop()})}}const mX=()=>new hX;const pX="chess",gX="ludo",vX="snake",yX="tictactoe",bX={[pX]:{minPlayers:2,maxPlayers:2,defaultTimeControl:600,colors:["white","black"],icon:"",displayName:"Chess Master",color:"indigo"},[gX]:{minPlayers:2,maxPlayers:4,colors:["red","green","blue","yellow"],icon:"",displayName:"Ludo King",color:"red",boardSize:15,tokensPerPlayer:4,safeZones:[0,1,9,14,22,27,35,40,48]},[vX]:{minPlayers:2,maxPlayers:4,colors:["blue","red","green","yellow"],icon:"",displayName:"Snake & Ladders",color:"green",boardSize:100,snakes:{99:78,95:75,92:88,89:68,74:53,64:60,62:19,49:11,46:25,16:6},ladders:{2:38,7:14,8:31,15:26,21:42,28:84,36:44,51:67,71:91,78:98}},[yX]:{minPlayers:2,maxPlayers:2,colors:["X","O"],icon:"",displayName:"Tic-Tac-Toe",color:"blue",boardSize:3}},wX=300,kX=500,xX=600,_X=({children:e,className:t="",showHeader:n=!1,headerContent:i=null,minHeight:r="400px",maxWidth:s="600px"})=>{const{isMobile:a,isTablet:o,isDesktop:l,width:c,height:u}=KB(),d=a?{width:"100%",maxWidth:"95vw",height:"auto",padding:"1rem"}:o?{width:"90%",maxWidth:"550px",height:"auto",padding:"1.5rem"}:{width:"100%",maxWidth:s,height:"auto",padding:"2rem"};return ht.jsxs(fX.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},className:`responsive-game-container ${t}`,style:{width:d.width,maxWidth:d.maxWidth,minHeight:r,margin:"0 auto",...d},children:[n&&i&&ht.jsx("div",{className:"game-header mb-4",children:i}),ht.jsx("div",{className:"game-content",children:e})]})},SX=({onMove:e,timeControl:t})=>{var i,r;const{activeGame:s,makeGameMove:a,currentUserId:o}=YI(),l=t||bX[pX].defaultTimeControl,[c,u]=n.useState(new rt),[d,f]=n.useState(null),[h,m]=n.useState([]),p=null==(i=null==s?void 0:s.players)?void 0:i.find(e=>e.userId===o),g="white"===(null==p?void 0:p.color)?"w":"b",[v,y]=n.useState(!1),[b,w]=n.useState("w"),[k,x]=n.useState(l),[_,S]=n.useState(l),[C,N]=n.useState(!1),[j,T]=n.useState(null),[E,I]=n.useState(null),P={p:"",r:"",n:"",b:"",q:"",k:"",P:"",R:"",N:"",B:"",Q:"",K:""};n.useEffect(()=>{if(!C||v||j)return;const e=setInterval(()=>{"w"===b?x(e=>e<=1?(T("w"),y(!0),I("Black"),N(!1),0):e-1):S(e=>e<=1?(T("b"),y(!0),I("White"),N(!1),0):e-1)},1e3);return()=>clearInterval(e)},[C,b,v,j]),n.useEffect(()=>{var e;if((null==(e=null==s?void 0:s.gameState)?void 0:e.fen)&&s.gameState.fen!==c.fen()){const e=new rt(s.gameState.fen);u(e),w(e.turn()),f(null),m([])}},[null==(r=null==s?void 0:s.gameState)?void 0:r.fen]);const A=e=>{if(!v&&b===g){if(!d){const t=c.get(e);if(t&&t.color===c.turn()){f(e);const t=c.moves({square:e,verbose:!0}).map(e=>e.to);m(t)}return}if(d===e)return f(null),void m([]);try{const t=new rt(c.fen()),n=t.move({from:d,to:e,promotion:"q"});if(n)u(t),f(null),m([]),w(t.turn()),s&&a(s.id,{fen:t.fen(),move:n,turn:t.turn()}),C||N(!0),t.isGameOver()&&(y(!0),I("w"===t.turn()?"Black":"White"),N(!1));else{const t=c.get(e);if(t&&t.color===c.turn()){f(e);const t=c.moves({square:e,verbose:!0}).map(e=>e.to);m(t)}else f(null),m([])}}catch(cZ){f(null),m([])}}},M=[],R=["a","b","c","d","e","f","g","h"],D=["8","7","6","5","4","3","2","1"];for(let n=0;n<8;n++)for(let e=0;e<8;e++){const t=R[e]+D[n],i=c.get(t),r=(n+e)%2==1,s=d===t,a=h.includes(t),o="k"===(null==i?void 0:i.type)&&i.color===c.turn()&&c.inCheck();M.push(ht.jsxs("div",{onClick:()=>{A(t),C||1!==c.history().length||startTimer()},className:`\n                        w-[12.5%] aspect-square flex items-center justify-center text-3xl cursor-pointer relative select-none\n                        ${r?"bg-[#769656]":"bg-[#eeeed2]"}\n                        ${s?"bg-yellow-200 ring-inset ring-4 ring-yellow-400":""}\n                        ${o?"bg-red-500":""}\n                    `,children:[a&&ht.jsx("div",{className:"absolute w-3 h-3 rounded-full "+(i?"ring-4 ring-black/20 w-full h-full rounded-none":"bg-black/20")}),ht.jsx("span",{className:""+("w"===(null==i?void 0:i.color)?"text-white drop-shadow-md":"text-black"),children:i&&P["w"===i.color?i.type.toUpperCase():i.type]}),0===e&&ht.jsx("span",{className:"absolute top-0.5 left-0.5 text-[8px] font-bold "+(r?"text-[#eeeed2]":"text-[#769656]"),children:D[n]}),7===n&&ht.jsx("span",{className:"absolute bottom-0.5 right-0.5 text-[8px] font-bold "+(r?"text-[#eeeed2]":"text-[#769656]"),children:R[e]})]},t))}const L=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`;return ht.jsxs("div",{className:"flex flex-col items-center gap-4 w-full max-w-[500px] mx-auto p-4",children:[ht.jsxs("div",{className:"w-full flex items-center justify-between bg-gray-100 dark:bg-gray-800 rounded-lg p-3 shadow-sm",children:[ht.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg transition-colors "+("w"===b&&C&&!v?"bg-white dark:bg-gray-700 ring-2 ring-blue-400":"bg-gray-50 dark:bg-gray-900"),children:[ht.jsx(ye,{size:18,className:k<30&&C&&!j?"text-red-500 animate-pulse":"text-gray-600 dark:text-gray-300"}),ht.jsx("span",{className:"font-mono font-bold "+(k<30&&C&&!j?"text-red-600 dark:text-red-400":"text-gray-900 dark:text-white"),children:L(k)}),ht.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"White"})]}),ht.jsx("button",{onClick:()=>{u(new rt),f(null),m([]),y(!1),I(null),x(t),S(t),N(!1),T(null),w("w")},className:"p-2 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-lg transition-colors",title:"Reset Game",children:ht.jsx(Ke,{size:20,className:"text-gray-600 dark:text-gray-300"})}),ht.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg transition-colors "+("b"===b&&C&&!v?"bg-gray-900 dark:bg-gray-700 ring-2 ring-red-400":"bg-gray-800 dark:bg-gray-900"),children:[ht.jsx("span",{className:"text-xs text-gray-300 dark:text-gray-400",children:"Black"}),ht.jsx("span",{className:"font-mono font-bold "+(_<30&&C&&!j?"text-red-400 animate-pulse":"text-white"),children:L(_)}),ht.jsx(ye,{size:18,className:_<30&&C&&!j?"text-red-400 animate-pulse":"text-gray-300"})]})]}),v&&ht.jsx("div",{className:"w-full bg-gradient-to-r from-yellow-400 to-yellow-600 text-white p-3 rounded-lg text-center font-bold animate-in zoom-in",children:j?`${E} wins on time! `:`${E} wins!`}),ht.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Chess"}),ht.jsx("div",{className:"flex flex-wrap w-full max-w-[350px] shadow-lg border-4 border-[#3a3a3a]",children:M})]})};class CX{validateMove(e,t){throw new Error("validateMove must be implemented")}executeMove(e,t){throw new Error("executeMove must be implemented")}checkGameOver(e){throw new Error("checkGameOver must be implemented")}getWinner(e){return null}}class NX extends CX{validateMove(e,t){var n;const{tokenIndex:i,diceRoll:r,playerId:s}=t,a=null==(n=e.positions)?void 0:n[s];if(!a||i>=a.length)return!1;const o=a[i];if(0===o&&6!==r)return!1;return!(this.calculateNewPosition(o,r,s)>57)}calculateNewPosition(e,t,n){if(0===e)return 6===t?1:0;let i=e+t;return i>57?e:57===i?100:i}checkCapture(e,t){if([0,1,9,14,22,27,35,40,48].includes(e))return null;for(let n=0;n<t.length;n++)if(t[n]===e&&e>0&&e<=52)return n;return null}checkGameOver(e){return!!e.positions&&Object.values(e.positions).some(e=>e.every(e=>57===e))}}class jX extends CX{validateMove(e,t){var n;const{position:i}=t;return!(i<0||i>8)&&null===(null==(n=e.board)?void 0:n[i])}checkWinner(e){const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let n=0;n<t.length;n++){const[i,r,s]=t[n];if(e[i]&&e[i]===e[r]&&e[i]===e[s])return{winner:e[i],line:t[n]}}return null}checkGameOver(e){var t;return null!==e.winner||!(null==(t=e.board)?void 0:t.includes(null))}}class TX extends CX{constructor(){var e,t;super(),this.snakes=(null==(e=bX[vX])?void 0:e.snakes)||{},this.ladders=(null==(t=bX[vX])?void 0:t.ladders)||{}}validateMove(e,t){return t.diceRoll>=1&&t.diceRoll<=6}calculateNewPosition(e,t){let n=e+t;return n>100?e:this.ladders[n]?this.ladders[n]:this.snakes[n]?this.snakes[n]:n}checkGameOver(e){var t;return null==(t=e.positions)?void 0:t.some(e=>100===e)}getWinner(e){const t=e.positions||[];for(let n=0;n<t.length;n++)if(100===t[n])return n;return null}}const EX=new class{constructor(){this.games=new Map,this.ruleEngines={[gX]:new NX,[yX]:new jX,[vX]:new TX}}getRuleEngine(e){return this.ruleEngines[e]}_getGameKey(e){return`game_${e}`}initGame(e,t,n={}){const i=this._getGameKey(e);if(!this.games.has(i)){let r={};switch(t){case gX:r=this._createLudoState();break;case yX:r=this._createTicTacToeState();break;case vX:r=this._createSnakeState();break;default:r={type:t,...n}}this.games.set(i,{id:e,type:t,state:r,lastUpdated:new Date})}return this.games.get(i)}getGameState(e){var t;return(null==(t=this.games.get(this._getGameKey(e)))?void 0:t.state)||null}_createLudoState(){return{loading:!1,winner:null,turn:"red",diceValues:[],positions:{red:[0,0,0,0],green:[0,0,0,0]}}}calculateLudoMove(e,t,n){if(0===e)return 6===t?1:0;let i=e+t;return i>57?e:57===i?100:i}_createTicTacToeState(){return{board:Array(9).fill(null),isXNext:!0,winner:null,winningLine:null}}checkTicTacToeWinner(e){const t=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(let n=0;n<t.length;n++){const[i,r,s]=t[n];if(e[i]&&e[i]===e[r]&&e[i]===e[s])return{winner:e[i],line:t[n]}}return null}checkLudoCapture(e,t){if([0,1,9,14,22,27,35,40,48].includes(e))return null;for(let n=0;n<t.length;n++)if(t[n]===e&&e>0&&e<=52)return n;return null}_createSnakeLaddersState(){return{snakes:{99:78,95:75,92:88,89:68,74:53,64:60,62:19,49:11,46:25,16:6},ladders:{2:38,7:14,8:31,15:26,21:42,28:84,36:44,51:67,71:91,78:98},positions:[0,0],turn:0,winner:null}}calculateSnakeLaddersMove(e,t){let n=e+t;if(n>100)return e;const i=this._snakeLaddersConfig||this._createSnakeLaddersState();return i.ladders[n]?i.ladders[n]:i.snakes[n]?i.snakes[n]:n}get _snakeLaddersConfig(){return this._cachedSnakeLaddersConfig||(this._cachedSnakeLaddersConfig=this._createSnakeLaddersState()),this._cachedSnakeLaddersConfig}checkSnakeLaddersWinner(e){for(let t=0;t<e.length;t++)if(100===e[t])return t;return null}validateMove(e,t,n){const i=this.getRuleEngine(e);if(i)try{return i.validateMove(t,n)}catch(r){return!1}return e===pX}_validateLudoMove(e,t){const{tokenIndex:n,playerId:i,diceRoll:r}=t,s=e.positions[i];if(!s||n>=s.length)return!1;const a=s[n];if(0===a&&6!==r)return!1;return!(this.calculateLudoMove(a,r,i)>57)}_validateTicTacToeMove(e,t){const{position:n}=t;return!(n<0||n>8)&&null===e.board[n]}isGameOver(e,t){const n=this.getRuleEngine(e);if(n)try{return n.checkGameOver(t)}catch(i){return!1}return!1}getWinner(e,t){const n=this.getRuleEngine(e);return n?n.getWinner(t):null}},IX=(e,t={},i={})=>{const{onGameEnd:r,onMove:s,onStateChange:a,autoAI:o=!0,aiDelay:l=1e3}=i,[c,u]=n.useState(t),[d,f]=n.useState(0),[h,m]=n.useState(null),[p,g]=n.useState(!1),[v,y]=n.useState(null),b=n.useRef(!1),w=n.useCallback(e=>{u(t=>{const n="function"==typeof e?e(t):{...t,...e};return a&&a(n),n})},[a]),k=n.useCallback(t=>{try{return EX.validateMove(e,c,t)}catch(n){return y(n.message),!1}},[e,c]),x=n.useCallback(e=>!p&&!h&&(k(e)?(y(null),s&&s(e,d),!0):(y("Invalid move"),!1)),[p,h,k,s,d]),_=n.useCallback((e=d)=>{const t=(e+1)%(c.numPlayers||2);return f(t),t},[d,c.numPlayers]),S=n.useCallback(()=>{try{if(EX.isGameOver(e,c)){let t=null;switch(e){case"tictactoe":t=c.winner;break;case"ludo":case"snake":t=d;break;default:t=null}return m(t),r&&r({winner:t,gameState:c,timestamp:(new Date).toISOString()}),!0}return!1}catch(t){return y(t.message),!1}},[e,c,d,r]),C=n.useCallback(()=>{u(t),f(0),m(null),y(null),g(!1),b.current=!1},[t]),N=n.useCallback(()=>{b.current||!o||h||(b.current=!0,g(!0),setTimeout(()=>{g(!1),b.current=!1},l))},[o,h,l]);return n.useEffect(()=>()=>{b.current=!1},[]),{gameState:c,turn:d,winner:h,loading:p,error:v,updateState:w,makeMove:x,validateMove:k,nextTurn:_,checkGameOver:S,resetGame:C,executeAIMove:N,setLoading:g,setError:y,setWinner:m}},PX=({onMove:e,onGameEnd:t,numPlayers:i=2})=>{const r=bX[gX],s={positions:{red:[0,0,0,0],green:[0,0,0,0],blue:[0,0,0,0],yellow:[0,0,0,0]},numPlayers:i},{gameState:a,turn:o,winner:l,updateState:c,makeMove:u,resetGame:d,setWinner:f}=IX(gX,s,{onGameEnd:t,onMove:e,autoAI:!1}),[h,m]=n.useState(null),[p,g]=n.useState(!1),[v,y]=n.useState(null),b=r.colors.slice(0,i),w=b[o%i],k=n.useCallback(()=>{p||h||l||2===i&&0!==o||(g(!0),setTimeout(()=>{const e=Math.floor(6*Math.random())+1;m(e),g(!1),x(w,e)?1===o&&2===i&&setTimeout(()=>C(e),1e3):setTimeout(()=>N(e),1e3)},xX))},[p,h,l,o,i,w]),x=n.useCallback((e,t)=>a.positions[e].some(e=>0===e?6===t:e+t<=57),[a]),_=n.useCallback(e=>{if(!h||l||0!==o)return;u({tokenIndex:e,diceRoll:h,playerId:w})&&S(e,h)},[h,l,o,w,u]),S=n.useCallback((e,n)=>{const r={...a.positions},s=r[w][e],l=EX.getRuleEngine(gX),u=l.calculateNewPosition(s,n,w);if(u===s&&0!==n&&0!==s)return;let d=!1;if(b.forEach(e=>{if(e===w)return;const t=l.checkCapture(u,r[e]);null!==t&&(r[e][t]=0,d=!0)}),r[w][e]=u,c({positions:r}),r[w].every(e=>57===e))return f(o),void(t&&t({winner:o,gameState:{positions:r},timestamp:(new Date).toISOString()}));6===n||d?(m(null),1===o&&2===i&&setTimeout(()=>k(),1e3)):N(n)},[a,w,b,c,f,t,o,i,k]),C=n.useCallback(e=>{const t=b[1],n=a.positions[t].map((e,t)=>({index:t,pos:e})).filter(({pos:t})=>0===t?6===e:t+e<=57);if(0===n.length)return void N(e);let i=n[0],r=-1;const s=EX.getRuleEngine(gX);n.forEach(({index:n,pos:o})=>{const l=s.calculateNewPosition(o,e,t);let c=l;b.forEach(e=>{if(e===t)return;null!==s.checkCapture(l,a.positions[e])&&(c+=100)}),0===o&&6===e&&(c+=10),c>r&&(r=c,i={index:n,pos:o})}),S(i.index,e)},[a,b,S]),N=n.useCallback(e=>{m(null),y(null);const t=(o+1)%i;c({turn:t}),1===t&&2===i&&setTimeout(()=>k(),1500)},[o,i,c,k]),j=n.useCallback(()=>{d(),m(null),g(!1),y(null)},[d]);return ht.jsx(_X,{minHeight:"500px",maxWidth:"600px",children:ht.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[ht.jsxs("div",{className:"flex items-center justify-between w-full max-w-[350px]",children:[ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Ludo King"}),ht.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:null!==l?`${b[l]} wins!`:`${w}'s turn`})]}),ht.jsx("button",{onClick:j,className:"p-2 md:p-3 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-xl transition-colors",title:"Reset Game",children:ht.jsx(Ke,{size:20,className:"text-gray-600 dark:text-gray-300"})})]}),ht.jsx("div",{className:"w-full max-w-[350px]",children:ht.jsxs("div",{className:"relative w-full aspect-square bg-white dark:bg-gray-800 grid grid-cols-11 grid-rows-11 shadow-2xl border-4 border-gray-800 rounded-lg overflow-hidden",children:[ht.jsx("div",{className:"col-span-4 row-span-4 bg-red-500 border-r-4 border-b-4 border-black p-3 grid grid-cols-2 gap-2",children:a.positions.red.map((e,t)=>ht.jsx("div",{className:"bg-white rounded-full flex items-center justify-center shadow-inner relative",children:0===e&&ht.jsx(fX.div,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>_(t),className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-red-600 ring-2 ring-black shadow-lg "+(0===o&&6===h?"cursor-pointer animate-pulse":"cursor-not-allowed opacity-50")})},`r-${t}`))}),ht.jsx("div",{className:"col-span-3 row-span-4 bg-gray-100 dark:bg-gray-700"}),ht.jsx("div",{className:"col-span-4 row-span-4 bg-green-500 border-l-4 border-b-4 border-black p-3 grid grid-cols-2 gap-2",children:a.positions.green.map((e,t)=>ht.jsx("div",{className:"bg-white rounded-full flex items-center justify-center shadow-inner",children:0===e&&ht.jsx("div",{className:"w-5 h-5 md:w-6 md:h-6 rounded-full bg-green-600 ring-2 ring-black shadow-lg"})},`g-${t}`))}),ht.jsx("div",{className:"col-span-4 row-span-3 bg-gray-100 dark:bg-gray-700"}),ht.jsxs("div",{className:"col-span-3 row-span-3 bg-gradient-to-br from-yellow-100 to-blue-100 dark:from-yellow-900 dark:to-blue-900 flex flex-col items-center justify-center border-4 border-black/20",children:[ht.jsx("div",{className:"text-xs font-bold text-gray-600 dark:text-gray-300",children:"HOME"}),ht.jsxs("div",{className:"flex gap-1 mt-1 flex-wrap justify-center",children:[a.positions.red.map((e,t)=>57===e&&ht.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full border border-white"},`rf-${t}`)),a.positions.green.map((e,t)=>57===e&&ht.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full border border-white"},`gf-${t}`))]})]}),ht.jsx("div",{className:"col-span-4 row-span-3 bg-gray-100 dark:bg-gray-700"}),ht.jsx("div",{className:"col-span-4 row-span-4 bg-blue-500 border-r-4 border-t-4 border-black "+(i<3?"opacity-30":"")}),ht.jsx("div",{className:"col-span-3 row-span-4 bg-gray-100 dark:bg-gray-700"}),ht.jsx("div",{className:"col-span-4 row-span-4 bg-yellow-400 border-l-4 border-t-4 border-black "+(i<4?"opacity-30":"")}),b.map(e=>a.positions[e].map((t,n)=>t>0&&t<57?ht.jsx(fX.div,{initial:{scale:0},animate:{scale:1},className:`absolute w-4 h-4 rounded-full bg-${e}-500 border-2 border-white shadow-lg`,style:{left:t%11*9+"%",top:9*Math.floor(t/11)+"%"}},`${e}-token-${n}-${t}`):null))]})}),ht.jsxs("div",{className:"flex justify-between w-full max-w-[350px] items-center px-4",children:[ht.jsxs("div",{className:"flex flex-col items-center gap-2 transition-all "+(0===o?"scale-110 opacity-100":"opacity-60"),children:[ht.jsx("div",{className:"font-bold text-red-600",children:"YOU"}),ht.jsx("div",{className:"flex gap-1",children:a.positions.red.map((e,t)=>e>0&&e<57&&ht.jsx(fX.div,{whileHover:{scale:1.1},onClick:()=>_(t),className:"w-6 h-6 bg-red-500 rounded-full border-2 border-white shadow-md flex items-center justify-center text-[8px] text-white font-bold "+(0===o&&h?"cursor-pointer hover:bg-red-400":"cursor-not-allowed"),children:e},t))})]}),ht.jsx("button",{onClick:k,disabled:0!==o||p||h||l,className:`\n              w-14 h-14 md:w-16 md:h-16 rounded-2xl flex items-center justify-center text-3xl md:text-4xl shadow-xl transition-all active:scale-95 border-2\n              ${0!==o||h||l?"bg-gray-200 dark:bg-gray-700 text-gray-400 border-gray-300 cursor-not-allowed":"bg-wa-teal hover:bg-teal-600 text-white cursor-pointer border-teal-700"}\n              ${p?"animate-spin":""}\n            `,children:h||""}),ht.jsxs("div",{className:"flex flex-col items-center gap-2 transition-all "+(1===o?"scale-110 opacity-100":"opacity-60"),children:[ht.jsx("div",{className:"font-bold text-green-600",children:"AI"}),ht.jsx("div",{className:"flex gap-1",children:a.positions.green.map((e,t)=>e>0&&e<57&&ht.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full border-2 border-white shadow-md flex items-center justify-center text-[8px] text-white font-bold",children:e},t))})]})]}),null!==l&&ht.jsxs(fX.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center gap-2",children:[ht.jsxs("div",{className:"text-2xl font-bold text-yellow-500 animate-bounce",children:[" ",b[l].toUpperCase()," Wins! "]}),ht.jsx("button",{onClick:j,className:"px-6 py-2 bg-wa-teal hover:bg-teal-600 text-white rounded-full font-bold shadow-lg transition-all active:scale-95",children:"Play Again"})]}),ht.jsx("div",{className:"text-xs text-center text-gray-500 dark:text-gray-400 max-w-[300px]",children:ht.jsx("p",{children:" Roll 6 to start  Capture opponents  Safe zones protect you  Reach home to win!"})})]})})},AX=({onMove:e,onGameEnd:t,numPlayers:i=2})=>{const r=bX[vX],s={positions:new Array(i).fill(0),numPlayers:i},{gameState:a,turn:o,winner:l,updateState:c,resetGame:u,setWinner:d}=IX(vX,s,{onGameEnd:t,onMove:e,autoAI:!1}),[f,h]=n.useState(null),[m,p]=n.useState(!1),[g,v]=n.useState("Roll the dice to start!"),[y,b]=n.useState(null),w=["bg-blue-500","bg-red-500","bg-green-500","bg-yellow-500"],k=["You","AI","Player 3","Player 4"],x=n.useCallback(()=>{m||l||0!==o&&2===i||_()},[m,l,o,i]),_=n.useCallback(()=>{p(!0),v("Rolling..."),setTimeout(()=>{const e=Math.floor(6*Math.random())+1;h(e),p(!1),S(e)},xX)},[]),S=n.useCallback(e=>{const n=a.positions[o];let i=n+e;if(i>100)return v(`Need ${100-n} to win! Try again.`),void C(e);b(i),setTimeout(()=>{const r=EX.getRuleEngine(vX).calculateNewPosition(n,e),s=[...a.positions];if(s[o]=r,c({positions:s}),v(r<i?` Snake! Down to ${r}`:r>i?` Ladder! Up to ${r}`:`Moved to ${r}`),100===r)return d(o),v(` ${k[o]} Wins!`),void(t&&t({winner:o,gameState:{...a,positions:s},timestamp:(new Date).toISOString()}));setTimeout(()=>{b(null),C(e)},kX)},wX)},[a,o,c,d,t,k]),C=n.useCallback(e=>{if(6===e&&null===l)return v(`Rolled 6! ${k[o]} rolls again!`),h(null),void(1===o&&setTimeout(()=>_(),1500));const t=(o+1)%i;c({turn:t}),h(null),1===t&&2===i?(v("AI's turn..."),setTimeout(()=>_(),1500)):v(`${k[t]}'s turn!`)},[o,l,i,k,_,c]),N=n.useCallback(()=>{u(),h(null),p(!1),v("Roll the dice to start!"),b(null)},[u]);return ht.jsx(_X,{minHeight:"600px",maxWidth:"600px",children:ht.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[ht.jsxs("div",{className:"flex items-center justify-between w-full max-w-[350px]",children:[ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Snake & Ladders"}),ht.jsx("p",{className:"text-sm text-wa-teal dark:text-wa-teal font-medium",children:g})]}),ht.jsx("button",{onClick:N,className:"p-2 md:p-3 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-xl transition-colors",title:"Reset Game",children:ht.jsx(Ke,{size:20,className:"text-gray-600 dark:text-gray-300"})})]}),ht.jsx("div",{className:"w-full max-w-[350px] aspect-square bg-white dark:bg-[#1a2c38] grid grid-cols-10 grid-rows-10 shadow-2xl border-4 border-gray-400 dark:border-gray-700 rounded-lg overflow-hidden",children:(()=>{const e=[];for(let t=9;t>=0;t--)for(let n=0;n<10;n++){let i=0;i=t%2==0?10*t+n+1:10*t+(10-n);const s=r.snakes[i],o=r.ladders[i],l=a.positions.map((e,t)=>e===i?t:null).filter(e=>null!==e),c=y===i;e.push(ht.jsxs(fX.div,{animate:c?{scale:[1,1.2,1]}:{},transition:{duration:.3},className:`\n              relative border border-gray-300 dark:border-gray-700 \n              flex items-center justify-center text-[10px] font-bold\n              ${s?"bg-red-100 dark:bg-red-900/30":""}\n              ${o?"bg-green-100 dark:bg-green-900/30":""}\n              ${c?"ring-2 ring-yellow-400":""}\n              transition-all duration-300\n            `,children:[ht.jsx("span",{className:"absolute top-0.5 left-0.5 text-gray-400 dark:text-gray-600 z-0",children:i}),s&&ht.jsx("div",{className:"text-lg z-10",children:""}),o&&ht.jsx("div",{className:"text-lg z-10",children:""}),l.length>0&&ht.jsx("div",{className:"absolute bottom-1 flex gap-0.5 z-20",children:l.map(e=>ht.jsx(fX.div,{initial:{scale:0},animate:{scale:1},className:`w-3 h-3 rounded-full ${w[e]} shadow border border-white`},e))})]},i))}return e})()}),ht.jsxs("div",{className:"flex justify-between w-full max-w-[350px] items-center px-4",children:[Array.from({length:i}).map((e,t)=>ht.jsxs("div",{className:"flex flex-col items-center transition-all "+(o===t?"opacity-100 scale-110":"opacity-50 scale-100"),children:[ht.jsx("div",{className:`w-10 h-10 ${w[t]} rounded-full flex items-center justify-center text-white text-xs font-bold border-2 border-white shadow-lg`,children:k[t][0]}),ht.jsxs("span",{className:"text-xs mt-1 font-medium text-gray-700 dark:text-gray-300",children:[a.positions[t],"/100"]})]},t)),2===i&&ht.jsx("div",{className:"flex flex-col items-center gap-2",children:ht.jsx("button",{onClick:x,disabled:0!==o||m||null!==l,className:`\n                  w-16 h-16 rounded-2xl flex items-center justify-center text-4xl shadow-xl transition-all active:scale-95 border-2\n                  ${0!==o||l?"bg-gray-200 dark:bg-gray-700 text-gray-400 border-gray-300 cursor-not-allowed":"bg-wa-teal hover:bg-teal-600 text-white cursor-pointer border-teal-700"}\n                  ${m?"animate-bounce":""}\n                `,children:f||""})})]}),null!==l&&ht.jsxs(fX.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"flex flex-col items-center gap-2",children:[ht.jsxs("div",{className:"text-2xl font-bold text-yellow-500 animate-bounce flex items-center gap-2",children:[" ",k[l]," Wins! "]}),ht.jsx("button",{onClick:N,className:"px-6 py-2 bg-wa-teal hover:bg-teal-600 text-white rounded-full font-bold shadow-lg transition-all active:scale-95",children:"Play Again"})]}),ht.jsx("div",{className:"text-xs text-center text-gray-500 dark:text-gray-400 max-w-[300px]",children:ht.jsx("p",{children:" Roll 6 to get another turn   Beware of snakes   Climb the ladders  Reach exactly 100 to win!"})})]})})},MX=({onMove:e,onGameEnd:t,aiEnabled:i=!0,aiDifficulty:r="medium"})=>{const s={board:Array(9).fill(null),isXNext:!0,winner:null,winningLine:null,numPlayers:2},{gameState:a,winner:o,loading:l,error:c,updateState:u,makeMove:d,resetGame:f,setWinner:h}=IX(yX,s,{onGameEnd:t,onMove:e,autoAI:!1}),[m,p]=n.useState(null),g=n.useCallback(e=>{if(l||o||null!==a.board[e])return;const n={position:e,player:a.isXNext?"X":"O"};if(!d(n))return;const r=[...a.board];r[e]=a.isXNext?"X":"O",u({board:r,isXNext:!a.isXNext});const s=EX.ruleEngines[yX].checkWinner(r);s?(h(s.winner),u({winner:s.winner,winningLine:s.line}),t&&t({winner:s.winner,gameState:{...a,board:r,winner:s.winner},timestamp:(new Date).toISOString()})):r.includes(null)?i&&!a.isXNext&&setTimeout(()=>v(r),500):(h("draw"),u({winner:"draw"}),t&&t({winner:null,isDraw:!0,gameState:{...a,board:r},timestamp:(new Date).toISOString()}))},[a,l,o,d,u,h,t,i]),v=n.useCallback(e=>{let t=-1;if("easy"===r){const n=e.map((e,t)=>null===e?t:null).filter(e=>null!==e);t=n[Math.floor(Math.random()*n.length)]}else t="medium"===r?y(e,"O")||y(e,"X")||b(e):w(e);-1!==t&&g(t)},[r,g]),y=(e,t)=>{const n=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const[i,r,s]of n){if(e[i]===t&&e[r]===t&&null===e[s])return s;if(e[i]===t&&e[s]===t&&null===e[r])return r;if(e[r]===t&&e[s]===t&&null===e[i])return i}return null},b=e=>{const t=e.map((e,t)=>null===e?t:null).filter(e=>null!==e);return t[Math.floor(Math.random()*t.length)]||-1},w=e=>{let t=-1/0,n=-1;for(let i=0;i<9;i++)if(null===e[i]){e[i]="O";const r=k(e,0,!1);e[i]=null,r>t&&(t=r,n=i)}return n},k=(e,t,n)=>{const i=EX.ruleEngines[yX].checkWinner(e);if(i)return"O"===i.winner?10-t:t-10;if(!e.includes(null))return 0;if(n){let n=-1/0;for(let i=0;i<9;i++)null===e[i]&&(e[i]="O",n=Math.max(n,k(e,t+1,!1)),e[i]=null);return n}{let n=1/0;for(let i=0;i<9;i++)null===e[i]&&(e[i]="X",n=Math.min(n,k(e,t+1,!0)),e[i]=null);return n}};return ht.jsx(_X,{minHeight:"500px",maxWidth:"500px",children:ht.jsxs("div",{className:"flex flex-col items-center gap-4 md:gap-6 w-full",children:[ht.jsxs("div",{className:"flex items-center justify-between w-full max-w-[350px]",children:[ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("h3",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white",children:"Tic-Tac-Toe"}),ht.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:o?"draw"===o?"It's a draw!":`${o} wins!`:(a.isXNext?"X":"O")+"'s turn"})]}),ht.jsx("button",{onClick:f,className:"p-2 md:p-3 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-xl transition-colors",title:"Reset Game",children:ht.jsx(Ke,{size:20,className:"text-gray-600 dark:text-gray-300"})})]}),ht.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-3 w-full max-w-[350px] mx-auto",children:a.board.map((e,t)=>{var n;const i=null==(n=a.winningLine)?void 0:n.includes(t),r=m===t&&!e&&!o;return ht.jsx(fX.button,{onClick:()=>g(t),onMouseEnter:()=>p(t),onMouseLeave:()=>p(null),disabled:l||o||null!==e,whileHover:e||o?{}:{scale:1.05},whileTap:e||o?{}:{scale:.95},className:`\n                aspect-square rounded-xl flex items-center justify-center text-5xl md:text-6xl font-bold\n                transition-all duration-200 shadow-md\n                ${i?"bg-gradient-to-br from-yellow-400 to-yellow-600 text-white ring-4 ring-yellow-300":"X"===e?"bg-gradient-to-br from-red-500 to-red-600 text-white":"O"===e?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":"bg-gray-100 dark:bg-gray-800 hover:bg-gray-200 dark:hover:bg-gray-700"}\n                ${r?"ring-2 ring-wa-teal":""}\n                ${e||o?"cursor-not-allowed":"cursor-pointer"}\n              `,style:{minHeight:"80px",minWidth:"80px"},children:e&&ht.jsx(fX.span,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20},children:e})},t)})}),o&&"draw"!==o&&ht.jsxs(fX.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-yellow-400 to-yellow-600 text-white rounded-full shadow-lg",children:[ht.jsx(He,{size:24}),ht.jsxs("span",{className:"font-bold text-lg",children:[o," Wins!"]})]}),c&&ht.jsx("div",{className:"text-red-500 text-sm text-center",children:c}),ht.jsx("div",{className:"text-xs text-center text-gray-500 dark:text-gray-400 max-w-[300px]",children:i?`Playing against AI (${r} difficulty)`:"Two player game"})]})})},RX=({gameType:e,...t})=>{switch(e){case"chess":return ht.jsx(SX,{...t});case"ludo":return ht.jsx(PX,{...t});case"snake":return ht.jsx(AX,{...t});case"tictactoe":return ht.jsx(MX,{...t});default:return ht.jsx("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:ht.jsxs("p",{children:["Unknown Game Type: ",e]})})}},DX=({game:e,onClose:t})=>{var i,r;const{users:s,currentUserId:a,activeGames:o}=YI(),[l,c]=n.useState([a]);if(!e)return null;const u=null==(i=e.players)?void 0:i.some(e=>e.userId===a);return ht.jsxs("div",{className:"absolute inset-0 bg-white/95 dark:bg-gray-900/95 backdrop-blur-sm z-20 flex flex-col",children:[ht.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-purple-700 p-4 flex items-center justify-between text-white shadow-lg",children:[ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx(b,{size:24}),ht.jsxs("div",{children:[ht.jsx("h3",{className:"font-bold text-lg",children:"Spectator Mode"}),ht.jsx("p",{className:"text-xs text-purple-200",children:"Watch only  No moves allowed"})]})]}),ht.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:ht.jsx(P,{size:20})})]}),ht.jsx("div",{className:"bg-purple-50 dark:bg-purple-900/20 border-b border-purple-200 dark:border-purple-800 px-4 py-2",children:ht.jsxs("div",{className:"flex items-center gap-2 text-sm text-purple-700 dark:text-purple-300",children:[ht.jsx(se,{size:16}),ht.jsxs("span",{className:"font-medium",children:[l.length," watching"]})]})}),ht.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[ht.jsx("div",{className:"mb-4 grid grid-cols-2 gap-3",children:null==(r=e.players)?void 0:r.map((e,t)=>{const n=s[e.userId];return ht.jsxs("div",{className:"bg-gray-100 dark:bg-gray-800 rounded-lg p-3 flex items-center gap-2",children:[ht.jsx("img",{src:(null==n?void 0:n.avatar)||"https://via.placeholder.com/40",alt:(null==n?void 0:n.name)||"Player",className:"w-8 h-8 rounded-full"}),ht.jsxs("div",{children:[ht.jsxs("p",{className:"font-semibold text-sm text-gray-900 dark:text-white",children:[(null==n?void 0:n.name)||"Player",e.userId===a&&" (You)"]}),ht.jsx("p",{className:"text-xs text-gray-500",children:e.color||`Player ${t+1}`})]})]},t)})}),ht.jsxs("div",{className:"text-center p-8 bg-purple-50 dark:bg-purple-900/10 rounded-lg border-2 border-dashed border-purple-300 dark:border-purple-700",children:[ht.jsx(b,{size:48,className:"mx-auto mb-4 text-purple-500"}),ht.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"Watching Game"}),ht.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 max-w-md mx-auto",children:u?"You're a player in this game. Close spectator mode to make moves.":"You're spectating this game. Game moves will update in real-time."}),l.length>1&&ht.jsxs("div",{className:"mt-4",children:[ht.jsx("p",{className:"text-xs font-semibold text-purple-700 dark:text-purple-300 mb-2",children:"Other Spectators:"}),ht.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:l.filter(e=>e!==a).map(e=>{const t=s[e];return ht.jsxs("div",{className:"flex items-center gap-1 bg-white dark:bg-gray-800 px-2 py-1 rounded-full text-xs",children:[ht.jsx("img",{src:(null==t?void 0:t.avatar)||"https://via.placeholder.com/20",alt:null==t?void 0:t.name,className:"w-4 h-4 rounded-full"}),ht.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:null==t?void 0:t.name})]},e)})})]})]}),ht.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2 text-center",children:[ht.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[ht.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Game Type"}),ht.jsx("p",{className:"text-lg font-bold text-gray-900 dark:text-white capitalize",children:e.type})]}),ht.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-3",children:[ht.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Status"}),ht.jsx("p",{className:"text-lg font-bold text-green-600 dark:text-green-400 capitalize",children:e.status})]})]})]}),ht.jsx("div",{className:"border-t border-gray-200 dark:border-gray-700 p-4 bg-gray-50 dark:bg-gray-800",children:ht.jsx("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:" Tip: Game updates will appear automatically as players make moves"})})]})},LX="game_chats";const OX=new class{constructor(){this.chats=new Map,this._loadFromStorage()}_loadFromStorage(){try{const e=localStorage.getItem(LX);if(e){const t=JSON.parse(e);this.chats=new Map(Object.entries(t))}}catch(e){}}_saveToStorage(){try{const e=Object.fromEntries(this.chats);localStorage.setItem(LX,JSON.stringify(e))}catch(e){}}addMessage(e,t){this.chats.has(e)||this.chats.set(e,[]);const n=this.chats.get(e),i={id:`msg_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,gameId:e,senderId:t.senderId,senderName:t.senderName,text:this._sanitize(t.text),type:t.type||"text",timestamp:Date.now(),reactions:[],...t};return n.push(i),n.length>100&&n.shift(),this.chats.set(e,n),this._saveToStorage(),i}getMessages(e,t=100){return(this.chats.get(e)||[]).slice(-t)}addReaction(e,t,n,i){const r=this.chats.get(e);if(!r)return;const s=r.find(e=>e.id===t);if(!s)return;s.reactions||(s.reactions=[]);const a=s.reactions.find(e=>e.emoji===n);a?a.userIds.includes(i)||a.userIds.push(i):s.reactions.push({emoji:n,userIds:[i]}),this._saveToStorage()}removeReaction(e,t,n,i){const r=this.chats.get(e);if(!r)return;const s=r.find(e=>e.id===t);if(!s||!s.reactions)return;const a=s.reactions.find(e=>e.emoji===n);a&&(a.userIds=a.userIds.filter(e=>e!==i),0===a.userIds.length&&(s.reactions=s.reactions.filter(e=>e.emoji!==n))),this._saveToStorage()}clearChat(e){this.chats.delete(e),this._saveToStorage()}_sanitize(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").slice(0,500)}addSystemMessage(e,t){return this.addMessage(e,{senderId:"system",senderName:"System",text:t,type:"system"})}},FX=({gameId:e,currentUserId:t,currentUserName:i,participants:r=[],isMinimized:s,onToggle:a})=>{const[o,l]=n.useState([]),[c,u]=n.useState(""),[d,f]=n.useState(!1),[h,m]=n.useState(0),p=n.useRef(null),g=n.useRef(null);n.useEffect(()=>{const n=OX.getMessages(e);l(n);return di.subscribeToGame(e,n=>{if(n.type===hi){const t=OX.addSystemMessage(e,`${n.data.playerName||"Player"} made a move`);l(e=>[...e,t])}else if("chat_message"===n.type){const i=OX.addMessage(e,n.data);l(e=>[...e,i]),s&&n.data.senderId!==t&&m(e=>e+1)}else"chat_reaction"===n.type&&(OX.addReaction(e,n.data.messageId,n.data.emoji,n.data.userId),l(t=>[...OX.getMessages(e)]))}),()=>{di.unsubscribeFromGame(e)}},[e,t,s]),n.useEffect(()=>{var e;s||null==(e=p.current)||e.scrollIntoView({behavior:"smooth"})},[o,s]),n.useEffect(()=>{s||m(0)},[s]);const v=()=>{var n;if(!c.trim())return;const r={senderId:t,senderName:i,text:c.trim(),type:"text"},s=OX.addMessage(e,r);l(e=>[...e,s]),di.sendGameEvent("chat_message",{gameId:e,...r}),u(""),null==(n=g.current)||n.focus()};return s?ht.jsxs(fX.button,{initial:{scale:0},animate:{scale:1},onClick:a,className:"fixed bottom-4 right-4 z-40 p-4 bg-wa-teal hover:bg-teal-600 text-white rounded-full shadow-lg transition-colors",children:[ht.jsx(Q,{size:24}),h>0&&ht.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center",children:h>9?"9+":h})]}):ht.jsxs(fX.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"fixed bottom-4 right-4 z-40 w-80 h-96 bg-white dark:bg-gray-800 rounded-lg shadow-2xl flex flex-col overflow-hidden border border-gray-200 dark:border-gray-700",children:[ht.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900",children:[ht.jsxs("div",{className:"flex items-center gap-2",children:[ht.jsx(Q,{size:18,className:"text-wa-teal"}),ht.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:"Game Chat"}),ht.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["(",r.length,")"]})]}),ht.jsxs("div",{className:"flex gap-1",children:[ht.jsx("button",{onClick:a,className:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",children:ht.jsx(Ye,{size:16,className:"text-gray-600 dark:text-gray-400"})}),ht.jsx("button",{onClick:()=>OX.clearChat(e),className:"p-1.5 hover:bg-gray-200 dark:hover:bg-gray-700 rounded transition-colors",children:ht.jsx(P,{size:16,className:"text-gray-600 dark:text-gray-400"})})]})]}),ht.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-2 bg-gray-50 dark:bg-gray-900",children:[ht.jsx(pG,{children:o.map(e=>{return ht.jsx(fX.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex flex-col "+("system"===e.type?"items-center":e.senderId===t?"items-end":"items-start"),children:"system"===e.type?ht.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 bg-gray-200 dark:bg-gray-700 px-3 py-1 rounded-full",children:e.text}):ht.jsxs("div",{className:`max-w-[80%] ${e.senderId===t?"bg-wa-teal text-white":"bg-white dark:bg-gray-800 text-gray-900 dark:text-white"} rounded-lg p-2 shadow`,children:[e.senderId!==t&&ht.jsx("div",{className:"text-xs font-semibold mb-1 opacity-70",children:e.senderName}),ht.jsx("div",{className:"emoji"===e.type?"text-2xl":"text-sm",children:e.text}),ht.jsx("div",{className:"text-xs opacity-70 mt-1",children:(n=e.timestamp,new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))}),e.reactions&&e.reactions.length>0&&ht.jsx("div",{className:"flex gap-1 mt-1",children:e.reactions.map((e,t)=>ht.jsxs("span",{className:"text-xs bg-white/20 px-1.5 py-0.5 rounded-full",children:[e.emoji," ",e.userIds.length]},t))})]})},e.id);var n})}),ht.jsx("div",{ref:p})]}),ht.jsxs("div",{className:"p-3 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:[d&&ht.jsx("div",{className:"mb-2 p-2 bg-gray-100 dark:bg-gray-700 rounded-lg grid grid-cols-8 gap-1",children:["","","","","","","",""].map(n=>ht.jsx("button",{onClick:()=>(n=>{const r={senderId:t,senderName:i,text:n,type:"emoji"},s=OX.addMessage(e,r);l(e=>[...e,s]),di.sendGameEvent("chat_message",{gameId:e,...r}),f(!1)})(n),className:"text-xl hover:bg-gray-200 dark:hover:bg-gray-600 rounded p-1 transition-colors",children:n},n))}),ht.jsxs("div",{className:"flex gap-2",children:[ht.jsx("button",{onClick:()=>f(!d),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors",children:ht.jsx(O,{size:20,className:"text-gray-600 dark:text-gray-400"})}),ht.jsx("input",{ref:g,type:"text",value:c,onChange:e=>u(e.target.value),onKeyPress:e=>"Enter"===e.key&&v(),placeholder:"Type a message...",className:"flex-1 px-3 py-2 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-wa-teal",maxLength:500}),ht.jsx("button",{onClick:v,disabled:!c.trim(),className:"p-2 bg-wa-teal hover:bg-teal-600 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:ht.jsx(M,{size:20})})]})]})]})},zX=()=>{const{activeGame:e,closeGame:t,minimizeGame:i,maximizeGame:r,currentUserId:s,currentUser:a}=YI(),o=uq(mX),{width:l,height:c,isMobile:u,isTablet:d,isDesktop:f,isPortrait:h,isLandscape:m,isMobileSmall:p}=KB(),[g,v]=n.useState(!1),[y,w]=n.useState(!0),k=n.useMemo(()=>{if(u){if(h){const e=Math.min(.95*l,400),t=Math.min(.7*c,650),n=l<360||c<640;return{width:n?l:e,height:n?c-80:t,bottomPosition:n?"inset-0":"bottom-20",isFullscreen:n}}return{width:Math.min(.6*l,500),height:Math.min(.85*c,600),bottomPosition:"bottom-4",isFullscreen:!1}}if(d)return h?{width:Math.min(.7*l,550),height:Math.min(.65*c,700),bottomPosition:"bottom-6",isFullscreen:!1}:{width:Math.min(.5*l,600),height:Math.min(.75*c,650),bottomPosition:"bottom-4",isFullscreen:!1};return{width:l>=1920?600:l>=1440?500:420,height:Math.min(.8*c,750),bottomPosition:"bottom-4",isFullscreen:!1}},[l,c,u,d,f,h,m]);if(!e)return null;const x=bX[e.type],_=e=>(null==x?void 0:x.icon)||ht.jsx(F,{size:18}),S=e=>(null==x?void 0:x.displayName)||"Game",C=e=>({chess:"bg-indigo-600",ludo:"bg-red-600",snake:"bg-green-600",tictactoe:"bg-blue-600"}[e]||"bg-wa-teal");if(e.isMinimized){const t=p?40:44,n=p?"pl-2 pr-3 py-2":"pl-2 pr-4 py-2.5";return ht.jsxs(fX.div,{initial:{y:50,opacity:0},animate:{y:0,opacity:1},exit:{y:50,opacity:0},drag:!0,dragConstraints:{left:-(l-100),right:20,top:-(c-100),bottom:20},onClick:r,className:`fixed ${"inset-0"===k.bottomPosition?"bottom-20":k.bottomPosition} right-4 z-[100] flex items-center gap-2 md:gap-3 bg-white dark:bg-wa-dark-paper ${n} rounded-full shadow-2xl cursor-pointer border border-wa-border dark:border-gray-700 hover:scale-105 transition-transform`,style:{minHeight:"44px"},children:[ht.jsx("div",{className:`rounded-full ${C(e.type)} text-white flex items-center justify-center shadow-lg`,style:{width:t,height:t},children:_(e.type)}),ht.jsxs("div",{className:"flex flex-col",children:[ht.jsx("span",{className:(p?"text-xs":"text-sm")+" font-bold text-[#111b21] dark:text-gray-100 truncate max-w-[120px]",children:S(e.type)}),ht.jsxs("span",{className:"text-[10px] text-green-500 font-black uppercase flex items-center gap-1",children:[ht.jsx("span",{className:"w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"}),"In Progress"]})]})]})}return ht.jsx(pG,{children:ht.jsxs(fX.div,{initial:{scale:.9,opacity:0,y:50},animate:{scale:1,opacity:1,y:0},exit:{scale:.9,opacity:0,y:50},drag:!k.isFullscreen,dragControls:o,dragListener:!k.isFullscreen,dragConstraints:{left:-(l-k.width),right:0,top:-(c-k.height),bottom:0},className:"fixed z-[100] flex flex-col bg-white dark:bg-[#111b21] overflow-hidden "+(k.isFullscreen?"inset-0":`${k.bottomPosition} right-4 rounded-2xl shadow-2xl border border-wa-border dark:border-gray-700`),style:k.isFullscreen?{}:{width:k.width,height:k.height,maxHeight:"90vh"},children:[ht.jsxs("div",{onPointerDown:e=>!k.isFullscreen&&o.start(e),className:`${C(e.type)} p-3 md:p-4 flex justify-between items-center text-white shrink-0 shadow-lg z-10 ${k.isFullscreen?"":"cursor-grab active:cursor-grabbing"} select-none`,children:[ht.jsxs("div",{className:"flex items-center gap-2 md:gap-3 flex-1 min-w-0",children:[ht.jsx("div",{className:"bg-white/20 p-1.5 rounded-lg shrink-0",children:_(e.type)}),ht.jsx("span",{className:"font-bold tracking-tight text-base md:text-lg truncate",children:S(e.type)})]}),ht.jsxs("div",{className:"flex items-center gap-1 md:gap-2 shrink-0",children:[ht.jsx("button",{onPointerDown:e=>e.stopPropagation(),onClick:()=>v(!g),className:"p-2 rounded-xl transition-colors "+(g?"bg-purple-500 text-white":"hover:bg-white/20"),style:{minWidth:"44px",minHeight:"44px"},title:"Toggle Spectator Mode",children:ht.jsx(b,{size:20,strokeWidth:2.5})}),!k.isFullscreen&&ht.jsx("button",{onPointerDown:e=>e.stopPropagation(),onClick:i,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:ht.jsx(Ye,{size:20,strokeWidth:2.5})}),ht.jsx("button",{onPointerDown:e=>e.stopPropagation(),onClick:t,className:"p-2 hover:bg-red-500/40 rounded-xl transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:ht.jsx(P,{size:20,strokeWidth:2.5})})]})]}),ht.jsx("div",{className:"flex-1 flex flex-col bg-wa-grayBg dark:bg-[#0b141a] relative overflow-hidden",children:ht.jsxs("div",{className:"flex-1 overflow-auto relative",children:[g&&ht.jsx(DX,{game:e,onClose:()=>v(!1)}),ht.jsx(RX,{gameType:e.type})]})}),ht.jsx(FX,{gameId:e.id,currentUserId:s,currentUserName:(null==a?void 0:a.name)||"You",participants:e.players||[],isMinimized:y,onToggle:()=>w(!y)})]})})},UX=()=>{const{activeGames:e,gameHistory:t,users:i,currentUserId:r}=YI();return n.useEffect(()=>{var e,n,s,a;if(t.length>0){const o=t[0],l=new Date(o.endedAt);if((new Date-l)/1e3<2){const t=(null==(e=o.result)?void 0:e.winner)===r;let l="";if(null==(n=o.result)?void 0:n.isDraw)l=`Game ended in a draw - ${ui(o.type)}`;else if(t)l=`You won! - ${ui(o.type)}`;else{l=`${(null==(s=o.result)?void 0:s.winner)?null==(a=i[o.result.winner])?void 0:a.name:"Opponent"} won - ${ui(o.type)}`}"Notification"in window&&"granted"===Notification.permission&&new Notification("WhatsApp Game",{body:l,icon:"/favicon.ico",badge:"/favicon.ico"})}}},[t,i,r]),null},BX=()=>{const{isGameInviteOpen:e,closeGameInvite:t,inviteToGame:n,inviteOptions:i}=YI();return ht.jsxs(ht.Fragment,{children:[ht.jsx(lq,{isOpen:e,isGroup:i.isGroup,onClose:t,onSelectGame:e=>{i.chatId?n(i.chatId,e):t()}}),ht.jsx(zX,{}),ht.jsx(UX,{})]})};var VX,qX={};function $X(){return VX||(VX=1,function(){var e;function t(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof p&&p];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,t){if(t)e:{var r=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in r))break e;r=r[a]}(t=t(s=r[e=e[e.length-1]]))!=s&&null!=t&&n(r,e,{configurable:!0,writable:!0,value:t})}}function s(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function a(e){var n="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return n?n.call(e):{next:t(e)}}function o(e){if(!(e instanceof Array)){e=a(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}r("Symbol",function(e){function t(e,t){this.g=e,n(this,"description",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.g};var i="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",r=0;return function e(n){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new t(i+(n||"")+"_"+r++,n)}}),r("Symbol.iterator",function(e){if(e)return e;e=Symbol("Symbol.iterator");for(var r="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),a=0;a<r.length;a++){var o=i[r[a]];"function"==typeof o&&"function"!=typeof o.prototype[e]&&n(o.prototype,e,{configurable:!0,writable:!0,value:function(){return s(t(this))}})}return e});var l,c="function"==typeof Object.create?Object.create:function(e){function t(){}return t.prototype=e,new t};if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var u;e:{var d={};try{d.__proto__={a:!0},u=d.a;break e}catch(vt){}u=!1}l=u?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+" is not extensible");return e}:null}var f=l;function h(e,t){if(e.prototype=c(t.prototype),e.prototype.constructor=e,f)f(e,t);else for(var n in t)if("prototype"!=n)if(Object.defineProperties){var i=Object.getOwnPropertyDescriptor(t,n);i&&Object.defineProperty(e,n,i)}else e[n]=t[n];e.ea=t.prototype}function m(){this.l=!1,this.i=null,this.h=void 0,this.g=1,this.s=this.m=0,this.j=null}function g(e){if(e.l)throw new TypeError("Generator is already running");e.l=!0}function v(e,t){e.j={U:t,V:!0},e.g=e.m||e.s}function y(e,t,n){return e.g=n,{value:t}}function b(e){this.g=new m,this.h=e}function w(e,t,n,i){try{var r=t.call(e.g.i,n);if(!(r instanceof Object))throw new TypeError("Iterator result "+r+" is not an object");if(!r.done)return e.g.l=!1,r;var s=r.value}catch(a){return e.g.i=null,v(e.g,a),k(e)}return e.g.i=null,i.call(e.g,s),k(e)}function k(e){for(;e.g.g;)try{var t=e.h(e.g);if(t)return e.g.l=!1,{value:t.value,done:!1}}catch(n){e.g.h=void 0,v(e.g,n)}if(e.g.l=!1,e.g.j){if(t=e.g.j,e.g.j=null,t.V)throw t.U;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function x(e){this.next=function(t){return g(e.g),e.g.i?t=w(e,e.g.i.next,t,e.g.o):(e.g.o(t),t=k(e)),t},this.throw=function(t){return g(e.g),e.g.i?t=w(e,e.g.i.throw,t,e.g.o):(v(e.g,t),t=k(e)),t},this.return=function(t){return function(e,t){g(e.g);var n=e.g.i;return n?w(e,"return"in n?n.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),k(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function _(e,t){return t=new x(new b(t)),f&&e.prototype&&f(t,e.prototype),t}m.prototype.o=function(e){this.h=e},m.prototype.return=function(e){this.j={return:e},this.g=this.s};var S="function"==typeof Object.assign?Object.assign:function(e,t){for(var n=1;n<arguments.length;n++){var i=arguments[n];if(i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};r("Object.assign",function(e){return e||S}),r("Promise",function(e){function t(e){this.h=0,this.i=void 0,this.g=[],this.o=!1;var t=this.j();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.g=null}function r(e){return e instanceof t?e:new t(function(t){t(e)})}if(e)return e;n.prototype.h=function(e){if(null==this.g){this.g=[];var t=this;this.i(function(){t.l()})}this.g.push(e)};var s=i.setTimeout;n.prototype.i=function(e){s(e,0)},n.prototype.l=function(){for(;this.g&&this.g.length;){var e=this.g;this.g=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(i){this.j(i)}}}this.g=null},n.prototype.j=function(e){this.i(function(){throw e})},t.prototype.j=function(){function e(e){return function(i){n||(n=!0,e.call(t,i))}}var t=this,n=!1;return{resolve:e(this.C),reject:e(this.l)}},t.prototype.C=function(e){if(e===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.F(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.u(e):this.m(e)}},t.prototype.u=function(e){var t=void 0;try{t=e.then}catch(n){return void this.l(n)}"function"==typeof t?this.G(t,e):this.m(e)},t.prototype.l=function(e){this.s(2,e)},t.prototype.m=function(e){this.s(1,e)},t.prototype.s=function(e,t){if(0!=this.h)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.h);this.h=e,this.i=t,2===this.h&&this.D(),this.A()},t.prototype.D=function(){var e=this;s(function(){if(e.B()){var t=i.console;void 0!==t&&t.error(e.i)}},1)},t.prototype.B=function(){if(this.o)return!1;var e=i.CustomEvent,t=i.Event,n=i.dispatchEvent;return void 0===n||("function"==typeof e?e=new e("unhandledrejection",{cancelable:!0}):"function"==typeof t?e=new t("unhandledrejection",{cancelable:!0}):(e=i.document.createEvent("CustomEvent")).initCustomEvent("unhandledrejection",!1,!0,e),e.promise=this,e.reason=this.i,n(e))},t.prototype.A=function(){if(null!=this.g){for(var e=0;e<this.g.length;++e)o.h(this.g[e]);this.g=null}};var o=new n;return t.prototype.F=function(e){var t=this.j();e.J(t.resolve,t.reject)},t.prototype.G=function(e,t){var n=this.j();try{e.call(t,n.resolve,n.reject)}catch(i){n.reject(i)}},t.prototype.then=function(e,n){function i(e,t){return"function"==typeof e?function(t){try{r(e(t))}catch(n){s(n)}}:t}var r,s,a=new t(function(e,t){r=e,s=t});return this.J(i(e,r),i(n,s)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.J=function(e,t){function n(){switch(i.h){case 1:e(i.i);break;case 2:t(i.i);break;default:throw Error("Unexpected state: "+i.h)}}var i=this;null==this.g?o.h(n):this.g.push(n),this.o=!0},t.resolve=r,t.reject=function(e){return new t(function(t,n){n(e)})},t.race=function(e){return new t(function(t,n){for(var i=a(e),s=i.next();!s.done;s=i.next())r(s.value).J(t,n)})},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t(function(e,t){function s(t){return function(n){a[t]=n,0==--o&&e(a)}}var a=[],o=0;do{a.push(void 0),o++,r(i.value).J(s(a.length-1),t),i=n.next()}while(!i.done)})},t}),r("Object.is",function(e){return e||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),r("Array.prototype.includes",function(e){return e||function(e,t){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(0>(t=t||0)&&(t=Math.max(t+i,0));t<i;t++){var r=n[t];if(r===e||Object.is(r,e))return!0}return!1}}),r("String.prototype.includes",function(e){return e||function(e,t){if(null==this)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return-1!==this.indexOf(e,t||0)}}),r("Array.prototype.keys",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,function(e){return e})}});var C=this||self;function N(e,t){e=e.split(".");var n,i=C;e[0]in i||void 0===i.execScript||i.execScript("var "+e[0]);for(;e.length&&(n=e.shift());)e.length||void 0===t?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=t}function j(e,t){return t=String.fromCharCode.apply(null,t),null==e?t:e+t}var T,E,I="undefined"!=typeof TextDecoder,P="undefined"!=typeof TextEncoder;function A(e){if(P)e=(E||(E=new TextEncoder)).encode(e);else{var t=void 0;t=void 0!==t&&t;for(var n=0,i=new Uint8Array(3*e.length),r=0;r<e.length;r++){var s=e.charCodeAt(r);if(128>s)i[n++]=s;else{if(2048>s)i[n++]=s>>6|192;else{if(55296<=s&&57343>=s){if(56319>=s&&r<e.length){var a=e.charCodeAt(++r);if(56320<=a&&57343>=a){s=1024*(s-55296)+a-56320+65536,i[n++]=s>>18|240,i[n++]=s>>12&63|128,i[n++]=s>>6&63|128,i[n++]=63&s|128;continue}r--}if(t)throw Error("Found an unpaired surrogate");s=65533}i[n++]=s>>12|224,i[n++]=s>>6&63|128}i[n++]=63&s|128}}e=i.subarray(0,n)}return e}var M={},R=null;function D(e,t){void 0===t&&(t=0),O(),t=M[t];for(var n=Array(Math.floor(e.length/3)),i=t[64]||"",r=0,s=0;r<e.length-2;r+=3){var a=e[r],o=e[r+1],l=e[r+2],c=t[a>>2];a=t[(3&a)<<4|o>>4],o=t[(15&o)<<2|l>>6],l=t[63&l],n[s++]=c+a+o+l}switch(c=0,l=i,e.length-r){case 2:l=t[(15&(c=e[r+1]))<<2]||i;case 1:e=e[r],n[s]=t[e>>2]+t[(3&e)<<4|c>>4]+l+i}return n.join("")}function L(e){var t=e.length,n=3*t/4;n%3?n=Math.floor(n):-1!="=.".indexOf(e[t-1])&&(n=-1!="=.".indexOf(e[t-2])?n-2:n-1);var i=new Uint8Array(n),r=0;return function(e,t){function n(t){for(;i<e.length;){var n=e.charAt(i++),r=R[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}O();for(var i=0;;){var r=n(-1),s=n(0),a=n(64),o=n(64);if(64===o&&-1===r)break;t(r<<2|s>>4),64!=a&&(t(s<<4&240|a>>2),64!=o&&t(a<<6&192|o))}}(e,function(e){i[r++]=e}),i.subarray(0,r)}function O(){if(!R){R={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++){var i=e.concat(t[n].split(""));M[n]=i;for(var r=0;r<i.length;r++){var s=i[r];void 0===R[s]&&(R[s]=r)}}}}var F,z="function"==typeof Uint8Array.prototype.slice;function U(e,t,n){return t===n?F||(F=new Uint8Array(0)):z?e.slice(t,n):new Uint8Array(e.subarray(t,n))}var B=0;function V(e,t){t=void 0!==(t=void 0===t?{}:t).v&&t.v,this.h=null,this.g=this.j=this.l=0,this.m=!1,this.v=t,e&&q(this,e)}function q(e,t){t=t.constructor===Uint8Array?t:t.constructor===ArrayBuffer||t.constructor===Array?new Uint8Array(t):t.constructor===String?L(t):t instanceof Uint8Array?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):new Uint8Array(0),e.h=t,e.l=0,e.j=e.h.length,e.g=e.l}function $(e){for(var t=128,n=0,i=0,r=0;4>r&&128<=t;r++)n|=(127&(t=e.h[e.g++]))<<7*r;if(128<=t&&(n|=(127&(t=e.h[e.g++]))<<28,i|=(127&t)>>4),128<=t)for(r=0;5>r&&128<=t;r++)i|=(127&(t=e.h[e.g++]))<<7*r+3;if(128>t)return e=n>>>0,(i=2147483648&(t=i>>>0))&&(t=~t>>>0,0==(e=1+~e>>>0)&&(t=t+1>>>0)),e=4294967296*t+(e>>>0),i?-e:e;e.m=!0}V.prototype.reset=function(){this.g=this.l},V.prototype.i=function(){var e=this.h,t=e[this.g],n=127&t;return 128>t?(this.g+=1,n):(n|=(127&(t=e[this.g+1]))<<7,128>t?(this.g+=2,n):(n|=(127&(t=e[this.g+2]))<<14,128>t?(this.g+=3,n):(n|=(127&(t=e[this.g+3]))<<21,128>t?(this.g+=4,n):(n|=(15&(t=e[this.g+4]))<<28,128>t?(this.g+=5,n>>>0):(this.g+=5,128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&128<=e[this.g++]&&this.g++,n)))))},V.prototype.o=function(){var e=this.h[this.g],t=this.h[this.g+1],n=this.h[this.g+2],i=this.h[this.g+3];return this.g+=4,e=2*((n=(e|t<<8|n<<16|i<<24)>>>0)>>31)+1,t=n>>>23&255,n&=8388607,255==t?n?NaN:1/0*e:0==t?e*Math.pow(2,-149)*n:e*Math.pow(2,t-150)*(n+Math.pow(2,23))};var W=[];function H(){this.g=new Uint8Array(64),this.h=0}function G(e,t){for(;127<t;)e.push(127&t|128),t>>>=7;e.push(t)}function K(e){var t={},n=void 0!==t.N&&t.N;this.o={v:void 0!==t.v&&t.v},this.N=n,t=this.o,W.length?(n=W.pop(),t&&(n.v=t.v),e&&q(n,e),e=n):e=new V(e,t),this.g=e,this.m=this.g.g,this.h=this.i=this.l=-1,this.j=!1}function Y(e){var t=e.g;if((t=t.g==t.j)||(t=e.j)||(t=(t=e.g).m||0>t.g||t.g>t.j),t)return!1;e.m=e.g.g;var n=7&(t=e.g.i());return 0!=n&&5!=n&&1!=n&&2!=n&&3!=n&&4!=n?(e.j=!0,!1):(e.i=t,e.l=t>>>3,e.h=n,!0)}function Q(e){switch(e.h){case 0:if(0!=e.h)Q(e);else{for(e=e.g;128&e.h[e.g];)e.g++;e.g++}break;case 1:1!=e.h?Q(e):(e=e.g).g+=8;break;case 2:if(2!=e.h)Q(e);else{var t=e.g.i();(e=e.g).g+=t}break;case 5:5!=e.h?Q(e):(e=e.g).g+=4;break;case 3:for(t=e.l;;){if(!Y(e)){e.j=!0;break}if(4==e.h){e.l!=t&&(e.j=!0);break}Q(e)}break;default:e.j=!0}}function X(e,t,n){var i=e.g.j,r=e.g.i(),s=e.g.g+r;if(e.g.j=s,n(t,e),0!==(n=s-e.g.g))throw Error("Message parsing ended unexpectedly. Expected to read "+r+" bytes, instead read "+(r-n)+" bytes, either the data ended unexpectedly or the message misreported its own length");return e.g.g=s,e.g.j=i,t}function J(e){return e.g.o()}function Z(e){var t,n=e.g.i(),i=(e=e.g).g;if(e.g+=n,e=e.h,I)(t=T)||(t=T=new TextDecoder("utf-8",{fatal:!1})),t=t.decode(e.subarray(i,i+n));else{n=i+n;for(var r,s,a,o=[],l=null;i<n;)128>(r=e[i++])?o.push(r):224>r?i>=n?o.push(65533):(s=e[i++],194>r||128!=(192&s)?(i--,o.push(65533)):o.push((31&r)<<6|63&s)):240>r?i>=n-1?o.push(65533):128!=(192&(s=e[i++]))||224===r&&160>s||237===r&&160<=s||128!=(192&(t=e[i++]))?(i--,o.push(65533)):o.push((15&r)<<12|(63&s)<<6|63&t):244>=r?i>=n-2?o.push(65533):128!=(192&(s=e[i++]))||s-144+(r<<28)>>30||128!=(192&(t=e[i++]))||128!=(192&(a=e[i++]))?(i--,o.push(65533)):(r=(7&r)<<18|(63&s)<<12|(63&t)<<6|63&a,r-=65536,o.push(55296+(r>>10&1023),56320+(1023&r))):o.push(65533),8192<=o.length&&(l=j(l,o),o.length=0);t=j(l,o)}return t}function ee(e,t,n){var i=e.g.i();for(i=e.g.g+i;e.g.g<i;)n.push(t.call(e.g))}function te(e,t){2==e.h?ee(e,V.prototype.o,t):t.push(J(e))}function ne(){this.h=[],this.i=0,this.g=new H}function ie(e,t){0!==t.length&&(e.h.push(t),e.i+=t.length)}function re(e){var t=e.i+e.g.length();if(0===t)return new Uint8Array(0);t=new Uint8Array(t);for(var n=e.h,i=n.length,r=0,s=0;s<i;s++){var a=n[s];0!==a.length&&(t.set(a,r),r+=a.length)}return 0!==(i=(n=e.g).h)&&(t.set(n.g.subarray(0,i),r),n.h=0),e.h=[t],t}function se(e,t,n){if(null!=n){G(e.g,8*t+5),e=e.g;var i=n;0===(i=(n=0>i?1:0)?-i:i)?0<1/i?B=0:B=2147483648:isNaN(i)?B=2147483647:34028234663852886e22<i?B=(n<<31|2139095040)>>>0:11754943508222875e-54>i?(i=Math.round(i/Math.pow(2,-149)),B=(n<<31|i)>>>0):(t=Math.floor(Math.log(i)/Math.LN2),i*=Math.pow(2,-t),16777216<=(i=Math.round(8388608*i))&&++t,B=(n<<31|t+127<<23|8388607&i)>>>0),n=B,e.push(n>>>0&255),e.push(n>>>8&255),e.push(n>>>16&255),e.push(n>>>24&255)}}H.prototype.push=function(e){if(!(this.h+1<this.g.length)){var t=this.g;this.g=new Uint8Array(Math.ceil(1+2*this.g.length)),this.g.set(t)}this.g[this.h++]=e},H.prototype.length=function(){return this.h},H.prototype.end=function(){var e=this.g,t=this.h;return this.h=0,U(e,0,t)},K.prototype.reset=function(){this.g.reset(),this.h=this.l=-1};var ae="function"==typeof Uint8Array;function oe(e,t,n){if(null!=e)return"object"==typeof e?ae&&e instanceof Uint8Array?n(e):le(e,t,n):t(e)}function le(e,t,n){if(Array.isArray(e)){for(var i=Array(e.length),r=0;r<e.length;r++)i[r]=oe(e[r],t,n);return Array.isArray(e)&&e.W&&fe(i),i}for(r in i={},e)i[r]=oe(e[r],t,n);return i}function ce(e){return"number"==typeof e?isFinite(e)?e:String(e):e}var ue,de={W:{value:!0,configurable:!0}};function fe(e){return Array.isArray(e)&&!Object.isFrozen(e)&&Object.defineProperties(e,de),e}function he(e,t,n){var i=ue;if(ue=null,e||(e=i),i=this.constructor.ca,e||(e=i?[i]:[]),this.j=i?0:-1,this.m=this.g=null,this.h=e,e=(i=this.h.length)-1,!i||(null===(i=this.h[e])||"object"!=typeof i||Array.isArray(i)||ae&&i instanceof Uint8Array)?void 0!==t&&-1<t?(this.l=Math.max(t,e+1-this.j),this.i=null):this.l=Number.MAX_VALUE:(this.l=e-this.j,this.i=i),n)for(t=0;t<n.length;t++)(e=n[t])<this.l?(e+=this.j,(i=this.h[e])?fe(i):this.h[e]=me):(pe(this),(i=this.i[e])?fe(i):this.i[e]=me)}var me=Object.freeze(fe([]));function pe(e){var t=e.l+e.j;e.h[t]||(e.i=e.h[t]={})}function ge(e,t,n){return-1===t?null:void 0!==n&&n||t>=e.l?e.i?e.i[t]:void 0:e.h[t+e.j]}function ve(e,t){var n=void 0!==n&&n,i=ge(e,t,n);return null==i&&(i=me),i===me&&ke(e,t,i=fe([]),n),i}function ye(e){var t=ve(e,3);if(e.m||(e.m={}),!e.m[3]){for(var n=0;n<t.length;n++)t[n]=+t[n];e.m[3]=!0}return t}function be(e,t,n){return null==(e=ge(e,t))?n:e}function we(e,t,n){return null==(e=null==(e=ge(e,t))?e:+e)?void 0===n?0:n:e}function ke(e,t,n,i){void 0!==i&&i||t>=e.l?(pe(e),e.i[t]=n):e.h[t+e.j]=n}function xe(e,t,n){if(-1===n)return null;if(e.g||(e.g={}),!e.g[n]){var i=ge(e,n,!1);i&&(e.g[n]=new t(i))}return e.g[n]}function _e(e,t){e.g||(e.g={});var n=e.g[1];if(!n){var i=ve(e,1);n=[];for(var r=0;r<i.length;r++)n[r]=new t(i[r]);e.g[1]=n}return n}function Se(e,t,n){var i=void 0!==i&&i;e.g||(e.g={});var r=n?Ne(n):n;e.g[t]=n,ke(e,t,r,i)}function Ce(e,t,n,i){var r=_e(e,n);t=t||new n,e=ve(e,1),null!=i?(r.splice(i,0,t),e.splice(i,0,Ne(t))):(r.push(t),e.push(Ne(t)))}function Ne(e,t){if(e.g)for(var n in e.g){var i=e.g[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)i[r]&&Ne(i[r]);else i&&Ne(i)}return e.h}function je(e,t){if(e=e.o){ie(t,t.g.end());for(var n=0;n<e.length;n++)ie(t,e[n])}}function Te(e,t){if(4==t.h)return!1;var n=t.m;return Q(t),t.N||(t=U(t.g.h,n,t.g.g),(n=e.o)?n.push(t):e.o=[t]),!0}function Ee(e){he.call(this,e,-1,Pe)}function Ie(e,t){for(;Y(t);)switch(t.i){case 8:var n=t.g.i();ke(e,1,n);break;case 16:ke(e,2,n=t.g.i());break;case 29:case 26:te(t,e.getPackedDataList());break;case 32:ke(e,4,n=$(t.g));break;default:if(!Te(e,t))return e}return e}he.prototype.toJSON=function(){return le(Ne(this),ce,D)},he.prototype.toString=function(){return Ne(this).toString()},h(Ee,he),Ee.prototype.getRows=function(){return ge(this,1)},Ee.prototype.getCols=function(){return ge(this,2)},Ee.prototype.getPackedDataList=function(){return ye(this)},Ee.prototype.getLayout=function(){return be(this,4,0)};var Pe=[3];function Ae(e,t){var n=void 0;return new(n||(n=Promise))(function(i,r){function s(e){try{o(t.next(e))}catch(n){r(n)}}function a(e){try{o(t.throw(e))}catch(n){r(n)}}function o(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(s,a)}o((t=t.apply(e,void 0)).next())})}function Me(e){he.call(this,e)}function Re(e,t){for(;Y(t);)switch(t.i){case 8:var n=t.g.i();ke(e,1,n);break;case 21:ke(e,2,n=J(t));break;case 26:ke(e,3,n=Z(t));break;case 34:ke(e,4,n=Z(t));break;default:if(!Te(e,t))return e}return e}function De(e){he.call(this,e,-1,Le)}h(Me,he),h(De,he),De.prototype.addClassification=function(e,t){return Ce(this,e,Me,t),this};var Le=[1];function Oe(e){he.call(this,e)}function Fe(e,t){for(;Y(t);)switch(t.i){case 13:var n=J(t);ke(e,1,n);break;case 21:ke(e,2,n=J(t));break;case 29:ke(e,3,n=J(t));break;case 37:ke(e,4,n=J(t));break;case 45:ke(e,5,n=J(t));break;default:if(!Te(e,t))return e}return e}function ze(e){he.call(this,e,-1,Be)}function Ue(e){e:{var t=new ze;for(e=new K(e);Y(e);)if(10===e.i){Ce(t,X(e,new Oe,Fe),Oe,void 0)}else if(!Te(t,e))break e}return t}h(Oe,he),h(ze,he);var Be=[1];function Ve(e){he.call(this,e)}function qe(e){he.call(this,e,-1,We)}function $e(e,t){for(;Y(t);)switch(t.i){case 8:var n=$(t.g);ke(e,1,n);break;case 16:ke(e,2,n=$(t.g));break;case 29:case 26:te(t,e.getVertexBufferList());break;case 32:case 34:n=t;var i=e.getIndexBufferList();2==n.h?ee(n,V.prototype.i,i):i.push(n.g.i());break;default:if(!Te(e,t))return e}return e}h(Ve,he),h(qe,he),qe.prototype.getVertexType=function(){return be(this,1,0)},qe.prototype.getPrimitiveType=function(){return be(this,2,0)},qe.prototype.getVertexBufferList=function(){return ye(this)},qe.prototype.getIndexBufferList=function(){return ve(this,4)};var We=[3,4];function He(e){he.call(this,e)}function Ge(e,t,n){if(n=e.createShader(0===n?e.VERTEX_SHADER:e.FRAGMENT_SHADER),e.shaderSource(n,t),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw Error("Could not compile WebGL shader.\n\n"+e.getShaderInfoLog(n));return n}function Ke(e){return _e(e,Me).map(function(e){return{index:be(e,1,0),Y:we(e,2),label:null!=ge(e,3)?be(e,3,""):void 0,displayName:null!=ge(e,4)?be(e,4,""):void 0}})}function Ye(e){return{x:we(e,1),y:we(e,2),z:we(e,3),visibility:null!=ge(e,4)?we(e,4):void 0}}function Qe(e,t){this.h=e,this.g=t,this.l=0}function Xe(e,t,n){return function(e,t){var n=e.g;if(void 0===e.m){var i=Ge(n,"\n  attribute vec2 aVertex;\n  attribute vec2 aTex;\n  varying vec2 vTex;\n  void main(void) {\n    gl_Position = vec4(aVertex, 0.0, 1.0);\n    vTex = aTex;\n  }",0),r=Ge(n,"\n  precision mediump float;\n  varying vec2 vTex;\n  uniform sampler2D sampler0;\n  void main(){\n    gl_FragColor = texture2D(sampler0, vTex);\n  }",1),s=n.createProgram();if(n.attachShader(s,i),n.attachShader(s,r),n.linkProgram(s),!n.getProgramParameter(s,n.LINK_STATUS))throw Error("Could not compile WebGL program.\n\n"+n.getProgramInfoLog(s));i=e.m=s,n.useProgram(i),r=n.getUniformLocation(i,"sampler0"),e.j={I:n.getAttribLocation(i,"aVertex"),H:n.getAttribLocation(i,"aTex"),da:r},e.s=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.enableVertexAttribArray(e.j.I),n.vertexAttribPointer(e.j.I,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),e.o=n.createBuffer(),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.enableVertexAttribArray(e.j.H),n.vertexAttribPointer(e.j.H,2,n.FLOAT,!1,0,0),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),n.STATIC_DRAW),n.bindBuffer(n.ARRAY_BUFFER,null),n.uniform1i(r,0)}i=e.j,n.useProgram(e.m),n.canvas.width=t.width,n.canvas.height=t.height,n.viewport(0,0,t.width,t.height),n.activeTexture(n.TEXTURE0),e.h.bindTexture2d(t.glName),n.enableVertexAttribArray(i.I),n.bindBuffer(n.ARRAY_BUFFER,e.s),n.vertexAttribPointer(i.I,2,n.FLOAT,!1,0,0),n.enableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,e.o),n.vertexAttribPointer(i.H,2,n.FLOAT,!1,0,0),n.bindFramebuffer(n.DRAW_FRAMEBUFFER?n.DRAW_FRAMEBUFFER:n.FRAMEBUFFER,null),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT),n.colorMask(!0,!0,!0,!0),n.drawArrays(n.TRIANGLE_FAN,0,4),n.disableVertexAttribArray(i.I),n.disableVertexAttribArray(i.H),n.bindBuffer(n.ARRAY_BUFFER,null),e.h.bindTexture2d(0)}(e,t),"function"==typeof e.g.canvas.transferToImageBitmap?Promise.resolve(e.g.canvas.transferToImageBitmap()):n?Promise.resolve(e.g.canvas):"function"==typeof createImageBitmap?createImageBitmap(e.g.canvas):(void 0===e.i&&(e.i=document.createElement("canvas")),new Promise(function(t){e.i.height=e.g.canvas.height,e.i.width=e.g.canvas.width,e.i.getContext("2d",{}).drawImage(e.g.canvas,0,0,e.g.canvas.width,e.g.canvas.height),t(e.i)}))}function Je(e){this.g=e}h(He,he),He.prototype.getMesh=function(){return xe(this,qe,1)},He.prototype.getPoseTransformMatrix=function(){return xe(this,Ee,2)};var Ze=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function et(e,t){return t+e}function tt(e,t){window[e]=t}function nt(e){if(this.g=e,this.listeners={},this.j={},this.F={},this.m={},this.s={},this.G=this.o=this.R=!0,this.C=Promise.resolve(),this.P="",this.B={},this.locateFile=e&&e.locateFile||et,"object"==typeof window)var t=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else{if("undefined"==typeof location)throw Error("solutions can only be loaded on a web page or in a web worker");t=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/"}if(this.S=t,e.options)for(var n=(t=a(Object.keys(e.options))).next();!n.done;n=t.next()){n=n.value;var i=e.options[n].default;void 0!==i&&(this.j[n]="function"==typeof i?i():i)}}function it(e){return Ae(e,function e(){var t,n,i,r,s,a,l,c,u,d,f,h=this;return _(e,function(e){switch(e.g){case 1:return t=h,h.R?(n=function(e,t){return void 0===e.g.files?[]:"function"==typeof e.g.files?e.g.files(t):e.g.files}(h,h.j),y(e,function(){return Ae(this,function e(){return _(e,function(e){switch(e.g){case 1:return e.m=2,y(e,WebAssembly.instantiate(Ze),4);case 4:e.g=3,e.m=0;break;case 2:return e.m=0,e.j=null,e.return(!1);case 3:return e.return(!0)}})})}(),2)):e.return();case 2:if(i=e.h,"object"==typeof window)return tt("createMediapipeSolutionsWasm",{locateFile:h.locateFile}),tt("createMediapipeSolutionsPackedAssets",{locateFile:h.locateFile}),a=n.filter(function(e){return void 0!==e.data}),l=n.filter(function(e){return void 0===e.data}),c=Promise.all(a.map(function(e){var n=rt(t,e.url);if(void 0!==e.path){var i=e.path;n=n.then(function(e){return t.overrideFile(i,e),Promise.resolve(e)})}return n})),u=Promise.all(l.map(function(e){return void 0===e.simd||e.simd&&i||!e.simd&&!i?function(e){var t=document.createElement("script");return t.setAttribute("src",e),t.setAttribute("crossorigin","anonymous"),new Promise(function(e){t.addEventListener("load",function(){e()},!1),t.addEventListener("error",function(){e()},!1),document.body.appendChild(t)})}(t.locateFile(e.url,t.S)):Promise.resolve()})).then(function(){return Ae(t,function e(){var t,n,i=this;return _(e,function(e){if(1==e.g)return t=window.createMediapipeSolutionsWasm,n=window.createMediapipeSolutionsPackedAssets,y(e,t(n),2);i.h=e.h,e.g=0})})}),d=Ae(t,function e(){var t=this;return _(e,function(e){return t.g.graph&&t.g.graph.url?e=y(e,rt(t,t.g.graph.url),0):(e.g=0,e=void 0),e})}),y(e,Promise.all([u,c,d]),7);if("function"!=typeof importScripts)throw Error("solutions can only be loaded on a web page or in a web worker");return r=n.filter(function(e){return void 0===e.simd||e.simd&&i||!e.simd&&!i}).map(function(e){return t.locateFile(e.url,t.S)}),importScripts.apply(null,o(r)),y(e,createMediapipeSolutionsWasm(Module),6);case 6:h.h=e.h,h.l=new OffscreenCanvas(1,1),h.h.canvas=h.l,s=h.h.GL.createContext(h.l,{antialias:!1,alpha:!1,ba:"undefined"!=typeof WebGL2RenderingContext?2:1}),h.h.GL.makeContextCurrent(s),e.g=4;break;case 7:if(h.l=document.createElement("canvas"),!(f=h.l.getContext("webgl2",{}))&&!(f=h.l.getContext("webgl",{})))return alert("Failed to create WebGL canvas context when passing video frame."),e.return();h.D=f,h.h.canvas=h.l,h.h.createContext(h.l,!0,!0,{});case 4:h.i=new h.h.SolutionWasm,h.R=!1,e.g=0}})})}function rt(e,t){return Ae(e,function e(){var n,i,r=this;return _(e,function(e){return t in r.F?e.return(r.F[t]):(n=r.locateFile(t,""),i=fetch(n).then(function(e){return e.arrayBuffer()}),r.F[t]=i,e.return(i))})})}function st(e,t,n){return Ae(e,function e(){var i,r,s,o,l,c,u,d,f,h,m,p,g,v,b=this;return _(e,function(e){switch(e.g){case 1:if(!n)return e.return(t);for(i={},r=0,s=a(Object.keys(n)),o=s.next();!o.done;o=s.next())l=o.value,"string"!=typeof(c=n[l])&&"texture"===c.type&&void 0!==t[c.stream]&&++r;1<r&&(b.G=!1),u=a(Object.keys(n)),o=u.next();case 2:if(o.done){e.g=4;break}if(d=o.value,"string"==typeof(f=n[d]))return g=i,v=d,y(e,function(e,t,n){return Ae(e,function e(){var i,r=this;return _(e,function(e){return"number"==typeof n||n instanceof Uint8Array||n instanceof r.h.Uint8BlobList?e.return(n):n instanceof r.h.Texture2dDataOut?((i=r.s[t])||(i=new Qe(r.h,r.D),r.s[t]=i),e.return(Xe(i,n,r.G))):e.return(void 0)})})}(b,d,t[f]),14);if(h=t[f.stream],"detection_list"===f.type){if(h){for(var w=h.getRectList(),k=h.getLandmarksList(),x=h.getClassificationsList(),S=[],C=0;C<w.size();++C){var N=w.get(C);e:{var j=new Ve;for(N=new K(N);Y(N);)switch(N.i){case 13:var T=J(N);ke(j,1,T);break;case 21:ke(j,2,T=J(N));break;case 29:ke(j,3,T=J(N));break;case 37:ke(j,4,T=J(N));break;case 45:ke(j,5,T=J(N));break;case 48:ke(j,6,T=$(N.g));break;default:if(!Te(j,N))break e}}j={Z:we(j,1),$:we(j,2),height:we(j,3),width:we(j,4),rotation:we(j,5,0),X:be(j,6,0)},N=_e(Ue(k.get(C)),Oe).map(Ye);var E=x.get(C);e:for(T=new De,E=new K(E);Y(E);)if(10===E.i)T.addClassification(X(E,new Me,Re));else if(!Te(T,E))break e;j={T:j,O:N,M:Ke(T)},S.push(j)}w=S}else w=[];i[d]=w,e.g=7;break}if("proto_list"===f.type){if(h){for(w=Array(h.size()),k=0;k<h.size();k++)w[k]=h.get(k);h.delete()}else w=[];i[d]=w,e.g=7;break}if(void 0===h){e.g=3;break}if("float_list"===f.type){i[d]=h,e.g=7;break}if("proto"===f.type){i[d]=h,e.g=7;break}if("texture"!==f.type)throw Error("Unknown output config type: '"+f.type+"'");return(m=b.s[d])||(m=new Qe(b.h,b.D),b.s[d]=m),y(e,Xe(m,h,b.G),13);case 13:p=e.h,i[d]=p;case 7:f.transform&&i[d]&&(i[d]=f.transform(i[d])),e.g=3;break;case 14:g[v]=e.h;case 3:o=u.next(),e.g=2;break;case 4:return e.return(i)}})})}function at(e,t){for(var n=t.name||"$",i=[].concat(o(t.wants)),r=new e.h.StringList,s=a(t.wants),l=s.next();!l.done;l=s.next())r.push_back(l.value);s=e.h.PacketListener.implement({onResults:function(r){for(var s={},a=0;a<t.wants.length;++a)s[i[a]]=r.get(a);var o=e.listeners[n];o&&(e.C=st(e,s,t.outs).then(function(n){n=o(n);for(var r=0;r<t.wants.length;++r){var a=s[i[r]];"object"==typeof a&&a.hasOwnProperty&&a.hasOwnProperty("delete")&&a.delete()}n&&(e.C=n)}))}}),e.i.attachMultiListener(r,s),r.delete()}function ot(e){e=function(e){e:{var t=new He;for(e=new K(e);Y(e);)switch(e.i){case 10:var n=X(e,new qe,$e);Se(t,1,n);break;case 18:Se(t,2,n=X(e,new Ee,Ie));break;default:if(!Te(t,e))break e}}return t}(e);var t=e.getMesh();if(!t)return e;var n=new Float32Array(t.getVertexBufferList());t.getVertexBufferList=function(){return n};var i=new Uint32Array(t.getIndexBufferList());return t.getIndexBufferList=function(){return i},e}(e=nt.prototype).close=function(){return this.i&&this.i.delete(),Promise.resolve()},e.reset=function(){return Ae(this,function e(){var t=this;return _(e,function(e){t.i&&(t.i.reset(),t.m={},t.s={}),e.g=0})})},e.setOptions=function(e,t){var n=this;if(t=t||this.g.options){for(var i=[],r=[],s={},o=a(Object.keys(e)),l=o.next();!l.done;s={K:s.K,L:s.L},l=o.next()){var c=l.value;c in this.j&&this.j[c]===e[c]||(this.j[c]=e[c],void 0!==(l=t[c])&&(l.onChange&&(s.K=l.onChange,s.L=e[c],i.push(function(e){return function(){return Ae(n,function t(){var n=this;return _(t,function(t){if(1==t.g)return y(t,e.K(e.L),2);!0===t.h&&(n.o=!0),t.g=0})})}}(s))),l.graphOptionXref&&(c={valueNumber:1===l.type?e[c]:0,valueBoolean:0===l.type&&e[c],valueString:2===l.type?e[c]:""},l=Object.assign(Object.assign(Object.assign({},{calculatorName:"",calculatorIndex:0}),l.graphOptionXref),c),r.push(l))))}0===i.length&&0===r.length||(this.o=!0,this.A=(void 0===this.A?[]:this.A).concat(r),this.u=(void 0===this.u?[]:this.u).concat(i))}},e.initialize=function(){return Ae(this,function e(){var t=this;return _(e,function(e){return 1==e.g?y(e,it(t),2):3!=e.g?y(e,Ae(t,function e(){var t,n,i,r,s,o,l,c,u=this;return _(e,function(e){if(1==e.g)return u.g.graph&&u.g.graph.url&&u.P===u.g.graph.url?e.return():(u.o=!0,u.g.graph&&u.g.graph.url?(u.P=u.g.graph.url,y(e,rt(u,u.g.graph.url),3)):void(e.g=2));for(2!=e.g&&(t=e.h,u.i.loadGraph(t)),n=a(Object.keys(u.B)),i=n.next();!i.done;i=n.next())r=i.value,u.i.overrideFile(r,u.B[r]);if(u.B={},u.g.listeners)for(s=a(u.g.listeners),o=s.next();!o.done;o=s.next())l=o.value,at(u,l);c=u.j,u.j={},u.setOptions(c),e.g=0})}),3):y(e,function(e){return Ae(e,function e(){var t,n,i,r,s,o,l=this;return _(e,function(e){switch(e.g){case 1:if(!l.o)return e.return();if(!l.u){e.g=2;break}t=a(l.u),n=t.next();case 3:if(n.done){e.g=5;break}return y(e,(0,n.value)(),4);case 4:n=t.next(),e.g=3;break;case 5:l.u=void 0;case 2:if(l.A){for(i=new l.h.GraphOptionChangeRequestList,r=a(l.A),s=r.next();!s.done;s=r.next())o=s.value,i.push_back(o);l.i.changeOptions(i),i.delete(),l.A=void 0}l.o=!1,e.g=0}})})}(t),0)})})},e.overrideFile=function(e,t){this.i?this.i.overrideFile(e,t):this.B[e]=t},e.clearOverriddenFiles=function(){this.B={},this.i&&this.i.clearOverriddenFiles()},e.send=function(e,t){return Ae(this,function n(){var i,r,s,o,l,c,u,d,f,h=this;return _(n,function(n){switch(n.g){case 1:return h.g.inputs?(i=1e3*(null==t?performance.now():t),y(n,h.C,2)):n.return();case 2:return y(n,h.initialize(),3);case 3:for(r=new h.h.PacketDataList,s=a(Object.keys(e)),o=s.next();!o.done;o=s.next())if(l=o.value,c=h.g.inputs[l]){e:{var m=h,p=e[l];switch(c.type){case"video":var g=m.m[c.stream];if(g||(g=new Qe(m.h,m.D),m.m[c.stream]=g),0===(m=g).l&&(m.l=m.h.createTexture()),"undefined"!=typeof HTMLVideoElement&&p instanceof HTMLVideoElement){var v=p.videoWidth;g=p.videoHeight}else"undefined"!=typeof HTMLImageElement&&p instanceof HTMLImageElement?(v=p.naturalWidth,g=p.naturalHeight):(v=p.width,g=p.height);g={glName:m.l,width:v,height:g},(v=m.g).canvas.width=g.width,v.canvas.height=g.height,v.activeTexture(v.TEXTURE0),m.h.bindTexture2d(m.l),v.texImage2D(v.TEXTURE_2D,0,v.RGBA,v.RGBA,v.UNSIGNED_BYTE,p),m.h.bindTexture2d(0),m=g;break e;case"detections":for((g=m.m[c.stream])||(g=new Je(m.h),m.m[c.stream]=g),(m=g).data||(m.data=new m.g.DetectionListData),m.data.reset(p.length),g=0;g<p.length;++g){v=p[g];var b=m.data,w=b.setBoundingBox,k=g,x=v.T,_=new Ve;ke(_,1,x.Z),ke(_,2,x.$),ke(_,3,x.height),ke(_,4,x.width),ke(_,5,x.rotation),ke(_,6,x.X);var S=x=new ne;se(S,1,ge(_,1)),se(S,2,ge(_,2)),se(S,3,ge(_,3)),se(S,4,ge(_,4)),se(S,5,ge(_,5));var C=ge(_,6);if(null!=C&&null!=C){G(S.g,48);var N=S.g,j=C;C=0>j;var T=(j=Math.abs(j))>>>0;for(j=Math.floor((j-T)/4294967296),j>>>=0,C&&(j=~j>>>0,4294967295<(T=(~T>>>0)+1)&&(T=0,4294967295<++j&&(j=0))),C=B=T,T=j;0<T||127<C;)N.push(127&C|128),C=(C>>>7|T<<25)>>>0,T>>>=7;N.push(C)}if(je(_,S),x=re(x),w.call(b,k,x),v.O)for(b=0;b<v.O.length;++b)S=!!(_=v.O[b]).visibility,k=(w=m.data).addNormalizedLandmark,x=g,_=Object.assign(Object.assign({},_),{visibility:S?_.visibility:0}),ke(S=new Oe,1,_.x),ke(S,2,_.y),ke(S,3,_.z),_.visibility&&ke(S,4,_.visibility),se(N=_=new ne,1,ge(S,1)),se(N,2,ge(S,2)),se(N,3,ge(S,3)),se(N,4,ge(S,4)),se(N,5,ge(S,5)),je(S,N),_=re(_),k.call(w,x,_);if(v.M)for(b=0;b<v.M.length;++b){if(k=(w=m.data).addClassification,x=g,_=v.M[b],ke(S=new Me,2,_.Y),_.index&&ke(S,1,_.index),_.label&&ke(S,3,_.label),_.displayName&&ke(S,4,_.displayName),N=_=new ne,null!=(T=ge(S,1))&&null!=T)if(G(N.g,8),C=N.g,0<=T)G(C,T);else{for(j=0;9>j;j++)C.push(127&T|128),T>>=7;C.push(1)}se(N,2,ge(S,2)),null!=(C=ge(S,3))&&(C=A(C),G(N.g,26),G(N.g,C.length),ie(N,N.g.end()),ie(N,C)),null!=(C=ge(S,4))&&(C=A(C),G(N.g,34),G(N.g,C.length),ie(N,N.g.end()),ie(N,C)),je(S,N),_=re(_),k.call(w,x,_)}}m=m.data;break e;default:m={}}}switch(u=m,d=c.stream,c.type){case"video":r.pushTexture2d(Object.assign(Object.assign({},u),{stream:d,timestamp:i}));break;case"detections":(f=u).stream=d,f.timestamp=i,r.pushDetectionList(f);break;default:throw Error("Unknown input config type: '"+c.type+"'")}}return h.i.send(r),y(n,h.C,4);case 4:r.delete(),n.g=0}})})},e.onResults=function(e,t){this.listeners[t||"$"]=e},N("Solution",nt),N("OptionType",{BOOL:0,NUMBER:1,aa:2,0:"BOOL",1:"NUMBER",2:"STRING"});var lt={files:[{url:"face_mesh_solution_packed_assets_loader.js"},{simd:!0,url:"face_mesh_solution_simd_wasm_bin.js"},{simd:!1,url:"face_mesh_solution_wasm_bin.js"}],graph:{url:"face_mesh.binarypb"},listeners:[{wants:["multi_face_geometry","image_transformed","multi_face_landmarks"],outs:{image:"image_transformed",multiFaceGeometry:{type:"proto_list",stream:"multi_face_geometry",transform:function(e){return e.map(ot)}},multiFaceLandmarks:{type:"proto_list",stream:"multi_face_landmarks",transform:function(e){return e.map(function(e){return _e(Ue(e),Oe).map(Ye)})}}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},enableFaceGeometry:{type:0,graphOptionXref:{calculatorName:"EnableFaceGeometryConstant",calculatorType:"ConstantSidePacketCalculator",fieldName:"bool_value"}},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},maxNumFaces:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorNumFaces",fieldName:"int_value"}},refineLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorRefineLandmarks",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"facelandmarkfrontgpu__facedetectionshortrangegpu__facedetectionshortrangecommon__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"facelandmarkfrontgpu__facelandmarkgpu__ThresholdingCalculator",fieldName:"threshold"}},cameraNear:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"near"}},cameraFar:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"far"}},cameraVerticalFovDegrees:{type:1,graphOptionXref:{calculatorType:"FaceGeometryEnvGeneratorCalculator",fieldName:"vertical_fov_degrees"}}}},ct=[[61,146],[146,91],[91,181],[181,84],[84,17],[17,314],[314,405],[405,321],[321,375],[375,291],[61,185],[185,40],[40,39],[39,37],[37,0],[0,267],[267,269],[269,270],[270,409],[409,291],[78,95],[95,88],[88,178],[178,87],[87,14],[14,317],[317,402],[402,318],[318,324],[324,308],[78,191],[191,80],[80,81],[81,82],[82,13],[13,312],[312,311],[311,310],[310,415],[415,308]],ut=[[263,249],[249,390],[390,373],[373,374],[374,380],[380,381],[381,382],[382,362],[263,466],[466,388],[388,387],[387,386],[386,385],[385,384],[384,398],[398,362]],dt=[[276,283],[283,282],[282,295],[295,285],[300,293],[293,334],[334,296],[296,336]],ft=[[33,7],[7,163],[163,144],[144,145],[145,153],[153,154],[154,155],[155,133],[33,246],[246,161],[161,160],[160,159],[159,158],[158,157],[157,173],[173,133]],ht=[[46,53],[53,52],[52,65],[65,55],[70,63],[63,105],[105,66],[66,107]],mt=[[10,338],[338,297],[297,332],[332,284],[284,251],[251,389],[389,356],[356,454],[454,323],[323,361],[361,288],[288,397],[397,365],[365,379],[379,378],[378,400],[400,377],[377,152],[152,148],[148,176],[176,149],[149,150],[150,136],[136,172],[172,58],[58,132],[132,93],[93,234],[234,127],[127,162],[162,21],[21,54],[54,103],[103,67],[67,109],[109,10]],pt=[].concat(o(ct),o(ut),o(dt),o(ft),o(ht),o(mt));function gt(e){e=e||{},e=Object.assign(Object.assign({},lt),e),this.g=new nt(e)}(e=gt.prototype).close=function(){return this.g.close(),Promise.resolve()},e.onResults=function(e){this.g.onResults(e)},e.initialize=function(){return Ae(this,function e(){var t=this;return _(e,function(e){return y(e,t.g.initialize(),0)})})},e.reset=function(){this.g.reset()},e.send=function(e){return Ae(this,function t(){var n=this;return _(t,function(t){return y(t,n.g.send(e),0)})})},e.setOptions=function(e){this.g.setOptions(e)},N("FACE_GEOMETRY",{Layout:{COLUMN_MAJOR:0,ROW_MAJOR:1,0:"COLUMN_MAJOR",1:"ROW_MAJOR"},PrimitiveType:{TRIANGLE:0,0:"TRIANGLE"},VertexType:{VERTEX_PT:0,0:"VERTEX_PT"},DEFAULT_CAMERA_PARAMS:{verticalFovDegrees:63,near:1,far:1e4}}),N("FaceMesh",gt),N("FACEMESH_LIPS",ct),N("FACEMESH_LEFT_EYE",ut),N("FACEMESH_LEFT_EYEBROW",dt),N("FACEMESH_LEFT_IRIS",[[474,475],[475,476],[476,477],[477,474]]),N("FACEMESH_RIGHT_EYE",ft),N("FACEMESH_RIGHT_EYEBROW",ht),N("FACEMESH_RIGHT_IRIS",[[469,470],[470,471],[471,472],[472,469]]),N("FACEMESH_FACE_OVAL",mt),N("FACEMESH_CONTOURS",pt),N("FACEMESH_TESSELATION",[[127,34],[34,139],[139,127],[11,0],[0,37],[37,11],[232,231],[231,120],[120,232],[72,37],[37,39],[39,72],[128,121],[121,47],[47,128],[232,121],[121,128],[128,232],[104,69],[69,67],[67,104],[175,171],[171,148],[148,175],[118,50],[50,101],[101,118],[73,39],[39,40],[40,73],[9,151],[151,108],[108,9],[48,115],[115,131],[131,48],[194,204],[204,211],[211,194],[74,40],[40,185],[185,74],[80,42],[42,183],[183,80],[40,92],[92,186],[186,40],[230,229],[229,118],[118,230],[202,212],[212,214],[214,202],[83,18],[18,17],[17,83],[76,61],[61,146],[146,76],[160,29],[29,30],[30,160],[56,157],[157,173],[173,56],[106,204],[204,194],[194,106],[135,214],[214,192],[192,135],[203,165],[165,98],[98,203],[21,71],[71,68],[68,21],[51,45],[45,4],[4,51],[144,24],[24,23],[23,144],[77,146],[146,91],[91,77],[205,50],[50,187],[187,205],[201,200],[200,18],[18,201],[91,106],[106,182],[182,91],[90,91],[91,181],[181,90],[85,84],[84,17],[17,85],[206,203],[203,36],[36,206],[148,171],[171,140],[140,148],[92,40],[40,39],[39,92],[193,189],[189,244],[244,193],[159,158],[158,28],[28,159],[247,246],[246,161],[161,247],[236,3],[3,196],[196,236],[54,68],[68,104],[104,54],[193,168],[168,8],[8,193],[117,228],[228,31],[31,117],[189,193],[193,55],[55,189],[98,97],[97,99],[99,98],[126,47],[47,100],[100,126],[166,79],[79,218],[218,166],[155,154],[154,26],[26,155],[209,49],[49,131],[131,209],[135,136],[136,150],[150,135],[47,126],[126,217],[217,47],[223,52],[52,53],[53,223],[45,51],[51,134],[134,45],[211,170],[170,140],[140,211],[67,69],[69,108],[108,67],[43,106],[106,91],[91,43],[230,119],[119,120],[120,230],[226,130],[130,247],[247,226],[63,53],[53,52],[52,63],[238,20],[20,242],[242,238],[46,70],[70,156],[156,46],[78,62],[62,96],[96,78],[46,53],[53,63],[63,46],[143,34],[34,227],[227,143],[123,117],[117,111],[111,123],[44,125],[125,19],[19,44],[236,134],[134,51],[51,236],[216,206],[206,205],[205,216],[154,153],[153,22],[22,154],[39,37],[37,167],[167,39],[200,201],[201,208],[208,200],[36,142],[142,100],[100,36],[57,212],[212,202],[202,57],[20,60],[60,99],[99,20],[28,158],[158,157],[157,28],[35,226],[226,113],[113,35],[160,159],[159,27],[27,160],[204,202],[202,210],[210,204],[113,225],[225,46],[46,113],[43,202],[202,204],[204,43],[62,76],[76,77],[77,62],[137,123],[123,116],[116,137],[41,38],[38,72],[72,41],[203,129],[129,142],[142,203],[64,98],[98,240],[240,64],[49,102],[102,64],[64,49],[41,73],[73,74],[74,41],[212,216],[216,207],[207,212],[42,74],[74,184],[184,42],[169,170],[170,211],[211,169],[170,149],[149,176],[176,170],[105,66],[66,69],[69,105],[122,6],[6,168],[168,122],[123,147],[147,187],[187,123],[96,77],[77,90],[90,96],[65,55],[55,107],[107,65],[89,90],[90,180],[180,89],[101,100],[100,120],[120,101],[63,105],[105,104],[104,63],[93,137],[137,227],[227,93],[15,86],[86,85],[85,15],[129,102],[102,49],[49,129],[14,87],[87,86],[86,14],[55,8],[8,9],[9,55],[100,47],[47,121],[121,100],[145,23],[23,22],[22,145],[88,89],[89,179],[179,88],[6,122],[122,196],[196,6],[88,95],[95,96],[96,88],[138,172],[172,136],[136,138],[215,58],[58,172],[172,215],[115,48],[48,219],[219,115],[42,80],[80,81],[81,42],[195,3],[3,51],[51,195],[43,146],[146,61],[61,43],[171,175],[175,199],[199,171],[81,82],[82,38],[38,81],[53,46],[46,225],[225,53],[144,163],[163,110],[110,144],[52,65],[65,66],[66,52],[229,228],[228,117],[117,229],[34,127],[127,234],[234,34],[107,108],[108,69],[69,107],[109,108],[108,151],[151,109],[48,64],[64,235],[235,48],[62,78],[78,191],[191,62],[129,209],[209,126],[126,129],[111,35],[35,143],[143,111],[117,123],[123,50],[50,117],[222,65],[65,52],[52,222],[19,125],[125,141],[141,19],[221,55],[55,65],[65,221],[3,195],[195,197],[197,3],[25,7],[7,33],[33,25],[220,237],[237,44],[44,220],[70,71],[71,139],[139,70],[122,193],[193,245],[245,122],[247,130],[130,33],[33,247],[71,21],[21,162],[162,71],[170,169],[169,150],[150,170],[188,174],[174,196],[196,188],[216,186],[186,92],[92,216],[2,97],[97,167],[167,2],[141,125],[125,241],[241,141],[164,167],[167,37],[37,164],[72,38],[38,12],[12,72],[38,82],[82,13],[13,38],[63,68],[68,71],[71,63],[226,35],[35,111],[111,226],[101,50],[50,205],[205,101],[206,92],[92,165],[165,206],[209,198],[198,217],[217,209],[165,167],[167,97],[97,165],[220,115],[115,218],[218,220],[133,112],[112,243],[243,133],[239,238],[238,241],[241,239],[214,135],[135,169],[169,214],[190,173],[173,133],[133,190],[171,208],[208,32],[32,171],[125,44],[44,237],[237,125],[86,87],[87,178],[178,86],[85,86],[86,179],[179,85],[84,85],[85,180],[180,84],[83,84],[84,181],[181,83],[201,83],[83,182],[182,201],[137,93],[93,132],[132,137],[76,62],[62,183],[183,76],[61,76],[76,184],[184,61],[57,61],[61,185],[185,57],[212,57],[57,186],[186,212],[214,207],[207,187],[187,214],[34,143],[143,156],[156,34],[79,239],[239,237],[237,79],[123,137],[137,177],[177,123],[44,1],[1,4],[4,44],[201,194],[194,32],[32,201],[64,102],[102,129],[129,64],[213,215],[215,138],[138,213],[59,166],[166,219],[219,59],[242,99],[99,97],[97,242],[2,94],[94,141],[141,2],[75,59],[59,235],[235,75],[24,110],[110,228],[228,24],[25,130],[130,226],[226,25],[23,24],[24,229],[229,23],[22,23],[23,230],[230,22],[26,22],[22,231],[231,26],[112,26],[26,232],[232,112],[189,190],[190,243],[243,189],[221,56],[56,190],[190,221],[28,56],[56,221],[221,28],[27,28],[28,222],[222,27],[29,27],[27,223],[223,29],[30,29],[29,224],[224,30],[247,30],[30,225],[225,247],[238,79],[79,20],[20,238],[166,59],[59,75],[75,166],[60,75],[75,240],[240,60],[147,177],[177,215],[215,147],[20,79],[79,166],[166,20],[187,147],[147,213],[213,187],[112,233],[233,244],[244,112],[233,128],[128,245],[245,233],[128,114],[114,188],[188,128],[114,217],[217,174],[174,114],[131,115],[115,220],[220,131],[217,198],[198,236],[236,217],[198,131],[131,134],[134,198],[177,132],[132,58],[58,177],[143,35],[35,124],[124,143],[110,163],[163,7],[7,110],[228,110],[110,25],[25,228],[356,389],[389,368],[368,356],[11,302],[302,267],[267,11],[452,350],[350,349],[349,452],[302,303],[303,269],[269,302],[357,343],[343,277],[277,357],[452,453],[453,357],[357,452],[333,332],[332,297],[297,333],[175,152],[152,377],[377,175],[347,348],[348,330],[330,347],[303,304],[304,270],[270,303],[9,336],[336,337],[337,9],[278,279],[279,360],[360,278],[418,262],[262,431],[431,418],[304,408],[408,409],[409,304],[310,415],[415,407],[407,310],[270,409],[409,410],[410,270],[450,348],[348,347],[347,450],[422,430],[430,434],[434,422],[313,314],[314,17],[17,313],[306,307],[307,375],[375,306],[387,388],[388,260],[260,387],[286,414],[414,398],[398,286],[335,406],[406,418],[418,335],[364,367],[367,416],[416,364],[423,358],[358,327],[327,423],[251,284],[284,298],[298,251],[281,5],[5,4],[4,281],[373,374],[374,253],[253,373],[307,320],[320,321],[321,307],[425,427],[427,411],[411,425],[421,313],[313,18],[18,421],[321,405],[405,406],[406,321],[320,404],[404,405],[405,320],[315,16],[16,17],[17,315],[426,425],[425,266],[266,426],[377,400],[400,369],[369,377],[322,391],[391,269],[269,322],[417,465],[465,464],[464,417],[386,257],[257,258],[258,386],[466,260],[260,388],[388,466],[456,399],[399,419],[419,456],[284,332],[332,333],[333,284],[417,285],[285,8],[8,417],[346,340],[340,261],[261,346],[413,441],[441,285],[285,413],[327,460],[460,328],[328,327],[355,371],[371,329],[329,355],[392,439],[439,438],[438,392],[382,341],[341,256],[256,382],[429,420],[420,360],[360,429],[364,394],[394,379],[379,364],[277,343],[343,437],[437,277],[443,444],[444,283],[283,443],[275,440],[440,363],[363,275],[431,262],[262,369],[369,431],[297,338],[338,337],[337,297],[273,375],[375,321],[321,273],[450,451],[451,349],[349,450],[446,342],[342,467],[467,446],[293,334],[334,282],[282,293],[458,461],[461,462],[462,458],[276,353],[353,383],[383,276],[308,324],[324,325],[325,308],[276,300],[300,293],[293,276],[372,345],[345,447],[447,372],[352,345],[345,340],[340,352],[274,1],[1,19],[19,274],[456,248],[248,281],[281,456],[436,427],[427,425],[425,436],[381,256],[256,252],[252,381],[269,391],[391,393],[393,269],[200,199],[199,428],[428,200],[266,330],[330,329],[329,266],[287,273],[273,422],[422,287],[250,462],[462,328],[328,250],[258,286],[286,384],[384,258],[265,353],[353,342],[342,265],[387,259],[259,257],[257,387],[424,431],[431,430],[430,424],[342,353],[353,276],[276,342],[273,335],[335,424],[424,273],[292,325],[325,307],[307,292],[366,447],[447,345],[345,366],[271,303],[303,302],[302,271],[423,266],[266,371],[371,423],[294,455],[455,460],[460,294],[279,278],[278,294],[294,279],[271,272],[272,304],[304,271],[432,434],[434,427],[427,432],[272,407],[407,408],[408,272],[394,430],[430,431],[431,394],[395,369],[369,400],[400,395],[334,333],[333,299],[299,334],[351,417],[417,168],[168,351],[352,280],[280,411],[411,352],[325,319],[319,320],[320,325],[295,296],[296,336],[336,295],[319,403],[403,404],[404,319],[330,348],[348,349],[349,330],[293,298],[298,333],[333,293],[323,454],[454,447],[447,323],[15,16],[16,315],[315,15],[358,429],[429,279],[279,358],[14,15],[15,316],[316,14],[285,336],[336,9],[9,285],[329,349],[349,350],[350,329],[374,380],[380,252],[252,374],[318,402],[402,403],[403,318],[6,197],[197,419],[419,6],[318,319],[319,325],[325,318],[367,364],[364,365],[365,367],[435,367],[367,397],[397,435],[344,438],[438,439],[439,344],[272,271],[271,311],[311,272],[195,5],[5,281],[281,195],[273,287],[287,291],[291,273],[396,428],[428,199],[199,396],[311,271],[271,268],[268,311],[283,444],[444,445],[445,283],[373,254],[254,339],[339,373],[282,334],[334,296],[296,282],[449,347],[347,346],[346,449],[264,447],[447,454],[454,264],[336,296],[296,299],[299,336],[338,10],[10,151],[151,338],[278,439],[439,455],[455,278],[292,407],[407,415],[415,292],[358,371],[371,355],[355,358],[340,345],[345,372],[372,340],[346,347],[347,280],[280,346],[442,443],[443,282],[282,442],[19,94],[94,370],[370,19],[441,442],[442,295],[295,441],[248,419],[419,197],[197,248],[263,255],[255,359],[359,263],[440,275],[275,274],[274,440],[300,383],[383,368],[368,300],[351,412],[412,465],[465,351],[263,467],[467,466],[466,263],[301,368],[368,389],[389,301],[395,378],[378,379],[379,395],[412,351],[351,419],[419,412],[436,426],[426,322],[322,436],[2,164],[164,393],[393,2],[370,462],[462,461],[461,370],[164,0],[0,267],[267,164],[302,11],[11,12],[12,302],[268,12],[12,13],[13,268],[293,300],[300,301],[301,293],[446,261],[261,340],[340,446],[330,266],[266,425],[425,330],[426,423],[423,391],[391,426],[429,355],[355,437],[437,429],[391,327],[327,326],[326,391],[440,457],[457,438],[438,440],[341,382],[382,362],[362,341],[459,457],[457,461],[461,459],[434,430],[430,394],[394,434],[414,463],[463,362],[362,414],[396,369],[369,262],[262,396],[354,461],[461,457],[457,354],[316,403],[403,402],[402,316],[315,404],[404,403],[403,315],[314,405],[405,404],[404,314],[313,406],[406,405],[405,313],[421,418],[418,406],[406,421],[366,401],[401,361],[361,366],[306,408],[408,407],[407,306],[291,409],[409,408],[408,291],[287,410],[410,409],[409,287],[432,436],[436,410],[410,432],[434,416],[416,411],[411,434],[264,368],[368,383],[383,264],[309,438],[438,457],[457,309],[352,376],[376,401],[401,352],[274,275],[275,4],[4,274],[421,428],[428,262],[262,421],[294,327],[327,358],[358,294],[433,416],[416,367],[367,433],[289,455],[455,439],[439,289],[462,370],[370,326],[326,462],[2,326],[326,370],[370,2],[305,460],[460,455],[455,305],[254,449],[449,448],[448,254],[255,261],[261,446],[446,255],[253,450],[450,449],[449,253],[252,451],[451,450],[450,252],[256,452],[452,451],[451,256],[341,453],[453,452],[452,341],[413,464],[464,463],[463,413],[441,413],[413,414],[414,441],[258,442],[442,441],[441,258],[257,443],[443,442],[442,257],[259,444],[444,443],[443,259],[260,445],[445,444],[444,260],[467,342],[342,445],[445,467],[459,458],[458,250],[250,459],[289,392],[392,290],[290,289],[290,328],[328,460],[460,290],[376,433],[433,435],[435,376],[250,290],[290,392],[392,250],[411,416],[416,433],[433,411],[341,463],[463,464],[464,341],[453,464],[464,465],[465,453],[357,465],[465,412],[412,357],[343,412],[412,399],[399,343],[360,363],[363,440],[440,360],[437,399],[399,456],[456,437],[420,456],[456,363],[363,420],[401,435],[435,288],[288,401],[372,383],[383,353],[353,372],[339,255],[255,249],[249,339],[448,261],[261,255],[255,448],[133,243],[243,190],[190,133],[133,155],[155,112],[112,133],[33,246],[246,247],[247,33],[33,130],[130,25],[25,33],[398,384],[384,286],[286,398],[362,398],[398,414],[414,362],[362,463],[463,341],[341,362],[263,359],[359,467],[467,263],[263,249],[249,255],[255,263],[466,467],[467,260],[260,466],[75,60],[60,166],[166,75],[238,239],[239,79],[79,238],[162,127],[127,139],[139,162],[72,11],[11,37],[37,72],[121,232],[232,120],[120,121],[73,72],[72,39],[39,73],[114,128],[128,47],[47,114],[233,232],[232,128],[128,233],[103,104],[104,67],[67,103],[152,175],[175,148],[148,152],[119,118],[118,101],[101,119],[74,73],[73,40],[40,74],[107,9],[9,108],[108,107],[49,48],[48,131],[131,49],[32,194],[194,211],[211,32],[184,74],[74,185],[185,184],[191,80],[80,183],[183,191],[185,40],[40,186],[186,185],[119,230],[230,118],[118,119],[210,202],[202,214],[214,210],[84,83],[83,17],[17,84],[77,76],[76,146],[146,77],[161,160],[160,30],[30,161],[190,56],[56,173],[173,190],[182,106],[106,194],[194,182],[138,135],[135,192],[192,138],[129,203],[203,98],[98,129],[54,21],[21,68],[68,54],[5,51],[51,4],[4,5],[145,144],[144,23],[23,145],[90,77],[77,91],[91,90],[207,205],[205,187],[187,207],[83,201],[201,18],[18,83],[181,91],[91,182],[182,181],[180,90],[90,181],[181,180],[16,85],[85,17],[17,16],[205,206],[206,36],[36,205],[176,148],[148,140],[140,176],[165,92],[92,39],[39,165],[245,193],[193,244],[244,245],[27,159],[159,28],[28,27],[30,247],[247,161],[161,30],[174,236],[236,196],[196,174],[103,54],[54,104],[104,103],[55,193],[193,8],[8,55],[111,117],[117,31],[31,111],[221,189],[189,55],[55,221],[240,98],[98,99],[99,240],[142,126],[126,100],[100,142],[219,166],[166,218],[218,219],[112,155],[155,26],[26,112],[198,209],[209,131],[131,198],[169,135],[135,150],[150,169],[114,47],[47,217],[217,114],[224,223],[223,53],[53,224],[220,45],[45,134],[134,220],[32,211],[211,140],[140,32],[109,67],[67,108],[108,109],[146,43],[43,91],[91,146],[231,230],[230,120],[120,231],[113,226],[226,247],[247,113],[105,63],[63,52],[52,105],[241,238],[238,242],[242,241],[124,46],[46,156],[156,124],[95,78],[78,96],[96,95],[70,46],[46,63],[63,70],[116,143],[143,227],[227,116],[116,123],[123,111],[111,116],[1,44],[44,19],[19,1],[3,236],[236,51],[51,3],[207,216],[216,205],[205,207],[26,154],[154,22],[22,26],[165,39],[39,167],[167,165],[199,200],[200,208],[208,199],[101,36],[36,100],[100,101],[43,57],[57,202],[202,43],[242,20],[20,99],[99,242],[56,28],[28,157],[157,56],[124,35],[35,113],[113,124],[29,160],[160,27],[27,29],[211,204],[204,210],[210,211],[124,113],[113,46],[46,124],[106,43],[43,204],[204,106],[96,62],[62,77],[77,96],[227,137],[137,116],[116,227],[73,41],[41,72],[72,73],[36,203],[203,142],[142,36],[235,64],[64,240],[240,235],[48,49],[49,64],[64,48],[42,41],[41,74],[74,42],[214,212],[212,207],[207,214],[183,42],[42,184],[184,183],[210,169],[169,211],[211,210],[140,170],[170,176],[176,140],[104,105],[105,69],[69,104],[193,122],[122,168],[168,193],[50,123],[123,187],[187,50],[89,96],[96,90],[90,89],[66,65],[65,107],[107,66],[179,89],[89,180],[180,179],[119,101],[101,120],[120,119],[68,63],[63,104],[104,68],[234,93],[93,227],[227,234],[16,15],[15,85],[85,16],[209,129],[129,49],[49,209],[15,14],[14,86],[86,15],[107,55],[55,9],[9,107],[120,100],[100,121],[121,120],[153,145],[145,22],[22,153],[178,88],[88,179],[179,178],[197,6],[6,196],[196,197],[89,88],[88,96],[96,89],[135,138],[138,136],[136,135],[138,215],[215,172],[172,138],[218,115],[115,219],[219,218],[41,42],[42,81],[81,41],[5,195],[195,51],[51,5],[57,43],[43,61],[61,57],[208,171],[171,199],[199,208],[41,81],[81,38],[38,41],[224,53],[53,225],[225,224],[24,144],[144,110],[110,24],[105,52],[52,66],[66,105],[118,229],[229,117],[117,118],[227,34],[34,234],[234,227],[66,107],[107,69],[69,66],[10,109],[109,151],[151,10],[219,48],[48,235],[235,219],[183,62],[62,191],[191,183],[142,129],[129,126],[126,142],[116,111],[111,143],[143,116],[118,117],[117,50],[50,118],[223,222],[222,52],[52,223],[94,19],[19,141],[141,94],[222,221],[221,65],[65,222],[196,3],[3,197],[197,196],[45,220],[220,44],[44,45],[156,70],[70,139],[139,156],[188,122],[122,245],[245,188],[139,71],[71,162],[162,139],[149,170],[170,150],[150,149],[122,188],[188,196],[196,122],[206,216],[216,92],[92,206],[164,2],[2,167],[167,164],[242,141],[141,241],[241,242],[0,164],[164,37],[37,0],[11,72],[72,12],[12,11],[12,38],[38,13],[13,12],[70,63],[63,71],[71,70],[31,226],[226,111],[111,31],[36,101],[101,205],[205,36],[203,206],[206,165],[165,203],[126,209],[209,217],[217,126],[98,165],[165,97],[97,98],[237,220],[220,218],[218,237],[237,239],[239,241],[241,237],[210,214],[214,169],[169,210],[140,171],[171,32],[32,140],[241,125],[125,237],[237,241],[179,86],[86,178],[178,179],[180,85],[85,179],[179,180],[181,84],[84,180],[180,181],[182,83],[83,181],[181,182],[194,201],[201,182],[182,194],[177,137],[137,132],[132,177],[184,76],[76,183],[183,184],[185,61],[61,184],[184,185],[186,57],[57,185],[185,186],[216,212],[212,186],[186,216],[192,214],[214,187],[187,192],[139,34],[34,156],[156,139],[218,79],[79,237],[237,218],[147,123],[123,177],[177,147],[45,44],[44,4],[4,45],[208,201],[201,32],[32,208],[98,64],[64,129],[129,98],[192,213],[213,138],[138,192],[235,59],[59,219],[219,235],[141,242],[242,97],[97,141],[97,2],[2,141],[141,97],[240,75],[75,235],[235,240],[229,24],[24,228],[228,229],[31,25],[25,226],[226,31],[230,23],[23,229],[229,230],[231,22],[22,230],[230,231],[232,26],[26,231],[231,232],[233,112],[112,232],[232,233],[244,189],[189,243],[243,244],[189,221],[221,190],[190,189],[222,28],[28,221],[221,222],[223,27],[27,222],[222,223],[224,29],[29,223],[223,224],[225,30],[30,224],[224,225],[113,247],[247,225],[225,113],[99,60],[60,240],[240,99],[213,147],[147,215],[215,213],[60,20],[20,166],[166,60],[192,187],[187,213],[213,192],[243,112],[112,244],[244,243],[244,233],[233,245],[245,244],[245,128],[128,188],[188,245],[188,114],[114,174],[174,188],[134,131],[131,220],[220,134],[174,217],[217,236],[236,174],[236,198],[198,134],[134,236],[215,177],[177,58],[58,215],[156,143],[143,124],[124,156],[25,110],[110,7],[7,25],[31,228],[228,25],[25,31],[264,356],[356,368],[368,264],[0,11],[11,267],[267,0],[451,452],[452,349],[349,451],[267,302],[302,269],[269,267],[350,357],[357,277],[277,350],[350,452],[452,357],[357,350],[299,333],[333,297],[297,299],[396,175],[175,377],[377,396],[280,347],[347,330],[330,280],[269,303],[303,270],[270,269],[151,9],[9,337],[337,151],[344,278],[278,360],[360,344],[424,418],[418,431],[431,424],[270,304],[304,409],[409,270],[272,310],[310,407],[407,272],[322,270],[270,410],[410,322],[449,450],[450,347],[347,449],[432,422],[422,434],[434,432],[18,313],[313,17],[17,18],[291,306],[306,375],[375,291],[259,387],[387,260],[260,259],[424,335],[335,418],[418,424],[434,364],[364,416],[416,434],[391,423],[423,327],[327,391],[301,251],[251,298],[298,301],[275,281],[281,4],[4,275],[254,373],[373,253],[253,254],[375,307],[307,321],[321,375],[280,425],[425,411],[411,280],[200,421],[421,18],[18,200],[335,321],[321,406],[406,335],[321,320],[320,405],[405,321],[314,315],[315,17],[17,314],[423,426],[426,266],[266,423],[396,377],[377,369],[369,396],[270,322],[322,269],[269,270],[413,417],[417,464],[464,413],[385,386],[386,258],[258,385],[248,456],[456,419],[419,248],[298,284],[284,333],[333,298],[168,417],[417,8],[8,168],[448,346],[346,261],[261,448],[417,413],[413,285],[285,417],[326,327],[327,328],[328,326],[277,355],[355,329],[329,277],[309,392],[392,438],[438,309],[381,382],[382,256],[256,381],[279,429],[429,360],[360,279],[365,364],[364,379],[379,365],[355,277],[277,437],[437,355],[282,443],[443,283],[283,282],[281,275],[275,363],[363,281],[395,431],[431,369],[369,395],[299,297],[297,337],[337,299],[335,273],[273,321],[321,335],[348,450],[450,349],[349,348],[359,446],[446,467],[467,359],[283,293],[293,282],[282,283],[250,458],[458,462],[462,250],[300,276],[276,383],[383,300],[292,308],[308,325],[325,292],[283,276],[276,293],[293,283],[264,372],[372,447],[447,264],[346,352],[352,340],[340,346],[354,274],[274,19],[19,354],[363,456],[456,281],[281,363],[426,436],[436,425],[425,426],[380,381],[381,252],[252,380],[267,269],[269,393],[393,267],[421,200],[200,428],[428,421],[371,266],[266,329],[329,371],[432,287],[287,422],[422,432],[290,250],[250,328],[328,290],[385,258],[258,384],[384,385],[446,265],[265,342],[342,446],[386,387],[387,257],[257,386],[422,424],[424,430],[430,422],[445,342],[342,276],[276,445],[422,273],[273,424],[424,422],[306,292],[292,307],[307,306],[352,366],[366,345],[345,352],[268,271],[271,302],[302,268],[358,423],[423,371],[371,358],[327,294],[294,460],[460,327],[331,279],[279,294],[294,331],[303,271],[271,304],[304,303],[436,432],[432,427],[427,436],[304,272],[272,408],[408,304],[395,394],[394,431],[431,395],[378,395],[395,400],[400,378],[296,334],[334,299],[299,296],[6,351],[351,168],[168,6],[376,352],[352,411],[411,376],[307,325],[325,320],[320,307],[285,295],[295,336],[336,285],[320,319],[319,404],[404,320],[329,330],[330,349],[349,329],[334,293],[293,333],[333,334],[366,323],[323,447],[447,366],[316,15],[15,315],[315,316],[331,358],[358,279],[279,331],[317,14],[14,316],[316,317],[8,285],[285,9],[9,8],[277,329],[329,350],[350,277],[253,374],[374,252],[252,253],[319,318],[318,403],[403,319],[351,6],[6,419],[419,351],[324,318],[318,325],[325,324],[397,367],[367,365],[365,397],[288,435],[435,397],[397,288],[278,344],[344,439],[439,278],[310,272],[272,311],[311,310],[248,195],[195,281],[281,248],[375,273],[273,291],[291,375],[175,396],[396,199],[199,175],[312,311],[311,268],[268,312],[276,283],[283,445],[445,276],[390,373],[373,339],[339,390],[295,282],[282,296],[296,295],[448,449],[449,346],[346,448],[356,264],[264,454],[454,356],[337,336],[336,299],[299,337],[337,338],[338,151],[151,337],[294,278],[278,455],[455,294],[308,292],[292,415],[415,308],[429,358],[358,355],[355,429],[265,340],[340,372],[372,265],[352,346],[346,280],[280,352],[295,442],[442,282],[282,295],[354,19],[19,370],[370,354],[285,441],[441,295],[295,285],[195,248],[248,197],[197,195],[457,440],[440,274],[274,457],[301,300],[300,368],[368,301],[417,351],[351,465],[465,417],[251,301],[301,389],[389,251],[394,395],[395,379],[379,394],[399,412],[412,419],[419,399],[410,436],[436,322],[322,410],[326,2],[2,393],[393,326],[354,370],[370,461],[461,354],[393,164],[164,267],[267,393],[268,302],[302,12],[12,268],[312,268],[268,13],[13,312],[298,293],[293,301],[301,298],[265,446],[446,340],[340,265],[280,330],[330,425],[425,280],[322,426],[426,391],[391,322],[420,429],[429,437],[437,420],[393,391],[391,326],[326,393],[344,440],[440,438],[438,344],[458,459],[459,461],[461,458],[364,434],[434,394],[394,364],[428,396],[396,262],[262,428],[274,354],[354,457],[457,274],[317,316],[316,402],[402,317],[316,315],[315,403],[403,316],[315,314],[314,404],[404,315],[314,313],[313,405],[405,314],[313,421],[421,406],[406,313],[323,366],[366,361],[361,323],[292,306],[306,407],[407,292],[306,291],[291,408],[408,306],[291,287],[287,409],[409,291],[287,432],[432,410],[410,287],[427,434],[434,411],[411,427],[372,264],[264,383],[383,372],[459,309],[309,457],[457,459],[366,352],[352,401],[401,366],[1,274],[274,4],[4,1],[418,421],[421,262],[262,418],[331,294],[294,358],[358,331],[435,433],[433,367],[367,435],[392,289],[289,439],[439,392],[328,462],[462,326],[326,328],[94,2],[2,370],[370,94],[289,305],[305,455],[455,289],[339,254],[254,448],[448,339],[359,255],[255,446],[446,359],[254,253],[253,449],[449,254],[253,252],[252,450],[450,253],[252,256],[256,451],[451,252],[256,341],[341,452],[452,256],[414,413],[413,463],[463,414],[286,441],[441,414],[414,286],[286,258],[258,441],[441,286],[258,257],[257,442],[442,258],[257,259],[259,443],[443,257],[259,260],[260,444],[444,259],[260,467],[467,445],[445,260],[309,459],[459,250],[250,309],[305,289],[289,290],[290,305],[305,290],[290,460],[460,305],[401,376],[376,435],[435,401],[309,250],[250,392],[392,309],[376,411],[411,433],[433,376],[453,341],[341,464],[464,453],[357,453],[453,465],[465,357],[343,357],[357,412],[412,343],[437,343],[343,399],[399,437],[344,360],[360,440],[440,344],[420,437],[437,456],[456,420],[360,420],[420,363],[363,360],[361,401],[401,288],[288,361],[265,372],[372,353],[353,265],[390,339],[339,249],[249,390],[339,448],[448,255],[255,339]]),N("matrixDataToMatrix",function(e){for(var t=e.getCols(),n=e.getRows(),i=e.getPackedDataList(),r=[],s=0;s<n;s++)r.push(Array(t));for(s=0;s<n;s++)for(var a=0;a<t;a++){var o=1===e.getLayout()?s*t+a:a*n+s;r[s][a]=i[o]}return r}),N("VERSION","0.4.1633559619")}.call(qX)),qX}var WX=$X();const HX=()=>{const[e,t]=n.useState(!1),[i,r]=n.useState(null),[s,a]=n.useState(!1),o=n.useRef(null),l=n.useRef(null),c=n.useRef(null),u=n.useRef(null),d=n.useRef(null);n.useEffect(()=>{const e=new WX.FaceMesh({locateFile:e=>`https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/${e}`});return e.setOptions({maxNumFaces:1,refineLandmarks:!0,minDetectionConfidence:.5,minTrackingConfidence:.5}),e.onResults(f),c.current=e,()=>{c.current&&c.current.close()}},[]);const f=n.useCallback(e=>{const t=l.current,n=o.current;if(!t||!n)return;const i=t.getContext("2d"),r=t.width,s=t.height;if(i.save(),i.clearRect(0,0,r,s),i.fillStyle="#111827",i.fillRect(0,0,r,s),e.multiFaceLandmarks&&e.multiFaceLandmarks.length>0){const t=e.multiFaceLandmarks[0];h(i,t,r,s)}else p(i,r,s);i.restore()},[]),h=(e,t,n,i)=>{const r=yi.local.get("avatar_skin_color","#FFD700"),s="white",a="black",o=t[1],l=o.x*n,c=o.y*i,u=m(t);e.beginPath(),e.arc(l,c,150,0,2*Math.PI),e.fillStyle=r,e.fill(),e.strokeStyle="#DAA520",e.lineWidth=3,e.stroke();const d=t[159],f=t[145],h=Math.abs(d.y-f.y)<.01,p=t[386],g=t[374],v=Math.abs(p.y-g.y)<.01;if(h)e.beginPath(),e.moveTo(t[33].x*n,t[33].y*i),e.lineTo(t[133].x*n,t[133].y*i),e.strokeStyle="black",e.lineWidth=3,e.stroke();else{const r=u.surprised?1.3:1;e.beginPath(),e.ellipse(t[159].x*n,t[159].y*i+10,22.5*r,15*r,0,0,2*Math.PI),e.fillStyle=s,e.fill(),e.strokeStyle="black",e.lineWidth=2,e.stroke(),e.beginPath(),e.arc(t[159].x*n,t[159].y*i+10,7.5,0,2*Math.PI),e.fillStyle=a,e.fill()}if(v)e.beginPath(),e.moveTo(t[362].x*n,t[362].y*i),e.lineTo(t[263].x*n,t[263].y*i),e.strokeStyle="black",e.lineWidth=3,e.stroke();else{const r=u.surprised?1.3:1;e.beginPath(),e.ellipse(t[386].x*n,t[386].y*i+10,22.5*r,15*r,0,0,2*Math.PI),e.fillStyle=s,e.fill(),e.strokeStyle="black",e.lineWidth=2,e.stroke(),e.beginPath(),e.arc(t[386].x*n,t[386].y*i+10,7.5,0,2*Math.PI),e.fillStyle=a,e.fill()}const y=t[13],b=t[14],w=Math.abs(y.y-b.y);e.beginPath(),w>.02?(e.ellipse((t[13].x+t[14].x)/2*n,(t[13].y+t[14].y)/2*i,30,10*w*22.5,0,0,2*Math.PI),e.fillStyle="#333",e.fill()):u.smiling?(e.moveTo(t[78].x*n,t[78].y*i),e.quadraticCurveTo(t[13].x*n,t[13].y*i-5,t[308].x*n,t[308].y*i),e.strokeStyle="black",e.lineWidth=3,e.stroke()):u.sad?(e.moveTo(t[78].x*n,t[78].y*i),e.quadraticCurveTo(t[13].x*n,t[13].y*i+5,t[308].x*n,t[308].y*i),e.strokeStyle="black",e.lineWidth=3,e.stroke()):(e.moveTo(t[78].x*n,t[78].y*i),e.lineTo(t[308].x*n,t[308].y*i),e.strokeStyle="black",e.lineWidth=3,e.stroke()),u.surprised?(e.beginPath(),e.moveTo(t[70].x*n,t[70].y*i-10),e.lineTo(t[63].x*n,t[63].y*i-10),e.strokeStyle="black",e.lineWidth=3,e.stroke(),e.beginPath(),e.moveTo(t[300].x*n,t[300].y*i-10),e.lineTo(t[293].x*n,t[293].y*i-10),e.stroke()):u.sad&&(e.beginPath(),e.moveTo(t[70].x*n,t[70].y*i-5),e.lineTo(t[63].x*n,t[63].y*i),e.strokeStyle="black",e.lineWidth=3,e.stroke(),e.beginPath(),e.moveTo(t[300].x*n,t[300].y*i-5),e.lineTo(t[293].x*n,t[293].y*i),e.stroke())},m=e=>{const t=e[61],n=e[291],i=e[13],r=100*((t.y+n.y)/2-i.y),s=r<-.5,a=e[159],o=e[145];return{smiling:s,surprised:Math.abs(a.y-o.y)>.025,sad:r>.5}},p=(e,t,n)=>{const i=t/2,r=n/2;e.beginPath(),e.arc(i,r,100,0,2*Math.PI),e.fillStyle="#555",e.fill(),e.fillStyle="white",e.beginPath(),e.arc(i-30,r-20,10,0,2*Math.PI),e.fill(),e.beginPath(),e.arc(i+30,r-20,10,0,2*Math.PI),e.fill(),e.beginPath(),e.moveTo(i-20,r+20),e.lineTo(i+20,r+20),e.strokeStyle="white",e.stroke()},g=async()=>{if(!e||!o.current||!c.current)return;const t=o.current;if(4===t.readyState)try{await c.current.send({image:t})}catch(cZ){}d.current=requestAnimationFrame(()=>{requestAnimationFrame(()=>{requestAnimationFrame(g)})})};return n.useEffect(()=>{e&&g()},[e]),{isAvatarMode:e,avatarStream:i,toggleAvatarMode:()=>{e?(t(!1),r(null),d.current&&cancelAnimationFrame(d.current),u.current&&(u.current.getTracks().forEach(e=>e.stop()),u.current=null),o.current&&(o.current.srcObject=null)):(async()=>{a(!0);try{const e=await navigator.mediaDevices.getUserMedia({video:{width:480,height:480}});if(u.current=e,o.current&&(o.current.srcObject=e,o.current.onloadeddata=()=>{o.current.play(),g()}),l.current){const e=l.current.captureStream(30);r(e)}t(!0)}catch(e){}finally{a(!1)}})()},canvasRef:l,videoRef:o,isLoading:s}},GX=()=>{const{incomingCall:e,acceptCall:t,rejectCall:i}=vP(),{users:r}=YI(),[s,o]=n.useState(!1),l=n.useRef(null),c=e?r[e.caller]:null;if(n.useEffect(()=>(o(!!e),()=>{}),[e]),!e)return null;const u="video"===e.type;return a.createPortal(ht.jsxs("div",{className:"fixed inset-0 z-[200] bg-gradient-to-b from-gray-900 via-gray-800 to-gray-900 flex flex-col items-center justify-between animate-in fade-in duration-300",children:[ht.jsx("div",{className:"absolute inset-0 opacity-5",children:ht.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, white 1px, transparent 0)",backgroundSize:"40px 40px"}})}),ht.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center z-10 px-6",children:[s&&ht.jsxs("div",{className:"absolute w-64 h-64 md:w-80 md:h-80",children:[ht.jsx("div",{className:"absolute inset-0 bg-wa-teal/20 rounded-full animate-ping",style:{animationDuration:"2s"}}),ht.jsx("div",{className:"absolute inset-0 bg-wa-teal/10 rounded-full animate-ping",style:{animationDuration:"2.5s",animationDelay:"0.5s"}})]}),ht.jsx("div",{className:"relative z-20 mb-8",children:(null==c?void 0:c.avatar)?ht.jsx("img",{src:c.avatar,alt:c.name,className:"w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white/20 shadow-2xl"}):ht.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 rounded-full border-4 border-white/20 bg-gray-700 flex items-center justify-center shadow-2xl",children:ht.jsx(X,{size:64,className:"text-gray-400"})})}),ht.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-2 text-center drop-shadow-lg",children:(null==c?void 0:c.name)||"Unknown Caller"}),ht.jsx("p",{className:"text-lg md:text-xl text-gray-300 mb-1 flex items-center gap-2",children:u?ht.jsxs(ht.Fragment,{children:[ht.jsx(T,{size:20}),ht.jsx("span",{children:"Incoming Video Call"})]}):ht.jsxs(ht.Fragment,{children:[ht.jsx(me,{size:20}),ht.jsx("span",{children:"Incoming Call"})]})}),ht.jsx("p",{className:"text-sm text-gray-400 animate-pulse",children:"Ringing..."})]}),ht.jsx("div",{className:"w-full max-w-md px-8 pb-12 z-10",children:ht.jsxs("div",{className:"flex items-center justify-between gap-8",children:[ht.jsxs("button",{onClick:i,className:"flex-1 flex flex-col items-center gap-3 group",children:[ht.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-red-500 hover:bg-red-600 rounded-full flex items-center justify-center shadow-2xl transform transition-all hover:scale-110 active:scale-95",children:ht.jsx(Qe,{size:32,className:"text-white",fill:"currentColor"})}),ht.jsx("span",{className:"text-white text-sm font-medium",children:"Decline"})]}),ht.jsxs("button",{onClick:t,className:"flex-1 flex flex-col items-center gap-3 group",children:[ht.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 bg-green-500 hover:bg-green-600 rounded-full flex items-center justify-center shadow-2xl transform transition-all hover:scale-110 active:scale-95 animate-pulse",children:u?ht.jsx(T,{size:32,className:"text-white",fill:"currentColor"}):ht.jsx(me,{size:32,className:"text-white",fill:"currentColor"})}),ht.jsx("span",{className:"text-white text-sm font-medium",children:"Accept"})]})]})}),ht.jsx("audio",{ref:l,loop:!0}),ht.jsx("div",{className:"absolute top-6 left-0 right-0 flex justify-center",children:ht.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 font-medium bg-black/20 px-4 py-2 rounded-full backdrop-blur-sm",children:[ht.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),"End-to-end encrypted"]})})]}),document.body)},KX=()=>{const{activeCall:e,incomingCall:t,localStream:i,remoteStream:r,isScreenSharing:s,isPiPMode:o,endCall:l,minimizeCall:c,maximizeCall:u,toggleMute:d,toggleVideo:f,startScreenShare:h,stopScreenShare:m,enterPiP:p}=vP(),{users:g}=YI(),[v,y]=n.useState(0),{isAvatarMode:b,toggleAvatarMode:w,canvasRef:k,videoRef:x,isLoading:_,avatarStream:C}=HX(),N=n.useRef(null),j=n.useRef(null),[E,I]=n.useState(null),A=n.useRef(null),M=n.useRef(null);n.useEffect(()=>{let t;return"connected"===(null==e?void 0:e.status)&&e.startTime?t=window.setInterval(()=>{y(Math.floor((Date.now()-e.startTime)/1e3))},1e3):y(0),()=>clearInterval(t)},[null==e?void 0:e.status,null==e?void 0:e.startTime]),n.useEffect(()=>{(null==e?void 0:e.isMinimized)||I(null)},[null==e?void 0:e.isMinimized]);const R=t=>{if(!(null==e?void 0:e.isMinimized)||!M.current)return;if(t.target.closest("button"))return;const n=M.current.getBoundingClientRect();A.current={isDragging:!0,startX:t.clientX,startY:t.clientY,initialLeft:n.left,initialTop:n.top,hasMoved:!1},document.addEventListener("mousemove",D),document.addEventListener("mouseup",L)},D=e=>{var t;if(!(null==(t=A.current)?void 0:t.isDragging))return;e.preventDefault();const n=e.clientX-A.current.startX,i=e.clientY-A.current.startY;(Math.abs(n)>3||Math.abs(i)>3)&&(A.current.hasMoved=!0),I({x:A.current.initialLeft+n,y:A.current.initialTop+i})},L=()=>{A.current&&(A.current.isDragging=!1),document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",L)},F=t=>{if(!(null==e?void 0:e.isMinimized)||!M.current)return;if(t.target.closest("button"))return;const n=t.touches[0],i=M.current.getBoundingClientRect();A.current={isDragging:!0,startX:n.clientX,startY:n.clientY,initialLeft:i.left,initialTop:i.top,hasMoved:!1},document.addEventListener("touchmove",z,{passive:!1}),document.addEventListener("touchend",U)},z=e=>{var t;if(!(null==(t=A.current)?void 0:t.isDragging))return;e.preventDefault();const n=e.touches[0],i=n.clientX-A.current.startX,r=n.clientY-A.current.startY;(Math.abs(i)>3||Math.abs(r)>3)&&(A.current.hasMoved=!0),I({x:A.current.initialLeft+i,y:A.current.initialTop+r})},U=()=>{A.current&&(A.current.isDragging=!1),document.removeEventListener("touchmove",z),document.removeEventListener("touchend",U)},B=()=>{var e;(null==(e=A.current)?void 0:e.hasMoved)||u()};if(n.useEffect(()=>()=>{document.removeEventListener("mousemove",D),document.removeEventListener("mouseup",L),document.removeEventListener("touchmove",z),document.removeEventListener("touchend",U)},[]),n.useEffect(()=>{j.current&&r&&(j.current.srcObject=r)},[r]),n.useEffect(()=>{N.current&&i&&(N.current.srcObject=i)},[i]),t)return ht.jsx(GX,{});if(!e)return null;const V=g[e.contactId],q=()=>{switch(e.status){case"ringing":return"Ringing...";case"connected":return t=v,`${Math.floor(t/60)}:${(t%60).toString().padStart(2,"0")}`;case"ended":return"Call Ended";default:return"Connecting..."}var t};return e.isMinimized?a.createPortal(ht.jsxs("div",{ref:M,onMouseDown:R,onTouchStart:F,onClick:B,style:E?{left:E.x,top:E.y,right:"auto",transform:"none"}:{},className:`fixed z-[100] w-40 md:w-64 bg-gray-900 rounded-lg shadow-2xl border border-gray-700 overflow-hidden cursor-grab active:cursor-grabbing group touch-none\n                    ${E?"":"top-20 right-4 animate-in zoom-in-95 duration-200"}\n                `,children:[ht.jsx("button",{onClick:e=>{e.stopPropagation(),l()},className:"absolute top-2 right-2 z-50 p-1.5 bg-black/50 hover:bg-red-500 text-white rounded-full transition-all shadow-sm",title:"End Call",children:ht.jsx(P,{size:14,strokeWidth:3})}),ht.jsxs("div",{className:"relative aspect-video bg-gray-800 pointer-events-none",children:["video"===e.type&&e.isVideoEnabled&&r?ht.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover opacity-80"}):ht.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-800",children:(null==V?void 0:V.avatar)?ht.jsx("img",{src:null==V?void 0:V.avatar,className:"w-12 h-12 rounded-full opacity-60",alt:""}):ht.jsx(X,{className:"w-12 h-12 text-gray-400 opacity-60"})}),ht.jsxs("div",{className:"absolute inset-0 bg-black/30 flex flex-col justify-between p-2",children:[ht.jsx("div",{className:"flex justify-between items-start",children:ht.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"})}),ht.jsxs("div",{className:"text-white",children:[ht.jsx("h4",{className:"text-xs font-medium truncate",children:null==V?void 0:V.name}),ht.jsx("p",{className:"text-[10px] text-gray-300",children:q()})]})]}),ht.jsx("div",{className:"absolute inset-0 bg-black/60 hidden group-hover:flex items-center justify-center gap-3 pointer-events-auto",children:ht.jsx("button",{onClick:e=>{e.stopPropagation(),u()},className:"p-2 rounded-full bg-white/20 text-white hover:bg-white/30",title:"Maximize",children:ht.jsx(le,{size:16})})})]})]}),document.body):a.createPortal(ht.jsxs("div",{className:"fixed inset-0 z-[100] bg-gray-900 flex flex-col animate-in fade-in duration-300",children:[ht.jsx("video",{ref:x,className:"hidden",playsInline:!0,muted:!0,autoPlay:!0}),ht.jsx("canvas",{ref:k,className:"hidden",width:480,height:480}),ht.jsxs("div",{className:"flex-1 relative overflow-hidden flex flex-col items-center justify-center",children:["video"===e.type&&e.isVideoEnabled?ht.jsxs(ht.Fragment,{children:[r?ht.jsx("video",{ref:j,autoPlay:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover"}):ht.jsx("div",{className:"absolute inset-0 w-full h-full bg-gray-800 flex items-center justify-center",children:ht.jsxs("div",{className:"text-center",children:[(null==V?void 0:V.avatar)?ht.jsx("img",{src:V.avatar,className:"w-32 h-32 rounded-full mx-auto mb-4",alt:""}):ht.jsx(X,{className:"w-32 h-32 text-gray-400 mx-auto mb-4"}),ht.jsx("p",{className:"text-gray-400",children:"Connecting..."})]})}),ht.jsx("div",{className:"absolute top-4 right-4 w-28 h-36 bg-black rounded-lg border border-gray-600 overflow-hidden shadow-lg z-20",children:b?ht.jsxs("div",{className:"w-full h-full relative",children:[_&&ht.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 text-white text-[10px]",children:"Loading..."}),ht.jsx(YX,{stream:C})]}):i?ht.jsx("video",{ref:N,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}):ht.jsx("div",{className:"w-full h-full bg-gray-700 flex items-center justify-center",children:ht.jsx(X,{className:"text-gray-500",size:32})})})]}):ht.jsxs("div",{className:"absolute inset-0 bg-[#111b21] flex items-center justify-center",children:["ringing"===e.status&&ht.jsx("div",{className:"absolute w-64 h-64 bg-wa-teal/20 rounded-full animate-ping"}),(null==V?void 0:V.avatar)?ht.jsx("img",{src:V.avatar,className:"w-32 h-32 rounded-full border-4 border-gray-700 z-10",alt:null==V?void 0:V.name}):ht.jsx("div",{className:"w-32 h-32 rounded-full border-4 border-gray-700 bg-gray-700 flex items-center justify-center z-10",children:ht.jsx(X,{size:64,className:"text-gray-400"})})]}),ht.jsxs("div",{className:"relative z-10 flex flex-col items-center mt-10 md:mt-0",children:[ht.jsx("h2",{className:"text-2xl font-semibold text-white mb-2 drop-shadow-md",children:null==V?void 0:V.name}),ht.jsx("p",{className:"text-gray-300 text-sm font-medium bg-black/20 px-3 py-1 rounded-full backdrop-blur-sm",children:q()})]}),ht.jsxs("div",{className:"absolute top-12 md:top-6 flex items-center gap-1.5 text-[10px] text-gray-400 font-medium",children:[ht.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-500"}),"End-to-end encrypted"]})]}),ht.jsxs("div",{className:"bg-[#1f2c34] pb-8 pt-6 px-6 rounded-t-3xl shadow-2xl relative z-20",children:[ht.jsx("button",{onClick:c,className:"absolute top-4 right-4 p-2 text-gray-400 hover:text-white hover:bg-white/10 rounded-full transition-colors",children:ht.jsx(ce,{size:24})}),ht.jsxs("div",{className:"flex justify-center items-center gap-6 md:gap-10",children:[ht.jsx("button",{onClick:f,className:"p-4 rounded-full transition-all "+(e.isVideoEnabled?"bg-white/10 text-white":"bg-white text-gray-900"),disabled:"ended"===e.status,children:e.isVideoEnabled?ht.jsx(T,{size:24}):ht.jsx(Xe,{size:24})}),ht.jsx("button",{onClick:d,className:"p-4 rounded-full transition-all "+(e.isMuted?"bg-white text-gray-900":"bg-white/10 text-white"),disabled:"ended"===e.status,children:e.isMuted?ht.jsx(Je,{size:24}):ht.jsx(S,{size:24})}),"video"===e.type&&ht.jsx("button",{onClick:w,className:"p-4 rounded-full transition-all "+(b?"bg-blue-600 text-white shadow-[0_0_15px_rgba(37,99,235,0.5)]":"bg-white/10 text-gray-400 hover:text-white"),disabled:"ended"===e.status,title:"Avatar Mode",children:ht.jsx(O,{size:24})}),"video"===e.type&&ht.jsx("button",{onClick:s?m:h,className:"p-4 rounded-full transition-all "+(s?"bg-green-600 text-white shadow-[0_0_15px_rgba(22,163,74,0.5)]":"bg-white/10 text-gray-400 hover:text-white"),disabled:"ended"===e.status,title:s?"Stop Sharing":"Share Screen",children:ht.jsx(Ze,{size:24})}),"video"===e.type&&r&&ht.jsx("button",{onClick:()=>{const e=document.querySelector("video[autoplay]:not([muted])");e&&!o&&p(e)},className:"p-4 rounded-full bg-white/10 text-gray-400 hover:text-white transition-all",disabled:"ended"===e.status||o,title:"Picture-in-Picture",children:ht.jsx(et,{size:24})}),ht.jsx("button",{onClick:l,className:"p-5 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg transform hover:scale-105 transition-all",children:ht.jsx(Qe,{size:32,fill:"currentColor"})})]})]})]}),document.body)},YX=({stream:e})=>{const t=n.useRef(null);return n.useEffect(()=>{t.current&&e&&(t.current.srcObject=e)},[e]),ht.jsx("video",{ref:t,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover bg-[#111827]"})},QX=({className:e=""})=>{const t=i(),s=r(),{currentUser:a}=YI(),[o,l]=n.useState(0);n.useEffect(()=>{if(!(null==a?void 0:a.id))return;c();const e=sP.subscribeToNotifications(a.id,e=>{l(e.unreadCount)});return()=>{e&&e()}},[null==a?void 0:a.id]),n.useEffect(()=>{(null==a?void 0:a.id)&&!s.pathname.includes("/notifications")&&c()},[s.pathname,null==a?void 0:a.id]);const c=async()=>{if(null==a?void 0:a.id)try{const e=await sP.getUnreadCount(a.id);e.success&&l(e.count)}catch(e){}};return ht.jsxs("button",{onClick:()=>{t("/notifications")},className:`relative p-2 hover:bg-white/10 rounded-full transition-colors ${e}`,"aria-label":"Notifications",children:[ht.jsx(Ee,{size:22,className:e||"text-white cursor-pointer"}),o>0&&ht.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-bold rounded-full min-w-[20px] h-5 flex items-center justify-center px-1.5",children:o>99?"99+":o})]})},XX=n.lazy(()=>SI(()=>import("./PrivacySettings-BN1aTwbR.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),JX=n.lazy(()=>SI(()=>import("./LastSeenPrivacy-CvHjdUUy.js"),__vite__mapDeps([7,1,2,3,4,8,5,6]))),ZX=n.lazy(()=>SI(()=>import("./ProfilePhotoPrivacy-CHAM8Egn.js"),__vite__mapDeps([9,1,2,3,4,8,5,6]))),eJ=n.lazy(()=>SI(()=>import("./AboutPrivacy-X2rOIXEU.js"),__vite__mapDeps([10,1,2,3,4,8,5,6]))),tJ=n.lazy(()=>SI(()=>import("./GroupsPrivacy-CCWfuv3c.js"),__vite__mapDeps([11,1,2,3,4,8,5,6]))),nJ=n.lazy(()=>SI(()=>import("./FollowRequests-glv7uzyA.js"),__vite__mapDeps([12,1,2,4,5,6]))),iJ=n.lazy(()=>SI(()=>import("./BlockedUsersList-DY4Wl1Y6.js"),__vite__mapDeps([13,1,2,4,5,6]))),rJ=n.lazy(()=>SI(()=>import("./NotificationsPage-apu25wjA.js"),__vite__mapDeps([14,1,2,4,5,6]))),sJ=n.lazy(()=>SI(()=>import("./GroupSettings-RmScJalh.js"),__vite__mapDeps([15,1,2,16,17,4,5,6]))),aJ=n.lazy(()=>SI(()=>import("./GroupParticipants-BtL3RF7q.js"),__vite__mapDeps([18,1,2,16,17,4,5,6]))),oJ=n.lazy(()=>SI(()=>import("./GroupPermissions-BW6f6ykZ.js"),__vite__mapDeps([19,1,2,16,4,5,6]))),lJ=()=>{const e=i(),t=r(),[s,a]=n.useState("chats"),{searchQuery:o,setSearchQuery:u,currentUser:d,logoEffect:f,theme:h}=YI(),{isDesktopLarge:m,width:p}=KB();aq(),n.useEffect(()=>{t.pathname.startsWith("/status")||t.pathname.startsWith("/updates")?a("status"):t.pathname.startsWith("/calls")?a("calls"):t.pathname.startsWith("/settings")?a("settings"):a("chats")},[t]);const g=!(t.pathname.startsWith("/settings")||t.pathname.startsWith("/calls")||t.pathname.startsWith("/new-chat")||t.pathname.startsWith("/archived")||"/status"===t.pathname||"/updates"===t.pathname||t.pathname.startsWith("/status/privacy")),v="wave"===f?"effect-wave":"shine"===f?"dark"===h?"effect-shine":"effect-shine-dark":"",y="shine"===f?"":"text-[#111b21] dark:text-gray-100",b=n.useMemo(()=>p>=1920?"w-[440px]":p>=1600?"w-[420px]":p>=1440?"w-[400px]":"w-[380px]",[p]),w=p>=1920?"max-w-[1800px]":p>=1600?"max-w-[1600px]":"";return ht.jsxs("div",{className:"flex h-screen w-full bg-[#EFEAE2] dark:bg-[#0b141a] relative overflow-hidden",children:[ht.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-wa-teal dark:bg-wa-tealDark -z-10 hidden xl:block"}),ht.jsxs("div",{className:`flex w-full h-full bg-white dark:bg-wa-dark-bg overflow-hidden ${w} ${w?"mx-auto shadow-2xl":""}`,children:[ht.jsxs("div",{className:`${b} flex flex-col border-r border-wa-border dark:border-wa-dark-border bg-white dark:bg-wa-dark-bg h-full relative z-10 transition-all duration-200`,children:[g&&ht.jsxs("div",{className:"h-[60px] bg-wa-grayBg dark:bg-wa-dark-header flex items-center justify-between px-4 shrink-0 border-b border-wa-border dark:border-wa-dark-border",children:[ht.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e("/settings"),children:[ht.jsx("img",{src:(null==d?void 0:d.avatar)||"https://ui-avatars.com/api/?name=User&background=128c7e&color=fff",alt:"Me",className:"w-10 h-10 rounded-full object-cover"}),ht.jsx("span",{className:`font-medium ${y} ${v}`,children:(null==d?void 0:d.name)||"User"})]}),ht.jsxs("div",{className:"flex gap-5 text-wa-gray dark:text-gray-400",children:[ht.jsx(QX,{className:"text-wa-gray dark:text-gray-400 hover:text-wa-teal dark:hover:text-wa-teal"}),ht.jsx("button",{onClick:()=>e("/status"),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:ht.jsx(Be,{size:24,strokeWidth:"status"===s?2.5:2,className:"status"===s?"text-wa-teal dark:text-wa-teal":""})}),ht.jsx("button",{onClick:()=>e("/new-chat"),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:ht.jsx(Q,{size:24,strokeWidth:"chats"===s?2.5:2,className:"/new-chat"===t.pathname?"text-wa-teal dark:text-wa-teal":""})}),ht.jsx("button",{onClick:()=>e("/calls"),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:ht.jsx(me,{size:24,strokeWidth:"calls"===s?2.5:2,className:"calls"===s?"text-wa-teal dark:text-wa-teal":""})})]})]}),g&&ht.jsx("div",{className:"bg-white dark:bg-wa-dark-bg p-2 border-b border-wa-border dark:border-wa-dark-border",children:ht.jsxs("div",{className:"bg-wa-grayBg dark:bg-wa-dark-input rounded-lg px-4 py-2 flex items-center gap-4 text-wa-gray dark:text-gray-400 h-9 transition-colors",children:[ht.jsx(z,{size:18}),ht.jsx("input",{type:"text",placeholder:"Search or start new chat",className:"bg-transparent outline-none text-sm w-full text-black dark:text-white placeholder:text-wa-gray dark:placeholder:text-gray-500",value:o,onChange:e=>u(e.target.value)})]})}),ht.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative bg-white dark:bg-wa-dark-bg",children:ht.jsx(n.Suspense,{fallback:ht.jsx("div",{children:"Loading..."}),children:ht.jsxs(l,{children:[ht.jsx(c,{path:"/",element:ht.jsx(xP,{})}),ht.jsx(c,{path:"/chats",element:ht.jsx(xP,{})}),ht.jsx(c,{path:"/status",element:ht.jsx(CV,{})}),ht.jsx(c,{path:"/updates",element:ht.jsx(CV,{})}),ht.jsx(c,{path:"/status/privacy",element:ht.jsx(jV,{})}),ht.jsx(c,{path:"/calls",element:ht.jsx(MV,{})}),ht.jsx(c,{path:"/settings",element:ht.jsx(HV,{})}),ht.jsx(c,{path:"/new-chat",element:ht.jsx(KV,{})}),ht.jsx(c,{path:"/archived",element:ht.jsx(tq,{})}),ht.jsx(c,{path:"/chat/:chatId",element:ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"md:hidden h-full",children:ht.jsx(bV,{})}),ht.jsx("div",{className:"hidden md:block h-full",children:ht.jsx(xP,{})})]})}),ht.jsx(c,{path:"/chat/:chatId/info",element:ht.jsxs(ht.Fragment,{children:[ht.jsx("div",{className:"md:hidden h-full",children:ht.jsx(ZV,{})}),ht.jsx("div",{className:"hidden md:block h-full",children:ht.jsx(xP,{})})]})}),ht.jsx(c,{path:"/profile/:userId",element:ht.jsx(rq,{})}),ht.jsx(c,{path:"/privacy",element:ht.jsx(XX,{})}),ht.jsx(c,{path:"/privacy/last-seen",element:ht.jsx(JX,{})}),ht.jsx(c,{path:"/privacy/profile-photo",element:ht.jsx(ZX,{})}),ht.jsx(c,{path:"/privacy/about",element:ht.jsx(eJ,{})}),ht.jsx(c,{path:"/privacy/groups",element:ht.jsx(tJ,{})}),ht.jsx(c,{path:"/follow-requests",element:ht.jsx(nJ,{})}),ht.jsx(c,{path:"/settings/blocked-users",element:ht.jsx(iJ,{})}),ht.jsx(c,{path:"/notifications",element:ht.jsx(rJ,{})}),ht.jsx(c,{path:"/group/:groupId/settings",element:ht.jsx(sJ,{})}),ht.jsx(c,{path:"/group/:groupId/participants",element:ht.jsx(aJ,{})}),ht.jsx(c,{path:"/group/:groupId/permissions",element:ht.jsx(oJ,{})})]})})})]}),ht.jsx("div",{className:"hidden md:flex flex-1 bg-wa-bg relative flex-col h-full border-l border-wa-border dark:border-wa-dark-border",children:ht.jsxs(l,{children:[ht.jsx(c,{path:"/chat/:chatId",element:ht.jsx(bV,{})}),ht.jsx(c,{path:"/chat/:chatId/info",element:ht.jsx(ZV,{})}),ht.jsx(c,{path:"*",element:ht.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-10 border-b-[6px] border-wa-teal dark:border-wa-tealDark bg-[#f0f2f5] dark:bg-wa-dark-border",children:[ht.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WA",className:"w-20 h-20 opacity-30 mb-8"}),ht.jsx("h1",{className:"text-3xl font-light text-[#41525d] dark:text-gray-300 mb-4 "+("shine"===f?"effect-shine-dark":"wave"===f?"effect-wave":""),children:"WhatsApp Web"}),ht.jsxs("p",{className:"text-[#667781] dark:text-gray-400 text-sm",children:["Send and receive messages without keeping your phone online.",ht.jsx("br",{}),"Use WhatsApp on up to 4 linked devices and 1 phone."]})]})})]})})]}),ht.jsx(BX,{}),ht.jsx(KX,{})]})},cJ=()=>{const{isOnline:e,queuedCount:t,isSyncing:i,triggerSync:r}=(()=>{const[e,t]=n.useState(navigator.onLine),[i,r]=n.useState(0),[s,a]=n.useState(!1),[o,l]=n.useState(null),c=n.useCallback(async()=>{try{const e=await NI.getQueueCount();r(e)}catch(e){}},[]),u=n.useCallback(async()=>{if(e&&!s){a(!0);try{(await NI.syncQueue()).success&&(l(new Date),await c())}catch(t){}finally{a(!1)}}},[e,s,c]);return n.useEffect(()=>{c();const e=NI.subscribe(e=>{switch(e.type){case"online":t(!0);break;case"offline":t(!1);break;case"messageQueued":case"messageRemoved":case"messageSynced":c();break;case"syncStarted":a(!0);break;case"syncCompleted":case"syncError":a(!1),l(new Date),c()}});return()=>{e()}},[c]),{isOnline:e,queuedCount:i,isSyncing:s,lastSyncTime:o,triggerSync:u,updateQueuedCount:c}})();return e&&0===t?null:ht.jsxs("div",{className:"offline-banner "+(e?"syncing":"offline"),children:[ht.jsxs("div",{className:"offline-banner-content",children:[ht.jsx("div",{className:"offline-banner-icon",children:i?ht.jsx(Fe,{className:"icon-spinning",size:18}):ht.jsx(tt,{size:18})}),ht.jsx("div",{className:"offline-banner-text",children:i?ht.jsx("span",{children:"Sending messages..."}):e?ht.jsxs("span",{children:[t," message",1!==t?"s":""," queued"]}):ht.jsxs("span",{children:["You're offline  ",t," message",1!==t?"s":""," queued"]})}),e&&t>0&&!i&&ht.jsxs("button",{className:"offline-banner-retry",onClick:r,"aria-label":"Retry sending",children:[ht.jsx(Fe,{size:16}),"Retry"]})]}),ht.jsx("style",{jsx:!0,children:"\n                .offline-banner {\n                    position: fixed;\n                    top: 0;\n                    left: 0;\n                    right: 0;\n                    z-index: 1000;\n                    padding: 12px 16px;\n                    background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);\n                    color: white;\n                    font-size: 14px;\n                    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);\n                    animation: slideDown 0.3s ease-out;\n                }\n\n                .offline-banner.syncing {\n                    background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%);\n                }\n\n                .offline-banner-content {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                    gap: 12px;\n                    max-width: 600px;\n                    margin: 0 auto;\n                }\n\n                .offline-banner-icon {\n                    display: flex;\n                    align-items: center;\n                    justify-content: center;\n                }\n\n                .icon-spinning {\n                    animation: spin 1s linear infinite;\n                }\n\n                .offline-banner-text {\n                    flex: 1;\n                    font-weight: 500;\n                    text-align: center;\n                }\n\n                .offline-banner-retry {\n                    display: flex;\n                    align-items: center;\n                    gap: 6px;\n                    padding: 6px 12px;\n                    background: rgba(255, 255, 255, 0.2);\n                    border: 1px solid rgba(255, 255, 255, 0.3);\n                    border-radius: 6px;\n                    color: white;\n                    font-size: 13px;\n                    font-weight: 500;\n                    cursor: pointer;\n                    transition: all 0.2s ease;\n                }\n\n                .offline-banner-retry:hover {\n                    background: rgba(255, 255, 255, 0.3);\n                    transform: translateY(-1px);\n                }\n\n                .offline-banner-retry:active {\n                    transform: translateY(0);\n                }\n\n                @keyframes slideDown {\n                    from {\n                        transform: translateY(-100%);\n                        opacity: 0;\n                    }\n                    to {\n                        transform: translateY(0);\n                        opacity: 1;\n                    }\n                }\n\n                @keyframes spin {\n                    from {\n                        transform: rotate(0deg);\n                    }\n                    to {\n                        transform: rotate(360deg);\n                    }\n                }\n\n                /* Mobile adjustments */\n                @media (max-width: 768px) {\n                    .offline-banner {\n                        padding: 10px 12px;\n                        font-size: 13px;\n                    }\n\n                    .offline-banner-content {\n                        gap: 8px;\n                    }\n\n                    .offline-banner-retry {\n                        padding: 5px 10px;\n                        font-size: 12px;\n                    }\n                }\n            "})]})},uJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>_P),void 0)),dJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>wV),void 0)),fJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>NV),void 0)),hJ=n.lazy(()=>SI(()=>import("./ChannelDetail-K5m4ThWg.js"),__vite__mapDeps([20,1,2,4,5,6]))),mJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>TV),void 0)),pJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>RV),void 0)),gJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>GV),void 0)),vJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>YV),void 0)),yJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>eq),void 0)),bJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>nq),void 0)),wJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>sq),void 0)),kJ=n.lazy(()=>SI(()=>import("./PrivacySettings-BN1aTwbR.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),xJ=n.lazy(()=>SI(()=>import("./LastSeenPrivacy-CvHjdUUy.js"),__vite__mapDeps([7,1,2,3,4,8,5,6]))),_J=n.lazy(()=>SI(()=>import("./ProfilePhotoPrivacy-CHAM8Egn.js"),__vite__mapDeps([9,1,2,3,4,8,5,6]))),SJ=n.lazy(()=>SI(()=>import("./AboutPrivacy-X2rOIXEU.js"),__vite__mapDeps([10,1,2,3,4,8,5,6]))),CJ=n.lazy(()=>SI(()=>import("./GroupsPrivacy-CCWfuv3c.js"),__vite__mapDeps([11,1,2,3,4,8,5,6]))),NJ=n.lazy(()=>SI(()=>import("./FollowRequests-glv7uzyA.js"),__vite__mapDeps([12,1,2,4,5,6]))),jJ=n.lazy(()=>SI(()=>import("./BlockedUsersList-DY4Wl1Y6.js"),__vite__mapDeps([13,1,2,4,5,6]))),TJ=n.lazy(()=>SI(()=>import("./NotificationsPage-apu25wjA.js"),__vite__mapDeps([14,1,2,4,5,6]))),EJ=n.lazy(()=>SI(()=>import("./GroupSettings-RmScJalh.js"),__vite__mapDeps([15,1,2,16,17,4,5,6]))),IJ=n.lazy(()=>SI(()=>import("./GroupParticipants-BtL3RF7q.js"),__vite__mapDeps([18,1,2,16,17,4,5,6]))),PJ=n.lazy(()=>SI(()=>import("./GroupPermissions-BW6f6ykZ.js"),__vite__mapDeps([19,1,2,16,4,5,6]))),AJ=n.lazy(()=>SI(()=>import("./JoinGroupPage-CKIXWzXp.js"),__vite__mapDeps([21,1,2,4,5,6]))),MJ=()=>ht.jsx("div",{className:"flex items-center justify-center h-full",children:ht.jsx("div",{className:"w-12 h-12 border-4 border-wa-teal border-t-transparent rounded-full animate-spin"})}),RJ=()=>{const e=r(),t=i(),{searchQuery:s,setSearchQuery:a,currentUser:o,logoEffect:u,chats:d,pendingRequests:f}=YI(),[h,m]=n.useState(!1),{isMobileSmall:p}=KB();aq();const g=n.useMemo(()=>d.reduce((e,t)=>e+(t.unreadCount||0),0),[d]),v=e.pathname.includes("/chat/")&&!e.pathname.includes("/new-chat"),y=e.pathname.includes("/channels/"),b="/new-chat"===e.pathname||"/archived"===e.pathname||"/status/privacy"===e.pathname||e.pathname.includes("/profile/")||e.pathname.includes("/starred")||"/privacy"===e.pathname||"/follow-requests"===e.pathname||"/settings/blocked-users"===e.pathname||"/notifications"===e.pathname||e.pathname.includes("/join/")||e.pathname.startsWith("/group/");return n.useEffect(()=>{e.pathname.includes("chats")||(m(!1),a(""))},[e.pathname]),v||y?ht.jsxs("div",{className:"h-screen w-full bg-wa-bg",children:[ht.jsx(n.Suspense,{fallback:ht.jsx(MJ,{}),children:ht.jsxs(l,{children:[ht.jsx(c,{path:"/chat/:chatId",element:ht.jsx(dJ,{})}),ht.jsx(c,{path:"/chat/:chatId/info",element:ht.jsx(yJ,{})}),ht.jsx(c,{path:"/channels/:channelId",element:ht.jsx(hJ,{})})]})}),ht.jsx(BX,{}),ht.jsx(KX,{})]}):b?ht.jsxs("div",{className:"h-screen w-full bg-white dark:bg-wa-dark-bg",children:[ht.jsx(n.Suspense,{fallback:ht.jsx(MJ,{}),children:ht.jsxs(l,{children:[ht.jsx(c,{path:"/new-chat",element:ht.jsx(vJ,{})}),ht.jsx(c,{path:"/join/:linkId",element:ht.jsx(AJ,{})}),ht.jsx(c,{path:"/archived",element:ht.jsx(bJ,{})}),ht.jsx(c,{path:"/status/privacy",element:ht.jsx(mJ,{})}),ht.jsx(c,{path:"/profile/:userId",element:ht.jsx(wJ,{})}),ht.jsx(c,{path:"/privacy",element:ht.jsx(kJ,{})}),ht.jsx(c,{path:"/privacy/last-seen",element:ht.jsx(xJ,{})}),ht.jsx(c,{path:"/privacy/profile-photo",element:ht.jsx(_J,{})}),ht.jsx(c,{path:"/privacy/about",element:ht.jsx(SJ,{})}),ht.jsx(c,{path:"/privacy/groups",element:ht.jsx(CJ,{})}),ht.jsx(c,{path:"/follow-requests",element:ht.jsx(NJ,{})}),ht.jsx(c,{path:"/settings/blocked-users",element:ht.jsx(jJ,{})}),ht.jsx(c,{path:"/notifications",element:ht.jsx(TJ,{})}),ht.jsx(c,{path:"/group/:groupId/settings",element:ht.jsx(EJ,{})}),ht.jsx(c,{path:"/group/:groupId/participants",element:ht.jsx(IJ,{})}),ht.jsx(c,{path:"/group/:groupId/permissions",element:ht.jsx(PJ,{})})]})}),ht.jsx(KX,{})]}):ht.jsxs("div",{className:"h-screen w-full flex flex-col bg-white dark:bg-wa-dark-bg transition-colors",children:[ht.jsx(cJ,{}),!e.pathname.includes("updates")&&!e.pathname.includes("status")&&!e.pathname.includes("settings")&&ht.jsx("div",{className:(p?"h-[56px]":"h-[60px]")+" bg-wa-teal dark:bg-wa-dark-header text-white dark:text-gray-200 flex items-center justify-between px-4 shadow-sm z-20 transition-colors shrink-0",style:{minHeight:"56px"},children:h?ht.jsxs("div",{className:"flex items-center w-full gap-3 animate-in fade-in slide-in-from-right-4 duration-200",children:[ht.jsx(ne,{size:24,onClick:()=>{m(!1),a("")},className:"cursor-pointer"}),ht.jsx("input",{autoFocus:!0,type:"text",className:"bg-transparent text-white placeholder:text-white/70 outline-none w-full text-lg",placeholder:"Search...",value:s,onChange:e=>a(e.target.value)})]}):ht.jsxs(ht.Fragment,{children:[ht.jsx("span",{className:"text-xl font-medium truncate max-w-[70%] "+("shine"===u?"effect-shine":"wave"===u?"effect-wave":""),children:(null==o?void 0:o.name)||"User"}),ht.jsxs("div",{className:"flex gap-5",children:[ht.jsx(QX,{}),ht.jsx(z,{size:22,onClick:()=>m(!0),className:"cursor-pointer"})]})]})}),ht.jsxs("div",{className:"flex-1 relative overflow-hidden bg-white dark:bg-wa-dark-bg",children:[ht.jsx("div",{className:"absolute inset-0 overflow-y-auto no-scrollbar "+("/"===e.pathname||e.pathname.includes("chats")||e.pathname.includes("calls")?"pb-20":"pb-4"),children:ht.jsx(n.Suspense,{fallback:ht.jsx(MJ,{}),children:ht.jsxs(l,{children:[ht.jsx(c,{path:"/",element:ht.jsx(uJ,{})}),ht.jsx(c,{path:"/chats",element:ht.jsx(uJ,{})}),ht.jsx(c,{path:"/status",element:ht.jsx(fJ,{})}),ht.jsx(c,{path:"/updates",element:ht.jsx(fJ,{})}),ht.jsx(c,{path:"/calls",element:ht.jsx(pJ,{})}),ht.jsx(c,{path:"/settings",element:ht.jsx(gJ,{})})]})})}),("/"===e.pathname||"/chats"===e.pathname)&&ht.jsxs("button",{onClick:()=>t("/new-chat"),className:`absolute ${p?"bottom-5 right-4":"bottom-6 right-5"} bg-wa-teal dark:bg-wa-tealDark rounded-full shadow-[0_4px_10px_rgba(0,0,0,0.3)] flex items-center justify-center text-white cursor-pointer active:brightness-90 transition-all z-20 hover:scale-105`,style:{width:p?"56px":"60px",height:p?"56px":"60px",minWidth:"44px",minHeight:"44px"},"aria-label":"New chat",children:[ht.jsx(Q,{className:"fill-white",size:p?22:24}),ht.jsx("div",{className:"absolute -top-1 -right-1 bg-wa-teal dark:bg-wa-tealDark rounded-full border-2 border-white dark:border-wa-dark-bg flex items-center justify-center",style:{width:p?"18px":"20px",height:p?"18px":"20px"},children:ht.jsx(R,{size:p?10:12,strokeWidth:3})})]}),"/calls"===e.pathname&&ht.jsxs("div",{className:`absolute ${p?"bottom-20":"bottom-24"} left-1/2 transform -translate-x-1/2 bg-wa-teal dark:bg-wa-tealDark rounded-full shadow-[0_4px_10px_rgba(0,0,0,0.3)] flex items-center justify-center text-white cursor-pointer active:brightness-90 transition-all z-20 hover:scale-105`,style:{width:p?"56px":"60px",height:p?"56px":"60px",minWidth:"44px",minHeight:"44px"},onClick:()=>t("/calls"),children:[ht.jsx(me,{className:"fill-white",size:p?22:24}),ht.jsx(R,{size:p?12:14,strokeWidth:3,className:"absolute top-2 right-2 text-white"})]})]}),ht.jsxs("div",{className:"border-t border-wa-border dark:border-wa-dark-border bg-white dark:bg-wa-dark-header flex justify-around items-center text-[#54656f] dark:text-gray-400 shrink-0 z-30",style:{height:p?"58px":"62px",minHeight:"58px"},children:[ht.jsxs("div",{className:"flex flex-col items-center gap-0.5 cursor-pointer relative transition-colors "+(e.pathname.includes("chats")||"/"===e.pathname?"text-black dark:text-white font-medium":""),onClick:()=>t("/chats"),style:{minWidth:"60px",minHeight:"50px",padding:"4px 8px"},children:[ht.jsx(Q,{size:24,className:e.pathname.includes("chats")||"/"===e.pathname?"fill-black dark:fill-white":""}),ht.jsx("span",{className:"text-[10px]",children:"Chats"}),g>0&&ht.jsx("div",{className:"absolute -top-1 -right-1 min-w-[18px] h-[18px] bg-wa-lightGreen rounded-full flex items-center justify-center px-1",children:ht.jsx("span",{className:"text-white text-[9px] font-semibold",children:g>99?"99":g})})]}),ht.jsxs("div",{className:"flex flex-col items-center gap-0.5 cursor-pointer transition-colors "+(e.pathname.includes("updates")||e.pathname.includes("status")?"text-black dark:text-white font-medium":""),onClick:()=>t("/updates"),style:{minWidth:"60px",minHeight:"50px",padding:"4px 8px"},children:[ht.jsx(Be,{size:24,strokeWidth:2.5}),ht.jsx("span",{className:"text-[10px]",children:"Updates"})]}),ht.jsxs("div",{className:"flex flex-col items-center gap-0.5 cursor-pointer transition-colors "+(e.pathname.includes("calls")?"text-black dark:text-white font-medium":""),onClick:()=>t("/calls"),style:{minWidth:"60px",minHeight:"50px",padding:"4px 8px"},children:[ht.jsx(me,{size:24,className:e.pathname.includes("calls")?"fill-black dark:fill-white":""}),ht.jsx("span",{className:"text-[10px]",children:"Calls"})]}),ht.jsxs("div",{className:"flex flex-col items-center gap-0.5 cursor-pointer transition-colors "+(e.pathname.includes("settings")?"text-black dark:text-white font-medium":""),onClick:()=>t("/settings"),style:{minWidth:"60px",minHeight:"50px",padding:"4px 8px"},children:[ht.jsxs("div",{className:"relative",children:[ht.jsx(nt,{size:24}),(null==f?void 0:f.length)>0&&ht.jsx("div",{className:"absolute -top-1 -right-1 min-w-[16px] h-[16px] bg-red-500 rounded-full flex items-center justify-center px-1 border-2 border-white dark:border-wa-dark-header",children:ht.jsx("span",{className:"text-white text-[9px] font-bold",children:f.length>99?"99+":f.length})})]}),ht.jsx("span",{className:"text-[10px]",children:"Settings"})]})]}),ht.jsx(BX,{}),ht.jsx(KX,{})]})},DJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>_P),void 0)),LJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>wV),void 0)),OJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>NV),void 0)),FJ=n.lazy(()=>SI(()=>import("./ChannelDetail-K5m4ThWg.js"),__vite__mapDeps([20,1,2,4,5,6]))),zJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>TV),void 0)),UJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>RV),void 0)),BJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>GV),void 0)),VJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>YV),void 0)),qJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>eq),void 0)),$J=n.lazy(()=>SI(()=>Promise.resolve().then(()=>nq),void 0)),WJ=n.lazy(()=>SI(()=>Promise.resolve().then(()=>sq),void 0)),HJ=n.lazy(()=>SI(()=>import("./PrivacySettings-BN1aTwbR.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),GJ=n.lazy(()=>SI(()=>import("./LastSeenPrivacy-CvHjdUUy.js"),__vite__mapDeps([7,1,2,3,4,8,5,6]))),KJ=n.lazy(()=>SI(()=>import("./ProfilePhotoPrivacy-CHAM8Egn.js"),__vite__mapDeps([9,1,2,3,4,8,5,6]))),YJ=n.lazy(()=>SI(()=>import("./AboutPrivacy-X2rOIXEU.js"),__vite__mapDeps([10,1,2,3,4,8,5,6]))),QJ=n.lazy(()=>SI(()=>import("./GroupsPrivacy-CCWfuv3c.js"),__vite__mapDeps([11,1,2,3,4,8,5,6]))),XJ=n.lazy(()=>SI(()=>import("./FollowRequests-glv7uzyA.js"),__vite__mapDeps([12,1,2,4,5,6]))),JJ=n.lazy(()=>SI(()=>import("./BlockedUsersList-DY4Wl1Y6.js"),__vite__mapDeps([13,1,2,4,5,6]))),ZJ=n.lazy(()=>SI(()=>import("./NotificationsPage-apu25wjA.js"),__vite__mapDeps([14,1,2,4,5,6]))),eZ=n.lazy(()=>SI(()=>import("./GroupSettings-RmScJalh.js"),__vite__mapDeps([15,1,2,16,17,4,5,6]))),tZ=n.lazy(()=>SI(()=>import("./GroupParticipants-BtL3RF7q.js"),__vite__mapDeps([18,1,2,16,17,4,5,6]))),nZ=n.lazy(()=>SI(()=>import("./GroupPermissions-BW6f6ykZ.js"),__vite__mapDeps([19,1,2,16,4,5,6]))),iZ=()=>ht.jsx("div",{className:"flex items-center justify-center h-full",children:ht.jsx("div",{className:"w-12 h-12 border-4 border-wa-teal border-t-transparent rounded-full animate-spin"})}),rZ=()=>{const e=i(),t=r(),[s,a]=n.useState("chats"),{searchQuery:o,setSearchQuery:u,currentUser:d,logoEffect:f,theme:h}=YI();aq(),n.useEffect(()=>{t.pathname.startsWith("/status")||t.pathname.startsWith("/updates")?a("status"):t.pathname.startsWith("/calls")?a("calls"):t.pathname.startsWith("/settings")?a("settings"):a("chats")},[t]);const m=!(t.pathname.startsWith("/settings")||t.pathname.startsWith("/calls")||t.pathname.startsWith("/new-chat")||t.pathname.startsWith("/archived")||"/status"===t.pathname||"/updates"===t.pathname||t.pathname.startsWith("/status/privacy")),p="wave"===f?"effect-wave":"shine"===f?"dark"===h?"effect-shine":"effect-shine-dark":"",g="shine"===f?"":"text-[#111b21] dark:text-gray-100";return ht.jsxs("div",{className:"flex h-screen w-full bg-[#EFEAE2] dark:bg-[#0b141a] relative overflow-hidden",children:[ht.jsx("div",{className:"absolute top-0 left-0 w-full h-28 bg-wa-teal dark:bg-wa-tealDark -z-10"}),ht.jsxs("div",{className:"flex w-full h-full bg-white dark:bg-wa-dark-bg overflow-hidden",children:[ht.jsxs("div",{className:"w-[360px] flex flex-col border-r border-wa-border dark:border-wa-dark-border bg-white dark:bg-wa-dark-bg h-full relative z-10 transition-all duration-200",children:[m&&ht.jsxs("div",{className:"h-[60px] bg-wa-grayBg dark:bg-wa-dark-header flex items-center justify-between px-4 shrink-0 border-b border-wa-border dark:border-wa-dark-border",children:[ht.jsxs("div",{className:"flex items-center gap-3 cursor-pointer",onClick:()=>e("/settings"),children:[ht.jsx("img",{src:(null==d?void 0:d.avatar)||"https://ui-avatars.com/api/?name=User&background=128c7e&color=fff",alt:"Me",className:"w-10 h-10 rounded-full object-cover"}),ht.jsx("span",{className:`font-medium ${g} ${p}`,children:(null==d?void 0:d.name)||"User"})]}),ht.jsxs("div",{className:"flex gap-4 text-wa-gray dark:text-gray-400",children:[ht.jsx(QX,{className:"text-wa-gray dark:text-gray-400 hover:text-wa-teal dark:hover:text-wa-teal"}),ht.jsx("button",{onClick:()=>e("/status"),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:ht.jsx(Be,{size:22,strokeWidth:"status"===s?2.5:2,className:"status"===s?"text-wa-teal dark:text-wa-teal":""})}),ht.jsx("button",{onClick:()=>e("/new-chat"),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:ht.jsx(Q,{size:22,strokeWidth:"chats"===s?2.5:2,className:"/new-chat"===t.pathname?"text-wa-teal dark:text-wa-teal":""})}),ht.jsx("button",{onClick:()=>e("/calls"),className:"p-2 hover:bg-black/5 dark:hover:bg-white/10 rounded-full transition-colors",style:{minWidth:"44px",minHeight:"44px"},children:ht.jsx(me,{size:22,strokeWidth:"calls"===s?2.5:2,className:"calls"===s?"text-wa-teal dark:text-wa-teal":""})})]})]}),m&&ht.jsx("div",{className:"bg-white dark:bg-wa-dark-bg p-2 border-b border-wa-border dark:border-wa-dark-border",children:ht.jsxs("div",{className:"bg-wa-grayBg dark:bg-wa-dark-input rounded-lg px-4 py-2 flex items-center gap-3 text-wa-gray dark:text-gray-400 h-9 transition-colors",children:[ht.jsx(z,{size:17}),ht.jsx("input",{type:"text",placeholder:"Search or start new chat",className:"bg-transparent outline-none text-sm w-full text-black dark:text-white placeholder:text-wa-gray dark:placeholder:text-gray-500",value:o,onChange:e=>u(e.target.value)})]})}),ht.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden relative bg-white dark:bg-wa-dark-bg",children:ht.jsx(n.Suspense,{fallback:ht.jsx(iZ,{}),children:ht.jsxs(l,{children:[ht.jsx(c,{path:"/",element:ht.jsx(DJ,{})}),ht.jsx(c,{path:"/chats",element:ht.jsx(DJ,{})}),ht.jsx(c,{path:"/status",element:ht.jsx(OJ,{})}),ht.jsx(c,{path:"/updates",element:ht.jsx(OJ,{})}),ht.jsx(c,{path:"/status/privacy",element:ht.jsx(zJ,{})}),ht.jsx(c,{path:"/calls",element:ht.jsx(UJ,{})}),ht.jsx(c,{path:"/settings",element:ht.jsx(BJ,{})}),ht.jsx(c,{path:"/new-chat",element:ht.jsx(VJ,{})}),ht.jsx(c,{path:"/archived",element:ht.jsx($J,{})}),ht.jsx(c,{path:"/chat/:chatId",element:ht.jsx(DJ,{})}),ht.jsx(c,{path:"/chat/:chatId/info",element:ht.jsx(DJ,{})}),ht.jsx(c,{path:"/channels/:channelId",element:ht.jsx(DJ,{})}),ht.jsx(c,{path:"/profile/:userId",element:ht.jsx(WJ,{})}),ht.jsx(c,{path:"/privacy",element:ht.jsx(HJ,{})}),ht.jsx(c,{path:"/privacy/last-seen",element:ht.jsx(GJ,{})}),ht.jsx(c,{path:"/privacy/profile-photo",element:ht.jsx(KJ,{})}),ht.jsx(c,{path:"/privacy/about",element:ht.jsx(YJ,{})}),ht.jsx(c,{path:"/privacy/groups",element:ht.jsx(QJ,{})}),ht.jsx(c,{path:"/follow-requests",element:ht.jsx(XJ,{})}),ht.jsx(c,{path:"/settings/blocked-users",element:ht.jsx(JJ,{})}),ht.jsx(c,{path:"/notifications",element:ht.jsx(ZJ,{})}),ht.jsx(c,{path:"/group/:groupId/settings",element:ht.jsx(eZ,{})}),ht.jsx(c,{path:"/group/:groupId/participants",element:ht.jsx(tZ,{})}),ht.jsx(c,{path:"/group/:groupId/permissions",element:ht.jsx(nZ,{})})]})})})]}),ht.jsx("div",{className:"flex-1 bg-wa-bg relative flex flex-col h-full border-l border-wa-border dark:border-wa-dark-border",children:ht.jsx(n.Suspense,{fallback:ht.jsx(iZ,{}),children:ht.jsxs(l,{children:[ht.jsx(c,{path:"/chat/:chatId",element:ht.jsx(LJ,{})}),ht.jsx(c,{path:"/chat/:chatId/info",element:ht.jsx(qJ,{})}),ht.jsx(c,{path:"/channels/:channelId",element:ht.jsx(FJ,{})}),ht.jsx(c,{path:"*",element:ht.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center px-8 border-b-[6px] border-wa-teal dark:border-wa-tealDark bg-[#f0f2f5] dark:bg-wa-dark-border",children:[ht.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg",alt:"WA",className:"w-16 h-16 opacity-30 mb-6"}),ht.jsx("h1",{className:"text-2xl font-light text-[#41525d] dark:text-gray-300 mb-3 "+("shine"===f?"effect-shine-dark":"wave"===f?"effect-wave":""),children:"WhatsApp Tablet"}),ht.jsx("p",{className:"text-[#667781] dark:text-gray-400 text-sm",children:"Select a chat to start messaging."})]})})]})})})]}),ht.jsx(BX,{}),ht.jsx(KX,{})]})},sZ=({children:e})=>{const{isAuthenticated:t,authLoading:n}=YI();return n?ht.jsxs("div",{className:"flex flex-col items-center justify-center h-screen bg-[#EFEAE2] dark:bg-[#111b21] gap-4",children:[ht.jsx("div",{className:"w-12 h-12 border-4 border-wa-teal border-t-transparent rounded-full animate-spin"}),ht.jsx("div",{className:"text-wa-teal dark:text-gray-300 font-medium animate-pulse",children:"Checking authentication..."})]}):t?e:ht.jsx(u,{to:"/login",replace:!0})},aZ=()=>{const{isMobile:e,isTablet:t}=KB();return e?ht.jsx(RJ,{}):t?ht.jsx(rZ,{}):ht.jsx(lJ,{})},oZ=()=>ht.jsx(KI,{children:ht.jsx(gP,{children:ht.jsx(d,{children:ht.jsxs(l,{children:[ht.jsx(c,{path:"/login",element:ht.jsx(JI,{})}),ht.jsx(c,{path:"/signup",element:ht.jsx(ZI,{})}),ht.jsx(c,{path:"/verify-otp",element:ht.jsx(eP,{})}),ht.jsx(c,{path:"/*",element:ht.jsx(sZ,{children:ht.jsx(aZ,{})})})]})})})}),lZ=document.getElementById("root");if(!lZ)throw new Error("Could not find root element to mount to");wt.createRoot(lZ).render(ht.jsx(o.StrictMode,{children:ht.jsx(oZ,{})}));export{EI as F,AI as N,qI as P,aP as U,SI as _,zI as a,VI as b,BI as c,dx as d,gI as e,FI as f,__ as g,TI as h,b_ as i,ht as j,A_ as k,M_ as l,S_ as m,MI as n,yP as o,XV as p,P_ as s,YI as u,D_ as w};
