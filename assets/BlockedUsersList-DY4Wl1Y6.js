import{u as e,j as a,a as s}from"./index-7VfhOhEA.js";import{u as r,r as t}from"./router-BlRKbG7o.js";import{y as l,m as d,U as i}from"./icons-FsuYV2CB.js";import"./react-vendor-Dp0kJvEn.js";import"./lottie-BmTBBIiw.js";import"./chess-Bi0BiJQc.js";const o=()=>{const o=r(),{currentUser:c,users:n}=e(),[x,m]=t.useState((null==c?void 0:c.blockedUsers)||[]),[g,h]=t.useState(""),[u,y]=t.useState(!1),[p,b]=t.useState(null),j=x.map(e=>n[e]).filter(e=>e&&e.name.toLowerCase().includes(g.toLowerCase()));return a.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-wa-dark-bg",children:[a.jsxs("div",{className:"sticky top-0 bg-white dark:bg-wa-dark border-b border-gray-200 dark:border-gray-700 z-10",children:[a.jsxs("div",{className:"flex items-center gap-4 px-4 py-3",children:[a.jsx("button",{onClick:()=>o(-1),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:a.jsx(l,{size:24,className:"text-gray-700 dark:text-gray-200"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Blocked Users"}),a.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[x.length," blocked"]})]})]}),x.length>0&&a.jsx("div",{className:"px-4 pb-3",children:a.jsxs("div",{className:"relative",children:[a.jsx(d,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search blocked users...",value:g,onChange:e=>h(e.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-gray-800 border-none rounded-lg text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-wa-teal"})]})})]}),a.jsx("div",{className:"max-w-2xl mx-auto p-4",children:0===x.length?a.jsxs("div",{className:"flex flex-col items-center justify-center py-16 text-center",children:[a.jsx("div",{className:"p-4 bg-gray-100 dark:bg-gray-800 rounded-full mb-4",children:a.jsx(i,{className:"w-12 h-12 text-gray-400 dark:text-gray-500"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-1",children:"No Blocked Users"}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 max-w-xs",children:"When you block someone, they'll appear here. Blocked users can't message you or view your profile."})]}):a.jsxs("div",{className:"space-y-2",children:[j.map(e=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-white dark:bg-wa-dark rounded-xl shadow-sm hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:e.avatar||`https://ui-avatars.com/api/?name=${e.name}`,alt:e.name,className:"w-12 h-12 rounded-full object-cover"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.about||"Hey there! I am using WhatsApp"})]})]}),a.jsx("button",{onClick:()=>(async e=>{if(null==c?void 0:c.id){b(e);try{await s.unblockUser(c.id,e),m(a=>a.filter(a=>a!==e))}catch(a){alert("Failed to unblock user. Please try again.")}finally{b(null)}}})(e.id),disabled:p===e.id,className:"px-4 py-2 bg-wa-teal text-white rounded-lg font-medium hover:bg-wa-teal-dark disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:p===e.id?"Unblocking...":"Unblock"})]},e.id)),0===j.length&&g&&a.jsxs("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400",children:['No blocked users found matching "',g,'"']})]})})]})};export{o as default};
